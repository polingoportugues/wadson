var sv = Object.defineProperty;
var iv = (e, s, a) => s in e ? sv(e, s, {
    enumerable: !0,
    configurable: !0,
    writable: !0,
    value: a
}) : e[s] = a;
var R = (e, s, a) => iv(e, typeof s != "symbol" ? s + "" : s, a);
import {
    r as m,
    j as t,
    c as yd,
    u as Nr,
    d as Fs,
    S as av,
    A as it,
    I as Rt,
    P as Je,
    B as T,
    T as $,
    e as Te,
    f as et,
    g as D0,
    C as ws,
    R as ls,
    F as Cf,
    h as wf,
    i as Tf,
    M as Ea,
    k as rv,
    l as ov,
    m as lv,
    n as yx,
    o as _n,
    p as cv,
    q as Qn,
    D as Da,
    s as Tl,
    t as Na,
    v as N0,
    w as id,
    x as bx,
    y as yr,
    z as Hc,
    E as Mh,
    G as vx,
    H as Yn,
    J as Sx,
    K as jf,
    L as _0,
    N as Ts,
    O as vs,
    a as _r,
    Q as kf,
    U as Ln,
    V as Cx,
    W as P0,
    X as L0,
    Y as Ef,
    Z as Af,
    _ as Rf,
    $ as js,
    a0 as M0,
    a1 as dv,
    a2 as wx,
    a3 as ha,
    a4 as uv,
    a5 as hv,
    a6 as fv
} from "./mui-vendor-DDV5n_UM.js";
import {
    P as Qc,
    V as ad,
    T as nf,
    E as pv,
    C as Tx,
    L as jx,
    S as gv,
    l as mv
} from "./solana-vendor-E3c5Mf0a.js";
import {
    b as xv,
    aS as Bh,
    aT as zh,
    aU as kx,
    aV as yv,
    aW as Gi,
    aX as B0,
    aY as z0,
    aZ as bv,
    a_ as vv
} from "./auth-vendor-XDJ1EvAC.js";
import {
    g as F0,
    r as Sv,
    a as Cv,
    p as Fh
} from "./react-vendor-1qCqAHqt.js";
import {
    c as yn,
    a as bd,
    b as wv,
    d as Tv,
    u as pn,
    e as jl,
    f as jv,
    g as Df,
    h as _a,
    i as kv,
    j as I0,
    k as Ev,
    B as Av,
    R as Rv,
    l as $c,
    P as Dv
} from "./state-vendor-Cp_ttFKi.js";
import {
    G as ot
} from "./utils-vendor-Dn72NG2i.js";
import {
    m as Nv
} from "./animation-vendor-C681kfcm.js";
import {
    a as sf,
    l as _v
} from "./network-vendor-Buc8jffk.js";
import {
    b as O0,
    R as ai,
    B as wa,
    T as Is,
    S as zi,
    c as Kc,
    G as Ss,
    C as cs,
    d as Bi,
    f as Ii,
    g as rd,
    h as od,
    i as ld,
    j as ft,
    P as Pv,
    k as af,
    l as Ex,
    L as Lv,
    m as Mv,
    e as W0,
    n as Ax,
    o as Bv,
    p as zv
} from "./pixi-vendor-CD9TR_py.js";
import {
    G as Fv,
    H as Iv,
    W as Ov,
    J as Wv,
    M as Uv,
    K as Hv,
    L as $v,
    m as Rx,
    l as Dx,
    t as Cs,
    r as Bs,
    w as Vn,
    c as At,
    p as Nf
} from "./telemetry-otel-Vuk-WXgZ.js";
import {
    r as Gv,
    g as Yv
} from "./telemetry-instrumentation-C5ME_rQh.js";
import {
    O as Vv,
    a as qv,
    b as Xv
} from "./telemetry-otel-exporters-DO3Ni7sE.js";
(function() {
    const s = document.createElement("link").relList;
    if (s && s.supports && s.supports("modulepreload")) return;
    for (const l of document.querySelectorAll('link[rel="modulepreload"]')) r(l);
    new MutationObserver(l => {
        for (const d of l)
            if (d.type === "childList")
                for (const u of d.addedNodes) u.tagName === "LINK" && u.rel === "modulepreload" && r(u)
    }).observe(document, {
        childList: !0,
        subtree: !0
    });

    function a(l) {
        const d = {};
        return l.integrity && (d.integrity = l.integrity), l.referrerPolicy && (d.referrerPolicy = l.referrerPolicy), l.crossOrigin === "use-credentials" ? d.credentials = "include" : l.crossOrigin === "anonymous" ? d.credentials = "omit" : d.credentials = "same-origin", d
    }

    function r(l) {
        if (l.ep) return;
        l.ep = !0;
        const d = a(l);
        fetch(l.href, d)
    }
})();
var Ih = {
        exports: {}
    },
    Nx;

function Qv() {
    return Nx || (Nx = 1, function(e) {
        var s = Object.prototype.hasOwnProperty,
            a = "~";

        function r() {}
        Object.create && (r.prototype = Object.create(null), new r().__proto__ || (a = !1));

        function l(f, p, y) {
            this.fn = f, this.context = p, this.once = y || !1
        }

        function d(f, p, y, x, S) {
            if (typeof y != "function") throw new TypeError("The listener must be a function");
            var v = new l(y, x || f, S),
                C = a ? a + p : p;
            return f._events[C] ? f._events[C].fn ? f._events[C] = [f._events[C], v] : f._events[C].push(v) : (f._events[C] = v, f._eventsCount++), f
        }

        function u(f, p) {
            --f._eventsCount === 0 ? f._events = new r : delete f._events[p]
        }

        function h() {
            this._events = new r, this._eventsCount = 0
        }
        h.prototype.eventNames = function() {
            var p = [],
                y, x;
            if (this._eventsCount === 0) return p;
            for (x in y = this._events) s.call(y, x) && p.push(a ? x.slice(1) : x);
            return Object.getOwnPropertySymbols ? p.concat(Object.getOwnPropertySymbols(y)) : p
        }, h.prototype.listeners = function(p) {
            var y = a ? a + p : p,
                x = this._events[y];
            if (!x) return [];
            if (x.fn) return [x.fn];
            for (var S = 0, v = x.length, C = new Array(v); S < v; S++) C[S] = x[S].fn;
            return C
        }, h.prototype.listenerCount = function(p) {
            var y = a ? a + p : p,
                x = this._events[y];
            return x ? x.fn ? 1 : x.length : 0
        }, h.prototype.emit = function(p, y, x, S, v, C) {
            var w = a ? a + p : p;
            if (!this._events[w]) return !1;
            var j = this._events[w],
                A = arguments.length,
                _, k;
            if (j.fn) {
                switch (j.once && this.removeListener(p, j.fn, void 0, !0), A) {
                    case 1:
                        return j.fn.call(j.context), !0;
                    case 2:
                        return j.fn.call(j.context, y), !0;
                    case 3:
                        return j.fn.call(j.context, y, x), !0;
                    case 4:
                        return j.fn.call(j.context, y, x, S), !0;
                    case 5:
                        return j.fn.call(j.context, y, x, S, v), !0;
                    case 6:
                        return j.fn.call(j.context, y, x, S, v, C), !0
                }
                for (k = 1, _ = new Array(A - 1); k < A; k++) _[k - 1] = arguments[k];
                j.fn.apply(j.context, _)
            } else {
                var D = j.length,
                    E;
                for (k = 0; k < D; k++) switch (j[k].once && this.removeListener(p, j[k].fn, void 0, !0), A) {
                    case 1:
                        j[k].fn.call(j[k].context);
                        break;
                    case 2:
                        j[k].fn.call(j[k].context, y);
                        break;
                    case 3:
                        j[k].fn.call(j[k].context, y, x);
                        break;
                    case 4:
                        j[k].fn.call(j[k].context, y, x, S);
                        break;
                    default:
                        if (!_)
                            for (E = 1, _ = new Array(A - 1); E < A; E++) _[E - 1] = arguments[E];
                        j[k].fn.apply(j[k].context, _)
                }
            }
            return !0
        }, h.prototype.on = function(p, y, x) {
            return d(this, p, y, x, !1)
        }, h.prototype.once = function(p, y, x) {
            return d(this, p, y, x, !0)
        }, h.prototype.removeListener = function(p, y, x, S) {
            var v = a ? a + p : p;
            if (!this._events[v]) return this;
            if (!y) return u(this, v), this;
            var C = this._events[v];
            if (C.fn) C.fn === y && (!S || C.once) && (!x || C.context === x) && u(this, v);
            else {
                for (var w = 0, j = [], A = C.length; w < A; w++)(C[w].fn !== y || S && !C[w].once || x && C[w].context !== x) && j.push(C[w]);
                j.length ? this._events[v] = j.length === 1 ? j[0] : j : u(this, v)
            }
            return this
        }, h.prototype.removeAllListeners = function(p) {
            var y;
            return p ? (y = a ? a + p : p, this._events[y] && u(this, y)) : (this._events = new r, this._eventsCount = 0), this
        }, h.prototype.off = h.prototype.removeListener, h.prototype.addListener = h.prototype.on, h.prefixed = a, h.EventEmitter = h, e.exports = h
    }(Ih)), Ih.exports
}
var Kv = Qv();
const Zv = F0(Kv);
class Mn extends Error {
    constructor(s, a) {
        super(s), this.error = a
    }
}
class Jv extends Mn {
    constructor() {
        super(...arguments), this.name = "WalletNotReadyError"
    }
}
class ll extends Mn {
    constructor() {
        super(...arguments), this.name = "WalletConfigError"
    }
}
class eS extends Mn {
    constructor() {
        super(...arguments), this.name = "WalletConnectionError"
    }
}
class tS extends Mn {
    constructor() {
        super(...arguments), this.name = "WalletDisconnectedError"
    }
}
class nS extends Mn {
    constructor() {
        super(...arguments), this.name = "WalletDisconnectionError"
    }
}
class wr extends Mn {
    constructor() {
        super(...arguments), this.name = "WalletAccountError"
    }
}
class sS extends Mn {
    constructor() {
        super(...arguments), this.name = "WalletPublicKeyError"
    }
}
class fl extends Mn {
    constructor() {
        super(...arguments), this.name = "WalletNotConnectedError"
    }
}
class _x extends Mn {
    constructor() {
        super(...arguments), this.name = "WalletSendTransactionError"
    }
}
class Px extends Mn {
    constructor() {
        super(...arguments), this.name = "WalletSignTransactionError"
    }
}
class iS extends Mn {
    constructor() {
        super(...arguments), this.name = "WalletSignMessageError"
    }
}
class Lx extends Mn {
    constructor() {
        super(...arguments), this.name = "WalletSignInError"
    }
}
var xl;
(function(e) {
    e.Installed = "Installed", e.NotDetected = "NotDetected", e.Loadable = "Loadable", e.Unsupported = "Unsupported"
})(xl || (xl = {}));
class aS extends Zv {
    get connected() {
        return !!this.publicKey
    }
    async autoConnect() {
        await this.connect()
    }
    async prepareTransaction(s, a, r = {}) {
        const l = this.publicKey;
        if (!l) throw new fl;
        return s.feePayer = s.feePayer || l, s.recentBlockhash = s.recentBlockhash || (await a.getLatestBlockhash({
            commitment: r.preflightCommitment,
            minContextSlot: r.minContextSlot
        })).blockhash, s
    }
}

function cl(e) {
    return "version" in e
}
const Fi = "solana:signAndSendTransaction",
    Oh = "solana:signIn",
    Bo = "solana:signMessage",
    hn = "solana:signTransaction",
    U0 = "standard:connect",
    Mx = "standard:disconnect",
    H0 = "standard:events";

function rS(e) {
    return U0 in e.features && H0 in e.features && (Fi in e.features || hn in e.features)
}

function Wh(e) {
    switch (e) {
        case "processed":
        case "confirmed":
        case "finalized":
        case void 0:
            return e;
        case "recent":
            return "processed";
        case "single":
        case "singleGossip":
            return "confirmed";
        case "max":
        case "root":
            return "finalized";
        default:
            return
    }
}
const Bx = "solana:mainnet",
    oS = "solana:devnet",
    lS = "solana:testnet",
    cS = "solana:localnet",
    dS = "https://api.mainnet-beta.solana.com";

function uS(e) {
    return e.includes(dS) ? Bx : /\bdevnet\b/i.test(e) ? oS : /\btestnet\b/i.test(e) ? lS : /\blocalhost\b/i.test(e) || /\b127\.0\.0\.1\b/.test(e) ? cS : Bx
}

function hS(e, s) {
    if (e === s) return !0;
    const a = e.length;
    if (a !== s.length) return !1;
    for (let r = 0; r < a; r++)
        if (e[r] !== s[r]) return !1;
    return !0
}
var We = function(e, s, a, r) {
        if (a === "a" && !r) throw new TypeError("Private accessor was defined without a getter");
        if (typeof s == "function" ? e !== s || !r : !s.has(e)) throw new TypeError("Cannot read private member from an object whose class did not declare it");
        return a === "m" ? r : a === "a" ? r.call(e) : r ? r.value : s.get(e)
    },
    qt = function(e, s, a, r, l) {
        if (r === "m") throw new TypeError("Private method is not writable");
        if (r === "a" && !l) throw new TypeError("Private accessor was defined without a setter");
        if (typeof s == "function" ? e !== s || !l : !s.has(e)) throw new TypeError("Cannot write private member to an object whose class did not declare it");
        return r === "a" ? l.call(e, a) : l ? l.value = a : s.set(e, a), a
    },
    fn, Pn, Ta, ja, ya, dl, cd, mt, dd, rf, Zc, of , pl, lf, zx, Fx, Ix, Ox;
class fS extends aS {
    get name() {
        return We(this, mt, "f").name
    }
    get url() {
        return "https://github.com/solana-labs/wallet-standard"
    }
    get icon() {
        return We(this, mt, "f").icon
    }
    get readyState() {
        return We(this, dd, "f")
    }
    get publicKey() {
        return We(this, Ta, "f")
    }
    get connecting() {
        return We(this, ja, "f")
    }
    get supportedTransactionVersions() {
        return We(this, cd, "f")
    }
    get wallet() {
        return We(this, mt, "f")
    }
    get standard() {
        return !0
    }
    constructor({
        wallet: s
    }) {
        super(), fn.add(this), Pn.set(this, void 0), Ta.set(this, void 0), ja.set(this, void 0), ya.set(this, void 0), dl.set(this, void 0), cd.set(this, void 0), mt.set(this, void 0), dd.set(this, typeof window > "u" || typeof document > "u" ? xl.Unsupported : xl.Installed), lf.set(this, a => {
            if ("accounts" in a) {
                const r = We(this, mt, "f").accounts[0];
                We(this, Pn, "f") && !We(this, ya, "f") && r !== We(this, Pn, "f") && (r ? We(this, fn, "m", Zc).call(this, r) : (this.emit("error", new tS), We(this, fn, "m", of ).call(this)))
            }
            "features" in a && We(this, fn, "m", pl).call(this)
        }), qt(this, mt, s, "f"), qt(this, Pn, null, "f"), qt(this, Ta, null, "f"), qt(this, ja, !1, "f"), qt(this, ya, !1, "f"), qt(this, dl, We(this, mt, "f").features[H0].on("change", We(this, lf, "f")), "f"), We(this, fn, "m", pl).call(this)
    }
    destroy() {
        qt(this, Pn, null, "f"), qt(this, Ta, null, "f"), qt(this, ja, !1, "f"), qt(this, ya, !1, "f");
        const s = We(this, dl, "f");
        s && (qt(this, dl, null, "f"), s())
    }
    async autoConnect() {
        return We(this, fn, "m", rf).call(this, {
            silent: !0
        })
    }
    async connect() {
        return We(this, fn, "m", rf).call(this)
    }
    async disconnect() {
        if (Mx in We(this, mt, "f").features) try {
            qt(this, ya, !0, "f"), await We(this, mt, "f").features[Mx].disconnect()
        } catch (s) {
            this.emit("error", new nS(s == null ? void 0 : s.message, s))
        } finally {
            qt(this, ya, !1, "f")
        }
        We(this, fn, "m", of ).call(this)
    }
    async sendTransaction(s, a, r = {}) {
        try {
            const l = We(this, Pn, "f");
            if (!l) throw new fl;
            let d;
            if (Fi in We(this, mt, "f").features)
                if (l.features.includes(Fi)) d = Fi;
                else if (hn in We(this, mt, "f").features && l.features.includes(hn)) d = hn;
            else throw new wr;
            else if (hn in We(this, mt, "f").features) {
                if (!l.features.includes(hn)) throw new wr;
                d = hn
            } else throw new ll;
            const u = uS(a.rpcEndpoint);
            if (!l.chains.includes(u)) throw new _x;
            try {
                const {
                    signers: h,
                    ...f
                } = r;
                let p;
                if (cl(s) ? (h != null && h.length && s.sign(h), p = s.serialize()) : (s = await this.prepareTransaction(s, a, f), h != null && h.length && s.partialSign(...h), p = new Uint8Array(s.serialize({
                        requireAllSignatures: !1,
                        verifySignatures: !1
                    }))), d === Fi) {
                    const [y] = await We(this, mt, "f").features[Fi].signAndSendTransaction({
                        account: l,
                        chain: u,
                        transaction: p,
                        options: {
                            preflightCommitment: Wh(f.preflightCommitment || a.commitment),
                            skipPreflight: f.skipPreflight,
                            maxRetries: f.maxRetries,
                            minContextSlot: f.minContextSlot
                        }
                    });
                    return xv.encode(y.signature)
                } else {
                    const [y] = await We(this, mt, "f").features[hn].signTransaction({
                        account: l,
                        chain: u,
                        transaction: p,
                        options: {
                            preflightCommitment: Wh(f.preflightCommitment || a.commitment),
                            minContextSlot: f.minContextSlot
                        }
                    });
                    return await a.sendRawTransaction(y.signedTransaction, { ...f,
                        preflightCommitment: Wh(f.preflightCommitment || a.commitment)
                    })
                }
            } catch (h) {
                throw h instanceof Mn ? h : new _x(h == null ? void 0 : h.message, h)
            }
        } catch (l) {
            throw this.emit("error", l), l
        }
    }
}
Pn = new WeakMap, Ta = new WeakMap, ja = new WeakMap, ya = new WeakMap, dl = new WeakMap, cd = new WeakMap, mt = new WeakMap, dd = new WeakMap, lf = new WeakMap, fn = new WeakSet, rf = async function(s) {
    try {
        if (this.connected || this.connecting) return;
        if (We(this, dd, "f") !== xl.Installed) throw new Jv;
        if (qt(this, ja, !0, "f"), !We(this, mt, "f").accounts.length) try {
            await We(this, mt, "f").features[U0].connect(s)
        } catch (r) {
            throw new eS(r == null ? void 0 : r.message, r)
        }
        const a = We(this, mt, "f").accounts[0];
        if (!a) throw new wr;
        We(this, fn, "m", Zc).call(this, a)
    } catch (a) {
        throw this.emit("error", a), a
    } finally {
        qt(this, ja, !1, "f")
    }
}, Zc = function(s) {
    let a;
    try {
        a = new Qc(s.address)
    } catch (r) {
        throw new sS(r == null ? void 0 : r.message, r)
    }
    qt(this, Pn, s, "f"), qt(this, Ta, a, "f"), We(this, fn, "m", pl).call(this), this.emit("connect", a)
}, of = function() {
    qt(this, Pn, null, "f"), qt(this, Ta, null, "f"), We(this, fn, "m", pl).call(this), this.emit("disconnect")
}, pl = function() {
    var a, r;
    const s = Fi in We(this, mt, "f").features ? We(this, mt, "f").features[Fi].supportedTransactionVersions : We(this, mt, "f").features[hn].supportedTransactionVersions;
    qt(this, cd, hS(s, ["legacy"]) ? null : new Set(s), "f"), hn in We(this, mt, "f").features && ((a = We(this, Pn, "f")) != null && a.features.includes(hn)) ? (this.signTransaction = We(this, fn, "m", zx), this.signAllTransactions = We(this, fn, "m", Fx)) : (delete this.signTransaction, delete this.signAllTransactions), Bo in We(this, mt, "f").features && ((r = We(this, Pn, "f")) != null && r.features.includes(Bo)) ? this.signMessage = We(this, fn, "m", Ix) : delete this.signMessage, Oh in We(this, mt, "f").features ? this.signIn = We(this, fn, "m", Ox) : delete this.signIn
}, zx = async function(s) {
    try {
        const a = We(this, Pn, "f");
        if (!a) throw new fl;
        if (!(hn in We(this, mt, "f").features)) throw new ll;
        if (!a.features.includes(hn)) throw new wr;
        try {
            const l = (await We(this, mt, "f").features[hn].signTransaction({
                account: a,
                transaction: cl(s) ? s.serialize() : new Uint8Array(s.serialize({
                    requireAllSignatures: !1,
                    verifySignatures: !1
                }))
            }))[0].signedTransaction;
            return cl(s) ? ad.deserialize(l) : nf.from(l)
        } catch (r) {
            throw r instanceof Mn ? r : new Px(r == null ? void 0 : r.message, r)
        }
    } catch (a) {
        throw this.emit("error", a), a
    }
}, Fx = async function(s) {
    try {
        const a = We(this, Pn, "f");
        if (!a) throw new fl;
        if (!(hn in We(this, mt, "f").features)) throw new ll;
        if (!a.features.includes(hn)) throw new wr;
        try {
            const r = await We(this, mt, "f").features[hn].signTransaction(...s.map(l => ({
                account: a,
                transaction: cl(l) ? l.serialize() : new Uint8Array(l.serialize({
                    requireAllSignatures: !1,
                    verifySignatures: !1
                }))
            })));
            return s.map((l, d) => {
                const u = r[d].signedTransaction;
                return cl(l) ? ad.deserialize(u) : nf.from(u)
            })
        } catch (r) {
            throw new Px(r == null ? void 0 : r.message, r)
        }
    } catch (a) {
        throw this.emit("error", a), a
    }
}, Ix = async function(s) {
    try {
        const a = We(this, Pn, "f");
        if (!a) throw new fl;
        if (!(Bo in We(this, mt, "f").features)) throw new ll;
        if (!a.features.includes(Bo)) throw new wr;
        try {
            return (await We(this, mt, "f").features[Bo].signMessage({
                account: a,
                message: s
            }))[0].signature
        } catch (r) {
            throw new iS(r == null ? void 0 : r.message, r)
        }
    } catch (a) {
        throw this.emit("error", a), a
    }
}, Ox = async function(s = {}) {
    try {
        if (!(Oh in We(this, mt, "f").features)) throw new ll;
        let a;
        try {
            [a] = await We(this, mt, "f").features[Oh].signIn(s)
        } catch (r) {
            throw new Lx(r == null ? void 0 : r.message, r)
        }
        if (!a) throw new Lx;
        return We(this, fn, "m", Zc).call(this, a.account), a
    } catch (a) {
        throw this.emit("error", a), a
    }
};
var pS = function(e, s, a, r) {
        if (a === "a" && !r) throw new TypeError("Private accessor was defined without a getter");
        if (typeof s == "function" ? e !== s || !r : !s.has(e)) throw new TypeError("Cannot read private member from an object whose class did not declare it");
        return a === "m" ? r : a === "a" ? r.call(e) : r ? r.value : s.get(e)
    },
    gS = function(e, s, a, r, l) {
        if (r === "m") throw new TypeError("Private method is not writable");
        if (r === "a" && !l) throw new TypeError("Private accessor was defined without a setter");
        if (typeof s == "function" ? e !== s || !l : !s.has(e)) throw new TypeError("Cannot write private member to an object whose class did not declare it");
        return r === "a" ? l.call(e, a) : l ? l.value = a : s.set(e, a), a
    },
    Jc;
let zo;
const vd = new Set;

function mS(e) {
    gl = void 0, vd.add(e)
}

function xS(e) {
    gl = void 0, vd.delete(e)
}
const Tr = {};

function yS() {
    if (zo || (zo = Object.freeze({
            register: Wx,
            get: bS,
            on: vS
        }), typeof window > "u")) return zo;
    const e = Object.freeze({
        register: Wx
    });
    try {
        window.addEventListener("wallet-standard:register-wallet", ({
            detail: s
        }) => s(e))
    } catch (s) {
        console.error(`wallet-standard:register-wallet event listener could not be added
`, s)
    }
    try {
        window.dispatchEvent(new SS(e))
    } catch (s) {
        console.error(`wallet-standard:app-ready event could not be dispatched
`, s)
    }
    return zo
}

function Wx(...e) {
    var s;
    return e = e.filter(a => !vd.has(a)), e.length ? (e.forEach(a => mS(a)), (s = Tr.register) == null || s.forEach(a => Ux(() => a(...e))), function() {
        var r;
        e.forEach(l => xS(l)), (r = Tr.unregister) == null || r.forEach(l => Ux(() => l(...e)))
    }) : () => {}
}
let gl;

function bS() {
    return gl || (gl = [...vd]), gl
}

function vS(e, s) {
    var a;
    return (a = Tr[e]) != null && a.push(s) || (Tr[e] = [s]),
        function() {
            var l;
            Tr[e] = (l = Tr[e]) == null ? void 0 : l.filter(d => s !== d)
        }
}

function Ux(e) {
    try {
        e()
    } catch (s) {
        console.error(s)
    }
}
class SS extends Event {
    get detail() {
        return pS(this, Jc, "f")
    }
    get type() {
        return "wallet-standard:app-ready"
    }
    constructor(s) {
        super("wallet-standard:app-ready", {
            bubbles: !1,
            cancelable: !1,
            composed: !1
        }), Jc.set(this, void 0), gS(this, Jc, s, "f")
    }
    preventDefault() {
        throw new Error("preventDefault cannot be called")
    }
    stopImmediatePropagation() {
        throw new Error("stopImmediatePropagation cannot be called")
    }
    stopPropagation() {
        throw new Error("stopPropagation cannot be called")
    }
}
Jc = new WeakMap;
const CS = e => {
    let s, {
            get: a,
            on: r
        } = yS(),
        l = e == null ? void 0 : e.shouldAutoConnect,
        d = new Map,
        u = [];

    function h(...y) {
        Hx(y).forEach(x => !d.has(x.wallet) && d.set(x.wallet, x)), u = Array.from(d.values()).map(x => new Bh(x, l)), s == null || s(u)
    }

    function f(...y) {
        Array.from(d.keys()).forEach(x => !y.includes(x) && d.delete(x)), u = Array.from(d.values()).map(x => new Bh(x, l)), s == null || s(u)
    }
    let p = [r("register", h), r("unregister", f)];
    return Hx(a()).forEach(y => !d.has(y.wallet) && d.set(y.wallet, y)), u = Array.from(d.values()).map(y => new Bh(y, l)), {
        _setOnConnectorsUpdated: y => {
            s = y
        },
        onMount: () => {
            p[0] || (p[0] = r("register", h)), p[1] || (p[1] = r("unregister", f))
        },
        onUnmount: () => {
            let y = p.pop();
            for (; y;) y(), y = p.pop()
        },
        get: () => u
    }
};
let Hx = e => e.filter(s => rS(s) && !(s.features["privy:"] && "isPrivyWallet" in s && s.isPrivyWallet)).map(s => new fS({
    wallet: s
}));
const $0 = ["solana:mainnet", "solana:devnet", "solana:testnet"];

function $x(e) {
    switch (e) {
        case "solana:mainnet":
            return "mainnet-beta";
        case "solana:devnet":
            return "devnet";
        case "solana:testnet":
            return "testnet";
        default:
            throw Error(`Unknown chain: ${e}`)
    }
}

function Fo(e, s) {
    if (!Object.prototype.hasOwnProperty.call(e, s)) throw TypeError("attempted to use private field on non-instance");
    return e
}
var wS = 0,
    ys = "__private_" + wS++ + "__implementation";

function as(e, s) {
    if (!Object.prototype.hasOwnProperty.call(e, s)) throw TypeError("attempted to use private field on non-instance");
    return e
}
var TS = 0;

function Pr(e) {
    return "__private_" + TS++ + "_" + e
}
var Io = Pr("_address"),
    Oo = Pr("_publicKey"),
    Wo = Pr("_chains"),
    Uo = Pr("_features"),
    Ho = Pr("_label"),
    $o = Pr("_icon");
class _f {
    get address() {
        return as(this, Io)[Io]
    }
    get publicKey() {
        return as(this, Oo)[Oo].slice()
    }
    get chains() {
        return as(this, Wo)[Wo].slice()
    }
    get features() {
        return as(this, Uo)[Uo].slice()
    }
    get label() {
        return as(this, Ho)[Ho]
    }
    get icon() {
        return as(this, $o)[$o]
    }
    constructor({
        address: s,
        publicKey: a,
        label: r,
        icon: l
    }) {
        Object.defineProperty(this, Io, {
            writable: !0,
            value: void 0
        }), Object.defineProperty(this, Oo, {
            writable: !0,
            value: void 0
        }), Object.defineProperty(this, Wo, {
            writable: !0,
            value: void 0
        }), Object.defineProperty(this, Uo, {
            writable: !0,
            value: void 0
        }), Object.defineProperty(this, Ho, {
            writable: !0,
            value: void 0
        }), Object.defineProperty(this, $o, {
            writable: !0,
            value: void 0
        }), as(this, Io)[Io] = s, as(this, Oo)[Oo] = a, as(this, Wo)[Wo] = $0, as(this, Ho)[Ho] = r, as(this, $o)[$o] = l, as(this, Uo)[Uo] = ["solana:signAndSendTransaction", "solana:signTransaction", "solana:signMessage"], new.target === _f && Object.freeze(this)
    }
}

function nt(e, s) {
    if (!Object.prototype.hasOwnProperty.call(e, s)) throw TypeError("attempted to use private field on non-instance");
    return e
}
var jS = 0;

function bn(e) {
    return "__private_" + jS++ + "_" + e
}
var qn = bn("_listeners"),
    Go = bn("_version"),
    Yo = bn("_name"),
    Vo = bn("_icon"),
    Sn = bn("_injection"),
    qo = bn("_isPrivyWallet"),
    fa = bn("_accounts"),
    Xo = bn("_on"),
    pa = bn("_emit"),
    Uh = bn("_off"),
    ga = bn("_connected"),
    Qo = bn("_connect"),
    Ko = bn("_disconnect"),
    Zo = bn("_signMessage"),
    Jo = bn("_signAndSendTransaction"),
    el = bn("_signTransaction");

function kS(e, ...s) {
    var a;
    (a = nt(this, qn)[qn][e]) == null || a.forEach(r => r.apply(null, s))
}

function ES(e, s) {
    var a;
    nt(this, qn)[qn][e] = (a = nt(this, qn)[qn][e]) == null ? void 0 : a.filter(r => s !== r)
}
let AS = new class extends pv {
    setImplementation(e) {
        Fo(this, ys)[ys] = e
    }
    async signMessage(e, s) {
        return Fo(this, ys)[ys].signMessage(e, s)
    }
    async signAndSendTransaction(e, s, a, r) {
        return Fo(this, ys)[ys].signAndSendTransaction(e, s, a, r)
    }
    async signTransaction(e, s, a, r) {
        return Fo(this, ys)[ys].signTransaction(e, s, a, r)
    }
    constructor(e) {
        super(), Object.defineProperty(this, ys, {
            writable: !0,
            value: void 0
        }), Fo(this, ys)[ys] = e
    }
}({
    signTransaction: zh("signTransaction was not injected"),
    signAndSendTransaction: zh("signAndSendTransaction was not injected"),
    signMessage: zh("signMessage was not injected")
});
new class {
    get version() {
        return nt(this, Go)[Go]
    }
    get name() {
        return nt(this, Yo)[Yo]
    }
    get icon() {
        return nt(this, Vo)[Vo]
    }
    get chains() {
        return $0.slice()
    }
    get features() {
        return {
            "standard:connect": {
                version: "1.0.0",
                connect: nt(this, Qo)[Qo]
            },
            "standard:disconnect": {
                version: "1.0.0",
                disconnect: nt(this, Ko)[Ko]
            },
            "standard:events": {
                version: "1.0.0",
                on: nt(this, Xo)[Xo]
            },
            "solana:signAndSendTransaction": {
                version: "1.0.0",
                supportedTransactionVersions: ["legacy", 0],
                signAndSendTransaction: nt(this, Jo)[Jo]
            },
            "solana:signTransaction": {
                version: "1.0.0",
                supportedTransactionVersions: ["legacy", 0],
                signTransaction: nt(this, el)[el]
            },
            "solana:signMessage": {
                version: "1.0.0",
                signMessage: nt(this, Zo)[Zo]
            },
            "privy:": {
                privy: {
                    signMessage: nt(this, Sn)[Sn].signMessage,
                    signTransaction: nt(this, Sn)[Sn].signTransaction,
                    signAndSendTransaction: nt(this, Sn)[Sn].signAndSendTransaction
                }
            }
        }
    }
    get accounts() {
        return nt(this, fa)[fa].slice()
    }
    get isPrivyWallet() {
        return nt(this, qo)[qo]
    }
    constructor({
        name: e,
        icon: s,
        version: a,
        injection: r,
        wallets: l
    }) {
        Object.defineProperty(this, pa, {
            value: kS
        }), Object.defineProperty(this, Uh, {
            value: ES
        }), Object.defineProperty(this, qn, {
            writable: !0,
            value: void 0
        }), Object.defineProperty(this, Go, {
            writable: !0,
            value: void 0
        }), Object.defineProperty(this, Yo, {
            writable: !0,
            value: void 0
        }), Object.defineProperty(this, Vo, {
            writable: !0,
            value: void 0
        }), Object.defineProperty(this, Sn, {
            writable: !0,
            value: void 0
        }), Object.defineProperty(this, qo, {
            writable: !0,
            value: void 0
        }), Object.defineProperty(this, fa, {
            writable: !0,
            value: void 0
        }), Object.defineProperty(this, Xo, {
            writable: !0,
            value: void 0
        }), Object.defineProperty(this, ga, {
            writable: !0,
            value: void 0
        }), Object.defineProperty(this, Qo, {
            writable: !0,
            value: void 0
        }), Object.defineProperty(this, Ko, {
            writable: !0,
            value: void 0
        }), Object.defineProperty(this, Zo, {
            writable: !0,
            value: void 0
        }), Object.defineProperty(this, Jo, {
            writable: !0,
            value: void 0
        }), Object.defineProperty(this, el, {
            writable: !0,
            value: void 0
        }), nt(this, qn)[qn] = {}, nt(this, Xo)[Xo] = (d, u) => {
            var h;
            return (h = nt(this, qn)[qn][d]) != null && h.push(u) || (nt(this, qn)[qn][d] = [u]), () => nt(this, Uh)[Uh](d, u)
        }, nt(this, ga)[ga] = d => {
            d != null && (nt(this, fa)[fa] = d.map(({
                address: u
            }) => new _f({
                address: u,
                publicKey: kx.decode(u)
            }))), nt(this, pa)[pa]("change", {
                accounts: this.accounts
            })
        }, nt(this, Qo)[Qo] = async () => (nt(this, pa)[pa]("change", {
            accounts: this.accounts
        }), {
            accounts: this.accounts
        }), nt(this, Ko)[Ko] = async () => {
            nt(this, pa)[pa]("change", {
                accounts: this.accounts
            })
        }, nt(this, Zo)[Zo] = async (...d) => {
            let u = [];
            for (let {
                    message: h,
                    account: f
                } of d) {
                let {
                    signature: p
                } = await nt(this, Sn)[Sn].signMessage(h, f.address);
                u.push({
                    signedMessage: h,
                    signature: p
                })
            }
            return u
        }, nt(this, Jo)[Jo] = async (...d) => {
            let u = [];
            for (let {
                    transaction: h,
                    account: f,
                    options: p,
                    chain: y
                } of d) {
                let {
                    signature: x
                } = await nt(this, Sn)[Sn].signAndSendTransaction(ad.deserialize(h), f.address, $x(y || "solana:mainnet"), p);
                u.push({
                    signature: kx.decode(x)
                })
            }
            return u
        }, nt(this, el)[el] = async (...d) => {
            let u = [];
            for (let {
                    transaction: h,
                    account: f,
                    options: p,
                    chain: y
                } of d) {
                let x = await nt(this, Sn)[Sn].signTransaction(ad.deserialize(h), f.address, $x(y || "solana:mainnet"), p),
                    S = yv(x) ? x.serialize() : new Uint8Array(x.serialize({
                        requireAllSignatures: !1,
                        verifySignatures: !1
                    }));
                u.push({
                    signedTransaction: S
                })
            }
            return u
        }, nt(this, Yo)[Yo] = e, nt(this, Vo)[Vo] = s, nt(this, Go)[Go] = a, nt(this, Sn)[Sn] = r, nt(this, fa)[fa] = [], nt(this, qo)[qo] = !0, r.on("accountChanged", nt(this, ga)[ga], this), nt(this, ga)[ga](l)
    }
}({
    name: "Privy",
    version: "1.0.0",
    icon: "data:image/png;base64,AAABAAEAFBQAAAAAIABlAQAAFgAAAIlQTkcNChoKAAAADUlIRFIAAAAUAAAAFAgGAAAAjYkdDQAAAAlwSFlzAAAOwwAADsMBx2+oZAAAAQVJREFUeJxiYMANZIC4E4ivAPFPIP4FxDeAuB+IlfDowwBMQFwJxF+B+D8O/AOI66Bq8QJGIF6ExyB0vAqImfEZmEeCYTDcgMswPiB+T4aB34FYApuBsWQYBsP52AycToGBK7EZuJECAw9jM3AVBQbuwWZgIwUGTsZmoDkFBnpiMxAEjpJh2FV8iVsbiD+TYBgoDVrgMgwGnID4HRGGgTKBGyHDYEAaiBdCSxh0g/5AU4Q8sYYhAzEgjoGmABBOgFo2eACowFABYn0oVgViAVINkQTiZUD8DIj/ATF6GILEXgLxCiCWIsZAbiAuBeKtQHwHiEHJ6C8UfwHie0C8E4jLoWpRAAAAAP//rcbhsQAAAAZJREFUAwBYFs3VKJ0cuQAAAABJRU5ErkJggg==",
    wallets: [],
    injection: AS
});
var Hh = {
        exports: {}
    },
    tl = {},
    $h = {
        exports: {}
    },
    Gh = {};
/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */
var Gx;

function RS() {
    return Gx || (Gx = 1, function(e) {
        function s(z, U) {
            var V = z.length;
            z.push(U);
            e: for (; 0 < V;) {
                var W = V - 1 >>> 1,
                    q = z[W];
                if (0 < l(q, U)) z[W] = U, z[V] = q, V = W;
                else break e
            }
        }

        function a(z) {
            return z.length === 0 ? null : z[0]
        }

        function r(z) {
            if (z.length === 0) return null;
            var U = z[0],
                V = z.pop();
            if (V !== U) {
                z[0] = V;
                e: for (var W = 0, q = z.length, Z = q >>> 1; W < Z;) {
                    var se = 2 * (W + 1) - 1,
                        G = z[se],
                        ie = se + 1,
                        ne = z[ie];
                    if (0 > l(G, V)) ie < q && 0 > l(ne, G) ? (z[W] = ne, z[ie] = V, W = ie) : (z[W] = G, z[se] = V, W = se);
                    else if (ie < q && 0 > l(ne, V)) z[W] = ne, z[ie] = V, W = ie;
                    else break e
                }
            }
            return U
        }

        function l(z, U) {
            var V = z.sortIndex - U.sortIndex;
            return V !== 0 ? V : z.id - U.id
        }
        if (e.unstable_now = void 0, typeof performance == "object" && typeof performance.now == "function") {
            var d = performance;
            e.unstable_now = function() {
                return d.now()
            }
        } else {
            var u = Date,
                h = u.now();
            e.unstable_now = function() {
                return u.now() - h
            }
        }
        var f = [],
            p = [],
            y = 1,
            x = null,
            S = 3,
            v = !1,
            C = !1,
            w = !1,
            j = !1,
            A = typeof setTimeout == "function" ? setTimeout : null,
            _ = typeof clearTimeout == "function" ? clearTimeout : null,
            k = typeof setImmediate < "u" ? setImmediate : null;

        function D(z) {
            for (var U = a(p); U !== null;) {
                if (U.callback === null) r(p);
                else if (U.startTime <= z) r(p), U.sortIndex = U.expirationTime, s(f, U);
                else break;
                U = a(p)
            }
        }

        function E(z) {
            if (w = !1, D(z), !C)
                if (a(f) !== null) C = !0, P || (P = !0, F());
                else {
                    var U = a(p);
                    U !== null && K(E, U.startTime - z)
                }
        }
        var P = !1,
            I = -1,
            B = 5,
            X = -1;

        function O() {
            return j ? !0 : !(e.unstable_now() - X < B)
        }

        function L() {
            if (j = !1, P) {
                var z = e.unstable_now();
                X = z;
                var U = !0;
                try {
                    e: {
                        C = !1,
                        w && (w = !1, _(I), I = -1),
                        v = !0;
                        var V = S;
                        try {
                            t: {
                                for (D(z), x = a(f); x !== null && !(x.expirationTime > z && O());) {
                                    var W = x.callback;
                                    if (typeof W == "function") {
                                        x.callback = null, S = x.priorityLevel;
                                        var q = W(x.expirationTime <= z);
                                        if (z = e.unstable_now(), typeof q == "function") {
                                            x.callback = q, D(z), U = !0;
                                            break t
                                        }
                                        x === a(f) && r(f), D(z)
                                    } else r(f);
                                    x = a(f)
                                }
                                if (x !== null) U = !0;
                                else {
                                    var Z = a(p);
                                    Z !== null && K(E, Z.startTime - z), U = !1
                                }
                            }
                            break e
                        }
                        finally {
                            x = null, S = V, v = !1
                        }
                        U = void 0
                    }
                }
                finally {
                    U ? F() : P = !1
                }
            }
        }
        var F;
        if (typeof k == "function") F = function() {
            k(L)
        };
        else if (typeof MessageChannel < "u") {
            var Y = new MessageChannel,
                H = Y.port2;
            Y.port1.onmessage = L, F = function() {
                H.postMessage(null)
            }
        } else F = function() {
            A(L, 0)
        };

        function K(z, U) {
            I = A(function() {
                z(e.unstable_now())
            }, U)
        }
        e.unstable_IdlePriority = 5, e.unstable_ImmediatePriority = 1, e.unstable_LowPriority = 4, e.unstable_NormalPriority = 3, e.unstable_Profiling = null, e.unstable_UserBlockingPriority = 2, e.unstable_cancelCallback = function(z) {
            z.callback = null
        }, e.unstable_forceFrameRate = function(z) {
            0 > z || 125 < z ? console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported") : B = 0 < z ? Math.floor(1e3 / z) : 5
        }, e.unstable_getCurrentPriorityLevel = function() {
            return S
        }, e.unstable_next = function(z) {
            switch (S) {
                case 1:
                case 2:
                case 3:
                    var U = 3;
                    break;
                default:
                    U = S
            }
            var V = S;
            S = U;
            try {
                return z()
            } finally {
                S = V
            }
        }, e.unstable_requestPaint = function() {
            j = !0
        }, e.unstable_runWithPriority = function(z, U) {
            switch (z) {
                case 1:
                case 2:
                case 3:
                case 4:
                case 5:
                    break;
                default:
                    z = 3
            }
            var V = S;
            S = z;
            try {
                return U()
            } finally {
                S = V
            }
        }, e.unstable_scheduleCallback = function(z, U, V) {
            var W = e.unstable_now();
            switch (typeof V == "object" && V !== null ? (V = V.delay, V = typeof V == "number" && 0 < V ? W + V : W) : V = W, z) {
                case 1:
                    var q = -1;
                    break;
                case 2:
                    q = 250;
                    break;
                case 5:
                    q = 1073741823;
                    break;
                case 4:
                    q = 1e4;
                    break;
                default:
                    q = 5e3
            }
            return q = V + q, z = {
                id: y++,
                callback: U,
                priorityLevel: z,
                startTime: V,
                expirationTime: q,
                sortIndex: -1
            }, V > W ? (z.sortIndex = V, s(p, z), a(f) === null && z === a(p) && (w ? (_(I), I = -1) : w = !0, K(E, V - W))) : (z.sortIndex = q, s(f, z), C || v || (C = !0, P || (P = !0, F()))), z
        }, e.unstable_shouldYield = O, e.unstable_wrapCallback = function(z) {
            var U = S;
            return function() {
                var V = S;
                S = U;
                try {
                    return z.apply(this, arguments)
                } finally {
                    S = V
                }
            }
        }
    }(Gh)), Gh
}
var Yx;

function DS() {
    return Yx || (Yx = 1, $h.exports = RS()), $h.exports
}
var Vx;

function NS() {
    if (Vx) return tl;
    Vx = 1;
    /**
     * @license React
     * react-dom-client.production.js
     *
     * Copyright (c) Meta Platforms, Inc. and affiliates.
     *
     * This source code is licensed under the MIT license found in the
     * LICENSE file in the root directory of this source tree.
     */
    var e = DS(),
        s = Sv(),
        a = Cv();

    function r(n) {
        var i = "https://react.dev/errors/" + n;
        if (1 < arguments.length) {
            i += "?args[]=" + encodeURIComponent(arguments[1]);
            for (var o = 2; o < arguments.length; o++) i += "&args[]=" + encodeURIComponent(arguments[o])
        }
        return "Minified React error #" + n + "; visit " + i + " for the full message or use the non-minified dev environment for full errors and additional helpful warnings."
    }

    function l(n) {
        return !(!n || n.nodeType !== 1 && n.nodeType !== 9 && n.nodeType !== 11)
    }

    function d(n) {
        var i = n,
            o = n;
        if (n.alternate)
            for (; i.return;) i = i.return;
        else {
            n = i;
            do i = n, (i.flags & 4098) !== 0 && (o = i.return), n = i.return; while (n)
        }
        return i.tag === 3 ? o : null
    }

    function u(n) {
        if (n.tag === 13) {
            var i = n.memoizedState;
            if (i === null && (n = n.alternate, n !== null && (i = n.memoizedState)), i !== null) return i.dehydrated
        }
        return null
    }

    function h(n) {
        if (d(n) !== n) throw Error(r(188))
    }

    function f(n) {
        var i = n.alternate;
        if (!i) {
            if (i = d(n), i === null) throw Error(r(188));
            return i !== n ? null : n
        }
        for (var o = n, c = i;;) {
            var g = o.return;
            if (g === null) break;
            var b = g.alternate;
            if (b === null) {
                if (c = g.return, c !== null) {
                    o = c;
                    continue
                }
                break
            }
            if (g.child === b.child) {
                for (b = g.child; b;) {
                    if (b === o) return h(g), n;
                    if (b === c) return h(g), i;
                    b = b.sibling
                }
                throw Error(r(188))
            }
            if (o.return !== c.return) o = g, c = b;
            else {
                for (var N = !1, M = g.child; M;) {
                    if (M === o) {
                        N = !0, o = g, c = b;
                        break
                    }
                    if (M === c) {
                        N = !0, c = g, o = b;
                        break
                    }
                    M = M.sibling
                }
                if (!N) {
                    for (M = b.child; M;) {
                        if (M === o) {
                            N = !0, o = b, c = g;
                            break
                        }
                        if (M === c) {
                            N = !0, c = b, o = g;
                            break
                        }
                        M = M.sibling
                    }
                    if (!N) throw Error(r(189))
                }
            }
            if (o.alternate !== c) throw Error(r(190))
        }
        if (o.tag !== 3) throw Error(r(188));
        return o.stateNode.current === o ? n : i
    }

    function p(n) {
        var i = n.tag;
        if (i === 5 || i === 26 || i === 27 || i === 6) return n;
        for (n = n.child; n !== null;) {
            if (i = p(n), i !== null) return i;
            n = n.sibling
        }
        return null
    }
    var y = Object.assign,
        x = Symbol.for("react.element"),
        S = Symbol.for("react.transitional.element"),
        v = Symbol.for("react.portal"),
        C = Symbol.for("react.fragment"),
        w = Symbol.for("react.strict_mode"),
        j = Symbol.for("react.profiler"),
        A = Symbol.for("react.provider"),
        _ = Symbol.for("react.consumer"),
        k = Symbol.for("react.context"),
        D = Symbol.for("react.forward_ref"),
        E = Symbol.for("react.suspense"),
        P = Symbol.for("react.suspense_list"),
        I = Symbol.for("react.memo"),
        B = Symbol.for("react.lazy"),
        X = Symbol.for("react.activity"),
        O = Symbol.for("react.memo_cache_sentinel"),
        L = Symbol.iterator;

    function F(n) {
        return n === null || typeof n != "object" ? null : (n = L && n[L] || n["@@iterator"], typeof n == "function" ? n : null)
    }
    var Y = Symbol.for("react.client.reference");

    function H(n) {
        if (n == null) return null;
        if (typeof n == "function") return n.$$typeof === Y ? null : n.displayName || n.name || null;
        if (typeof n == "string") return n;
        switch (n) {
            case C:
                return "Fragment";
            case j:
                return "Profiler";
            case w:
                return "StrictMode";
            case E:
                return "Suspense";
            case P:
                return "SuspenseList";
            case X:
                return "Activity"
        }
        if (typeof n == "object") switch (n.$$typeof) {
            case v:
                return "Portal";
            case k:
                return (n.displayName || "Context") + ".Provider";
            case _:
                return (n._context.displayName || "Context") + ".Consumer";
            case D:
                var i = n.render;
                return n = n.displayName, n || (n = i.displayName || i.name || "", n = n !== "" ? "ForwardRef(" + n + ")" : "ForwardRef"), n;
            case I:
                return i = n.displayName || null, i !== null ? i : H(n.type) || "Memo";
            case B:
                i = n._payload, n = n._init;
                try {
                    return H(n(i))
                } catch {}
        }
        return null
    }
    var K = Array.isArray,
        z = s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,
        U = a.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,
        V = {
            pending: !1,
            data: null,
            method: null,
            action: null
        },
        W = [],
        q = -1;

    function Z(n) {
        return {
            current: n
        }
    }

    function se(n) {
        0 > q || (n.current = W[q], W[q] = null, q--)
    }

    function G(n, i) {
        q++, W[q] = n.current, n.current = i
    }
    var ie = Z(null),
        ne = Z(null),
        ee = Z(null),
        me = Z(null);

    function fe(n, i) {
        switch (G(ee, i), G(ne, n), G(ie, null), i.nodeType) {
            case 9:
            case 11:
                n = (n = i.documentElement) && (n = n.namespaceURI) ? Ym(n) : 0;
                break;
            default:
                if (n = i.tagName, i = i.namespaceURI) i = Ym(i), n = Vm(i, n);
                else switch (n) {
                    case "svg":
                        n = 1;
                        break;
                    case "math":
                        n = 2;
                        break;
                    default:
                        n = 0
                }
        }
        se(ie), G(ie, n)
    }

    function ge() {
        se(ie), se(ne), se(ee)
    }

    function ke(n) {
        n.memoizedState !== null && G(me, n);
        var i = ie.current,
            o = Vm(i, n.type);
        i !== o && (G(ne, n), G(ie, o))
    }

    function je(n) {
        ne.current === n && (se(ie), se(ne)), me.current === n && (se(me), No._currentValue = V)
    }
    var re = Object.prototype.hasOwnProperty,
        Ee = e.unstable_scheduleCallback,
        Ae = e.unstable_cancelCallback,
        Pe = e.unstable_shouldYield,
        be = e.unstable_requestPaint,
        qe = e.unstable_now,
        Re = e.unstable_getCurrentPriorityLevel,
        le = e.unstable_ImmediatePriority,
        Ce = e.unstable_UserBlockingPriority,
        _e = e.unstable_NormalPriority,
        Ne = e.unstable_LowPriority,
        Fe = e.unstable_IdlePriority,
        tt = e.log,
        dt = e.unstable_setDisableYieldValue,
        oe = null,
        xe = null;

    function Nt(n) {
        if (typeof tt == "function" && dt(n), xe && typeof xe.setStrictMode == "function") try {
            xe.setStrictMode(oe, n)
        } catch {}
    }
    var J = Math.clz32 ? Math.clz32 : Oe,
        ze = Math.log,
        Ue = Math.LN2;

    function Oe(n) {
        return n >>>= 0, n === 0 ? 32 : 31 - (ze(n) / Ue | 0) | 0
    }
    var zt = 256,
        Xt = 4194304;

    function Ft(n) {
        var i = n & 42;
        if (i !== 0) return i;
        switch (n & -n) {
            case 1:
                return 1;
            case 2:
                return 2;
            case 4:
                return 4;
            case 8:
                return 8;
            case 16:
                return 16;
            case 32:
                return 32;
            case 64:
                return 64;
            case 128:
                return 128;
            case 256:
            case 512:
            case 1024:
            case 2048:
            case 4096:
            case 8192:
            case 16384:
            case 32768:
            case 65536:
            case 131072:
            case 262144:
            case 524288:
            case 1048576:
            case 2097152:
                return n & 4194048;
            case 4194304:
            case 8388608:
            case 16777216:
            case 33554432:
                return n & 62914560;
            case 67108864:
                return 67108864;
            case 134217728:
                return 134217728;
            case 268435456:
                return 268435456;
            case 536870912:
                return 536870912;
            case 1073741824:
                return 0;
            default:
                return n
        }
    }

    function hs(n, i, o) {
        var c = n.pendingLanes;
        if (c === 0) return 0;
        var g = 0,
            b = n.suspendedLanes,
            N = n.pingedLanes;
        n = n.warmLanes;
        var M = c & 134217727;
        return M !== 0 ? (c = M & ~b, c !== 0 ? g = Ft(c) : (N &= M, N !== 0 ? g = Ft(N) : o || (o = M & ~n, o !== 0 && (g = Ft(o))))) : (M = c & ~b, M !== 0 ? g = Ft(M) : N !== 0 ? g = Ft(N) : o || (o = c & ~n, o !== 0 && (g = Ft(o)))), g === 0 ? 0 : i !== 0 && i !== g && (i & b) === 0 && (b = g & -g, o = i & -i, b >= o || b === 32 && (o & 4194048) !== 0) ? i : g
    }

    function li(n, i) {
        return (n.pendingLanes & ~(n.suspendedLanes & ~n.pingedLanes) & i) === 0
    }

    function fs(n, i) {
        switch (n) {
            case 1:
            case 2:
            case 4:
            case 8:
            case 64:
                return i + 250;
            case 16:
            case 32:
            case 128:
            case 256:
            case 512:
            case 1024:
            case 2048:
            case 4096:
            case 8192:
            case 16384:
            case 32768:
            case 65536:
            case 131072:
            case 262144:
            case 524288:
            case 1048576:
            case 2097152:
                return i + 5e3;
            case 4194304:
            case 8388608:
            case 16777216:
            case 33554432:
                return -1;
            case 67108864:
            case 134217728:
            case 268435456:
            case 536870912:
            case 1073741824:
                return -1;
            default:
                return -1
        }
    }

    function Rd() {
        var n = zt;
        return zt <<= 1, (zt & 4194048) === 0 && (zt = 256), n
    }

    function Dl() {
        var n = Xt;
        return Xt <<= 1, (Xt & 62914560) === 0 && (Xt = 4194304), n
    }

    function Nl(n) {
        for (var i = [], o = 0; 31 > o; o++) i.push(n);
        return i
    }

    function Qt(n, i) {
        n.pendingLanes |= i, i !== 268435456 && (n.suspendedLanes = 0, n.pingedLanes = 0, n.warmLanes = 0)
    }

    function on(n, i, o, c, g, b) {
        var N = n.pendingLanes;
        n.pendingLanes = o, n.suspendedLanes = 0, n.pingedLanes = 0, n.warmLanes = 0, n.expiredLanes &= o, n.entangledLanes &= o, n.errorRecoveryDisabledLanes &= o, n.shellSuspendCounter = 0;
        var M = n.entanglements,
            Q = n.expirationTimes,
            ue = n.hiddenUpdates;
        for (o = N & ~o; 0 < o;) {
            var ye = 31 - J(o),
                we = 1 << ye;
            M[ye] = 0, Q[ye] = -1;
            var he = ue[ye];
            if (he !== null)
                for (ue[ye] = null, ye = 0; ye < he.length; ye++) {
                    var pe = he[ye];
                    pe !== null && (pe.lane &= -536870913)
                }
            o &= ~we
        }
        c !== 0 && ln(n, c, 0), b !== 0 && g === 0 && n.tag !== 0 && (n.suspendedLanes |= b & ~(N & ~i))
    }

    function ln(n, i, o) {
        n.pendingLanes |= i, n.suspendedLanes &= ~i;
        var c = 31 - J(i);
        n.entangledLanes |= i, n.entanglements[c] = n.entanglements[c] | 1073741824 | o & 4194090
    }

    function Dd(n, i) {
        var o = n.entangledLanes |= i;
        for (n = n.entanglements; o;) {
            var c = 31 - J(o),
                g = 1 << c;
            g & i | n[c] & i && (n[c] |= i), o &= ~g
        }
    }

    function _t(n) {
        switch (n) {
            case 2:
                n = 1;
                break;
            case 8:
                n = 4;
                break;
            case 32:
                n = 16;
                break;
            case 256:
            case 512:
            case 1024:
            case 2048:
            case 4096:
            case 8192:
            case 16384:
            case 32768:
            case 65536:
            case 131072:
            case 262144:
            case 524288:
            case 1048576:
            case 2097152:
            case 4194304:
            case 8388608:
            case 16777216:
            case 33554432:
                n = 128;
                break;
            case 268435456:
                n = 134217728;
                break;
            default:
                n = 0
        }
        return n
    }

    function ps(n) {
        return n &= -n, 2 < n ? 8 < n ? (n & 134217727) !== 0 ? 32 : 268435456 : 8 : 2
    }

    function Nd() {
        var n = U.p;
        return n !== 0 ? n : (n = window.event, n === void 0 ? 32 : hx(n.type))
    }

    function Ma(n, i) {
        var o = U.p;
        try {
            return U.p = n, i()
        } finally {
            U.p = o
        }
    }
    var zn = Math.random().toString(36).slice(2),
        kt = "__reactFiber$" + zn,
        Ot = "__reactProps$" + zn,
        ci = "__reactContainer$" + zn,
        Br = "__reactEvents$" + zn,
        zr = "__reactListeners$" + zn,
        Fr = "__reactHandles$" + zn,
        Ba = "__reactResources$" + zn,
        di = "__reactMarker$" + zn;

    function Ir(n) {
        delete n[kt], delete n[Ot], delete n[Br], delete n[zr], delete n[Fr]
    }

    function ui(n) {
        var i = n[kt];
        if (i) return i;
        for (var o = n.parentNode; o;) {
            if (i = o[ci] || o[kt]) {
                if (o = i.alternate, i.child !== null || o !== null && o.child !== null)
                    for (n = Km(n); n !== null;) {
                        if (o = n[kt]) return o;
                        n = Km(n)
                    }
                return i
            }
            n = o, o = n.parentNode
        }
        return null
    }

    function Us(n) {
        if (n = n[kt] || n[ci]) {
            var i = n.tag;
            if (i === 5 || i === 6 || i === 13 || i === 26 || i === 27 || i === 3) return n
        }
        return null
    }

    function Yi(n) {
        var i = n.tag;
        if (i === 5 || i === 26 || i === 27 || i === 6) return n.stateNode;
        throw Error(r(33))
    }

    function Hs(n) {
        var i = n[Ba];
        return i || (i = n[Ba] = {
            hoistableStyles: new Map,
            hoistableScripts: new Map
        }), i
    }

    function Ht(n) {
        n[di] = !0
    }
    var Or = new Set,
        _l = {};

    function As(n, i) {
        $s(n, i), $s(n + "Capture", i)
    }

    function $s(n, i) {
        for (_l[n] = i, n = 0; n < i.length; n++) Or.add(i[n])
    }
    var Pl = RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),
        Wr = {},
        Be = {};

    function Qe(n) {
        return re.call(Be, n) ? !0 : re.call(Wr, n) ? !1 : Pl.test(n) ? Be[n] = !0 : (Wr[n] = !0, !1)
    }

    function st(n, i, o) {
        if (Qe(i))
            if (o === null) n.removeAttribute(i);
            else {
                switch (typeof o) {
                    case "undefined":
                    case "function":
                    case "symbol":
                        n.removeAttribute(i);
                        return;
                    case "boolean":
                        var c = i.toLowerCase().slice(0, 5);
                        if (c !== "data-" && c !== "aria-") {
                            n.removeAttribute(i);
                            return
                        }
                }
                n.setAttribute(i, "" + o)
            }
    }

    function ut(n, i, o) {
        if (o === null) n.removeAttribute(i);
        else {
            switch (typeof o) {
                case "undefined":
                case "function":
                case "symbol":
                case "boolean":
                    n.removeAttribute(i);
                    return
            }
            n.setAttribute(i, "" + o)
        }
    }

    function gn(n, i, o, c) {
        if (c === null) n.removeAttribute(o);
        else {
            switch (typeof c) {
                case "undefined":
                case "function":
                case "symbol":
                case "boolean":
                    n.removeAttribute(o);
                    return
            }
            n.setAttributeNS(i, o, "" + c)
        }
    }
    var Vi, qi;

    function Kt(n) {
        if (Vi === void 0) try {
            throw Error()
        } catch (o) {
            var i = o.stack.trim().match(/\n( *(at )?)/);
            Vi = i && i[1] || "", qi = -1 < o.stack.indexOf(`
    at`) ? " (<anonymous>)" : -1 < o.stack.indexOf("@") ? "@unknown:0:0" : ""
        }
        return `
` + Vi + n + qi
    }
    var Ll = !1;

    function za(n, i) {
        if (!n || Ll) return "";
        Ll = !0;
        var o = Error.prepareStackTrace;
        Error.prepareStackTrace = void 0;
        try {
            var c = {
                DetermineComponentFrameRoot: function() {
                    try {
                        if (i) {
                            var we = function() {
                                throw Error()
                            };
                            if (Object.defineProperty(we.prototype, "props", {
                                    set: function() {
                                        throw Error()
                                    }
                                }), typeof Reflect == "object" && Reflect.construct) {
                                try {
                                    Reflect.construct(we, [])
                                } catch (pe) {
                                    var he = pe
                                }
                                Reflect.construct(n, [], we)
                            } else {
                                try {
                                    we.call()
                                } catch (pe) {
                                    he = pe
                                }
                                n.call(we.prototype)
                            }
                        } else {
                            try {
                                throw Error()
                            } catch (pe) {
                                he = pe
                            }(we = n()) && typeof we.catch == "function" && we.catch(function() {})
                        }
                    } catch (pe) {
                        if (pe && he && typeof pe.stack == "string") return [pe.stack, he.stack]
                    }
                    return [null, null]
                }
            };
            c.DetermineComponentFrameRoot.displayName = "DetermineComponentFrameRoot";
            var g = Object.getOwnPropertyDescriptor(c.DetermineComponentFrameRoot, "name");
            g && g.configurable && Object.defineProperty(c.DetermineComponentFrameRoot, "name", {
                value: "DetermineComponentFrameRoot"
            });
            var b = c.DetermineComponentFrameRoot(),
                N = b[0],
                M = b[1];
            if (N && M) {
                var Q = N.split(`
`),
                    ue = M.split(`
`);
                for (g = c = 0; c < Q.length && !Q[c].includes("DetermineComponentFrameRoot");) c++;
                for (; g < ue.length && !ue[g].includes("DetermineComponentFrameRoot");) g++;
                if (c === Q.length || g === ue.length)
                    for (c = Q.length - 1, g = ue.length - 1; 1 <= c && 0 <= g && Q[c] !== ue[g];) g--;
                for (; 1 <= c && 0 <= g; c--, g--)
                    if (Q[c] !== ue[g]) {
                        if (c !== 1 || g !== 1)
                            do
                                if (c--, g--, 0 > g || Q[c] !== ue[g]) {
                                    var ye = `
` + Q[c].replace(" at new ", " at ");
                                    return n.displayName && ye.includes("<anonymous>") && (ye = ye.replace("<anonymous>", n.displayName)), ye
                                }
                        while (1 <= c && 0 <= g);
                        break
                    }
            }
        } finally {
            Ll = !1, Error.prepareStackTrace = o
        }
        return (o = n ? n.displayName || n.name : "") ? Kt(o) : ""
    }

    function Ur(n) {
        switch (n.tag) {
            case 26:
            case 27:
            case 5:
                return Kt(n.type);
            case 16:
                return Kt("Lazy");
            case 13:
                return Kt("Suspense");
            case 19:
                return Kt("SuspenseList");
            case 0:
            case 15:
                return za(n.type, !1);
            case 11:
                return za(n.type.render, !1);
            case 1:
                return za(n.type, !0);
            case 31:
                return Kt("Activity");
            default:
                return ""
        }
    }

    function Fa(n) {
        try {
            var i = "";
            do i += Ur(n), n = n.return; while (n);
            return i
        } catch (o) {
            return `
Error generating stack: ` + o.message + `
` + o.stack
        }
    }

    function En(n) {
        switch (typeof n) {
            case "bigint":
            case "boolean":
            case "number":
            case "string":
            case "undefined":
                return n;
            case "object":
                return n;
            default:
                return ""
        }
    }

    function Xi(n) {
        var i = n.type;
        return (n = n.nodeName) && n.toLowerCase() === "input" && (i === "checkbox" || i === "radio")
    }

    function Zy(n) {
        var i = Xi(n) ? "checked" : "value",
            o = Object.getOwnPropertyDescriptor(n.constructor.prototype, i),
            c = "" + n[i];
        if (!n.hasOwnProperty(i) && typeof o < "u" && typeof o.get == "function" && typeof o.set == "function") {
            var g = o.get,
                b = o.set;
            return Object.defineProperty(n, i, {
                configurable: !0,
                get: function() {
                    return g.call(this)
                },
                set: function(N) {
                    c = "" + N, b.call(this, N)
                }
            }), Object.defineProperty(n, i, {
                enumerable: o.enumerable
            }), {
                getValue: function() {
                    return c
                },
                setValue: function(N) {
                    c = "" + N
                },
                stopTracking: function() {
                    n._valueTracker = null, delete n[i]
                }
            }
        }
    }

    function Ml(n) {
        n._valueTracker || (n._valueTracker = Zy(n))
    }

    function Uf(n) {
        if (!n) return !1;
        var i = n._valueTracker;
        if (!i) return !0;
        var o = i.getValue(),
            c = "";
        return n && (c = Xi(n) ? n.checked ? "true" : "false" : n.value), n = c, n !== o ? (i.setValue(n), !0) : !1
    }

    function Bl(n) {
        if (n = n || (typeof document < "u" ? document : void 0), typeof n > "u") return null;
        try {
            return n.activeElement || n.body
        } catch {
            return n.body
        }
    }
    var Jy = /[\n"\\]/g;

    function Kn(n) {
        return n.replace(Jy, function(i) {
            return "\\" + i.charCodeAt(0).toString(16) + " "
        })
    }

    function _d(n, i, o, c, g, b, N, M) {
        n.name = "", N != null && typeof N != "function" && typeof N != "symbol" && typeof N != "boolean" ? n.type = N : n.removeAttribute("type"), i != null ? N === "number" ? (i === 0 && n.value === "" || n.value != i) && (n.value = "" + En(i)) : n.value !== "" + En(i) && (n.value = "" + En(i)) : N !== "submit" && N !== "reset" || n.removeAttribute("value"), i != null ? Pd(n, N, En(i)) : o != null ? Pd(n, N, En(o)) : c != null && n.removeAttribute("value"), g == null && b != null && (n.defaultChecked = !!b), g != null && (n.checked = g && typeof g != "function" && typeof g != "symbol"), M != null && typeof M != "function" && typeof M != "symbol" && typeof M != "boolean" ? n.name = "" + En(M) : n.removeAttribute("name")
    }

    function Hf(n, i, o, c, g, b, N, M) {
        if (b != null && typeof b != "function" && typeof b != "symbol" && typeof b != "boolean" && (n.type = b), i != null || o != null) {
            if (!(b !== "submit" && b !== "reset" || i != null)) return;
            o = o != null ? "" + En(o) : "", i = i != null ? "" + En(i) : o, M || i === n.value || (n.value = i), n.defaultValue = i
        }
        c = c ? ? g, c = typeof c != "function" && typeof c != "symbol" && !!c, n.checked = M ? n.checked : !!c, n.defaultChecked = !!c, N != null && typeof N != "function" && typeof N != "symbol" && typeof N != "boolean" && (n.name = N)
    }

    function Pd(n, i, o) {
        i === "number" && Bl(n.ownerDocument) === n || n.defaultValue === "" + o || (n.defaultValue = "" + o)
    }

    function Ia(n, i, o, c) {
        if (n = n.options, i) {
            i = {};
            for (var g = 0; g < o.length; g++) i["$" + o[g]] = !0;
            for (o = 0; o < n.length; o++) g = i.hasOwnProperty("$" + n[o].value), n[o].selected !== g && (n[o].selected = g), g && c && (n[o].defaultSelected = !0)
        } else {
            for (o = "" + En(o), i = null, g = 0; g < n.length; g++) {
                if (n[g].value === o) {
                    n[g].selected = !0, c && (n[g].defaultSelected = !0);
                    return
                }
                i !== null || n[g].disabled || (i = n[g])
            }
            i !== null && (i.selected = !0)
        }
    }

    function $f(n, i, o) {
        if (i != null && (i = "" + En(i), i !== n.value && (n.value = i), o == null)) {
            n.defaultValue !== i && (n.defaultValue = i);
            return
        }
        n.defaultValue = o != null ? "" + En(o) : ""
    }

    function Gf(n, i, o, c) {
        if (i == null) {
            if (c != null) {
                if (o != null) throw Error(r(92));
                if (K(c)) {
                    if (1 < c.length) throw Error(r(93));
                    c = c[0]
                }
                o = c
            }
            o == null && (o = ""), i = o
        }
        o = En(i), n.defaultValue = o, c = n.textContent, c === o && c !== "" && c !== null && (n.value = c)
    }

    function Oa(n, i) {
        if (i) {
            var o = n.firstChild;
            if (o && o === n.lastChild && o.nodeType === 3) {
                o.nodeValue = i;
                return
            }
        }
        n.textContent = i
    }
    var eb = new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));

    function Yf(n, i, o) {
        var c = i.indexOf("--") === 0;
        o == null || typeof o == "boolean" || o === "" ? c ? n.setProperty(i, "") : i === "float" ? n.cssFloat = "" : n[i] = "" : c ? n.setProperty(i, o) : typeof o != "number" || o === 0 || eb.has(i) ? i === "float" ? n.cssFloat = o : n[i] = ("" + o).trim() : n[i] = o + "px"
    }

    function Vf(n, i, o) {
        if (i != null && typeof i != "object") throw Error(r(62));
        if (n = n.style, o != null) {
            for (var c in o) !o.hasOwnProperty(c) || i != null && i.hasOwnProperty(c) || (c.indexOf("--") === 0 ? n.setProperty(c, "") : c === "float" ? n.cssFloat = "" : n[c] = "");
            for (var g in i) c = i[g], i.hasOwnProperty(g) && o[g] !== c && Yf(n, g, c)
        } else
            for (var b in i) i.hasOwnProperty(b) && Yf(n, b, i[b])
    }

    function Ld(n) {
        if (n.indexOf("-") === -1) return !1;
        switch (n) {
            case "annotation-xml":
            case "color-profile":
            case "font-face":
            case "font-face-src":
            case "font-face-uri":
            case "font-face-format":
            case "font-face-name":
            case "missing-glyph":
                return !1;
            default:
                return !0
        }
    }
    var tb = new Map([
            ["acceptCharset", "accept-charset"],
            ["htmlFor", "for"],
            ["httpEquiv", "http-equiv"],
            ["crossOrigin", "crossorigin"],
            ["accentHeight", "accent-height"],
            ["alignmentBaseline", "alignment-baseline"],
            ["arabicForm", "arabic-form"],
            ["baselineShift", "baseline-shift"],
            ["capHeight", "cap-height"],
            ["clipPath", "clip-path"],
            ["clipRule", "clip-rule"],
            ["colorInterpolation", "color-interpolation"],
            ["colorInterpolationFilters", "color-interpolation-filters"],
            ["colorProfile", "color-profile"],
            ["colorRendering", "color-rendering"],
            ["dominantBaseline", "dominant-baseline"],
            ["enableBackground", "enable-background"],
            ["fillOpacity", "fill-opacity"],
            ["fillRule", "fill-rule"],
            ["floodColor", "flood-color"],
            ["floodOpacity", "flood-opacity"],
            ["fontFamily", "font-family"],
            ["fontSize", "font-size"],
            ["fontSizeAdjust", "font-size-adjust"],
            ["fontStretch", "font-stretch"],
            ["fontStyle", "font-style"],
            ["fontVariant", "font-variant"],
            ["fontWeight", "font-weight"],
            ["glyphName", "glyph-name"],
            ["glyphOrientationHorizontal", "glyph-orientation-horizontal"],
            ["glyphOrientationVertical", "glyph-orientation-vertical"],
            ["horizAdvX", "horiz-adv-x"],
            ["horizOriginX", "horiz-origin-x"],
            ["imageRendering", "image-rendering"],
            ["letterSpacing", "letter-spacing"],
            ["lightingColor", "lighting-color"],
            ["markerEnd", "marker-end"],
            ["markerMid", "marker-mid"],
            ["markerStart", "marker-start"],
            ["overlinePosition", "overline-position"],
            ["overlineThickness", "overline-thickness"],
            ["paintOrder", "paint-order"],
            ["panose-1", "panose-1"],
            ["pointerEvents", "pointer-events"],
            ["renderingIntent", "rendering-intent"],
            ["shapeRendering", "shape-rendering"],
            ["stopColor", "stop-color"],
            ["stopOpacity", "stop-opacity"],
            ["strikethroughPosition", "strikethrough-position"],
            ["strikethroughThickness", "strikethrough-thickness"],
            ["strokeDasharray", "stroke-dasharray"],
            ["strokeDashoffset", "stroke-dashoffset"],
            ["strokeLinecap", "stroke-linecap"],
            ["strokeLinejoin", "stroke-linejoin"],
            ["strokeMiterlimit", "stroke-miterlimit"],
            ["strokeOpacity", "stroke-opacity"],
            ["strokeWidth", "stroke-width"],
            ["textAnchor", "text-anchor"],
            ["textDecoration", "text-decoration"],
            ["textRendering", "text-rendering"],
            ["transformOrigin", "transform-origin"],
            ["underlinePosition", "underline-position"],
            ["underlineThickness", "underline-thickness"],
            ["unicodeBidi", "unicode-bidi"],
            ["unicodeRange", "unicode-range"],
            ["unitsPerEm", "units-per-em"],
            ["vAlphabetic", "v-alphabetic"],
            ["vHanging", "v-hanging"],
            ["vIdeographic", "v-ideographic"],
            ["vMathematical", "v-mathematical"],
            ["vectorEffect", "vector-effect"],
            ["vertAdvY", "vert-adv-y"],
            ["vertOriginX", "vert-origin-x"],
            ["vertOriginY", "vert-origin-y"],
            ["wordSpacing", "word-spacing"],
            ["writingMode", "writing-mode"],
            ["xmlnsXlink", "xmlns:xlink"],
            ["xHeight", "x-height"]
        ]),
        nb = /^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;

    function zl(n) {
        return nb.test("" + n) ? "javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')" : n
    }
    var Md = null;

    function Bd(n) {
        return n = n.target || n.srcElement || window, n.correspondingUseElement && (n = n.correspondingUseElement), n.nodeType === 3 ? n.parentNode : n
    }
    var Wa = null,
        Ua = null;

    function qf(n) {
        var i = Us(n);
        if (i && (n = i.stateNode)) {
            var o = n[Ot] || null;
            e: switch (n = i.stateNode, i.type) {
                case "input":
                    if (_d(n, o.value, o.defaultValue, o.defaultValue, o.checked, o.defaultChecked, o.type, o.name), i = o.name, o.type === "radio" && i != null) {
                        for (o = n; o.parentNode;) o = o.parentNode;
                        for (o = o.querySelectorAll('input[name="' + Kn("" + i) + '"][type="radio"]'), i = 0; i < o.length; i++) {
                            var c = o[i];
                            if (c !== n && c.form === n.form) {
                                var g = c[Ot] || null;
                                if (!g) throw Error(r(90));
                                _d(c, g.value, g.defaultValue, g.defaultValue, g.checked, g.defaultChecked, g.type, g.name)
                            }
                        }
                        for (i = 0; i < o.length; i++) c = o[i], c.form === n.form && Uf(c)
                    }
                    break e;
                case "textarea":
                    $f(n, o.value, o.defaultValue);
                    break e;
                case "select":
                    i = o.value, i != null && Ia(n, !!o.multiple, i, !1)
            }
        }
    }
    var zd = !1;

    function Xf(n, i, o) {
        if (zd) return n(i, o);
        zd = !0;
        try {
            var c = n(i);
            return c
        } finally {
            if (zd = !1, (Wa !== null || Ua !== null) && (Cc(), Wa && (i = Wa, n = Ua, Ua = Wa = null, qf(i), n)))
                for (i = 0; i < n.length; i++) qf(n[i])
        }
    }

    function Hr(n, i) {
        var o = n.stateNode;
        if (o === null) return null;
        var c = o[Ot] || null;
        if (c === null) return null;
        o = c[i];
        e: switch (i) {
            case "onClick":
            case "onClickCapture":
            case "onDoubleClick":
            case "onDoubleClickCapture":
            case "onMouseDown":
            case "onMouseDownCapture":
            case "onMouseMove":
            case "onMouseMoveCapture":
            case "onMouseUp":
            case "onMouseUpCapture":
            case "onMouseEnter":
                (c = !c.disabled) || (n = n.type, c = !(n === "button" || n === "input" || n === "select" || n === "textarea")), n = !c;
                break e;
            default:
                n = !1
        }
        if (n) return null;
        if (o && typeof o != "function") throw Error(r(231, i, typeof o));
        return o
    }
    var Gs = !(typeof window > "u" || typeof window.document > "u" || typeof window.document.createElement > "u"),
        Fd = !1;
    if (Gs) try {
        var $r = {};
        Object.defineProperty($r, "passive", {
            get: function() {
                Fd = !0
            }
        }), window.addEventListener("test", $r, $r), window.removeEventListener("test", $r, $r)
    } catch {
        Fd = !1
    }
    var hi = null,
        Id = null,
        Fl = null;

    function Qf() {
        if (Fl) return Fl;
        var n, i = Id,
            o = i.length,
            c, g = "value" in hi ? hi.value : hi.textContent,
            b = g.length;
        for (n = 0; n < o && i[n] === g[n]; n++);
        var N = o - n;
        for (c = 1; c <= N && i[o - c] === g[b - c]; c++);
        return Fl = g.slice(n, 1 < c ? 1 - c : void 0)
    }

    function Il(n) {
        var i = n.keyCode;
        return "charCode" in n ? (n = n.charCode, n === 0 && i === 13 && (n = 13)) : n = i, n === 10 && (n = 13), 32 <= n || n === 13 ? n : 0
    }

    function Ol() {
        return !0
    }

    function Kf() {
        return !1
    }

    function An(n) {
        function i(o, c, g, b, N) {
            this._reactName = o, this._targetInst = g, this.type = c, this.nativeEvent = b, this.target = N, this.currentTarget = null;
            for (var M in n) n.hasOwnProperty(M) && (o = n[M], this[M] = o ? o(b) : b[M]);
            return this.isDefaultPrevented = (b.defaultPrevented != null ? b.defaultPrevented : b.returnValue === !1) ? Ol : Kf, this.isPropagationStopped = Kf, this
        }
        return y(i.prototype, {
            preventDefault: function() {
                this.defaultPrevented = !0;
                var o = this.nativeEvent;
                o && (o.preventDefault ? o.preventDefault() : typeof o.returnValue != "unknown" && (o.returnValue = !1), this.isDefaultPrevented = Ol)
            },
            stopPropagation: function() {
                var o = this.nativeEvent;
                o && (o.stopPropagation ? o.stopPropagation() : typeof o.cancelBubble != "unknown" && (o.cancelBubble = !0), this.isPropagationStopped = Ol)
            },
            persist: function() {},
            isPersistent: Ol
        }), i
    }
    var Qi = {
            eventPhase: 0,
            bubbles: 0,
            cancelable: 0,
            timeStamp: function(n) {
                return n.timeStamp || Date.now()
            },
            defaultPrevented: 0,
            isTrusted: 0
        },
        Wl = An(Qi),
        Gr = y({}, Qi, {
            view: 0,
            detail: 0
        }),
        sb = An(Gr),
        Od, Wd, Yr, Ul = y({}, Gr, {
            screenX: 0,
            screenY: 0,
            clientX: 0,
            clientY: 0,
            pageX: 0,
            pageY: 0,
            ctrlKey: 0,
            shiftKey: 0,
            altKey: 0,
            metaKey: 0,
            getModifierState: Hd,
            button: 0,
            buttons: 0,
            relatedTarget: function(n) {
                return n.relatedTarget === void 0 ? n.fromElement === n.srcElement ? n.toElement : n.fromElement : n.relatedTarget
            },
            movementX: function(n) {
                return "movementX" in n ? n.movementX : (n !== Yr && (Yr && n.type === "mousemove" ? (Od = n.screenX - Yr.screenX, Wd = n.screenY - Yr.screenY) : Wd = Od = 0, Yr = n), Od)
            },
            movementY: function(n) {
                return "movementY" in n ? n.movementY : Wd
            }
        }),
        Zf = An(Ul),
        ib = y({}, Ul, {
            dataTransfer: 0
        }),
        ab = An(ib),
        rb = y({}, Gr, {
            relatedTarget: 0
        }),
        Ud = An(rb),
        ob = y({}, Qi, {
            animationName: 0,
            elapsedTime: 0,
            pseudoElement: 0
        }),
        lb = An(ob),
        cb = y({}, Qi, {
            clipboardData: function(n) {
                return "clipboardData" in n ? n.clipboardData : window.clipboardData
            }
        }),
        db = An(cb),
        ub = y({}, Qi, {
            data: 0
        }),
        Jf = An(ub),
        hb = {
            Esc: "Escape",
            Spacebar: " ",
            Left: "ArrowLeft",
            Up: "ArrowUp",
            Right: "ArrowRight",
            Down: "ArrowDown",
            Del: "Delete",
            Win: "OS",
            Menu: "ContextMenu",
            Apps: "ContextMenu",
            Scroll: "ScrollLock",
            MozPrintableKey: "Unidentified"
        },
        fb = {
            8: "Backspace",
            9: "Tab",
            12: "Clear",
            13: "Enter",
            16: "Shift",
            17: "Control",
            18: "Alt",
            19: "Pause",
            20: "CapsLock",
            27: "Escape",
            32: " ",
            33: "PageUp",
            34: "PageDown",
            35: "End",
            36: "Home",
            37: "ArrowLeft",
            38: "ArrowUp",
            39: "ArrowRight",
            40: "ArrowDown",
            45: "Insert",
            46: "Delete",
            112: "F1",
            113: "F2",
            114: "F3",
            115: "F4",
            116: "F5",
            117: "F6",
            118: "F7",
            119: "F8",
            120: "F9",
            121: "F10",
            122: "F11",
            123: "F12",
            144: "NumLock",
            145: "ScrollLock",
            224: "Meta"
        },
        pb = {
            Alt: "altKey",
            Control: "ctrlKey",
            Meta: "metaKey",
            Shift: "shiftKey"
        };

    function gb(n) {
        var i = this.nativeEvent;
        return i.getModifierState ? i.getModifierState(n) : (n = pb[n]) ? !!i[n] : !1
    }

    function Hd() {
        return gb
    }
    var mb = y({}, Gr, {
            key: function(n) {
                if (n.key) {
                    var i = hb[n.key] || n.key;
                    if (i !== "Unidentified") return i
                }
                return n.type === "keypress" ? (n = Il(n), n === 13 ? "Enter" : String.fromCharCode(n)) : n.type === "keydown" || n.type === "keyup" ? fb[n.keyCode] || "Unidentified" : ""
            },
            code: 0,
            location: 0,
            ctrlKey: 0,
            shiftKey: 0,
            altKey: 0,
            metaKey: 0,
            repeat: 0,
            locale: 0,
            getModifierState: Hd,
            charCode: function(n) {
                return n.type === "keypress" ? Il(n) : 0
            },
            keyCode: function(n) {
                return n.type === "keydown" || n.type === "keyup" ? n.keyCode : 0
            },
            which: function(n) {
                return n.type === "keypress" ? Il(n) : n.type === "keydown" || n.type === "keyup" ? n.keyCode : 0
            }
        }),
        xb = An(mb),
        yb = y({}, Ul, {
            pointerId: 0,
            width: 0,
            height: 0,
            pressure: 0,
            tangentialPressure: 0,
            tiltX: 0,
            tiltY: 0,
            twist: 0,
            pointerType: 0,
            isPrimary: 0
        }),
        ep = An(yb),
        bb = y({}, Gr, {
            touches: 0,
            targetTouches: 0,
            changedTouches: 0,
            altKey: 0,
            metaKey: 0,
            ctrlKey: 0,
            shiftKey: 0,
            getModifierState: Hd
        }),
        vb = An(bb),
        Sb = y({}, Qi, {
            propertyName: 0,
            elapsedTime: 0,
            pseudoElement: 0
        }),
        Cb = An(Sb),
        wb = y({}, Ul, {
            deltaX: function(n) {
                return "deltaX" in n ? n.deltaX : "wheelDeltaX" in n ? -n.wheelDeltaX : 0
            },
            deltaY: function(n) {
                return "deltaY" in n ? n.deltaY : "wheelDeltaY" in n ? -n.wheelDeltaY : "wheelDelta" in n ? -n.wheelDelta : 0
            },
            deltaZ: 0,
            deltaMode: 0
        }),
        Tb = An(wb),
        jb = y({}, Qi, {
            newState: 0,
            oldState: 0
        }),
        kb = An(jb),
        Eb = [9, 13, 27, 32],
        $d = Gs && "CompositionEvent" in window,
        Vr = null;
    Gs && "documentMode" in document && (Vr = document.documentMode);
    var Ab = Gs && "TextEvent" in window && !Vr,
        tp = Gs && (!$d || Vr && 8 < Vr && 11 >= Vr),
        np = " ",
        sp = !1;

    function ip(n, i) {
        switch (n) {
            case "keyup":
                return Eb.indexOf(i.keyCode) !== -1;
            case "keydown":
                return i.keyCode !== 229;
            case "keypress":
            case "mousedown":
            case "focusout":
                return !0;
            default:
                return !1
        }
    }

    function ap(n) {
        return n = n.detail, typeof n == "object" && "data" in n ? n.data : null
    }
    var Ha = !1;

    function Rb(n, i) {
        switch (n) {
            case "compositionend":
                return ap(i);
            case "keypress":
                return i.which !== 32 ? null : (sp = !0, np);
            case "textInput":
                return n = i.data, n === np && sp ? null : n;
            default:
                return null
        }
    }

    function Db(n, i) {
        if (Ha) return n === "compositionend" || !$d && ip(n, i) ? (n = Qf(), Fl = Id = hi = null, Ha = !1, n) : null;
        switch (n) {
            case "paste":
                return null;
            case "keypress":
                if (!(i.ctrlKey || i.altKey || i.metaKey) || i.ctrlKey && i.altKey) {
                    if (i.char && 1 < i.char.length) return i.char;
                    if (i.which) return String.fromCharCode(i.which)
                }
                return null;
            case "compositionend":
                return tp && i.locale !== "ko" ? null : i.data;
            default:
                return null
        }
    }
    var Nb = {
        color: !0,
        date: !0,
        datetime: !0,
        "datetime-local": !0,
        email: !0,
        month: !0,
        number: !0,
        password: !0,
        range: !0,
        search: !0,
        tel: !0,
        text: !0,
        time: !0,
        url: !0,
        week: !0
    };

    function rp(n) {
        var i = n && n.nodeName && n.nodeName.toLowerCase();
        return i === "input" ? !!Nb[n.type] : i === "textarea"
    }

    function op(n, i, o, c) {
        Wa ? Ua ? Ua.push(c) : Ua = [c] : Wa = c, i = Ac(i, "onChange"), 0 < i.length && (o = new Wl("onChange", "change", null, o, c), n.push({
            event: o,
            listeners: i
        }))
    }
    var qr = null,
        Xr = null;

    function _b(n) {
        Wm(n, 0)
    }

    function Hl(n) {
        var i = Yi(n);
        if (Uf(i)) return n
    }

    function lp(n, i) {
        if (n === "change") return i
    }
    var cp = !1;
    if (Gs) {
        var Gd;
        if (Gs) {
            var Yd = "oninput" in document;
            if (!Yd) {
                var dp = document.createElement("div");
                dp.setAttribute("oninput", "return;"), Yd = typeof dp.oninput == "function"
            }
            Gd = Yd
        } else Gd = !1;
        cp = Gd && (!document.documentMode || 9 < document.documentMode)
    }

    function up() {
        qr && (qr.detachEvent("onpropertychange", hp), Xr = qr = null)
    }

    function hp(n) {
        if (n.propertyName === "value" && Hl(Xr)) {
            var i = [];
            op(i, Xr, n, Bd(n)), Xf(_b, i)
        }
    }

    function Pb(n, i, o) {
        n === "focusin" ? (up(), qr = i, Xr = o, qr.attachEvent("onpropertychange", hp)) : n === "focusout" && up()
    }

    function Lb(n) {
        if (n === "selectionchange" || n === "keyup" || n === "keydown") return Hl(Xr)
    }

    function Mb(n, i) {
        if (n === "click") return Hl(i)
    }

    function Bb(n, i) {
        if (n === "input" || n === "change") return Hl(i)
    }

    function zb(n, i) {
        return n === i && (n !== 0 || 1 / n === 1 / i) || n !== n && i !== i
    }
    var Fn = typeof Object.is == "function" ? Object.is : zb;

    function Qr(n, i) {
        if (Fn(n, i)) return !0;
        if (typeof n != "object" || n === null || typeof i != "object" || i === null) return !1;
        var o = Object.keys(n),
            c = Object.keys(i);
        if (o.length !== c.length) return !1;
        for (c = 0; c < o.length; c++) {
            var g = o[c];
            if (!re.call(i, g) || !Fn(n[g], i[g])) return !1
        }
        return !0
    }

    function fp(n) {
        for (; n && n.firstChild;) n = n.firstChild;
        return n
    }

    function pp(n, i) {
        var o = fp(n);
        n = 0;
        for (var c; o;) {
            if (o.nodeType === 3) {
                if (c = n + o.textContent.length, n <= i && c >= i) return {
                    node: o,
                    offset: i - n
                };
                n = c
            }
            e: {
                for (; o;) {
                    if (o.nextSibling) {
                        o = o.nextSibling;
                        break e
                    }
                    o = o.parentNode
                }
                o = void 0
            }
            o = fp(o)
        }
    }

    function gp(n, i) {
        return n && i ? n === i ? !0 : n && n.nodeType === 3 ? !1 : i && i.nodeType === 3 ? gp(n, i.parentNode) : "contains" in n ? n.contains(i) : n.compareDocumentPosition ? !!(n.compareDocumentPosition(i) & 16) : !1 : !1
    }

    function mp(n) {
        n = n != null && n.ownerDocument != null && n.ownerDocument.defaultView != null ? n.ownerDocument.defaultView : window;
        for (var i = Bl(n.document); i instanceof n.HTMLIFrameElement;) {
            try {
                var o = typeof i.contentWindow.location.href == "string"
            } catch {
                o = !1
            }
            if (o) n = i.contentWindow;
            else break;
            i = Bl(n.document)
        }
        return i
    }

    function Vd(n) {
        var i = n && n.nodeName && n.nodeName.toLowerCase();
        return i && (i === "input" && (n.type === "text" || n.type === "search" || n.type === "tel" || n.type === "url" || n.type === "password") || i === "textarea" || n.contentEditable === "true")
    }
    var Fb = Gs && "documentMode" in document && 11 >= document.documentMode,
        $a = null,
        qd = null,
        Kr = null,
        Xd = !1;

    function xp(n, i, o) {
        var c = o.window === o ? o.document : o.nodeType === 9 ? o : o.ownerDocument;
        Xd || $a == null || $a !== Bl(c) || (c = $a, "selectionStart" in c && Vd(c) ? c = {
            start: c.selectionStart,
            end: c.selectionEnd
        } : (c = (c.ownerDocument && c.ownerDocument.defaultView || window).getSelection(), c = {
            anchorNode: c.anchorNode,
            anchorOffset: c.anchorOffset,
            focusNode: c.focusNode,
            focusOffset: c.focusOffset
        }), Kr && Qr(Kr, c) || (Kr = c, c = Ac(qd, "onSelect"), 0 < c.length && (i = new Wl("onSelect", "select", null, i, o), n.push({
            event: i,
            listeners: c
        }), i.target = $a)))
    }

    function Ki(n, i) {
        var o = {};
        return o[n.toLowerCase()] = i.toLowerCase(), o["Webkit" + n] = "webkit" + i, o["Moz" + n] = "moz" + i, o
    }
    var Ga = {
            animationend: Ki("Animation", "AnimationEnd"),
            animationiteration: Ki("Animation", "AnimationIteration"),
            animationstart: Ki("Animation", "AnimationStart"),
            transitionrun: Ki("Transition", "TransitionRun"),
            transitionstart: Ki("Transition", "TransitionStart"),
            transitioncancel: Ki("Transition", "TransitionCancel"),
            transitionend: Ki("Transition", "TransitionEnd")
        },
        Qd = {},
        yp = {};
    Gs && (yp = document.createElement("div").style, "AnimationEvent" in window || (delete Ga.animationend.animation, delete Ga.animationiteration.animation, delete Ga.animationstart.animation), "TransitionEvent" in window || delete Ga.transitionend.transition);

    function Zi(n) {
        if (Qd[n]) return Qd[n];
        if (!Ga[n]) return n;
        var i = Ga[n],
            o;
        for (o in i)
            if (i.hasOwnProperty(o) && o in yp) return Qd[n] = i[o];
        return n
    }
    var bp = Zi("animationend"),
        vp = Zi("animationiteration"),
        Sp = Zi("animationstart"),
        Ib = Zi("transitionrun"),
        Ob = Zi("transitionstart"),
        Wb = Zi("transitioncancel"),
        Cp = Zi("transitionend"),
        wp = new Map,
        Kd = "abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");
    Kd.push("scrollEnd");

    function gs(n, i) {
        wp.set(n, i), As(i, [n])
    }
    var Tp = new WeakMap;

    function Zn(n, i) {
        if (typeof n == "object" && n !== null) {
            var o = Tp.get(n);
            return o !== void 0 ? o : (i = {
                value: n,
                source: i,
                stack: Fa(i)
            }, Tp.set(n, i), i)
        }
        return {
            value: n,
            source: i,
            stack: Fa(i)
        }
    }
    var Jn = [],
        Ya = 0,
        Zd = 0;

    function $l() {
        for (var n = Ya, i = Zd = Ya = 0; i < n;) {
            var o = Jn[i];
            Jn[i++] = null;
            var c = Jn[i];
            Jn[i++] = null;
            var g = Jn[i];
            Jn[i++] = null;
            var b = Jn[i];
            if (Jn[i++] = null, c !== null && g !== null) {
                var N = c.pending;
                N === null ? g.next = g : (g.next = N.next, N.next = g), c.pending = g
            }
            b !== 0 && jp(o, g, b)
        }
    }

    function Gl(n, i, o, c) {
        Jn[Ya++] = n, Jn[Ya++] = i, Jn[Ya++] = o, Jn[Ya++] = c, Zd |= c, n.lanes |= c, n = n.alternate, n !== null && (n.lanes |= c)
    }

    function Jd(n, i, o, c) {
        return Gl(n, i, o, c), Yl(n)
    }

    function Va(n, i) {
        return Gl(n, null, null, i), Yl(n)
    }

    function jp(n, i, o) {
        n.lanes |= o;
        var c = n.alternate;
        c !== null && (c.lanes |= o);
        for (var g = !1, b = n.return; b !== null;) b.childLanes |= o, c = b.alternate, c !== null && (c.childLanes |= o), b.tag === 22 && (n = b.stateNode, n === null || n._visibility & 1 || (g = !0)), n = b, b = b.return;
        return n.tag === 3 ? (b = n.stateNode, g && i !== null && (g = 31 - J(o), n = b.hiddenUpdates, c = n[g], c === null ? n[g] = [i] : c.push(i), i.lane = o | 536870912), b) : null
    }

    function Yl(n) {
        if (50 < wo) throw wo = 0, ah = null, Error(r(185));
        for (var i = n.return; i !== null;) n = i, i = n.return;
        return n.tag === 3 ? n.stateNode : null
    }
    var qa = {};

    function Ub(n, i, o, c) {
        this.tag = n, this.key = o, this.sibling = this.child = this.return = this.stateNode = this.type = this.elementType = null, this.index = 0, this.refCleanup = this.ref = null, this.pendingProps = i, this.dependencies = this.memoizedState = this.updateQueue = this.memoizedProps = null, this.mode = c, this.subtreeFlags = this.flags = 0, this.deletions = null, this.childLanes = this.lanes = 0, this.alternate = null
    }

    function In(n, i, o, c) {
        return new Ub(n, i, o, c)
    }

    function eu(n) {
        return n = n.prototype, !(!n || !n.isReactComponent)
    }

    function Ys(n, i) {
        var o = n.alternate;
        return o === null ? (o = In(n.tag, i, n.key, n.mode), o.elementType = n.elementType, o.type = n.type, o.stateNode = n.stateNode, o.alternate = n, n.alternate = o) : (o.pendingProps = i, o.type = n.type, o.flags = 0, o.subtreeFlags = 0, o.deletions = null), o.flags = n.flags & 65011712, o.childLanes = n.childLanes, o.lanes = n.lanes, o.child = n.child, o.memoizedProps = n.memoizedProps, o.memoizedState = n.memoizedState, o.updateQueue = n.updateQueue, i = n.dependencies, o.dependencies = i === null ? null : {
            lanes: i.lanes,
            firstContext: i.firstContext
        }, o.sibling = n.sibling, o.index = n.index, o.ref = n.ref, o.refCleanup = n.refCleanup, o
    }

    function kp(n, i) {
        n.flags &= 65011714;
        var o = n.alternate;
        return o === null ? (n.childLanes = 0, n.lanes = i, n.child = null, n.subtreeFlags = 0, n.memoizedProps = null, n.memoizedState = null, n.updateQueue = null, n.dependencies = null, n.stateNode = null) : (n.childLanes = o.childLanes, n.lanes = o.lanes, n.child = o.child, n.subtreeFlags = 0, n.deletions = null, n.memoizedProps = o.memoizedProps, n.memoizedState = o.memoizedState, n.updateQueue = o.updateQueue, n.type = o.type, i = o.dependencies, n.dependencies = i === null ? null : {
            lanes: i.lanes,
            firstContext: i.firstContext
        }), n
    }

    function Vl(n, i, o, c, g, b) {
        var N = 0;
        if (c = n, typeof n == "function") eu(n) && (N = 1);
        else if (typeof n == "string") N = $1(n, o, ie.current) ? 26 : n === "html" || n === "head" || n === "body" ? 27 : 5;
        else e: switch (n) {
            case X:
                return n = In(31, o, i, g), n.elementType = X, n.lanes = b, n;
            case C:
                return Ji(o.children, g, b, i);
            case w:
                N = 8, g |= 24;
                break;
            case j:
                return n = In(12, o, i, g | 2), n.elementType = j, n.lanes = b, n;
            case E:
                return n = In(13, o, i, g), n.elementType = E, n.lanes = b, n;
            case P:
                return n = In(19, o, i, g), n.elementType = P, n.lanes = b, n;
            default:
                if (typeof n == "object" && n !== null) switch (n.$$typeof) {
                    case A:
                    case k:
                        N = 10;
                        break e;
                    case _:
                        N = 9;
                        break e;
                    case D:
                        N = 11;
                        break e;
                    case I:
                        N = 14;
                        break e;
                    case B:
                        N = 16, c = null;
                        break e
                }
                N = 29, o = Error(r(130, n === null ? "null" : typeof n, "")), c = null
        }
        return i = In(N, o, i, g), i.elementType = n, i.type = c, i.lanes = b, i
    }

    function Ji(n, i, o, c) {
        return n = In(7, n, c, i), n.lanes = o, n
    }

    function tu(n, i, o) {
        return n = In(6, n, null, i), n.lanes = o, n
    }

    function nu(n, i, o) {
        return i = In(4, n.children !== null ? n.children : [], n.key, i), i.lanes = o, i.stateNode = {
            containerInfo: n.containerInfo,
            pendingChildren: null,
            implementation: n.implementation
        }, i
    }
    var Xa = [],
        Qa = 0,
        ql = null,
        Xl = 0,
        es = [],
        ts = 0,
        ea = null,
        Vs = 1,
        qs = "";

    function ta(n, i) {
        Xa[Qa++] = Xl, Xa[Qa++] = ql, ql = n, Xl = i
    }

    function Ep(n, i, o) {
        es[ts++] = Vs, es[ts++] = qs, es[ts++] = ea, ea = n;
        var c = Vs;
        n = qs;
        var g = 32 - J(c) - 1;
        c &= ~(1 << g), o += 1;
        var b = 32 - J(i) + g;
        if (30 < b) {
            var N = g - g % 5;
            b = (c & (1 << N) - 1).toString(32), c >>= N, g -= N, Vs = 1 << 32 - J(i) + g | o << g | c, qs = b + n
        } else Vs = 1 << b | o << g | c, qs = n
    }

    function su(n) {
        n.return !== null && (ta(n, 1), Ep(n, 1, 0))
    }

    function iu(n) {
        for (; n === ql;) ql = Xa[--Qa], Xa[Qa] = null, Xl = Xa[--Qa], Xa[Qa] = null;
        for (; n === ea;) ea = es[--ts], es[ts] = null, qs = es[--ts], es[ts] = null, Vs = es[--ts], es[ts] = null
    }
    var vn = null,
        Wt = null,
        xt = !1,
        na = null,
        Rs = !1,
        au = Error(r(519));

    function sa(n) {
        var i = Error(r(418, ""));
        throw eo(Zn(i, n)), au
    }

    function Ap(n) {
        var i = n.stateNode,
            o = n.type,
            c = n.memoizedProps;
        switch (i[kt] = n, i[Ot] = c, o) {
            case "dialog":
                ct("cancel", i), ct("close", i);
                break;
            case "iframe":
            case "object":
            case "embed":
                ct("load", i);
                break;
            case "video":
            case "audio":
                for (o = 0; o < jo.length; o++) ct(jo[o], i);
                break;
            case "source":
                ct("error", i);
                break;
            case "img":
            case "image":
            case "link":
                ct("error", i), ct("load", i);
                break;
            case "details":
                ct("toggle", i);
                break;
            case "input":
                ct("invalid", i), Hf(i, c.value, c.defaultValue, c.checked, c.defaultChecked, c.type, c.name, !0), Ml(i);
                break;
            case "select":
                ct("invalid", i);
                break;
            case "textarea":
                ct("invalid", i), Gf(i, c.value, c.defaultValue, c.children), Ml(i)
        }
        o = c.children, typeof o != "string" && typeof o != "number" && typeof o != "bigint" || i.textContent === "" + o || c.suppressHydrationWarning === !0 || Gm(i.textContent, o) ? (c.popover != null && (ct("beforetoggle", i), ct("toggle", i)), c.onScroll != null && ct("scroll", i), c.onScrollEnd != null && ct("scrollend", i), c.onClick != null && (i.onclick = Rc), i = !0) : i = !1, i || sa(n)
    }

    function Rp(n) {
        for (vn = n.return; vn;) switch (vn.tag) {
            case 5:
            case 13:
                Rs = !1;
                return;
            case 27:
            case 3:
                Rs = !0;
                return;
            default:
                vn = vn.return
        }
    }

    function Zr(n) {
        if (n !== vn) return !1;
        if (!xt) return Rp(n), xt = !0, !1;
        var i = n.tag,
            o;
        if ((o = i !== 3 && i !== 27) && ((o = i === 5) && (o = n.type, o = !(o !== "form" && o !== "button") || Sh(n.type, n.memoizedProps)), o = !o), o && Wt && sa(n), Rp(n), i === 13) {
            if (n = n.memoizedState, n = n !== null ? n.dehydrated : null, !n) throw Error(r(317));
            e: {
                for (n = n.nextSibling, i = 0; n;) {
                    if (n.nodeType === 8)
                        if (o = n.data, o === "/$") {
                            if (i === 0) {
                                Wt = xs(n.nextSibling);
                                break e
                            }
                            i--
                        } else o !== "$" && o !== "$!" && o !== "$?" || i++;
                    n = n.nextSibling
                }
                Wt = null
            }
        } else i === 27 ? (i = Wt, Ai(n.type) ? (n = jh, jh = null, Wt = n) : Wt = i) : Wt = vn ? xs(n.stateNode.nextSibling) : null;
        return !0
    }

    function Jr() {
        Wt = vn = null, xt = !1
    }

    function Dp() {
        var n = na;
        return n !== null && (Nn === null ? Nn = n : Nn.push.apply(Nn, n), na = null), n
    }

    function eo(n) {
        na === null ? na = [n] : na.push(n)
    }
    var ru = Z(null),
        ia = null,
        Xs = null;

    function fi(n, i, o) {
        G(ru, i._currentValue), i._currentValue = o
    }

    function Qs(n) {
        n._currentValue = ru.current, se(ru)
    }

    function ou(n, i, o) {
        for (; n !== null;) {
            var c = n.alternate;
            if ((n.childLanes & i) !== i ? (n.childLanes |= i, c !== null && (c.childLanes |= i)) : c !== null && (c.childLanes & i) !== i && (c.childLanes |= i), n === o) break;
            n = n.return
        }
    }

    function lu(n, i, o, c) {
        var g = n.child;
        for (g !== null && (g.return = n); g !== null;) {
            var b = g.dependencies;
            if (b !== null) {
                var N = g.child;
                b = b.firstContext;
                e: for (; b !== null;) {
                    var M = b;
                    b = g;
                    for (var Q = 0; Q < i.length; Q++)
                        if (M.context === i[Q]) {
                            b.lanes |= o, M = b.alternate, M !== null && (M.lanes |= o), ou(b.return, o, n), c || (N = null);
                            break e
                        }
                    b = M.next
                }
            } else if (g.tag === 18) {
                if (N = g.return, N === null) throw Error(r(341));
                N.lanes |= o, b = N.alternate, b !== null && (b.lanes |= o), ou(N, o, n), N = null
            } else N = g.child;
            if (N !== null) N.return = g;
            else
                for (N = g; N !== null;) {
                    if (N === n) {
                        N = null;
                        break
                    }
                    if (g = N.sibling, g !== null) {
                        g.return = N.return, N = g;
                        break
                    }
                    N = N.return
                }
            g = N
        }
    }

    function to(n, i, o, c) {
        n = null;
        for (var g = i, b = !1; g !== null;) {
            if (!b) {
                if ((g.flags & 524288) !== 0) b = !0;
                else if ((g.flags & 262144) !== 0) break
            }
            if (g.tag === 10) {
                var N = g.alternate;
                if (N === null) throw Error(r(387));
                if (N = N.memoizedProps, N !== null) {
                    var M = g.type;
                    Fn(g.pendingProps.value, N.value) || (n !== null ? n.push(M) : n = [M])
                }
            } else if (g === me.current) {
                if (N = g.alternate, N === null) throw Error(r(387));
                N.memoizedState.memoizedState !== g.memoizedState.memoizedState && (n !== null ? n.push(No) : n = [No])
            }
            g = g.return
        }
        n !== null && lu(i, n, o, c), i.flags |= 262144
    }

    function Ql(n) {
        for (n = n.firstContext; n !== null;) {
            if (!Fn(n.context._currentValue, n.memoizedValue)) return !0;
            n = n.next
        }
        return !1
    }

    function aa(n) {
        ia = n, Xs = null, n = n.dependencies, n !== null && (n.firstContext = null)
    }

    function mn(n) {
        return Np(ia, n)
    }

    function Kl(n, i) {
        return ia === null && aa(n), Np(n, i)
    }

    function Np(n, i) {
        var o = i._currentValue;
        if (i = {
                context: i,
                memoizedValue: o,
                next: null
            }, Xs === null) {
            if (n === null) throw Error(r(308));
            Xs = i, n.dependencies = {
                lanes: 0,
                firstContext: i
            }, n.flags |= 524288
        } else Xs = Xs.next = i;
        return o
    }
    var Hb = typeof AbortController < "u" ? AbortController : function() {
            var n = [],
                i = this.signal = {
                    aborted: !1,
                    addEventListener: function(o, c) {
                        n.push(c)
                    }
                };
            this.abort = function() {
                i.aborted = !0, n.forEach(function(o) {
                    return o()
                })
            }
        },
        $b = e.unstable_scheduleCallback,
        Gb = e.unstable_NormalPriority,
        Zt = {
            $$typeof: k,
            Consumer: null,
            Provider: null,
            _currentValue: null,
            _currentValue2: null,
            _threadCount: 0
        };

    function cu() {
        return {
            controller: new Hb,
            data: new Map,
            refCount: 0
        }
    }

    function no(n) {
        n.refCount--, n.refCount === 0 && $b(Gb, function() {
            n.controller.abort()
        })
    }
    var so = null,
        du = 0,
        Ka = 0,
        Za = null;

    function Yb(n, i) {
        if (so === null) {
            var o = so = [];
            du = 0, Ka = hh(), Za = {
                status: "pending",
                value: void 0,
                then: function(c) {
                    o.push(c)
                }
            }
        }
        return du++, i.then(_p, _p), i
    }

    function _p() {
        if (--du === 0 && so !== null) {
            Za !== null && (Za.status = "fulfilled");
            var n = so;
            so = null, Ka = 0, Za = null;
            for (var i = 0; i < n.length; i++)(0, n[i])()
        }
    }

    function Vb(n, i) {
        var o = [],
            c = {
                status: "pending",
                value: null,
                reason: null,
                then: function(g) {
                    o.push(g)
                }
            };
        return n.then(function() {
            c.status = "fulfilled", c.value = i;
            for (var g = 0; g < o.length; g++)(0, o[g])(i)
        }, function(g) {
            for (c.status = "rejected", c.reason = g, g = 0; g < o.length; g++)(0, o[g])(void 0)
        }), c
    }
    var Pp = z.S;
    z.S = function(n, i) {
        typeof i == "object" && i !== null && typeof i.then == "function" && Yb(n, i), Pp !== null && Pp(n, i)
    };
    var ra = Z(null);

    function uu() {
        var n = ra.current;
        return n !== null ? n : Dt.pooledCache
    }

    function Zl(n, i) {
        i === null ? G(ra, ra.current) : G(ra, i.pool)
    }

    function Lp() {
        var n = uu();
        return n === null ? null : {
            parent: Zt._currentValue,
            pool: n
        }
    }
    var io = Error(r(460)),
        Mp = Error(r(474)),
        Jl = Error(r(542)),
        hu = {
            then: function() {}
        };

    function Bp(n) {
        return n = n.status, n === "fulfilled" || n === "rejected"
    }

    function ec() {}

    function zp(n, i, o) {
        switch (o = n[o], o === void 0 ? n.push(i) : o !== i && (i.then(ec, ec), i = o), i.status) {
            case "fulfilled":
                return i.value;
            case "rejected":
                throw n = i.reason, Ip(n), n;
            default:
                if (typeof i.status == "string") i.then(ec, ec);
                else {
                    if (n = Dt, n !== null && 100 < n.shellSuspendCounter) throw Error(r(482));
                    n = i, n.status = "pending", n.then(function(c) {
                        if (i.status === "pending") {
                            var g = i;
                            g.status = "fulfilled", g.value = c
                        }
                    }, function(c) {
                        if (i.status === "pending") {
                            var g = i;
                            g.status = "rejected", g.reason = c
                        }
                    })
                }
                switch (i.status) {
                    case "fulfilled":
                        return i.value;
                    case "rejected":
                        throw n = i.reason, Ip(n), n
                }
                throw ao = i, io
        }
    }
    var ao = null;

    function Fp() {
        if (ao === null) throw Error(r(459));
        var n = ao;
        return ao = null, n
    }

    function Ip(n) {
        if (n === io || n === Jl) throw Error(r(483))
    }
    var pi = !1;

    function fu(n) {
        n.updateQueue = {
            baseState: n.memoizedState,
            firstBaseUpdate: null,
            lastBaseUpdate: null,
            shared: {
                pending: null,
                lanes: 0,
                hiddenCallbacks: null
            },
            callbacks: null
        }
    }

    function pu(n, i) {
        n = n.updateQueue, i.updateQueue === n && (i.updateQueue = {
            baseState: n.baseState,
            firstBaseUpdate: n.firstBaseUpdate,
            lastBaseUpdate: n.lastBaseUpdate,
            shared: n.shared,
            callbacks: null
        })
    }

    function gi(n) {
        return {
            lane: n,
            tag: 0,
            payload: null,
            callback: null,
            next: null
        }
    }

    function mi(n, i, o) {
        var c = n.updateQueue;
        if (c === null) return null;
        if (c = c.shared, (St & 2) !== 0) {
            var g = c.pending;
            return g === null ? i.next = i : (i.next = g.next, g.next = i), c.pending = i, i = Yl(n), jp(n, null, o), i
        }
        return Gl(n, c, i, o), Yl(n)
    }

    function ro(n, i, o) {
        if (i = i.updateQueue, i !== null && (i = i.shared, (o & 4194048) !== 0)) {
            var c = i.lanes;
            c &= n.pendingLanes, o |= c, i.lanes = o, Dd(n, o)
        }
    }

    function gu(n, i) {
        var o = n.updateQueue,
            c = n.alternate;
        if (c !== null && (c = c.updateQueue, o === c)) {
            var g = null,
                b = null;
            if (o = o.firstBaseUpdate, o !== null) {
                do {
                    var N = {
                        lane: o.lane,
                        tag: o.tag,
                        payload: o.payload,
                        callback: null,
                        next: null
                    };
                    b === null ? g = b = N : b = b.next = N, o = o.next
                } while (o !== null);
                b === null ? g = b = i : b = b.next = i
            } else g = b = i;
            o = {
                baseState: c.baseState,
                firstBaseUpdate: g,
                lastBaseUpdate: b,
                shared: c.shared,
                callbacks: c.callbacks
            }, n.updateQueue = o;
            return
        }
        n = o.lastBaseUpdate, n === null ? o.firstBaseUpdate = i : n.next = i, o.lastBaseUpdate = i
    }
    var mu = !1;

    function oo() {
        if (mu) {
            var n = Za;
            if (n !== null) throw n
        }
    }

    function lo(n, i, o, c) {
        mu = !1;
        var g = n.updateQueue;
        pi = !1;
        var b = g.firstBaseUpdate,
            N = g.lastBaseUpdate,
            M = g.shared.pending;
        if (M !== null) {
            g.shared.pending = null;
            var Q = M,
                ue = Q.next;
            Q.next = null, N === null ? b = ue : N.next = ue, N = Q;
            var ye = n.alternate;
            ye !== null && (ye = ye.updateQueue, M = ye.lastBaseUpdate, M !== N && (M === null ? ye.firstBaseUpdate = ue : M.next = ue, ye.lastBaseUpdate = Q))
        }
        if (b !== null) {
            var we = g.baseState;
            N = 0, ye = ue = Q = null, M = b;
            do {
                var he = M.lane & -536870913,
                    pe = he !== M.lane;
                if (pe ? (ht & he) === he : (c & he) === he) {
                    he !== 0 && he === Ka && (mu = !0), ye !== null && (ye = ye.next = {
                        lane: 0,
                        tag: M.tag,
                        payload: M.payload,
                        callback: null,
                        next: null
                    });
                    e: {
                        var Ze = n,
                            Ve = M;he = i;
                        var jt = o;
                        switch (Ve.tag) {
                            case 1:
                                if (Ze = Ve.payload, typeof Ze == "function") {
                                    we = Ze.call(jt, we, he);
                                    break e
                                }
                                we = Ze;
                                break e;
                            case 3:
                                Ze.flags = Ze.flags & -65537 | 128;
                            case 0:
                                if (Ze = Ve.payload, he = typeof Ze == "function" ? Ze.call(jt, we, he) : Ze, he == null) break e;
                                we = y({}, we, he);
                                break e;
                            case 2:
                                pi = !0
                        }
                    }
                    he = M.callback, he !== null && (n.flags |= 64, pe && (n.flags |= 8192), pe = g.callbacks, pe === null ? g.callbacks = [he] : pe.push(he))
                } else pe = {
                    lane: he,
                    tag: M.tag,
                    payload: M.payload,
                    callback: M.callback,
                    next: null
                }, ye === null ? (ue = ye = pe, Q = we) : ye = ye.next = pe, N |= he;
                if (M = M.next, M === null) {
                    if (M = g.shared.pending, M === null) break;
                    pe = M, M = pe.next, pe.next = null, g.lastBaseUpdate = pe, g.shared.pending = null
                }
            } while (!0);
            ye === null && (Q = we), g.baseState = Q, g.firstBaseUpdate = ue, g.lastBaseUpdate = ye, b === null && (g.shared.lanes = 0), Ti |= N, n.lanes = N, n.memoizedState = we
        }
    }

    function Op(n, i) {
        if (typeof n != "function") throw Error(r(191, n));
        n.call(i)
    }

    function Wp(n, i) {
        var o = n.callbacks;
        if (o !== null)
            for (n.callbacks = null, n = 0; n < o.length; n++) Op(o[n], i)
    }
    var Ja = Z(null),
        tc = Z(0);

    function Up(n, i) {
        n = si, G(tc, n), G(Ja, i), si = n | i.baseLanes
    }

    function xu() {
        G(tc, si), G(Ja, Ja.current)
    }

    function yu() {
        si = tc.current, se(Ja), se(tc)
    }
    var xi = 0,
        at = null,
        wt = null,
        Yt = null,
        nc = !1,
        er = !1,
        oa = !1,
        sc = 0,
        co = 0,
        tr = null,
        qb = 0;

    function $t() {
        throw Error(r(321))
    }

    function bu(n, i) {
        if (i === null) return !1;
        for (var o = 0; o < i.length && o < n.length; o++)
            if (!Fn(n[o], i[o])) return !1;
        return !0
    }

    function vu(n, i, o, c, g, b) {
        return xi = b, at = i, i.memoizedState = null, i.updateQueue = null, i.lanes = 0, z.H = n === null || n.memoizedState === null ? jg : kg, oa = !1, b = o(c, g), oa = !1, er && (b = $p(i, o, c, g)), Hp(n), b
    }

    function Hp(n) {
        z.H = cc;
        var i = wt !== null && wt.next !== null;
        if (xi = 0, Yt = wt = at = null, nc = !1, co = 0, tr = null, i) throw Error(r(300));
        n === null || sn || (n = n.dependencies, n !== null && Ql(n) && (sn = !0))
    }

    function $p(n, i, o, c) {
        at = n;
        var g = 0;
        do {
            if (er && (tr = null), co = 0, er = !1, 25 <= g) throw Error(r(301));
            if (g += 1, Yt = wt = null, n.updateQueue != null) {
                var b = n.updateQueue;
                b.lastEffect = null, b.events = null, b.stores = null, b.memoCache != null && (b.memoCache.index = 0)
            }
            z.H = t1, b = i(o, c)
        } while (er);
        return b
    }

    function Xb() {
        var n = z.H,
            i = n.useState()[0];
        return i = typeof i.then == "function" ? uo(i) : i, n = n.useState()[0], (wt !== null ? wt.memoizedState : null) !== n && (at.flags |= 1024), i
    }

    function Su() {
        var n = sc !== 0;
        return sc = 0, n
    }

    function Cu(n, i, o) {
        i.updateQueue = n.updateQueue, i.flags &= -2053, n.lanes &= ~o
    }

    function wu(n) {
        if (nc) {
            for (n = n.memoizedState; n !== null;) {
                var i = n.queue;
                i !== null && (i.pending = null), n = n.next
            }
            nc = !1
        }
        xi = 0, Yt = wt = at = null, er = !1, co = sc = 0, tr = null
    }

    function Rn() {
        var n = {
            memoizedState: null,
            baseState: null,
            baseQueue: null,
            queue: null,
            next: null
        };
        return Yt === null ? at.memoizedState = Yt = n : Yt = Yt.next = n, Yt
    }

    function Vt() {
        if (wt === null) {
            var n = at.alternate;
            n = n !== null ? n.memoizedState : null
        } else n = wt.next;
        var i = Yt === null ? at.memoizedState : Yt.next;
        if (i !== null) Yt = i, wt = n;
        else {
            if (n === null) throw at.alternate === null ? Error(r(467)) : Error(r(310));
            wt = n, n = {
                memoizedState: wt.memoizedState,
                baseState: wt.baseState,
                baseQueue: wt.baseQueue,
                queue: wt.queue,
                next: null
            }, Yt === null ? at.memoizedState = Yt = n : Yt = Yt.next = n
        }
        return Yt
    }

    function Tu() {
        return {
            lastEffect: null,
            events: null,
            stores: null,
            memoCache: null
        }
    }

    function uo(n) {
        var i = co;
        return co += 1, tr === null && (tr = []), n = zp(tr, n, i), i = at, (Yt === null ? i.memoizedState : Yt.next) === null && (i = i.alternate, z.H = i === null || i.memoizedState === null ? jg : kg), n
    }

    function ic(n) {
        if (n !== null && typeof n == "object") {
            if (typeof n.then == "function") return uo(n);
            if (n.$$typeof === k) return mn(n)
        }
        throw Error(r(438, String(n)))
    }

    function ju(n) {
        var i = null,
            o = at.updateQueue;
        if (o !== null && (i = o.memoCache), i == null) {
            var c = at.alternate;
            c !== null && (c = c.updateQueue, c !== null && (c = c.memoCache, c != null && (i = {
                data: c.data.map(function(g) {
                    return g.slice()
                }),
                index: 0
            })))
        }
        if (i == null && (i = {
                data: [],
                index: 0
            }), o === null && (o = Tu(), at.updateQueue = o), o.memoCache = i, o = i.data[i.index], o === void 0)
            for (o = i.data[i.index] = Array(n), c = 0; c < n; c++) o[c] = O;
        return i.index++, o
    }

    function Ks(n, i) {
        return typeof i == "function" ? i(n) : i
    }

    function ac(n) {
        var i = Vt();
        return ku(i, wt, n)
    }

    function ku(n, i, o) {
        var c = n.queue;
        if (c === null) throw Error(r(311));
        c.lastRenderedReducer = o;
        var g = n.baseQueue,
            b = c.pending;
        if (b !== null) {
            if (g !== null) {
                var N = g.next;
                g.next = b.next, b.next = N
            }
            i.baseQueue = g = b, c.pending = null
        }
        if (b = n.baseState, g === null) n.memoizedState = b;
        else {
            i = g.next;
            var M = N = null,
                Q = null,
                ue = i,
                ye = !1;
            do {
                var we = ue.lane & -536870913;
                if (we !== ue.lane ? (ht & we) === we : (xi & we) === we) {
                    var he = ue.revertLane;
                    if (he === 0) Q !== null && (Q = Q.next = {
                        lane: 0,
                        revertLane: 0,
                        action: ue.action,
                        hasEagerState: ue.hasEagerState,
                        eagerState: ue.eagerState,
                        next: null
                    }), we === Ka && (ye = !0);
                    else if ((xi & he) === he) {
                        ue = ue.next, he === Ka && (ye = !0);
                        continue
                    } else we = {
                        lane: 0,
                        revertLane: ue.revertLane,
                        action: ue.action,
                        hasEagerState: ue.hasEagerState,
                        eagerState: ue.eagerState,
                        next: null
                    }, Q === null ? (M = Q = we, N = b) : Q = Q.next = we, at.lanes |= he, Ti |= he;
                    we = ue.action, oa && o(b, we), b = ue.hasEagerState ? ue.eagerState : o(b, we)
                } else he = {
                    lane: we,
                    revertLane: ue.revertLane,
                    action: ue.action,
                    hasEagerState: ue.hasEagerState,
                    eagerState: ue.eagerState,
                    next: null
                }, Q === null ? (M = Q = he, N = b) : Q = Q.next = he, at.lanes |= we, Ti |= we;
                ue = ue.next
            } while (ue !== null && ue !== i);
            if (Q === null ? N = b : Q.next = M, !Fn(b, n.memoizedState) && (sn = !0, ye && (o = Za, o !== null))) throw o;
            n.memoizedState = b, n.baseState = N, n.baseQueue = Q, c.lastRenderedState = b
        }
        return g === null && (c.lanes = 0), [n.memoizedState, c.dispatch]
    }

    function Eu(n) {
        var i = Vt(),
            o = i.queue;
        if (o === null) throw Error(r(311));
        o.lastRenderedReducer = n;
        var c = o.dispatch,
            g = o.pending,
            b = i.memoizedState;
        if (g !== null) {
            o.pending = null;
            var N = g = g.next;
            do b = n(b, N.action), N = N.next; while (N !== g);
            Fn(b, i.memoizedState) || (sn = !0), i.memoizedState = b, i.baseQueue === null && (i.baseState = b), o.lastRenderedState = b
        }
        return [b, c]
    }

    function Gp(n, i, o) {
        var c = at,
            g = Vt(),
            b = xt;
        if (b) {
            if (o === void 0) throw Error(r(407));
            o = o()
        } else o = i();
        var N = !Fn((wt || g).memoizedState, o);
        N && (g.memoizedState = o, sn = !0), g = g.queue;
        var M = qp.bind(null, c, g, n);
        if (ho(2048, 8, M, [n]), g.getSnapshot !== i || N || Yt !== null && Yt.memoizedState.tag & 1) {
            if (c.flags |= 2048, nr(9, rc(), Vp.bind(null, c, g, o, i), null), Dt === null) throw Error(r(349));
            b || (xi & 124) !== 0 || Yp(c, i, o)
        }
        return o
    }

    function Yp(n, i, o) {
        n.flags |= 16384, n = {
            getSnapshot: i,
            value: o
        }, i = at.updateQueue, i === null ? (i = Tu(), at.updateQueue = i, i.stores = [n]) : (o = i.stores, o === null ? i.stores = [n] : o.push(n))
    }

    function Vp(n, i, o, c) {
        i.value = o, i.getSnapshot = c, Xp(i) && Qp(n)
    }

    function qp(n, i, o) {
        return o(function() {
            Xp(i) && Qp(n)
        })
    }

    function Xp(n) {
        var i = n.getSnapshot;
        n = n.value;
        try {
            var o = i();
            return !Fn(n, o)
        } catch {
            return !0
        }
    }

    function Qp(n) {
        var i = Va(n, 2);
        i !== null && $n(i, n, 2)
    }

    function Au(n) {
        var i = Rn();
        if (typeof n == "function") {
            var o = n;
            if (n = o(), oa) {
                Nt(!0);
                try {
                    o()
                } finally {
                    Nt(!1)
                }
            }
        }
        return i.memoizedState = i.baseState = n, i.queue = {
            pending: null,
            lanes: 0,
            dispatch: null,
            lastRenderedReducer: Ks,
            lastRenderedState: n
        }, i
    }

    function Kp(n, i, o, c) {
        return n.baseState = o, ku(n, wt, typeof c == "function" ? c : Ks)
    }

    function Qb(n, i, o, c, g) {
        if (lc(n)) throw Error(r(485));
        if (n = i.action, n !== null) {
            var b = {
                payload: g,
                action: n,
                next: null,
                isTransition: !0,
                status: "pending",
                value: null,
                reason: null,
                listeners: [],
                then: function(N) {
                    b.listeners.push(N)
                }
            };
            z.T !== null ? o(!0) : b.isTransition = !1, c(b), o = i.pending, o === null ? (b.next = i.pending = b, Zp(i, b)) : (b.next = o.next, i.pending = o.next = b)
        }
    }

    function Zp(n, i) {
        var o = i.action,
            c = i.payload,
            g = n.state;
        if (i.isTransition) {
            var b = z.T,
                N = {};
            z.T = N;
            try {
                var M = o(g, c),
                    Q = z.S;
                Q !== null && Q(N, M), Jp(n, i, M)
            } catch (ue) {
                Ru(n, i, ue)
            } finally {
                z.T = b
            }
        } else try {
            b = o(g, c), Jp(n, i, b)
        } catch (ue) {
            Ru(n, i, ue)
        }
    }

    function Jp(n, i, o) {
        o !== null && typeof o == "object" && typeof o.then == "function" ? o.then(function(c) {
            eg(n, i, c)
        }, function(c) {
            return Ru(n, i, c)
        }) : eg(n, i, o)
    }

    function eg(n, i, o) {
        i.status = "fulfilled", i.value = o, tg(i), n.state = o, i = n.pending, i !== null && (o = i.next, o === i ? n.pending = null : (o = o.next, i.next = o, Zp(n, o)))
    }

    function Ru(n, i, o) {
        var c = n.pending;
        if (n.pending = null, c !== null) {
            c = c.next;
            do i.status = "rejected", i.reason = o, tg(i), i = i.next; while (i !== c)
        }
        n.action = null
    }

    function tg(n) {
        n = n.listeners;
        for (var i = 0; i < n.length; i++)(0, n[i])()
    }

    function ng(n, i) {
        return i
    }

    function sg(n, i) {
        if (xt) {
            var o = Dt.formState;
            if (o !== null) {
                e: {
                    var c = at;
                    if (xt) {
                        if (Wt) {
                            t: {
                                for (var g = Wt, b = Rs; g.nodeType !== 8;) {
                                    if (!b) {
                                        g = null;
                                        break t
                                    }
                                    if (g = xs(g.nextSibling), g === null) {
                                        g = null;
                                        break t
                                    }
                                }
                                b = g.data,
                                g = b === "F!" || b === "F" ? g : null
                            }
                            if (g) {
                                Wt = xs(g.nextSibling), c = g.data === "F!";
                                break e
                            }
                        }
                        sa(c)
                    }
                    c = !1
                }
                c && (i = o[0])
            }
        }
        return o = Rn(), o.memoizedState = o.baseState = i, c = {
            pending: null,
            lanes: 0,
            dispatch: null,
            lastRenderedReducer: ng,
            lastRenderedState: i
        }, o.queue = c, o = Cg.bind(null, at, c), c.dispatch = o, c = Au(!1), b = Lu.bind(null, at, !1, c.queue), c = Rn(), g = {
            state: i,
            dispatch: null,
            action: n,
            pending: null
        }, c.queue = g, o = Qb.bind(null, at, g, b, o), g.dispatch = o, c.memoizedState = n, [i, o, !1]
    }

    function ig(n) {
        var i = Vt();
        return ag(i, wt, n)
    }

    function ag(n, i, o) {
        if (i = ku(n, i, ng)[0], n = ac(Ks)[0], typeof i == "object" && i !== null && typeof i.then == "function") try {
            var c = uo(i)
        } catch (N) {
            throw N === io ? Jl : N
        } else c = i;
        i = Vt();
        var g = i.queue,
            b = g.dispatch;
        return o !== i.memoizedState && (at.flags |= 2048, nr(9, rc(), Kb.bind(null, g, o), null)), [c, b, n]
    }

    function Kb(n, i) {
        n.action = i
    }

    function rg(n) {
        var i = Vt(),
            o = wt;
        if (o !== null) return ag(i, o, n);
        Vt(), i = i.memoizedState, o = Vt();
        var c = o.queue.dispatch;
        return o.memoizedState = n, [i, c, !1]
    }

    function nr(n, i, o, c) {
        return n = {
            tag: n,
            create: o,
            deps: c,
            inst: i,
            next: null
        }, i = at.updateQueue, i === null && (i = Tu(), at.updateQueue = i), o = i.lastEffect, o === null ? i.lastEffect = n.next = n : (c = o.next, o.next = n, n.next = c, i.lastEffect = n), n
    }

    function rc() {
        return {
            destroy: void 0,
            resource: void 0
        }
    }

    function og() {
        return Vt().memoizedState
    }

    function oc(n, i, o, c) {
        var g = Rn();
        c = c === void 0 ? null : c, at.flags |= n, g.memoizedState = nr(1 | i, rc(), o, c)
    }

    function ho(n, i, o, c) {
        var g = Vt();
        c = c === void 0 ? null : c;
        var b = g.memoizedState.inst;
        wt !== null && c !== null && bu(c, wt.memoizedState.deps) ? g.memoizedState = nr(i, b, o, c) : (at.flags |= n, g.memoizedState = nr(1 | i, b, o, c))
    }

    function lg(n, i) {
        oc(8390656, 8, n, i)
    }

    function cg(n, i) {
        ho(2048, 8, n, i)
    }

    function dg(n, i) {
        return ho(4, 2, n, i)
    }

    function ug(n, i) {
        return ho(4, 4, n, i)
    }

    function hg(n, i) {
        if (typeof i == "function") {
            n = n();
            var o = i(n);
            return function() {
                typeof o == "function" ? o() : i(null)
            }
        }
        if (i != null) return n = n(), i.current = n,
            function() {
                i.current = null
            }
    }

    function fg(n, i, o) {
        o = o != null ? o.concat([n]) : null, ho(4, 4, hg.bind(null, i, n), o)
    }

    function Du() {}

    function pg(n, i) {
        var o = Vt();
        i = i === void 0 ? null : i;
        var c = o.memoizedState;
        return i !== null && bu(i, c[1]) ? c[0] : (o.memoizedState = [n, i], n)
    }

    function gg(n, i) {
        var o = Vt();
        i = i === void 0 ? null : i;
        var c = o.memoizedState;
        if (i !== null && bu(i, c[1])) return c[0];
        if (c = n(), oa) {
            Nt(!0);
            try {
                n()
            } finally {
                Nt(!1)
            }
        }
        return o.memoizedState = [c, i], c
    }

    function Nu(n, i, o) {
        return o === void 0 || (xi & 1073741824) !== 0 ? n.memoizedState = i : (n.memoizedState = o, n = ym(), at.lanes |= n, Ti |= n, o)
    }

    function mg(n, i, o, c) {
        return Fn(o, i) ? o : Ja.current !== null ? (n = Nu(n, o, c), Fn(n, i) || (sn = !0), n) : (xi & 42) === 0 ? (sn = !0, n.memoizedState = o) : (n = ym(), at.lanes |= n, Ti |= n, i)
    }

    function xg(n, i, o, c, g) {
        var b = U.p;
        U.p = b !== 0 && 8 > b ? b : 8;
        var N = z.T,
            M = {};
        z.T = M, Lu(n, !1, i, o);
        try {
            var Q = g(),
                ue = z.S;
            if (ue !== null && ue(M, Q), Q !== null && typeof Q == "object" && typeof Q.then == "function") {
                var ye = Vb(Q, c);
                fo(n, i, ye, Hn(n))
            } else fo(n, i, c, Hn(n))
        } catch (we) {
            fo(n, i, {
                then: function() {},
                status: "rejected",
                reason: we
            }, Hn())
        } finally {
            U.p = b, z.T = N
        }
    }

    function Zb() {}

    function _u(n, i, o, c) {
        if (n.tag !== 5) throw Error(r(476));
        var g = yg(n).queue;
        xg(n, g, i, V, o === null ? Zb : function() {
            return bg(n), o(c)
        })
    }

    function yg(n) {
        var i = n.memoizedState;
        if (i !== null) return i;
        i = {
            memoizedState: V,
            baseState: V,
            baseQueue: null,
            queue: {
                pending: null,
                lanes: 0,
                dispatch: null,
                lastRenderedReducer: Ks,
                lastRenderedState: V
            },
            next: null
        };
        var o = {};
        return i.next = {
            memoizedState: o,
            baseState: o,
            baseQueue: null,
            queue: {
                pending: null,
                lanes: 0,
                dispatch: null,
                lastRenderedReducer: Ks,
                lastRenderedState: o
            },
            next: null
        }, n.memoizedState = i, n = n.alternate, n !== null && (n.memoizedState = i), i
    }

    function bg(n) {
        var i = yg(n).next.queue;
        fo(n, i, {}, Hn())
    }

    function Pu() {
        return mn(No)
    }

    function vg() {
        return Vt().memoizedState
    }

    function Sg() {
        return Vt().memoizedState
    }

    function Jb(n) {
        for (var i = n.return; i !== null;) {
            switch (i.tag) {
                case 24:
                case 3:
                    var o = Hn();
                    n = gi(o);
                    var c = mi(i, n, o);
                    c !== null && ($n(c, i, o), ro(c, i, o)), i = {
                        cache: cu()
                    }, n.payload = i;
                    return
            }
            i = i.return
        }
    }

    function e1(n, i, o) {
        var c = Hn();
        o = {
            lane: c,
            revertLane: 0,
            action: o,
            hasEagerState: !1,
            eagerState: null,
            next: null
        }, lc(n) ? wg(i, o) : (o = Jd(n, i, o, c), o !== null && ($n(o, n, c), Tg(o, i, c)))
    }

    function Cg(n, i, o) {
        var c = Hn();
        fo(n, i, o, c)
    }

    function fo(n, i, o, c) {
        var g = {
            lane: c,
            revertLane: 0,
            action: o,
            hasEagerState: !1,
            eagerState: null,
            next: null
        };
        if (lc(n)) wg(i, g);
        else {
            var b = n.alternate;
            if (n.lanes === 0 && (b === null || b.lanes === 0) && (b = i.lastRenderedReducer, b !== null)) try {
                var N = i.lastRenderedState,
                    M = b(N, o);
                if (g.hasEagerState = !0, g.eagerState = M, Fn(M, N)) return Gl(n, i, g, 0), Dt === null && $l(), !1
            } catch {} finally {}
            if (o = Jd(n, i, g, c), o !== null) return $n(o, n, c), Tg(o, i, c), !0
        }
        return !1
    }

    function Lu(n, i, o, c) {
        if (c = {
                lane: 2,
                revertLane: hh(),
                action: c,
                hasEagerState: !1,
                eagerState: null,
                next: null
            }, lc(n)) {
            if (i) throw Error(r(479))
        } else i = Jd(n, o, c, 2), i !== null && $n(i, n, 2)
    }

    function lc(n) {
        var i = n.alternate;
        return n === at || i !== null && i === at
    }

    function wg(n, i) {
        er = nc = !0;
        var o = n.pending;
        o === null ? i.next = i : (i.next = o.next, o.next = i), n.pending = i
    }

    function Tg(n, i, o) {
        if ((o & 4194048) !== 0) {
            var c = i.lanes;
            c &= n.pendingLanes, o |= c, i.lanes = o, Dd(n, o)
        }
    }
    var cc = {
            readContext: mn,
            use: ic,
            useCallback: $t,
            useContext: $t,
            useEffect: $t,
            useImperativeHandle: $t,
            useLayoutEffect: $t,
            useInsertionEffect: $t,
            useMemo: $t,
            useReducer: $t,
            useRef: $t,
            useState: $t,
            useDebugValue: $t,
            useDeferredValue: $t,
            useTransition: $t,
            useSyncExternalStore: $t,
            useId: $t,
            useHostTransitionStatus: $t,
            useFormState: $t,
            useActionState: $t,
            useOptimistic: $t,
            useMemoCache: $t,
            useCacheRefresh: $t
        },
        jg = {
            readContext: mn,
            use: ic,
            useCallback: function(n, i) {
                return Rn().memoizedState = [n, i === void 0 ? null : i], n
            },
            useContext: mn,
            useEffect: lg,
            useImperativeHandle: function(n, i, o) {
                o = o != null ? o.concat([n]) : null, oc(4194308, 4, hg.bind(null, i, n), o)
            },
            useLayoutEffect: function(n, i) {
                return oc(4194308, 4, n, i)
            },
            useInsertionEffect: function(n, i) {
                oc(4, 2, n, i)
            },
            useMemo: function(n, i) {
                var o = Rn();
                i = i === void 0 ? null : i;
                var c = n();
                if (oa) {
                    Nt(!0);
                    try {
                        n()
                    } finally {
                        Nt(!1)
                    }
                }
                return o.memoizedState = [c, i], c
            },
            useReducer: function(n, i, o) {
                var c = Rn();
                if (o !== void 0) {
                    var g = o(i);
                    if (oa) {
                        Nt(!0);
                        try {
                            o(i)
                        } finally {
                            Nt(!1)
                        }
                    }
                } else g = i;
                return c.memoizedState = c.baseState = g, n = {
                    pending: null,
                    lanes: 0,
                    dispatch: null,
                    lastRenderedReducer: n,
                    lastRenderedState: g
                }, c.queue = n, n = n.dispatch = e1.bind(null, at, n), [c.memoizedState, n]
            },
            useRef: function(n) {
                var i = Rn();
                return n = {
                    current: n
                }, i.memoizedState = n
            },
            useState: function(n) {
                n = Au(n);
                var i = n.queue,
                    o = Cg.bind(null, at, i);
                return i.dispatch = o, [n.memoizedState, o]
            },
            useDebugValue: Du,
            useDeferredValue: function(n, i) {
                var o = Rn();
                return Nu(o, n, i)
            },
            useTransition: function() {
                var n = Au(!1);
                return n = xg.bind(null, at, n.queue, !0, !1), Rn().memoizedState = n, [!1, n]
            },
            useSyncExternalStore: function(n, i, o) {
                var c = at,
                    g = Rn();
                if (xt) {
                    if (o === void 0) throw Error(r(407));
                    o = o()
                } else {
                    if (o = i(), Dt === null) throw Error(r(349));
                    (ht & 124) !== 0 || Yp(c, i, o)
                }
                g.memoizedState = o;
                var b = {
                    value: o,
                    getSnapshot: i
                };
                return g.queue = b, lg(qp.bind(null, c, b, n), [n]), c.flags |= 2048, nr(9, rc(), Vp.bind(null, c, b, o, i), null), o
            },
            useId: function() {
                var n = Rn(),
                    i = Dt.identifierPrefix;
                if (xt) {
                    var o = qs,
                        c = Vs;
                    o = (c & ~(1 << 32 - J(c) - 1)).toString(32) + o, i = "«" + i + "R" + o, o = sc++, 0 < o && (i += "H" + o.toString(32)), i += "»"
                } else o = qb++, i = "«" + i + "r" + o.toString(32) + "»";
                return n.memoizedState = i
            },
            useHostTransitionStatus: Pu,
            useFormState: sg,
            useActionState: sg,
            useOptimistic: function(n) {
                var i = Rn();
                i.memoizedState = i.baseState = n;
                var o = {
                    pending: null,
                    lanes: 0,
                    dispatch: null,
                    lastRenderedReducer: null,
                    lastRenderedState: null
                };
                return i.queue = o, i = Lu.bind(null, at, !0, o), o.dispatch = i, [n, i]
            },
            useMemoCache: ju,
            useCacheRefresh: function() {
                return Rn().memoizedState = Jb.bind(null, at)
            }
        },
        kg = {
            readContext: mn,
            use: ic,
            useCallback: pg,
            useContext: mn,
            useEffect: cg,
            useImperativeHandle: fg,
            useInsertionEffect: dg,
            useLayoutEffect: ug,
            useMemo: gg,
            useReducer: ac,
            useRef: og,
            useState: function() {
                return ac(Ks)
            },
            useDebugValue: Du,
            useDeferredValue: function(n, i) {
                var o = Vt();
                return mg(o, wt.memoizedState, n, i)
            },
            useTransition: function() {
                var n = ac(Ks)[0],
                    i = Vt().memoizedState;
                return [typeof n == "boolean" ? n : uo(n), i]
            },
            useSyncExternalStore: Gp,
            useId: vg,
            useHostTransitionStatus: Pu,
            useFormState: ig,
            useActionState: ig,
            useOptimistic: function(n, i) {
                var o = Vt();
                return Kp(o, wt, n, i)
            },
            useMemoCache: ju,
            useCacheRefresh: Sg
        },
        t1 = {
            readContext: mn,
            use: ic,
            useCallback: pg,
            useContext: mn,
            useEffect: cg,
            useImperativeHandle: fg,
            useInsertionEffect: dg,
            useLayoutEffect: ug,
            useMemo: gg,
            useReducer: Eu,
            useRef: og,
            useState: function() {
                return Eu(Ks)
            },
            useDebugValue: Du,
            useDeferredValue: function(n, i) {
                var o = Vt();
                return wt === null ? Nu(o, n, i) : mg(o, wt.memoizedState, n, i)
            },
            useTransition: function() {
                var n = Eu(Ks)[0],
                    i = Vt().memoizedState;
                return [typeof n == "boolean" ? n : uo(n), i]
            },
            useSyncExternalStore: Gp,
            useId: vg,
            useHostTransitionStatus: Pu,
            useFormState: rg,
            useActionState: rg,
            useOptimistic: function(n, i) {
                var o = Vt();
                return wt !== null ? Kp(o, wt, n, i) : (o.baseState = n, [n, o.queue.dispatch])
            },
            useMemoCache: ju,
            useCacheRefresh: Sg
        },
        sr = null,
        po = 0;

    function dc(n) {
        var i = po;
        return po += 1, sr === null && (sr = []), zp(sr, n, i)
    }

    function go(n, i) {
        i = i.props.ref, n.ref = i !== void 0 ? i : null
    }

    function uc(n, i) {
        throw i.$$typeof === x ? Error(r(525)) : (n = Object.prototype.toString.call(i), Error(r(31, n === "[object Object]" ? "object with keys {" + Object.keys(i).join(", ") + "}" : n)))
    }

    function Eg(n) {
        var i = n._init;
        return i(n._payload)
    }

    function Ag(n) {
        function i(ae, te) {
            if (n) {
                var ce = ae.deletions;
                ce === null ? (ae.deletions = [te], ae.flags |= 16) : ce.push(te)
            }
        }

        function o(ae, te) {
            if (!n) return null;
            for (; te !== null;) i(ae, te), te = te.sibling;
            return null
        }

        function c(ae) {
            for (var te = new Map; ae !== null;) ae.key !== null ? te.set(ae.key, ae) : te.set(ae.index, ae), ae = ae.sibling;
            return te
        }

        function g(ae, te) {
            return ae = Ys(ae, te), ae.index = 0, ae.sibling = null, ae
        }

        function b(ae, te, ce) {
            return ae.index = ce, n ? (ce = ae.alternate, ce !== null ? (ce = ce.index, ce < te ? (ae.flags |= 67108866, te) : ce) : (ae.flags |= 67108866, te)) : (ae.flags |= 1048576, te)
        }

        function N(ae) {
            return n && ae.alternate === null && (ae.flags |= 67108866), ae
        }

        function M(ae, te, ce, ve) {
            return te === null || te.tag !== 6 ? (te = tu(ce, ae.mode, ve), te.return = ae, te) : (te = g(te, ce), te.return = ae, te)
        }

        function Q(ae, te, ce, ve) {
            var Ie = ce.type;
            return Ie === C ? ye(ae, te, ce.props.children, ve, ce.key) : te !== null && (te.elementType === Ie || typeof Ie == "object" && Ie !== null && Ie.$$typeof === B && Eg(Ie) === te.type) ? (te = g(te, ce.props), go(te, ce), te.return = ae, te) : (te = Vl(ce.type, ce.key, ce.props, null, ae.mode, ve), go(te, ce), te.return = ae, te)
        }

        function ue(ae, te, ce, ve) {
            return te === null || te.tag !== 4 || te.stateNode.containerInfo !== ce.containerInfo || te.stateNode.implementation !== ce.implementation ? (te = nu(ce, ae.mode, ve), te.return = ae, te) : (te = g(te, ce.children || []), te.return = ae, te)
        }

        function ye(ae, te, ce, ve, Ie) {
            return te === null || te.tag !== 7 ? (te = Ji(ce, ae.mode, ve, Ie), te.return = ae, te) : (te = g(te, ce), te.return = ae, te)
        }

        function we(ae, te, ce) {
            if (typeof te == "string" && te !== "" || typeof te == "number" || typeof te == "bigint") return te = tu("" + te, ae.mode, ce), te.return = ae, te;
            if (typeof te == "object" && te !== null) {
                switch (te.$$typeof) {
                    case S:
                        return ce = Vl(te.type, te.key, te.props, null, ae.mode, ce), go(ce, te), ce.return = ae, ce;
                    case v:
                        return te = nu(te, ae.mode, ce), te.return = ae, te;
                    case B:
                        var ve = te._init;
                        return te = ve(te._payload), we(ae, te, ce)
                }
                if (K(te) || F(te)) return te = Ji(te, ae.mode, ce, null), te.return = ae, te;
                if (typeof te.then == "function") return we(ae, dc(te), ce);
                if (te.$$typeof === k) return we(ae, Kl(ae, te), ce);
                uc(ae, te)
            }
            return null
        }

        function he(ae, te, ce, ve) {
            var Ie = te !== null ? te.key : null;
            if (typeof ce == "string" && ce !== "" || typeof ce == "number" || typeof ce == "bigint") return Ie !== null ? null : M(ae, te, "" + ce, ve);
            if (typeof ce == "object" && ce !== null) {
                switch (ce.$$typeof) {
                    case S:
                        return ce.key === Ie ? Q(ae, te, ce, ve) : null;
                    case v:
                        return ce.key === Ie ? ue(ae, te, ce, ve) : null;
                    case B:
                        return Ie = ce._init, ce = Ie(ce._payload), he(ae, te, ce, ve)
                }
                if (K(ce) || F(ce)) return Ie !== null ? null : ye(ae, te, ce, ve, null);
                if (typeof ce.then == "function") return he(ae, te, dc(ce), ve);
                if (ce.$$typeof === k) return he(ae, te, Kl(ae, ce), ve);
                uc(ae, ce)
            }
            return null
        }

        function pe(ae, te, ce, ve, Ie) {
            if (typeof ve == "string" && ve !== "" || typeof ve == "number" || typeof ve == "bigint") return ae = ae.get(ce) || null, M(te, ae, "" + ve, Ie);
            if (typeof ve == "object" && ve !== null) {
                switch (ve.$$typeof) {
                    case S:
                        return ae = ae.get(ve.key === null ? ce : ve.key) || null, Q(te, ae, ve, Ie);
                    case v:
                        return ae = ae.get(ve.key === null ? ce : ve.key) || null, ue(te, ae, ve, Ie);
                    case B:
                        var rt = ve._init;
                        return ve = rt(ve._payload), pe(ae, te, ce, ve, Ie)
                }
                if (K(ve) || F(ve)) return ae = ae.get(ce) || null, ye(te, ae, ve, Ie, null);
                if (typeof ve.then == "function") return pe(ae, te, ce, dc(ve), Ie);
                if (ve.$$typeof === k) return pe(ae, te, ce, Kl(te, ve), Ie);
                uc(te, ve)
            }
            return null
        }

        function Ze(ae, te, ce, ve) {
            for (var Ie = null, rt = null, He = te, Xe = te = 0, rn = null; He !== null && Xe < ce.length; Xe++) {
                He.index > Xe ? (rn = He, He = null) : rn = He.sibling;
                var pt = he(ae, He, ce[Xe], ve);
                if (pt === null) {
                    He === null && (He = rn);
                    break
                }
                n && He && pt.alternate === null && i(ae, He), te = b(pt, te, Xe), rt === null ? Ie = pt : rt.sibling = pt, rt = pt, He = rn
            }
            if (Xe === ce.length) return o(ae, He), xt && ta(ae, Xe), Ie;
            if (He === null) {
                for (; Xe < ce.length; Xe++) He = we(ae, ce[Xe], ve), He !== null && (te = b(He, te, Xe), rt === null ? Ie = He : rt.sibling = He, rt = He);
                return xt && ta(ae, Xe), Ie
            }
            for (He = c(He); Xe < ce.length; Xe++) rn = pe(He, ae, Xe, ce[Xe], ve), rn !== null && (n && rn.alternate !== null && He.delete(rn.key === null ? Xe : rn.key), te = b(rn, te, Xe), rt === null ? Ie = rn : rt.sibling = rn, rt = rn);
            return n && He.forEach(function(Pi) {
                return i(ae, Pi)
            }), xt && ta(ae, Xe), Ie
        }

        function Ve(ae, te, ce, ve) {
            if (ce == null) throw Error(r(151));
            for (var Ie = null, rt = null, He = te, Xe = te = 0, rn = null, pt = ce.next(); He !== null && !pt.done; Xe++, pt = ce.next()) {
                He.index > Xe ? (rn = He, He = null) : rn = He.sibling;
                var Pi = he(ae, He, pt.value, ve);
                if (Pi === null) {
                    He === null && (He = rn);
                    break
                }
                n && He && Pi.alternate === null && i(ae, He), te = b(Pi, te, Xe), rt === null ? Ie = Pi : rt.sibling = Pi, rt = Pi, He = rn
            }
            if (pt.done) return o(ae, He), xt && ta(ae, Xe), Ie;
            if (He === null) {
                for (; !pt.done; Xe++, pt = ce.next()) pt = we(ae, pt.value, ve), pt !== null && (te = b(pt, te, Xe), rt === null ? Ie = pt : rt.sibling = pt, rt = pt);
                return xt && ta(ae, Xe), Ie
            }
            for (He = c(He); !pt.done; Xe++, pt = ce.next()) pt = pe(He, ae, Xe, pt.value, ve), pt !== null && (n && pt.alternate !== null && He.delete(pt.key === null ? Xe : pt.key), te = b(pt, te, Xe), rt === null ? Ie = pt : rt.sibling = pt, rt = pt);
            return n && He.forEach(function(nv) {
                return i(ae, nv)
            }), xt && ta(ae, Xe), Ie
        }

        function jt(ae, te, ce, ve) {
            if (typeof ce == "object" && ce !== null && ce.type === C && ce.key === null && (ce = ce.props.children), typeof ce == "object" && ce !== null) {
                switch (ce.$$typeof) {
                    case S:
                        e: {
                            for (var Ie = ce.key; te !== null;) {
                                if (te.key === Ie) {
                                    if (Ie = ce.type, Ie === C) {
                                        if (te.tag === 7) {
                                            o(ae, te.sibling), ve = g(te, ce.props.children), ve.return = ae, ae = ve;
                                            break e
                                        }
                                    } else if (te.elementType === Ie || typeof Ie == "object" && Ie !== null && Ie.$$typeof === B && Eg(Ie) === te.type) {
                                        o(ae, te.sibling), ve = g(te, ce.props), go(ve, ce), ve.return = ae, ae = ve;
                                        break e
                                    }
                                    o(ae, te);
                                    break
                                } else i(ae, te);
                                te = te.sibling
                            }
                            ce.type === C ? (ve = Ji(ce.props.children, ae.mode, ve, ce.key), ve.return = ae, ae = ve) : (ve = Vl(ce.type, ce.key, ce.props, null, ae.mode, ve), go(ve, ce), ve.return = ae, ae = ve)
                        }
                        return N(ae);
                    case v:
                        e: {
                            for (Ie = ce.key; te !== null;) {
                                if (te.key === Ie)
                                    if (te.tag === 4 && te.stateNode.containerInfo === ce.containerInfo && te.stateNode.implementation === ce.implementation) {
                                        o(ae, te.sibling), ve = g(te, ce.children || []), ve.return = ae, ae = ve;
                                        break e
                                    } else {
                                        o(ae, te);
                                        break
                                    }
                                else i(ae, te);
                                te = te.sibling
                            }
                            ve = nu(ce, ae.mode, ve),
                            ve.return = ae,
                            ae = ve
                        }
                        return N(ae);
                    case B:
                        return Ie = ce._init, ce = Ie(ce._payload), jt(ae, te, ce, ve)
                }
                if (K(ce)) return Ze(ae, te, ce, ve);
                if (F(ce)) {
                    if (Ie = F(ce), typeof Ie != "function") throw Error(r(150));
                    return ce = Ie.call(ce), Ve(ae, te, ce, ve)
                }
                if (typeof ce.then == "function") return jt(ae, te, dc(ce), ve);
                if (ce.$$typeof === k) return jt(ae, te, Kl(ae, ce), ve);
                uc(ae, ce)
            }
            return typeof ce == "string" && ce !== "" || typeof ce == "number" || typeof ce == "bigint" ? (ce = "" + ce, te !== null && te.tag === 6 ? (o(ae, te.sibling), ve = g(te, ce), ve.return = ae, ae = ve) : (o(ae, te), ve = tu(ce, ae.mode, ve), ve.return = ae, ae = ve), N(ae)) : o(ae, te)
        }
        return function(ae, te, ce, ve) {
            try {
                po = 0;
                var Ie = jt(ae, te, ce, ve);
                return sr = null, Ie
            } catch (He) {
                if (He === io || He === Jl) throw He;
                var rt = In(29, He, null, ae.mode);
                return rt.lanes = ve, rt.return = ae, rt
            } finally {}
        }
    }
    var ir = Ag(!0),
        Rg = Ag(!1),
        ns = Z(null),
        Ds = null;

    function yi(n) {
        var i = n.alternate;
        G(Jt, Jt.current & 1), G(ns, n), Ds === null && (i === null || Ja.current !== null || i.memoizedState !== null) && (Ds = n)
    }

    function Dg(n) {
        if (n.tag === 22) {
            if (G(Jt, Jt.current), G(ns, n), Ds === null) {
                var i = n.alternate;
                i !== null && i.memoizedState !== null && (Ds = n)
            }
        } else bi()
    }

    function bi() {
        G(Jt, Jt.current), G(ns, ns.current)
    }

    function Zs(n) {
        se(ns), Ds === n && (Ds = null), se(Jt)
    }
    var Jt = Z(0);

    function hc(n) {
        for (var i = n; i !== null;) {
            if (i.tag === 13) {
                var o = i.memoizedState;
                if (o !== null && (o = o.dehydrated, o === null || o.data === "$?" || Th(o))) return i
            } else if (i.tag === 19 && i.memoizedProps.revealOrder !== void 0) {
                if ((i.flags & 128) !== 0) return i
            } else if (i.child !== null) {
                i.child.return = i, i = i.child;
                continue
            }
            if (i === n) break;
            for (; i.sibling === null;) {
                if (i.return === null || i.return === n) return null;
                i = i.return
            }
            i.sibling.return = i.return, i = i.sibling
        }
        return null
    }

    function Mu(n, i, o, c) {
        i = n.memoizedState, o = o(c, i), o = o == null ? i : y({}, i, o), n.memoizedState = o, n.lanes === 0 && (n.updateQueue.baseState = o)
    }
    var Bu = {
        enqueueSetState: function(n, i, o) {
            n = n._reactInternals;
            var c = Hn(),
                g = gi(c);
            g.payload = i, o != null && (g.callback = o), i = mi(n, g, c), i !== null && ($n(i, n, c), ro(i, n, c))
        },
        enqueueReplaceState: function(n, i, o) {
            n = n._reactInternals;
            var c = Hn(),
                g = gi(c);
            g.tag = 1, g.payload = i, o != null && (g.callback = o), i = mi(n, g, c), i !== null && ($n(i, n, c), ro(i, n, c))
        },
        enqueueForceUpdate: function(n, i) {
            n = n._reactInternals;
            var o = Hn(),
                c = gi(o);
            c.tag = 2, i != null && (c.callback = i), i = mi(n, c, o), i !== null && ($n(i, n, o), ro(i, n, o))
        }
    };

    function Ng(n, i, o, c, g, b, N) {
        return n = n.stateNode, typeof n.shouldComponentUpdate == "function" ? n.shouldComponentUpdate(c, b, N) : i.prototype && i.prototype.isPureReactComponent ? !Qr(o, c) || !Qr(g, b) : !0
    }

    function _g(n, i, o, c) {
        n = i.state, typeof i.componentWillReceiveProps == "function" && i.componentWillReceiveProps(o, c), typeof i.UNSAFE_componentWillReceiveProps == "function" && i.UNSAFE_componentWillReceiveProps(o, c), i.state !== n && Bu.enqueueReplaceState(i, i.state, null)
    }

    function la(n, i) {
        var o = i;
        if ("ref" in i) {
            o = {};
            for (var c in i) c !== "ref" && (o[c] = i[c])
        }
        if (n = n.defaultProps) {
            o === i && (o = y({}, o));
            for (var g in n) o[g] === void 0 && (o[g] = n[g])
        }
        return o
    }
    var fc = typeof reportError == "function" ? reportError : function(n) {
        if (typeof window == "object" && typeof window.ErrorEvent == "function") {
            var i = new window.ErrorEvent("error", {
                bubbles: !0,
                cancelable: !0,
                message: typeof n == "object" && n !== null && typeof n.message == "string" ? String(n.message) : String(n),
                error: n
            });
            if (!window.dispatchEvent(i)) return
        } else if (typeof Fh == "object" && typeof Fh.emit == "function") {
            Fh.emit("uncaughtException", n);
            return
        }
        console.error(n)
    };

    function Pg(n) {
        fc(n)
    }

    function Lg(n) {
        console.error(n)
    }

    function Mg(n) {
        fc(n)
    }

    function pc(n, i) {
        try {
            var o = n.onUncaughtError;
            o(i.value, {
                componentStack: i.stack
            })
        } catch (c) {
            setTimeout(function() {
                throw c
            })
        }
    }

    function Bg(n, i, o) {
        try {
            var c = n.onCaughtError;
            c(o.value, {
                componentStack: o.stack,
                errorBoundary: i.tag === 1 ? i.stateNode : null
            })
        } catch (g) {
            setTimeout(function() {
                throw g
            })
        }
    }

    function zu(n, i, o) {
        return o = gi(o), o.tag = 3, o.payload = {
            element: null
        }, o.callback = function() {
            pc(n, i)
        }, o
    }

    function zg(n) {
        return n = gi(n), n.tag = 3, n
    }

    function Fg(n, i, o, c) {
        var g = o.type.getDerivedStateFromError;
        if (typeof g == "function") {
            var b = c.value;
            n.payload = function() {
                return g(b)
            }, n.callback = function() {
                Bg(i, o, c)
            }
        }
        var N = o.stateNode;
        N !== null && typeof N.componentDidCatch == "function" && (n.callback = function() {
            Bg(i, o, c), typeof g != "function" && (ji === null ? ji = new Set([this]) : ji.add(this));
            var M = c.stack;
            this.componentDidCatch(c.value, {
                componentStack: M !== null ? M : ""
            })
        })
    }

    function n1(n, i, o, c, g) {
        if (o.flags |= 32768, c !== null && typeof c == "object" && typeof c.then == "function") {
            if (i = o.alternate, i !== null && to(i, o, g, !0), o = ns.current, o !== null) {
                switch (o.tag) {
                    case 13:
                        return Ds === null ? oh() : o.alternate === null && Ut === 0 && (Ut = 3), o.flags &= -257, o.flags |= 65536, o.lanes = g, c === hu ? o.flags |= 16384 : (i = o.updateQueue, i === null ? o.updateQueue = new Set([c]) : i.add(c), ch(n, c, g)), !1;
                    case 22:
                        return o.flags |= 65536, c === hu ? o.flags |= 16384 : (i = o.updateQueue, i === null ? (i = {
                            transitions: null,
                            markerInstances: null,
                            retryQueue: new Set([c])
                        }, o.updateQueue = i) : (o = i.retryQueue, o === null ? i.retryQueue = new Set([c]) : o.add(c)), ch(n, c, g)), !1
                }
                throw Error(r(435, o.tag))
            }
            return ch(n, c, g), oh(), !1
        }
        if (xt) return i = ns.current, i !== null ? ((i.flags & 65536) === 0 && (i.flags |= 256), i.flags |= 65536, i.lanes = g, c !== au && (n = Error(r(422), {
            cause: c
        }), eo(Zn(n, o)))) : (c !== au && (i = Error(r(423), {
            cause: c
        }), eo(Zn(i, o))), n = n.current.alternate, n.flags |= 65536, g &= -g, n.lanes |= g, c = Zn(c, o), g = zu(n.stateNode, c, g), gu(n, g), Ut !== 4 && (Ut = 2)), !1;
        var b = Error(r(520), {
            cause: c
        });
        if (b = Zn(b, o), Co === null ? Co = [b] : Co.push(b), Ut !== 4 && (Ut = 2), i === null) return !0;
        c = Zn(c, o), o = i;
        do {
            switch (o.tag) {
                case 3:
                    return o.flags |= 65536, n = g & -g, o.lanes |= n, n = zu(o.stateNode, c, n), gu(o, n), !1;
                case 1:
                    if (i = o.type, b = o.stateNode, (o.flags & 128) === 0 && (typeof i.getDerivedStateFromError == "function" || b !== null && typeof b.componentDidCatch == "function" && (ji === null || !ji.has(b)))) return o.flags |= 65536, g &= -g, o.lanes |= g, g = zg(g), Fg(g, n, o, c), gu(o, g), !1
            }
            o = o.return
        } while (o !== null);
        return !1
    }
    var Ig = Error(r(461)),
        sn = !1;

    function cn(n, i, o, c) {
        i.child = n === null ? Rg(i, null, o, c) : ir(i, n.child, o, c)
    }

    function Og(n, i, o, c, g) {
        o = o.render;
        var b = i.ref;
        if ("ref" in c) {
            var N = {};
            for (var M in c) M !== "ref" && (N[M] = c[M])
        } else N = c;
        return aa(i), c = vu(n, i, o, N, b, g), M = Su(), n !== null && !sn ? (Cu(n, i, g), Js(n, i, g)) : (xt && M && su(i), i.flags |= 1, cn(n, i, c, g), i.child)
    }

    function Wg(n, i, o, c, g) {
        if (n === null) {
            var b = o.type;
            return typeof b == "function" && !eu(b) && b.defaultProps === void 0 && o.compare === null ? (i.tag = 15, i.type = b, Ug(n, i, b, c, g)) : (n = Vl(o.type, null, c, i, i.mode, g), n.ref = i.ref, n.return = i, i.child = n)
        }
        if (b = n.child, !Gu(n, g)) {
            var N = b.memoizedProps;
            if (o = o.compare, o = o !== null ? o : Qr, o(N, c) && n.ref === i.ref) return Js(n, i, g)
        }
        return i.flags |= 1, n = Ys(b, c), n.ref = i.ref, n.return = i, i.child = n
    }

    function Ug(n, i, o, c, g) {
        if (n !== null) {
            var b = n.memoizedProps;
            if (Qr(b, c) && n.ref === i.ref)
                if (sn = !1, i.pendingProps = c = b, Gu(n, g))(n.flags & 131072) !== 0 && (sn = !0);
                else return i.lanes = n.lanes, Js(n, i, g)
        }
        return Fu(n, i, o, c, g)
    }

    function Hg(n, i, o) {
        var c = i.pendingProps,
            g = c.children,
            b = n !== null ? n.memoizedState : null;
        if (c.mode === "hidden") {
            if ((i.flags & 128) !== 0) {
                if (c = b !== null ? b.baseLanes | o : o, n !== null) {
                    for (g = i.child = n.child, b = 0; g !== null;) b = b | g.lanes | g.childLanes, g = g.sibling;
                    i.childLanes = b & ~c
                } else i.childLanes = 0, i.child = null;
                return $g(n, i, c, o)
            }
            if ((o & 536870912) !== 0) i.memoizedState = {
                baseLanes: 0,
                cachePool: null
            }, n !== null && Zl(i, b !== null ? b.cachePool : null), b !== null ? Up(i, b) : xu(), Dg(i);
            else return i.lanes = i.childLanes = 536870912, $g(n, i, b !== null ? b.baseLanes | o : o, o)
        } else b !== null ? (Zl(i, b.cachePool), Up(i, b), bi(), i.memoizedState = null) : (n !== null && Zl(i, null), xu(), bi());
        return cn(n, i, g, o), i.child
    }

    function $g(n, i, o, c) {
        var g = uu();
        return g = g === null ? null : {
            parent: Zt._currentValue,
            pool: g
        }, i.memoizedState = {
            baseLanes: o,
            cachePool: g
        }, n !== null && Zl(i, null), xu(), Dg(i), n !== null && to(n, i, c, !0), null
    }

    function gc(n, i) {
        var o = i.ref;
        if (o === null) n !== null && n.ref !== null && (i.flags |= 4194816);
        else {
            if (typeof o != "function" && typeof o != "object") throw Error(r(284));
            (n === null || n.ref !== o) && (i.flags |= 4194816)
        }
    }

    function Fu(n, i, o, c, g) {
        return aa(i), o = vu(n, i, o, c, void 0, g), c = Su(), n !== null && !sn ? (Cu(n, i, g), Js(n, i, g)) : (xt && c && su(i), i.flags |= 1, cn(n, i, o, g), i.child)
    }

    function Gg(n, i, o, c, g, b) {
        return aa(i), i.updateQueue = null, o = $p(i, c, o, g), Hp(n), c = Su(), n !== null && !sn ? (Cu(n, i, b), Js(n, i, b)) : (xt && c && su(i), i.flags |= 1, cn(n, i, o, b), i.child)
    }

    function Yg(n, i, o, c, g) {
        if (aa(i), i.stateNode === null) {
            var b = qa,
                N = o.contextType;
            typeof N == "object" && N !== null && (b = mn(N)), b = new o(c, b), i.memoizedState = b.state !== null && b.state !== void 0 ? b.state : null, b.updater = Bu, i.stateNode = b, b._reactInternals = i, b = i.stateNode, b.props = c, b.state = i.memoizedState, b.refs = {}, fu(i), N = o.contextType, b.context = typeof N == "object" && N !== null ? mn(N) : qa, b.state = i.memoizedState, N = o.getDerivedStateFromProps, typeof N == "function" && (Mu(i, o, N, c), b.state = i.memoizedState), typeof o.getDerivedStateFromProps == "function" || typeof b.getSnapshotBeforeUpdate == "function" || typeof b.UNSAFE_componentWillMount != "function" && typeof b.componentWillMount != "function" || (N = b.state, typeof b.componentWillMount == "function" && b.componentWillMount(), typeof b.UNSAFE_componentWillMount == "function" && b.UNSAFE_componentWillMount(), N !== b.state && Bu.enqueueReplaceState(b, b.state, null), lo(i, c, b, g), oo(), b.state = i.memoizedState), typeof b.componentDidMount == "function" && (i.flags |= 4194308), c = !0
        } else if (n === null) {
            b = i.stateNode;
            var M = i.memoizedProps,
                Q = la(o, M);
            b.props = Q;
            var ue = b.context,
                ye = o.contextType;
            N = qa, typeof ye == "object" && ye !== null && (N = mn(ye));
            var we = o.getDerivedStateFromProps;
            ye = typeof we == "function" || typeof b.getSnapshotBeforeUpdate == "function", M = i.pendingProps !== M, ye || typeof b.UNSAFE_componentWillReceiveProps != "function" && typeof b.componentWillReceiveProps != "function" || (M || ue !== N) && _g(i, b, c, N), pi = !1;
            var he = i.memoizedState;
            b.state = he, lo(i, c, b, g), oo(), ue = i.memoizedState, M || he !== ue || pi ? (typeof we == "function" && (Mu(i, o, we, c), ue = i.memoizedState), (Q = pi || Ng(i, o, Q, c, he, ue, N)) ? (ye || typeof b.UNSAFE_componentWillMount != "function" && typeof b.componentWillMount != "function" || (typeof b.componentWillMount == "function" && b.componentWillMount(), typeof b.UNSAFE_componentWillMount == "function" && b.UNSAFE_componentWillMount()), typeof b.componentDidMount == "function" && (i.flags |= 4194308)) : (typeof b.componentDidMount == "function" && (i.flags |= 4194308), i.memoizedProps = c, i.memoizedState = ue), b.props = c, b.state = ue, b.context = N, c = Q) : (typeof b.componentDidMount == "function" && (i.flags |= 4194308), c = !1)
        } else {
            b = i.stateNode, pu(n, i), N = i.memoizedProps, ye = la(o, N), b.props = ye, we = i.pendingProps, he = b.context, ue = o.contextType, Q = qa, typeof ue == "object" && ue !== null && (Q = mn(ue)), M = o.getDerivedStateFromProps, (ue = typeof M == "function" || typeof b.getSnapshotBeforeUpdate == "function") || typeof b.UNSAFE_componentWillReceiveProps != "function" && typeof b.componentWillReceiveProps != "function" || (N !== we || he !== Q) && _g(i, b, c, Q), pi = !1, he = i.memoizedState, b.state = he, lo(i, c, b, g), oo();
            var pe = i.memoizedState;
            N !== we || he !== pe || pi || n !== null && n.dependencies !== null && Ql(n.dependencies) ? (typeof M == "function" && (Mu(i, o, M, c), pe = i.memoizedState), (ye = pi || Ng(i, o, ye, c, he, pe, Q) || n !== null && n.dependencies !== null && Ql(n.dependencies)) ? (ue || typeof b.UNSAFE_componentWillUpdate != "function" && typeof b.componentWillUpdate != "function" || (typeof b.componentWillUpdate == "function" && b.componentWillUpdate(c, pe, Q), typeof b.UNSAFE_componentWillUpdate == "function" && b.UNSAFE_componentWillUpdate(c, pe, Q)), typeof b.componentDidUpdate == "function" && (i.flags |= 4), typeof b.getSnapshotBeforeUpdate == "function" && (i.flags |= 1024)) : (typeof b.componentDidUpdate != "function" || N === n.memoizedProps && he === n.memoizedState || (i.flags |= 4), typeof b.getSnapshotBeforeUpdate != "function" || N === n.memoizedProps && he === n.memoizedState || (i.flags |= 1024), i.memoizedProps = c, i.memoizedState = pe), b.props = c, b.state = pe, b.context = Q, c = ye) : (typeof b.componentDidUpdate != "function" || N === n.memoizedProps && he === n.memoizedState || (i.flags |= 4), typeof b.getSnapshotBeforeUpdate != "function" || N === n.memoizedProps && he === n.memoizedState || (i.flags |= 1024), c = !1)
        }
        return b = c, gc(n, i), c = (i.flags & 128) !== 0, b || c ? (b = i.stateNode, o = c && typeof o.getDerivedStateFromError != "function" ? null : b.render(), i.flags |= 1, n !== null && c ? (i.child = ir(i, n.child, null, g), i.child = ir(i, null, o, g)) : cn(n, i, o, g), i.memoizedState = b.state, n = i.child) : n = Js(n, i, g), n
    }

    function Vg(n, i, o, c) {
        return Jr(), i.flags |= 256, cn(n, i, o, c), i.child
    }
    var Iu = {
        dehydrated: null,
        treeContext: null,
        retryLane: 0,
        hydrationErrors: null
    };

    function Ou(n) {
        return {
            baseLanes: n,
            cachePool: Lp()
        }
    }

    function Wu(n, i, o) {
        return n = n !== null ? n.childLanes & ~o : 0, i && (n |= ss), n
    }

    function qg(n, i, o) {
        var c = i.pendingProps,
            g = !1,
            b = (i.flags & 128) !== 0,
            N;
        if ((N = b) || (N = n !== null && n.memoizedState === null ? !1 : (Jt.current & 2) !== 0), N && (g = !0, i.flags &= -129), N = (i.flags & 32) !== 0, i.flags &= -33, n === null) {
            if (xt) {
                if (g ? yi(i) : bi(), xt) {
                    var M = Wt,
                        Q;
                    if (Q = M) {
                        e: {
                            for (Q = M, M = Rs; Q.nodeType !== 8;) {
                                if (!M) {
                                    M = null;
                                    break e
                                }
                                if (Q = xs(Q.nextSibling), Q === null) {
                                    M = null;
                                    break e
                                }
                            }
                            M = Q
                        }
                        M !== null ? (i.memoizedState = {
                            dehydrated: M,
                            treeContext: ea !== null ? {
                                id: Vs,
                                overflow: qs
                            } : null,
                            retryLane: 536870912,
                            hydrationErrors: null
                        }, Q = In(18, null, null, 0), Q.stateNode = M, Q.return = i, i.child = Q, vn = i, Wt = null, Q = !0) : Q = !1
                    }
                    Q || sa(i)
                }
                if (M = i.memoizedState, M !== null && (M = M.dehydrated, M !== null)) return Th(M) ? i.lanes = 32 : i.lanes = 536870912, null;
                Zs(i)
            }
            return M = c.children, c = c.fallback, g ? (bi(), g = i.mode, M = mc({
                mode: "hidden",
                children: M
            }, g), c = Ji(c, g, o, null), M.return = i, c.return = i, M.sibling = c, i.child = M, g = i.child, g.memoizedState = Ou(o), g.childLanes = Wu(n, N, o), i.memoizedState = Iu, c) : (yi(i), Uu(i, M))
        }
        if (Q = n.memoizedState, Q !== null && (M = Q.dehydrated, M !== null)) {
            if (b) i.flags & 256 ? (yi(i), i.flags &= -257, i = Hu(n, i, o)) : i.memoizedState !== null ? (bi(), i.child = n.child, i.flags |= 128, i = null) : (bi(), g = c.fallback, M = i.mode, c = mc({
                mode: "visible",
                children: c.children
            }, M), g = Ji(g, M, o, null), g.flags |= 2, c.return = i, g.return = i, c.sibling = g, i.child = c, ir(i, n.child, null, o), c = i.child, c.memoizedState = Ou(o), c.childLanes = Wu(n, N, o), i.memoizedState = Iu, i = g);
            else if (yi(i), Th(M)) {
                if (N = M.nextSibling && M.nextSibling.dataset, N) var ue = N.dgst;
                N = ue, c = Error(r(419)), c.stack = "", c.digest = N, eo({
                    value: c,
                    source: null,
                    stack: null
                }), i = Hu(n, i, o)
            } else if (sn || to(n, i, o, !1), N = (o & n.childLanes) !== 0, sn || N) {
                if (N = Dt, N !== null && (c = o & -o, c = (c & 42) !== 0 ? 1 : _t(c), c = (c & (N.suspendedLanes | o)) !== 0 ? 0 : c, c !== 0 && c !== Q.retryLane)) throw Q.retryLane = c, Va(n, c), $n(N, n, c), Ig;
                M.data === "$?" || oh(), i = Hu(n, i, o)
            } else M.data === "$?" ? (i.flags |= 192, i.child = n.child, i = null) : (n = Q.treeContext, Wt = xs(M.nextSibling), vn = i, xt = !0, na = null, Rs = !1, n !== null && (es[ts++] = Vs, es[ts++] = qs, es[ts++] = ea, Vs = n.id, qs = n.overflow, ea = i), i = Uu(i, c.children), i.flags |= 4096);
            return i
        }
        return g ? (bi(), g = c.fallback, M = i.mode, Q = n.child, ue = Q.sibling, c = Ys(Q, {
            mode: "hidden",
            children: c.children
        }), c.subtreeFlags = Q.subtreeFlags & 65011712, ue !== null ? g = Ys(ue, g) : (g = Ji(g, M, o, null), g.flags |= 2), g.return = i, c.return = i, c.sibling = g, i.child = c, c = g, g = i.child, M = n.child.memoizedState, M === null ? M = Ou(o) : (Q = M.cachePool, Q !== null ? (ue = Zt._currentValue, Q = Q.parent !== ue ? {
            parent: ue,
            pool: ue
        } : Q) : Q = Lp(), M = {
            baseLanes: M.baseLanes | o,
            cachePool: Q
        }), g.memoizedState = M, g.childLanes = Wu(n, N, o), i.memoizedState = Iu, c) : (yi(i), o = n.child, n = o.sibling, o = Ys(o, {
            mode: "visible",
            children: c.children
        }), o.return = i, o.sibling = null, n !== null && (N = i.deletions, N === null ? (i.deletions = [n], i.flags |= 16) : N.push(n)), i.child = o, i.memoizedState = null, o)
    }

    function Uu(n, i) {
        return i = mc({
            mode: "visible",
            children: i
        }, n.mode), i.return = n, n.child = i
    }

    function mc(n, i) {
        return n = In(22, n, null, i), n.lanes = 0, n.stateNode = {
            _visibility: 1,
            _pendingMarkers: null,
            _retryCache: null,
            _transitions: null
        }, n
    }

    function Hu(n, i, o) {
        return ir(i, n.child, null, o), n = Uu(i, i.pendingProps.children), n.flags |= 2, i.memoizedState = null, n
    }

    function Xg(n, i, o) {
        n.lanes |= i;
        var c = n.alternate;
        c !== null && (c.lanes |= i), ou(n.return, i, o)
    }

    function $u(n, i, o, c, g) {
        var b = n.memoizedState;
        b === null ? n.memoizedState = {
            isBackwards: i,
            rendering: null,
            renderingStartTime: 0,
            last: c,
            tail: o,
            tailMode: g
        } : (b.isBackwards = i, b.rendering = null, b.renderingStartTime = 0, b.last = c, b.tail = o, b.tailMode = g)
    }

    function Qg(n, i, o) {
        var c = i.pendingProps,
            g = c.revealOrder,
            b = c.tail;
        if (cn(n, i, c.children, o), c = Jt.current, (c & 2) !== 0) c = c & 1 | 2, i.flags |= 128;
        else {
            if (n !== null && (n.flags & 128) !== 0) e: for (n = i.child; n !== null;) {
                if (n.tag === 13) n.memoizedState !== null && Xg(n, o, i);
                else if (n.tag === 19) Xg(n, o, i);
                else if (n.child !== null) {
                    n.child.return = n, n = n.child;
                    continue
                }
                if (n === i) break e;
                for (; n.sibling === null;) {
                    if (n.return === null || n.return === i) break e;
                    n = n.return
                }
                n.sibling.return = n.return, n = n.sibling
            }
            c &= 1
        }
        switch (G(Jt, c), g) {
            case "forwards":
                for (o = i.child, g = null; o !== null;) n = o.alternate, n !== null && hc(n) === null && (g = o), o = o.sibling;
                o = g, o === null ? (g = i.child, i.child = null) : (g = o.sibling, o.sibling = null), $u(i, !1, g, o, b);
                break;
            case "backwards":
                for (o = null, g = i.child, i.child = null; g !== null;) {
                    if (n = g.alternate, n !== null && hc(n) === null) {
                        i.child = g;
                        break
                    }
                    n = g.sibling, g.sibling = o, o = g, g = n
                }
                $u(i, !0, o, null, b);
                break;
            case "together":
                $u(i, !1, null, null, void 0);
                break;
            default:
                i.memoizedState = null
        }
        return i.child
    }

    function Js(n, i, o) {
        if (n !== null && (i.dependencies = n.dependencies), Ti |= i.lanes, (o & i.childLanes) === 0)
            if (n !== null) {
                if (to(n, i, o, !1), (o & i.childLanes) === 0) return null
            } else return null;
        if (n !== null && i.child !== n.child) throw Error(r(153));
        if (i.child !== null) {
            for (n = i.child, o = Ys(n, n.pendingProps), i.child = o, o.return = i; n.sibling !== null;) n = n.sibling, o = o.sibling = Ys(n, n.pendingProps), o.return = i;
            o.sibling = null
        }
        return i.child
    }

    function Gu(n, i) {
        return (n.lanes & i) !== 0 ? !0 : (n = n.dependencies, !!(n !== null && Ql(n)))
    }

    function s1(n, i, o) {
        switch (i.tag) {
            case 3:
                fe(i, i.stateNode.containerInfo), fi(i, Zt, n.memoizedState.cache), Jr();
                break;
            case 27:
            case 5:
                ke(i);
                break;
            case 4:
                fe(i, i.stateNode.containerInfo);
                break;
            case 10:
                fi(i, i.type, i.memoizedProps.value);
                break;
            case 13:
                var c = i.memoizedState;
                if (c !== null) return c.dehydrated !== null ? (yi(i), i.flags |= 128, null) : (o & i.child.childLanes) !== 0 ? qg(n, i, o) : (yi(i), n = Js(n, i, o), n !== null ? n.sibling : null);
                yi(i);
                break;
            case 19:
                var g = (n.flags & 128) !== 0;
                if (c = (o & i.childLanes) !== 0, c || (to(n, i, o, !1), c = (o & i.childLanes) !== 0), g) {
                    if (c) return Qg(n, i, o);
                    i.flags |= 128
                }
                if (g = i.memoizedState, g !== null && (g.rendering = null, g.tail = null, g.lastEffect = null), G(Jt, Jt.current), c) break;
                return null;
            case 22:
            case 23:
                return i.lanes = 0, Hg(n, i, o);
            case 24:
                fi(i, Zt, n.memoizedState.cache)
        }
        return Js(n, i, o)
    }

    function Kg(n, i, o) {
        if (n !== null)
            if (n.memoizedProps !== i.pendingProps) sn = !0;
            else {
                if (!Gu(n, o) && (i.flags & 128) === 0) return sn = !1, s1(n, i, o);
                sn = (n.flags & 131072) !== 0
            }
        else sn = !1, xt && (i.flags & 1048576) !== 0 && Ep(i, Xl, i.index);
        switch (i.lanes = 0, i.tag) {
            case 16:
                e: {
                    n = i.pendingProps;
                    var c = i.elementType,
                        g = c._init;
                    if (c = g(c._payload), i.type = c, typeof c == "function") eu(c) ? (n = la(c, n), i.tag = 1, i = Yg(null, i, c, n, o)) : (i.tag = 0, i = Fu(null, i, c, n, o));
                    else {
                        if (c != null) {
                            if (g = c.$$typeof, g === D) {
                                i.tag = 11, i = Og(null, i, c, n, o);
                                break e
                            } else if (g === I) {
                                i.tag = 14, i = Wg(null, i, c, n, o);
                                break e
                            }
                        }
                        throw i = H(c) || c, Error(r(306, i, ""))
                    }
                }
                return i;
            case 0:
                return Fu(n, i, i.type, i.pendingProps, o);
            case 1:
                return c = i.type, g = la(c, i.pendingProps), Yg(n, i, c, g, o);
            case 3:
                e: {
                    if (fe(i, i.stateNode.containerInfo), n === null) throw Error(r(387));c = i.pendingProps;
                    var b = i.memoizedState;g = b.element,
                    pu(n, i),
                    lo(i, c, null, o);
                    var N = i.memoizedState;
                    if (c = N.cache, fi(i, Zt, c), c !== b.cache && lu(i, [Zt], o, !0), oo(), c = N.element, b.isDehydrated)
                        if (b = {
                                element: c,
                                isDehydrated: !1,
                                cache: N.cache
                            }, i.updateQueue.baseState = b, i.memoizedState = b, i.flags & 256) {
                            i = Vg(n, i, c, o);
                            break e
                        } else if (c !== g) {
                        g = Zn(Error(r(424)), i), eo(g), i = Vg(n, i, c, o);
                        break e
                    } else {
                        switch (n = i.stateNode.containerInfo, n.nodeType) {
                            case 9:
                                n = n.body;
                                break;
                            default:
                                n = n.nodeName === "HTML" ? n.ownerDocument.body : n
                        }
                        for (Wt = xs(n.firstChild), vn = i, xt = !0, na = null, Rs = !0, o = Rg(i, null, c, o), i.child = o; o;) o.flags = o.flags & -3 | 4096, o = o.sibling
                    } else {
                        if (Jr(), c === g) {
                            i = Js(n, i, o);
                            break e
                        }
                        cn(n, i, c, o)
                    }
                    i = i.child
                }
                return i;
            case 26:
                return gc(n, i), n === null ? (o = tx(i.type, null, i.pendingProps, null)) ? i.memoizedState = o : xt || (o = i.type, n = i.pendingProps, c = Dc(ee.current).createElement(o), c[kt] = i, c[Ot] = n, un(c, o, n), Ht(c), i.stateNode = c) : i.memoizedState = tx(i.type, n.memoizedProps, i.pendingProps, n.memoizedState), null;
            case 27:
                return ke(i), n === null && xt && (c = i.stateNode = Zm(i.type, i.pendingProps, ee.current), vn = i, Rs = !0, g = Wt, Ai(i.type) ? (jh = g, Wt = xs(c.firstChild)) : Wt = g), cn(n, i, i.pendingProps.children, o), gc(n, i), n === null && (i.flags |= 4194304), i.child;
            case 5:
                return n === null && xt && ((g = c = Wt) && (c = N1(c, i.type, i.pendingProps, Rs), c !== null ? (i.stateNode = c, vn = i, Wt = xs(c.firstChild), Rs = !1, g = !0) : g = !1), g || sa(i)), ke(i), g = i.type, b = i.pendingProps, N = n !== null ? n.memoizedProps : null, c = b.children, Sh(g, b) ? c = null : N !== null && Sh(g, N) && (i.flags |= 32), i.memoizedState !== null && (g = vu(n, i, Xb, null, null, o), No._currentValue = g), gc(n, i), cn(n, i, c, o), i.child;
            case 6:
                return n === null && xt && ((n = o = Wt) && (o = _1(o, i.pendingProps, Rs), o !== null ? (i.stateNode = o, vn = i, Wt = null, n = !0) : n = !1), n || sa(i)), null;
            case 13:
                return qg(n, i, o);
            case 4:
                return fe(i, i.stateNode.containerInfo), c = i.pendingProps, n === null ? i.child = ir(i, null, c, o) : cn(n, i, c, o), i.child;
            case 11:
                return Og(n, i, i.type, i.pendingProps, o);
            case 7:
                return cn(n, i, i.pendingProps, o), i.child;
            case 8:
                return cn(n, i, i.pendingProps.children, o), i.child;
            case 12:
                return cn(n, i, i.pendingProps.children, o), i.child;
            case 10:
                return c = i.pendingProps, fi(i, i.type, c.value), cn(n, i, c.children, o), i.child;
            case 9:
                return g = i.type._context, c = i.pendingProps.children, aa(i), g = mn(g), c = c(g), i.flags |= 1, cn(n, i, c, o), i.child;
            case 14:
                return Wg(n, i, i.type, i.pendingProps, o);
            case 15:
                return Ug(n, i, i.type, i.pendingProps, o);
            case 19:
                return Qg(n, i, o);
            case 31:
                return c = i.pendingProps, o = i.mode, c = {
                    mode: c.mode,
                    children: c.children
                }, n === null ? (o = mc(c, o), o.ref = i.ref, i.child = o, o.return = i, i = o) : (o = Ys(n.child, c), o.ref = i.ref, i.child = o, o.return = i, i = o), i;
            case 22:
                return Hg(n, i, o);
            case 24:
                return aa(i), c = mn(Zt), n === null ? (g = uu(), g === null && (g = Dt, b = cu(), g.pooledCache = b, b.refCount++, b !== null && (g.pooledCacheLanes |= o), g = b), i.memoizedState = {
                    parent: c,
                    cache: g
                }, fu(i), fi(i, Zt, g)) : ((n.lanes & o) !== 0 && (pu(n, i), lo(i, null, null, o), oo()), g = n.memoizedState, b = i.memoizedState, g.parent !== c ? (g = {
                    parent: c,
                    cache: c
                }, i.memoizedState = g, i.lanes === 0 && (i.memoizedState = i.updateQueue.baseState = g), fi(i, Zt, c)) : (c = b.cache, fi(i, Zt, c), c !== g.cache && lu(i, [Zt], o, !0))), cn(n, i, i.pendingProps.children, o), i.child;
            case 29:
                throw i.pendingProps
        }
        throw Error(r(156, i.tag))
    }

    function ei(n) {
        n.flags |= 4
    }

    function Zg(n, i) {
        if (i.type !== "stylesheet" || (i.state.loading & 4) !== 0) n.flags &= -16777217;
        else if (n.flags |= 16777216, !rx(i)) {
            if (i = ns.current, i !== null && ((ht & 4194048) === ht ? Ds !== null : (ht & 62914560) !== ht && (ht & 536870912) === 0 || i !== Ds)) throw ao = hu, Mp;
            n.flags |= 8192
        }
    }

    function xc(n, i) {
        i !== null && (n.flags |= 4), n.flags & 16384 && (i = n.tag !== 22 ? Dl() : 536870912, n.lanes |= i, lr |= i)
    }

    function mo(n, i) {
        if (!xt) switch (n.tailMode) {
            case "hidden":
                i = n.tail;
                for (var o = null; i !== null;) i.alternate !== null && (o = i), i = i.sibling;
                o === null ? n.tail = null : o.sibling = null;
                break;
            case "collapsed":
                o = n.tail;
                for (var c = null; o !== null;) o.alternate !== null && (c = o), o = o.sibling;
                c === null ? i || n.tail === null ? n.tail = null : n.tail.sibling = null : c.sibling = null
        }
    }

    function It(n) {
        var i = n.alternate !== null && n.alternate.child === n.child,
            o = 0,
            c = 0;
        if (i)
            for (var g = n.child; g !== null;) o |= g.lanes | g.childLanes, c |= g.subtreeFlags & 65011712, c |= g.flags & 65011712, g.return = n, g = g.sibling;
        else
            for (g = n.child; g !== null;) o |= g.lanes | g.childLanes, c |= g.subtreeFlags, c |= g.flags, g.return = n, g = g.sibling;
        return n.subtreeFlags |= c, n.childLanes = o, i
    }

    function i1(n, i, o) {
        var c = i.pendingProps;
        switch (iu(i), i.tag) {
            case 31:
            case 16:
            case 15:
            case 0:
            case 11:
            case 7:
            case 8:
            case 12:
            case 9:
            case 14:
                return It(i), null;
            case 1:
                return It(i), null;
            case 3:
                return o = i.stateNode, c = null, n !== null && (c = n.memoizedState.cache), i.memoizedState.cache !== c && (i.flags |= 2048), Qs(Zt), ge(), o.pendingContext && (o.context = o.pendingContext, o.pendingContext = null), (n === null || n.child === null) && (Zr(i) ? ei(i) : n === null || n.memoizedState.isDehydrated && (i.flags & 256) === 0 || (i.flags |= 1024, Dp())), It(i), null;
            case 26:
                return o = i.memoizedState, n === null ? (ei(i), o !== null ? (It(i), Zg(i, o)) : (It(i), i.flags &= -16777217)) : o ? o !== n.memoizedState ? (ei(i), It(i), Zg(i, o)) : (It(i), i.flags &= -16777217) : (n.memoizedProps !== c && ei(i), It(i), i.flags &= -16777217), null;
            case 27:
                je(i), o = ee.current;
                var g = i.type;
                if (n !== null && i.stateNode != null) n.memoizedProps !== c && ei(i);
                else {
                    if (!c) {
                        if (i.stateNode === null) throw Error(r(166));
                        return It(i), null
                    }
                    n = ie.current, Zr(i) ? Ap(i) : (n = Zm(g, c, o), i.stateNode = n, ei(i))
                }
                return It(i), null;
            case 5:
                if (je(i), o = i.type, n !== null && i.stateNode != null) n.memoizedProps !== c && ei(i);
                else {
                    if (!c) {
                        if (i.stateNode === null) throw Error(r(166));
                        return It(i), null
                    }
                    if (n = ie.current, Zr(i)) Ap(i);
                    else {
                        switch (g = Dc(ee.current), n) {
                            case 1:
                                n = g.createElementNS("http://www.w3.org/2000/svg", o);
                                break;
                            case 2:
                                n = g.createElementNS("http://www.w3.org/1998/Math/MathML", o);
                                break;
                            default:
                                switch (o) {
                                    case "svg":
                                        n = g.createElementNS("http://www.w3.org/2000/svg", o);
                                        break;
                                    case "math":
                                        n = g.createElementNS("http://www.w3.org/1998/Math/MathML", o);
                                        break;
                                    case "script":
                                        n = g.createElement("div"), n.innerHTML = "<script><\/script>", n = n.removeChild(n.firstChild);
                                        break;
                                    case "select":
                                        n = typeof c.is == "string" ? g.createElement("select", {
                                            is: c.is
                                        }) : g.createElement("select"), c.multiple ? n.multiple = !0 : c.size && (n.size = c.size);
                                        break;
                                    default:
                                        n = typeof c.is == "string" ? g.createElement(o, {
                                            is: c.is
                                        }) : g.createElement(o)
                                }
                        }
                        n[kt] = i, n[Ot] = c;
                        e: for (g = i.child; g !== null;) {
                            if (g.tag === 5 || g.tag === 6) n.appendChild(g.stateNode);
                            else if (g.tag !== 4 && g.tag !== 27 && g.child !== null) {
                                g.child.return = g, g = g.child;
                                continue
                            }
                            if (g === i) break e;
                            for (; g.sibling === null;) {
                                if (g.return === null || g.return === i) break e;
                                g = g.return
                            }
                            g.sibling.return = g.return, g = g.sibling
                        }
                        i.stateNode = n;
                        e: switch (un(n, o, c), o) {
                            case "button":
                            case "input":
                            case "select":
                            case "textarea":
                                n = !!c.autoFocus;
                                break e;
                            case "img":
                                n = !0;
                                break e;
                            default:
                                n = !1
                        }
                        n && ei(i)
                    }
                }
                return It(i), i.flags &= -16777217, null;
            case 6:
                if (n && i.stateNode != null) n.memoizedProps !== c && ei(i);
                else {
                    if (typeof c != "string" && i.stateNode === null) throw Error(r(166));
                    if (n = ee.current, Zr(i)) {
                        if (n = i.stateNode, o = i.memoizedProps, c = null, g = vn, g !== null) switch (g.tag) {
                            case 27:
                            case 5:
                                c = g.memoizedProps
                        }
                        n[kt] = i, n = !!(n.nodeValue === o || c !== null && c.suppressHydrationWarning === !0 || Gm(n.nodeValue, o)), n || sa(i)
                    } else n = Dc(n).createTextNode(c), n[kt] = i, i.stateNode = n
                }
                return It(i), null;
            case 13:
                if (c = i.memoizedState, n === null || n.memoizedState !== null && n.memoizedState.dehydrated !== null) {
                    if (g = Zr(i), c !== null && c.dehydrated !== null) {
                        if (n === null) {
                            if (!g) throw Error(r(318));
                            if (g = i.memoizedState, g = g !== null ? g.dehydrated : null, !g) throw Error(r(317));
                            g[kt] = i
                        } else Jr(), (i.flags & 128) === 0 && (i.memoizedState = null), i.flags |= 4;
                        It(i), g = !1
                    } else g = Dp(), n !== null && n.memoizedState !== null && (n.memoizedState.hydrationErrors = g), g = !0;
                    if (!g) return i.flags & 256 ? (Zs(i), i) : (Zs(i), null)
                }
                if (Zs(i), (i.flags & 128) !== 0) return i.lanes = o, i;
                if (o = c !== null, n = n !== null && n.memoizedState !== null, o) {
                    c = i.child, g = null, c.alternate !== null && c.alternate.memoizedState !== null && c.alternate.memoizedState.cachePool !== null && (g = c.alternate.memoizedState.cachePool.pool);
                    var b = null;
                    c.memoizedState !== null && c.memoizedState.cachePool !== null && (b = c.memoizedState.cachePool.pool), b !== g && (c.flags |= 2048)
                }
                return o !== n && o && (i.child.flags |= 8192), xc(i, i.updateQueue), It(i), null;
            case 4:
                return ge(), n === null && mh(i.stateNode.containerInfo), It(i), null;
            case 10:
                return Qs(i.type), It(i), null;
            case 19:
                if (se(Jt), g = i.memoizedState, g === null) return It(i), null;
                if (c = (i.flags & 128) !== 0, b = g.rendering, b === null)
                    if (c) mo(g, !1);
                    else {
                        if (Ut !== 0 || n !== null && (n.flags & 128) !== 0)
                            for (n = i.child; n !== null;) {
                                if (b = hc(n), b !== null) {
                                    for (i.flags |= 128, mo(g, !1), n = b.updateQueue, i.updateQueue = n, xc(i, n), i.subtreeFlags = 0, n = o, o = i.child; o !== null;) kp(o, n), o = o.sibling;
                                    return G(Jt, Jt.current & 1 | 2), i.child
                                }
                                n = n.sibling
                            }
                        g.tail !== null && qe() > vc && (i.flags |= 128, c = !0, mo(g, !1), i.lanes = 4194304)
                    }
                else {
                    if (!c)
                        if (n = hc(b), n !== null) {
                            if (i.flags |= 128, c = !0, n = n.updateQueue, i.updateQueue = n, xc(i, n), mo(g, !0), g.tail === null && g.tailMode === "hidden" && !b.alternate && !xt) return It(i), null
                        } else 2 * qe() - g.renderingStartTime > vc && o !== 536870912 && (i.flags |= 128, c = !0, mo(g, !1), i.lanes = 4194304);
                    g.isBackwards ? (b.sibling = i.child, i.child = b) : (n = g.last, n !== null ? n.sibling = b : i.child = b, g.last = b)
                }
                return g.tail !== null ? (i = g.tail, g.rendering = i, g.tail = i.sibling, g.renderingStartTime = qe(), i.sibling = null, n = Jt.current, G(Jt, c ? n & 1 | 2 : n & 1), i) : (It(i), null);
            case 22:
            case 23:
                return Zs(i), yu(), c = i.memoizedState !== null, n !== null ? n.memoizedState !== null !== c && (i.flags |= 8192) : c && (i.flags |= 8192), c ? (o & 536870912) !== 0 && (i.flags & 128) === 0 && (It(i), i.subtreeFlags & 6 && (i.flags |= 8192)) : It(i), o = i.updateQueue, o !== null && xc(i, o.retryQueue), o = null, n !== null && n.memoizedState !== null && n.memoizedState.cachePool !== null && (o = n.memoizedState.cachePool.pool), c = null, i.memoizedState !== null && i.memoizedState.cachePool !== null && (c = i.memoizedState.cachePool.pool), c !== o && (i.flags |= 2048), n !== null && se(ra), null;
            case 24:
                return o = null, n !== null && (o = n.memoizedState.cache), i.memoizedState.cache !== o && (i.flags |= 2048), Qs(Zt), It(i), null;
            case 25:
                return null;
            case 30:
                return null
        }
        throw Error(r(156, i.tag))
    }

    function a1(n, i) {
        switch (iu(i), i.tag) {
            case 1:
                return n = i.flags, n & 65536 ? (i.flags = n & -65537 | 128, i) : null;
            case 3:
                return Qs(Zt), ge(), n = i.flags, (n & 65536) !== 0 && (n & 128) === 0 ? (i.flags = n & -65537 | 128, i) : null;
            case 26:
            case 27:
            case 5:
                return je(i), null;
            case 13:
                if (Zs(i), n = i.memoizedState, n !== null && n.dehydrated !== null) {
                    if (i.alternate === null) throw Error(r(340));
                    Jr()
                }
                return n = i.flags, n & 65536 ? (i.flags = n & -65537 | 128, i) : null;
            case 19:
                return se(Jt), null;
            case 4:
                return ge(), null;
            case 10:
                return Qs(i.type), null;
            case 22:
            case 23:
                return Zs(i), yu(), n !== null && se(ra), n = i.flags, n & 65536 ? (i.flags = n & -65537 | 128, i) : null;
            case 24:
                return Qs(Zt), null;
            case 25:
                return null;
            default:
                return null
        }
    }

    function Jg(n, i) {
        switch (iu(i), i.tag) {
            case 3:
                Qs(Zt), ge();
                break;
            case 26:
            case 27:
            case 5:
                je(i);
                break;
            case 4:
                ge();
                break;
            case 13:
                Zs(i);
                break;
            case 19:
                se(Jt);
                break;
            case 10:
                Qs(i.type);
                break;
            case 22:
            case 23:
                Zs(i), yu(), n !== null && se(ra);
                break;
            case 24:
                Qs(Zt)
        }
    }

    function xo(n, i) {
        try {
            var o = i.updateQueue,
                c = o !== null ? o.lastEffect : null;
            if (c !== null) {
                var g = c.next;
                o = g;
                do {
                    if ((o.tag & n) === n) {
                        c = void 0;
                        var b = o.create,
                            N = o.inst;
                        c = b(), N.destroy = c
                    }
                    o = o.next
                } while (o !== g)
            }
        } catch (M) {
            Et(i, i.return, M)
        }
    }

    function vi(n, i, o) {
        try {
            var c = i.updateQueue,
                g = c !== null ? c.lastEffect : null;
            if (g !== null) {
                var b = g.next;
                c = b;
                do {
                    if ((c.tag & n) === n) {
                        var N = c.inst,
                            M = N.destroy;
                        if (M !== void 0) {
                            N.destroy = void 0, g = i;
                            var Q = o,
                                ue = M;
                            try {
                                ue()
                            } catch (ye) {
                                Et(g, Q, ye)
                            }
                        }
                    }
                    c = c.next
                } while (c !== b)
            }
        } catch (ye) {
            Et(i, i.return, ye)
        }
    }

    function em(n) {
        var i = n.updateQueue;
        if (i !== null) {
            var o = n.stateNode;
            try {
                Wp(i, o)
            } catch (c) {
                Et(n, n.return, c)
            }
        }
    }

    function tm(n, i, o) {
        o.props = la(n.type, n.memoizedProps), o.state = n.memoizedState;
        try {
            o.componentWillUnmount()
        } catch (c) {
            Et(n, i, c)
        }
    }

    function yo(n, i) {
        try {
            var o = n.ref;
            if (o !== null) {
                switch (n.tag) {
                    case 26:
                    case 27:
                    case 5:
                        var c = n.stateNode;
                        break;
                    case 30:
                        c = n.stateNode;
                        break;
                    default:
                        c = n.stateNode
                }
                typeof o == "function" ? n.refCleanup = o(c) : o.current = c
            }
        } catch (g) {
            Et(n, i, g)
        }
    }

    function Ns(n, i) {
        var o = n.ref,
            c = n.refCleanup;
        if (o !== null)
            if (typeof c == "function") try {
                c()
            } catch (g) {
                Et(n, i, g)
            } finally {
                n.refCleanup = null, n = n.alternate, n != null && (n.refCleanup = null)
            } else if (typeof o == "function") try {
                o(null)
            } catch (g) {
                Et(n, i, g)
            } else o.current = null
    }

    function nm(n) {
        var i = n.type,
            o = n.memoizedProps,
            c = n.stateNode;
        try {
            e: switch (i) {
                case "button":
                case "input":
                case "select":
                case "textarea":
                    o.autoFocus && c.focus();
                    break e;
                case "img":
                    o.src ? c.src = o.src : o.srcSet && (c.srcset = o.srcSet)
            }
        }
        catch (g) {
            Et(n, n.return, g)
        }
    }

    function Yu(n, i, o) {
        try {
            var c = n.stateNode;
            k1(c, n.type, o, i), c[Ot] = i
        } catch (g) {
            Et(n, n.return, g)
        }
    }

    function sm(n) {
        return n.tag === 5 || n.tag === 3 || n.tag === 26 || n.tag === 27 && Ai(n.type) || n.tag === 4
    }

    function Vu(n) {
        e: for (;;) {
            for (; n.sibling === null;) {
                if (n.return === null || sm(n.return)) return null;
                n = n.return
            }
            for (n.sibling.return = n.return, n = n.sibling; n.tag !== 5 && n.tag !== 6 && n.tag !== 18;) {
                if (n.tag === 27 && Ai(n.type) || n.flags & 2 || n.child === null || n.tag === 4) continue e;
                n.child.return = n, n = n.child
            }
            if (!(n.flags & 2)) return n.stateNode
        }
    }

    function qu(n, i, o) {
        var c = n.tag;
        if (c === 5 || c === 6) n = n.stateNode, i ? (o.nodeType === 9 ? o.body : o.nodeName === "HTML" ? o.ownerDocument.body : o).insertBefore(n, i) : (i = o.nodeType === 9 ? o.body : o.nodeName === "HTML" ? o.ownerDocument.body : o, i.appendChild(n), o = o._reactRootContainer, o != null || i.onclick !== null || (i.onclick = Rc));
        else if (c !== 4 && (c === 27 && Ai(n.type) && (o = n.stateNode, i = null), n = n.child, n !== null))
            for (qu(n, i, o), n = n.sibling; n !== null;) qu(n, i, o), n = n.sibling
    }

    function yc(n, i, o) {
        var c = n.tag;
        if (c === 5 || c === 6) n = n.stateNode, i ? o.insertBefore(n, i) : o.appendChild(n);
        else if (c !== 4 && (c === 27 && Ai(n.type) && (o = n.stateNode), n = n.child, n !== null))
            for (yc(n, i, o), n = n.sibling; n !== null;) yc(n, i, o), n = n.sibling
    }

    function im(n) {
        var i = n.stateNode,
            o = n.memoizedProps;
        try {
            for (var c = n.type, g = i.attributes; g.length;) i.removeAttributeNode(g[0]);
            un(i, c, o), i[kt] = n, i[Ot] = o
        } catch (b) {
            Et(n, n.return, b)
        }
    }
    var ti = !1,
        Gt = !1,
        Xu = !1,
        am = typeof WeakSet == "function" ? WeakSet : Set,
        an = null;

    function r1(n, i) {
        if (n = n.containerInfo, bh = Bc, n = mp(n), Vd(n)) {
            if ("selectionStart" in n) var o = {
                start: n.selectionStart,
                end: n.selectionEnd
            };
            else e: {
                o = (o = n.ownerDocument) && o.defaultView || window;
                var c = o.getSelection && o.getSelection();
                if (c && c.rangeCount !== 0) {
                    o = c.anchorNode;
                    var g = c.anchorOffset,
                        b = c.focusNode;
                    c = c.focusOffset;
                    try {
                        o.nodeType, b.nodeType
                    } catch {
                        o = null;
                        break e
                    }
                    var N = 0,
                        M = -1,
                        Q = -1,
                        ue = 0,
                        ye = 0,
                        we = n,
                        he = null;
                    t: for (;;) {
                        for (var pe; we !== o || g !== 0 && we.nodeType !== 3 || (M = N + g), we !== b || c !== 0 && we.nodeType !== 3 || (Q = N + c), we.nodeType === 3 && (N += we.nodeValue.length), (pe = we.firstChild) !== null;) he = we, we = pe;
                        for (;;) {
                            if (we === n) break t;
                            if (he === o && ++ue === g && (M = N), he === b && ++ye === c && (Q = N), (pe = we.nextSibling) !== null) break;
                            we = he, he = we.parentNode
                        }
                        we = pe
                    }
                    o = M === -1 || Q === -1 ? null : {
                        start: M,
                        end: Q
                    }
                } else o = null
            }
            o = o || {
                start: 0,
                end: 0
            }
        } else o = null;
        for (vh = {
                focusedElem: n,
                selectionRange: o
            }, Bc = !1, an = i; an !== null;)
            if (i = an, n = i.child, (i.subtreeFlags & 1024) !== 0 && n !== null) n.return = i, an = n;
            else
                for (; an !== null;) {
                    switch (i = an, b = i.alternate, n = i.flags, i.tag) {
                        case 0:
                            break;
                        case 11:
                        case 15:
                            break;
                        case 1:
                            if ((n & 1024) !== 0 && b !== null) {
                                n = void 0, o = i, g = b.memoizedProps, b = b.memoizedState, c = o.stateNode;
                                try {
                                    var Ze = la(o.type, g, o.elementType === o.type);
                                    n = c.getSnapshotBeforeUpdate(Ze, b), c.__reactInternalSnapshotBeforeUpdate = n
                                } catch (Ve) {
                                    Et(o, o.return, Ve)
                                }
                            }
                            break;
                        case 3:
                            if ((n & 1024) !== 0) {
                                if (n = i.stateNode.containerInfo, o = n.nodeType, o === 9) wh(n);
                                else if (o === 1) switch (n.nodeName) {
                                    case "HEAD":
                                    case "HTML":
                                    case "BODY":
                                        wh(n);
                                        break;
                                    default:
                                        n.textContent = ""
                                }
                            }
                            break;
                        case 5:
                        case 26:
                        case 27:
                        case 6:
                        case 4:
                        case 17:
                            break;
                        default:
                            if ((n & 1024) !== 0) throw Error(r(163))
                    }
                    if (n = i.sibling, n !== null) {
                        n.return = i.return, an = n;
                        break
                    }
                    an = i.return
                }
    }

    function rm(n, i, o) {
        var c = o.flags;
        switch (o.tag) {
            case 0:
            case 11:
            case 15:
                Si(n, o), c & 4 && xo(5, o);
                break;
            case 1:
                if (Si(n, o), c & 4)
                    if (n = o.stateNode, i === null) try {
                        n.componentDidMount()
                    } catch (N) {
                        Et(o, o.return, N)
                    } else {
                        var g = la(o.type, i.memoizedProps);
                        i = i.memoizedState;
                        try {
                            n.componentDidUpdate(g, i, n.__reactInternalSnapshotBeforeUpdate)
                        } catch (N) {
                            Et(o, o.return, N)
                        }
                    }
                c & 64 && em(o), c & 512 && yo(o, o.return);
                break;
            case 3:
                if (Si(n, o), c & 64 && (n = o.updateQueue, n !== null)) {
                    if (i = null, o.child !== null) switch (o.child.tag) {
                        case 27:
                        case 5:
                            i = o.child.stateNode;
                            break;
                        case 1:
                            i = o.child.stateNode
                    }
                    try {
                        Wp(n, i)
                    } catch (N) {
                        Et(o, o.return, N)
                    }
                }
                break;
            case 27:
                i === null && c & 4 && im(o);
            case 26:
            case 5:
                Si(n, o), i === null && c & 4 && nm(o), c & 512 && yo(o, o.return);
                break;
            case 12:
                Si(n, o);
                break;
            case 13:
                Si(n, o), c & 4 && cm(n, o), c & 64 && (n = o.memoizedState, n !== null && (n = n.dehydrated, n !== null && (o = g1.bind(null, o), P1(n, o))));
                break;
            case 22:
                if (c = o.memoizedState !== null || ti, !c) {
                    i = i !== null && i.memoizedState !== null || Gt, g = ti;
                    var b = Gt;
                    ti = c, (Gt = i) && !b ? Ci(n, o, (o.subtreeFlags & 8772) !== 0) : Si(n, o), ti = g, Gt = b
                }
                break;
            case 30:
                break;
            default:
                Si(n, o)
        }
    }

    function om(n) {
        var i = n.alternate;
        i !== null && (n.alternate = null, om(i)), n.child = null, n.deletions = null, n.sibling = null, n.tag === 5 && (i = n.stateNode, i !== null && Ir(i)), n.stateNode = null, n.return = null, n.dependencies = null, n.memoizedProps = null, n.memoizedState = null, n.pendingProps = null, n.stateNode = null, n.updateQueue = null
    }
    var Lt = null,
        Dn = !1;

    function ni(n, i, o) {
        for (o = o.child; o !== null;) lm(n, i, o), o = o.sibling
    }

    function lm(n, i, o) {
        if (xe && typeof xe.onCommitFiberUnmount == "function") try {
            xe.onCommitFiberUnmount(oe, o)
        } catch {}
        switch (o.tag) {
            case 26:
                Gt || Ns(o, i), ni(n, i, o), o.memoizedState ? o.memoizedState.count-- : o.stateNode && (o = o.stateNode, o.parentNode.removeChild(o));
                break;
            case 27:
                Gt || Ns(o, i);
                var c = Lt,
                    g = Dn;
                Ai(o.type) && (Lt = o.stateNode, Dn = !1), ni(n, i, o), Eo(o.stateNode), Lt = c, Dn = g;
                break;
            case 5:
                Gt || Ns(o, i);
            case 6:
                if (c = Lt, g = Dn, Lt = null, ni(n, i, o), Lt = c, Dn = g, Lt !== null)
                    if (Dn) try {
                        (Lt.nodeType === 9 ? Lt.body : Lt.nodeName === "HTML" ? Lt.ownerDocument.body : Lt).removeChild(o.stateNode)
                    } catch (b) {
                        Et(o, i, b)
                    } else try {
                        Lt.removeChild(o.stateNode)
                    } catch (b) {
                        Et(o, i, b)
                    }
                break;
            case 18:
                Lt !== null && (Dn ? (n = Lt, Qm(n.nodeType === 9 ? n.body : n.nodeName === "HTML" ? n.ownerDocument.body : n, o.stateNode), Mo(n)) : Qm(Lt, o.stateNode));
                break;
            case 4:
                c = Lt, g = Dn, Lt = o.stateNode.containerInfo, Dn = !0, ni(n, i, o), Lt = c, Dn = g;
                break;
            case 0:
            case 11:
            case 14:
            case 15:
                Gt || vi(2, o, i), Gt || vi(4, o, i), ni(n, i, o);
                break;
            case 1:
                Gt || (Ns(o, i), c = o.stateNode, typeof c.componentWillUnmount == "function" && tm(o, i, c)), ni(n, i, o);
                break;
            case 21:
                ni(n, i, o);
                break;
            case 22:
                Gt = (c = Gt) || o.memoizedState !== null, ni(n, i, o), Gt = c;
                break;
            default:
                ni(n, i, o)
        }
    }

    function cm(n, i) {
        if (i.memoizedState === null && (n = i.alternate, n !== null && (n = n.memoizedState, n !== null && (n = n.dehydrated, n !== null)))) try {
            Mo(n)
        } catch (o) {
            Et(i, i.return, o)
        }
    }

    function o1(n) {
        switch (n.tag) {
            case 13:
            case 19:
                var i = n.stateNode;
                return i === null && (i = n.stateNode = new am), i;
            case 22:
                return n = n.stateNode, i = n._retryCache, i === null && (i = n._retryCache = new am), i;
            default:
                throw Error(r(435, n.tag))
        }
    }

    function Qu(n, i) {
        var o = o1(n);
        i.forEach(function(c) {
            var g = m1.bind(null, n, c);
            o.has(c) || (o.add(c), c.then(g, g))
        })
    }

    function On(n, i) {
        var o = i.deletions;
        if (o !== null)
            for (var c = 0; c < o.length; c++) {
                var g = o[c],
                    b = n,
                    N = i,
                    M = N;
                e: for (; M !== null;) {
                    switch (M.tag) {
                        case 27:
                            if (Ai(M.type)) {
                                Lt = M.stateNode, Dn = !1;
                                break e
                            }
                            break;
                        case 5:
                            Lt = M.stateNode, Dn = !1;
                            break e;
                        case 3:
                        case 4:
                            Lt = M.stateNode.containerInfo, Dn = !0;
                            break e
                    }
                    M = M.return
                }
                if (Lt === null) throw Error(r(160));
                lm(b, N, g), Lt = null, Dn = !1, b = g.alternate, b !== null && (b.return = null), g.return = null
            }
        if (i.subtreeFlags & 13878)
            for (i = i.child; i !== null;) dm(i, n), i = i.sibling
    }
    var ms = null;

    function dm(n, i) {
        var o = n.alternate,
            c = n.flags;
        switch (n.tag) {
            case 0:
            case 11:
            case 14:
            case 15:
                On(i, n), Wn(n), c & 4 && (vi(3, n, n.return), xo(3, n), vi(5, n, n.return));
                break;
            case 1:
                On(i, n), Wn(n), c & 512 && (Gt || o === null || Ns(o, o.return)), c & 64 && ti && (n = n.updateQueue, n !== null && (c = n.callbacks, c !== null && (o = n.shared.hiddenCallbacks, n.shared.hiddenCallbacks = o === null ? c : o.concat(c))));
                break;
            case 26:
                var g = ms;
                if (On(i, n), Wn(n), c & 512 && (Gt || o === null || Ns(o, o.return)), c & 4) {
                    var b = o !== null ? o.memoizedState : null;
                    if (c = n.memoizedState, o === null)
                        if (c === null)
                            if (n.stateNode === null) {
                                e: {
                                    c = n.type,
                                    o = n.memoizedProps,
                                    g = g.ownerDocument || g;t: switch (c) {
                                        case "title":
                                            b = g.getElementsByTagName("title")[0], (!b || b[di] || b[kt] || b.namespaceURI === "http://www.w3.org/2000/svg" || b.hasAttribute("itemprop")) && (b = g.createElement(c), g.head.insertBefore(b, g.querySelector("head > title"))), un(b, c, o), b[kt] = n, Ht(b), c = b;
                                            break e;
                                        case "link":
                                            var N = ix("link", "href", g).get(c + (o.href || ""));
                                            if (N) {
                                                for (var M = 0; M < N.length; M++)
                                                    if (b = N[M], b.getAttribute("href") === (o.href == null || o.href === "" ? null : o.href) && b.getAttribute("rel") === (o.rel == null ? null : o.rel) && b.getAttribute("title") === (o.title == null ? null : o.title) && b.getAttribute("crossorigin") === (o.crossOrigin == null ? null : o.crossOrigin)) {
                                                        N.splice(M, 1);
                                                        break t
                                                    }
                                            }
                                            b = g.createElement(c), un(b, c, o), g.head.appendChild(b);
                                            break;
                                        case "meta":
                                            if (N = ix("meta", "content", g).get(c + (o.content || ""))) {
                                                for (M = 0; M < N.length; M++)
                                                    if (b = N[M], b.getAttribute("content") === (o.content == null ? null : "" + o.content) && b.getAttribute("name") === (o.name == null ? null : o.name) && b.getAttribute("property") === (o.property == null ? null : o.property) && b.getAttribute("http-equiv") === (o.httpEquiv == null ? null : o.httpEquiv) && b.getAttribute("charset") === (o.charSet == null ? null : o.charSet)) {
                                                        N.splice(M, 1);
                                                        break t
                                                    }
                                            }
                                            b = g.createElement(c), un(b, c, o), g.head.appendChild(b);
                                            break;
                                        default:
                                            throw Error(r(468, c))
                                    }
                                    b[kt] = n,
                                    Ht(b),
                                    c = b
                                }
                                n.stateNode = c
                            }
                    else ax(g, n.type, n.stateNode);
                    else n.stateNode = sx(g, c, n.memoizedProps);
                    else b !== c ? (b === null ? o.stateNode !== null && (o = o.stateNode, o.parentNode.removeChild(o)) : b.count--, c === null ? ax(g, n.type, n.stateNode) : sx(g, c, n.memoizedProps)) : c === null && n.stateNode !== null && Yu(n, n.memoizedProps, o.memoizedProps)
                }
                break;
            case 27:
                On(i, n), Wn(n), c & 512 && (Gt || o === null || Ns(o, o.return)), o !== null && c & 4 && Yu(n, n.memoizedProps, o.memoizedProps);
                break;
            case 5:
                if (On(i, n), Wn(n), c & 512 && (Gt || o === null || Ns(o, o.return)), n.flags & 32) {
                    g = n.stateNode;
                    try {
                        Oa(g, "")
                    } catch (pe) {
                        Et(n, n.return, pe)
                    }
                }
                c & 4 && n.stateNode != null && (g = n.memoizedProps, Yu(n, g, o !== null ? o.memoizedProps : g)), c & 1024 && (Xu = !0);
                break;
            case 6:
                if (On(i, n), Wn(n), c & 4) {
                    if (n.stateNode === null) throw Error(r(162));
                    c = n.memoizedProps, o = n.stateNode;
                    try {
                        o.nodeValue = c
                    } catch (pe) {
                        Et(n, n.return, pe)
                    }
                }
                break;
            case 3:
                if (Pc = null, g = ms, ms = Nc(i.containerInfo), On(i, n), ms = g, Wn(n), c & 4 && o !== null && o.memoizedState.isDehydrated) try {
                    Mo(i.containerInfo)
                } catch (pe) {
                    Et(n, n.return, pe)
                }
                Xu && (Xu = !1, um(n));
                break;
            case 4:
                c = ms, ms = Nc(n.stateNode.containerInfo), On(i, n), Wn(n), ms = c;
                break;
            case 12:
                On(i, n), Wn(n);
                break;
            case 13:
                On(i, n), Wn(n), n.child.flags & 8192 && n.memoizedState !== null != (o !== null && o.memoizedState !== null) && (nh = qe()), c & 4 && (c = n.updateQueue, c !== null && (n.updateQueue = null, Qu(n, c)));
                break;
            case 22:
                g = n.memoizedState !== null;
                var Q = o !== null && o.memoizedState !== null,
                    ue = ti,
                    ye = Gt;
                if (ti = ue || g, Gt = ye || Q, On(i, n), Gt = ye, ti = ue, Wn(n), c & 8192) e: for (i = n.stateNode, i._visibility = g ? i._visibility & -2 : i._visibility | 1, g && (o === null || Q || ti || Gt || ca(n)), o = null, i = n;;) {
                    if (i.tag === 5 || i.tag === 26) {
                        if (o === null) {
                            Q = o = i;
                            try {
                                if (b = Q.stateNode, g) N = b.style, typeof N.setProperty == "function" ? N.setProperty("display", "none", "important") : N.display = "none";
                                else {
                                    M = Q.stateNode;
                                    var we = Q.memoizedProps.style,
                                        he = we != null && we.hasOwnProperty("display") ? we.display : null;
                                    M.style.display = he == null || typeof he == "boolean" ? "" : ("" + he).trim()
                                }
                            } catch (pe) {
                                Et(Q, Q.return, pe)
                            }
                        }
                    } else if (i.tag === 6) {
                        if (o === null) {
                            Q = i;
                            try {
                                Q.stateNode.nodeValue = g ? "" : Q.memoizedProps
                            } catch (pe) {
                                Et(Q, Q.return, pe)
                            }
                        }
                    } else if ((i.tag !== 22 && i.tag !== 23 || i.memoizedState === null || i === n) && i.child !== null) {
                        i.child.return = i, i = i.child;
                        continue
                    }
                    if (i === n) break e;
                    for (; i.sibling === null;) {
                        if (i.return === null || i.return === n) break e;
                        o === i && (o = null), i = i.return
                    }
                    o === i && (o = null), i.sibling.return = i.return, i = i.sibling
                }
                c & 4 && (c = n.updateQueue, c !== null && (o = c.retryQueue, o !== null && (c.retryQueue = null, Qu(n, o))));
                break;
            case 19:
                On(i, n), Wn(n), c & 4 && (c = n.updateQueue, c !== null && (n.updateQueue = null, Qu(n, c)));
                break;
            case 30:
                break;
            case 21:
                break;
            default:
                On(i, n), Wn(n)
        }
    }

    function Wn(n) {
        var i = n.flags;
        if (i & 2) {
            try {
                for (var o, c = n.return; c !== null;) {
                    if (sm(c)) {
                        o = c;
                        break
                    }
                    c = c.return
                }
                if (o == null) throw Error(r(160));
                switch (o.tag) {
                    case 27:
                        var g = o.stateNode,
                            b = Vu(n);
                        yc(n, b, g);
                        break;
                    case 5:
                        var N = o.stateNode;
                        o.flags & 32 && (Oa(N, ""), o.flags &= -33);
                        var M = Vu(n);
                        yc(n, M, N);
                        break;
                    case 3:
                    case 4:
                        var Q = o.stateNode.containerInfo,
                            ue = Vu(n);
                        qu(n, ue, Q);
                        break;
                    default:
                        throw Error(r(161))
                }
            } catch (ye) {
                Et(n, n.return, ye)
            }
            n.flags &= -3
        }
        i & 4096 && (n.flags &= -4097)
    }

    function um(n) {
        if (n.subtreeFlags & 1024)
            for (n = n.child; n !== null;) {
                var i = n;
                um(i), i.tag === 5 && i.flags & 1024 && i.stateNode.reset(), n = n.sibling
            }
    }

    function Si(n, i) {
        if (i.subtreeFlags & 8772)
            for (i = i.child; i !== null;) rm(n, i.alternate, i), i = i.sibling
    }

    function ca(n) {
        for (n = n.child; n !== null;) {
            var i = n;
            switch (i.tag) {
                case 0:
                case 11:
                case 14:
                case 15:
                    vi(4, i, i.return), ca(i);
                    break;
                case 1:
                    Ns(i, i.return);
                    var o = i.stateNode;
                    typeof o.componentWillUnmount == "function" && tm(i, i.return, o), ca(i);
                    break;
                case 27:
                    Eo(i.stateNode);
                case 26:
                case 5:
                    Ns(i, i.return), ca(i);
                    break;
                case 22:
                    i.memoizedState === null && ca(i);
                    break;
                case 30:
                    ca(i);
                    break;
                default:
                    ca(i)
            }
            n = n.sibling
        }
    }

    function Ci(n, i, o) {
        for (o = o && (i.subtreeFlags & 8772) !== 0, i = i.child; i !== null;) {
            var c = i.alternate,
                g = n,
                b = i,
                N = b.flags;
            switch (b.tag) {
                case 0:
                case 11:
                case 15:
                    Ci(g, b, o), xo(4, b);
                    break;
                case 1:
                    if (Ci(g, b, o), c = b, g = c.stateNode, typeof g.componentDidMount == "function") try {
                        g.componentDidMount()
                    } catch (ue) {
                        Et(c, c.return, ue)
                    }
                    if (c = b, g = c.updateQueue, g !== null) {
                        var M = c.stateNode;
                        try {
                            var Q = g.shared.hiddenCallbacks;
                            if (Q !== null)
                                for (g.shared.hiddenCallbacks = null, g = 0; g < Q.length; g++) Op(Q[g], M)
                        } catch (ue) {
                            Et(c, c.return, ue)
                        }
                    }
                    o && N & 64 && em(b), yo(b, b.return);
                    break;
                case 27:
                    im(b);
                case 26:
                case 5:
                    Ci(g, b, o), o && c === null && N & 4 && nm(b), yo(b, b.return);
                    break;
                case 12:
                    Ci(g, b, o);
                    break;
                case 13:
                    Ci(g, b, o), o && N & 4 && cm(g, b);
                    break;
                case 22:
                    b.memoizedState === null && Ci(g, b, o), yo(b, b.return);
                    break;
                case 30:
                    break;
                default:
                    Ci(g, b, o)
            }
            i = i.sibling
        }
    }

    function Ku(n, i) {
        var o = null;
        n !== null && n.memoizedState !== null && n.memoizedState.cachePool !== null && (o = n.memoizedState.cachePool.pool), n = null, i.memoizedState !== null && i.memoizedState.cachePool !== null && (n = i.memoizedState.cachePool.pool), n !== o && (n != null && n.refCount++, o != null && no(o))
    }

    function Zu(n, i) {
        n = null, i.alternate !== null && (n = i.alternate.memoizedState.cache), i = i.memoizedState.cache, i !== n && (i.refCount++, n != null && no(n))
    }

    function _s(n, i, o, c) {
        if (i.subtreeFlags & 10256)
            for (i = i.child; i !== null;) hm(n, i, o, c), i = i.sibling
    }

    function hm(n, i, o, c) {
        var g = i.flags;
        switch (i.tag) {
            case 0:
            case 11:
            case 15:
                _s(n, i, o, c), g & 2048 && xo(9, i);
                break;
            case 1:
                _s(n, i, o, c);
                break;
            case 3:
                _s(n, i, o, c), g & 2048 && (n = null, i.alternate !== null && (n = i.alternate.memoizedState.cache), i = i.memoizedState.cache, i !== n && (i.refCount++, n != null && no(n)));
                break;
            case 12:
                if (g & 2048) {
                    _s(n, i, o, c), n = i.stateNode;
                    try {
                        var b = i.memoizedProps,
                            N = b.id,
                            M = b.onPostCommit;
                        typeof M == "function" && M(N, i.alternate === null ? "mount" : "update", n.passiveEffectDuration, -0)
                    } catch (Q) {
                        Et(i, i.return, Q)
                    }
                } else _s(n, i, o, c);
                break;
            case 13:
                _s(n, i, o, c);
                break;
            case 23:
                break;
            case 22:
                b = i.stateNode, N = i.alternate, i.memoizedState !== null ? b._visibility & 2 ? _s(n, i, o, c) : bo(n, i) : b._visibility & 2 ? _s(n, i, o, c) : (b._visibility |= 2, ar(n, i, o, c, (i.subtreeFlags & 10256) !== 0)), g & 2048 && Ku(N, i);
                break;
            case 24:
                _s(n, i, o, c), g & 2048 && Zu(i.alternate, i);
                break;
            default:
                _s(n, i, o, c)
        }
    }

    function ar(n, i, o, c, g) {
        for (g = g && (i.subtreeFlags & 10256) !== 0, i = i.child; i !== null;) {
            var b = n,
                N = i,
                M = o,
                Q = c,
                ue = N.flags;
            switch (N.tag) {
                case 0:
                case 11:
                case 15:
                    ar(b, N, M, Q, g), xo(8, N);
                    break;
                case 23:
                    break;
                case 22:
                    var ye = N.stateNode;
                    N.memoizedState !== null ? ye._visibility & 2 ? ar(b, N, M, Q, g) : bo(b, N) : (ye._visibility |= 2, ar(b, N, M, Q, g)), g && ue & 2048 && Ku(N.alternate, N);
                    break;
                case 24:
                    ar(b, N, M, Q, g), g && ue & 2048 && Zu(N.alternate, N);
                    break;
                default:
                    ar(b, N, M, Q, g)
            }
            i = i.sibling
        }
    }

    function bo(n, i) {
        if (i.subtreeFlags & 10256)
            for (i = i.child; i !== null;) {
                var o = n,
                    c = i,
                    g = c.flags;
                switch (c.tag) {
                    case 22:
                        bo(o, c), g & 2048 && Ku(c.alternate, c);
                        break;
                    case 24:
                        bo(o, c), g & 2048 && Zu(c.alternate, c);
                        break;
                    default:
                        bo(o, c)
                }
                i = i.sibling
            }
    }
    var vo = 8192;

    function rr(n) {
        if (n.subtreeFlags & vo)
            for (n = n.child; n !== null;) fm(n), n = n.sibling
    }

    function fm(n) {
        switch (n.tag) {
            case 26:
                rr(n), n.flags & vo && n.memoizedState !== null && Y1(ms, n.memoizedState, n.memoizedProps);
                break;
            case 5:
                rr(n);
                break;
            case 3:
            case 4:
                var i = ms;
                ms = Nc(n.stateNode.containerInfo), rr(n), ms = i;
                break;
            case 22:
                n.memoizedState === null && (i = n.alternate, i !== null && i.memoizedState !== null ? (i = vo, vo = 16777216, rr(n), vo = i) : rr(n));
                break;
            default:
                rr(n)
        }
    }

    function pm(n) {
        var i = n.alternate;
        if (i !== null && (n = i.child, n !== null)) {
            i.child = null;
            do i = n.sibling, n.sibling = null, n = i; while (n !== null)
        }
    }

    function So(n) {
        var i = n.deletions;
        if ((n.flags & 16) !== 0) {
            if (i !== null)
                for (var o = 0; o < i.length; o++) {
                    var c = i[o];
                    an = c, mm(c, n)
                }
            pm(n)
        }
        if (n.subtreeFlags & 10256)
            for (n = n.child; n !== null;) gm(n), n = n.sibling
    }

    function gm(n) {
        switch (n.tag) {
            case 0:
            case 11:
            case 15:
                So(n), n.flags & 2048 && vi(9, n, n.return);
                break;
            case 3:
                So(n);
                break;
            case 12:
                So(n);
                break;
            case 22:
                var i = n.stateNode;
                n.memoizedState !== null && i._visibility & 2 && (n.return === null || n.return.tag !== 13) ? (i._visibility &= -3, bc(n)) : So(n);
                break;
            default:
                So(n)
        }
    }

    function bc(n) {
        var i = n.deletions;
        if ((n.flags & 16) !== 0) {
            if (i !== null)
                for (var o = 0; o < i.length; o++) {
                    var c = i[o];
                    an = c, mm(c, n)
                }
            pm(n)
        }
        for (n = n.child; n !== null;) {
            switch (i = n, i.tag) {
                case 0:
                case 11:
                case 15:
                    vi(8, i, i.return), bc(i);
                    break;
                case 22:
                    o = i.stateNode, o._visibility & 2 && (o._visibility &= -3, bc(i));
                    break;
                default:
                    bc(i)
            }
            n = n.sibling
        }
    }

    function mm(n, i) {
        for (; an !== null;) {
            var o = an;
            switch (o.tag) {
                case 0:
                case 11:
                case 15:
                    vi(8, o, i);
                    break;
                case 23:
                case 22:
                    if (o.memoizedState !== null && o.memoizedState.cachePool !== null) {
                        var c = o.memoizedState.cachePool.pool;
                        c != null && c.refCount++
                    }
                    break;
                case 24:
                    no(o.memoizedState.cache)
            }
            if (c = o.child, c !== null) c.return = o, an = c;
            else e: for (o = n; an !== null;) {
                c = an;
                var g = c.sibling,
                    b = c.return;
                if (om(c), c === o) {
                    an = null;
                    break e
                }
                if (g !== null) {
                    g.return = b, an = g;
                    break e
                }
                an = b
            }
        }
    }
    var l1 = {
            getCacheForType: function(n) {
                var i = mn(Zt),
                    o = i.data.get(n);
                return o === void 0 && (o = n(), i.data.set(n, o)), o
            }
        },
        c1 = typeof WeakMap == "function" ? WeakMap : Map,
        St = 0,
        Dt = null,
        lt = null,
        ht = 0,
        Ct = 0,
        Un = null,
        wi = !1,
        or = !1,
        Ju = !1,
        si = 0,
        Ut = 0,
        Ti = 0,
        da = 0,
        eh = 0,
        ss = 0,
        lr = 0,
        Co = null,
        Nn = null,
        th = !1,
        nh = 0,
        vc = 1 / 0,
        Sc = null,
        ji = null,
        dn = 0,
        ki = null,
        cr = null,
        dr = 0,
        sh = 0,
        ih = null,
        xm = null,
        wo = 0,
        ah = null;

    function Hn() {
        if ((St & 2) !== 0 && ht !== 0) return ht & -ht;
        if (z.T !== null) {
            var n = Ka;
            return n !== 0 ? n : hh()
        }
        return Nd()
    }

    function ym() {
        ss === 0 && (ss = (ht & 536870912) === 0 || xt ? Rd() : 536870912);
        var n = ns.current;
        return n !== null && (n.flags |= 32), ss
    }

    function $n(n, i, o) {
        (n === Dt && (Ct === 2 || Ct === 9) || n.cancelPendingCommit !== null) && (ur(n, 0), Ei(n, ht, ss, !1)), Qt(n, o), ((St & 2) === 0 || n !== Dt) && (n === Dt && ((St & 2) === 0 && (da |= o), Ut === 4 && Ei(n, ht, ss, !1)), Ps(n))
    }

    function bm(n, i, o) {
        if ((St & 6) !== 0) throw Error(r(327));
        var c = !o && (i & 124) === 0 && (i & n.expiredLanes) === 0 || li(n, i),
            g = c ? h1(n, i) : lh(n, i, !0),
            b = c;
        do {
            if (g === 0) {
                or && !c && Ei(n, i, 0, !1);
                break
            } else {
                if (o = n.current.alternate, b && !d1(o)) {
                    g = lh(n, i, !1), b = !1;
                    continue
                }
                if (g === 2) {
                    if (b = i, n.errorRecoveryDisabledLanes & b) var N = 0;
                    else N = n.pendingLanes & -536870913, N = N !== 0 ? N : N & 536870912 ? 536870912 : 0;
                    if (N !== 0) {
                        i = N;
                        e: {
                            var M = n;g = Co;
                            var Q = M.current.memoizedState.isDehydrated;
                            if (Q && (ur(M, N).flags |= 256), N = lh(M, N, !1), N !== 2) {
                                if (Ju && !Q) {
                                    M.errorRecoveryDisabledLanes |= b, da |= b, g = 4;
                                    break e
                                }
                                b = Nn, Nn = g, b !== null && (Nn === null ? Nn = b : Nn.push.apply(Nn, b))
                            }
                            g = N
                        }
                        if (b = !1, g !== 2) continue
                    }
                }
                if (g === 1) {
                    ur(n, 0), Ei(n, i, 0, !0);
                    break
                }
                e: {
                    switch (c = n, b = g, b) {
                        case 0:
                        case 1:
                            throw Error(r(345));
                        case 4:
                            if ((i & 4194048) !== i) break;
                        case 6:
                            Ei(c, i, ss, !wi);
                            break e;
                        case 2:
                            Nn = null;
                            break;
                        case 3:
                        case 5:
                            break;
                        default:
                            throw Error(r(329))
                    }
                    if ((i & 62914560) === i && (g = nh + 300 - qe(), 10 < g)) {
                        if (Ei(c, i, ss, !wi), hs(c, 0, !0) !== 0) break e;
                        c.timeoutHandle = qm(vm.bind(null, c, o, Nn, Sc, th, i, ss, da, lr, wi, b, 2, -0, 0), g);
                        break e
                    }
                    vm(c, o, Nn, Sc, th, i, ss, da, lr, wi, b, 0, -0, 0)
                }
            }
            break
        } while (!0);
        Ps(n)
    }

    function vm(n, i, o, c, g, b, N, M, Q, ue, ye, we, he, pe) {
        if (n.timeoutHandle = -1, we = i.subtreeFlags, (we & 8192 || (we & 16785408) === 16785408) && (Do = {
                stylesheets: null,
                count: 0,
                unsuspend: G1
            }, fm(i), we = V1(), we !== null)) {
            n.cancelPendingCommit = we(Em.bind(null, n, i, b, o, c, g, N, M, Q, ye, 1, he, pe)), Ei(n, b, N, !ue);
            return
        }
        Em(n, i, b, o, c, g, N, M, Q)
    }

    function d1(n) {
        for (var i = n;;) {
            var o = i.tag;
            if ((o === 0 || o === 11 || o === 15) && i.flags & 16384 && (o = i.updateQueue, o !== null && (o = o.stores, o !== null)))
                for (var c = 0; c < o.length; c++) {
                    var g = o[c],
                        b = g.getSnapshot;
                    g = g.value;
                    try {
                        if (!Fn(b(), g)) return !1
                    } catch {
                        return !1
                    }
                }
            if (o = i.child, i.subtreeFlags & 16384 && o !== null) o.return = i, i = o;
            else {
                if (i === n) break;
                for (; i.sibling === null;) {
                    if (i.return === null || i.return === n) return !0;
                    i = i.return
                }
                i.sibling.return = i.return, i = i.sibling
            }
        }
        return !0
    }

    function Ei(n, i, o, c) {
        i &= ~eh, i &= ~da, n.suspendedLanes |= i, n.pingedLanes &= ~i, c && (n.warmLanes |= i), c = n.expirationTimes;
        for (var g = i; 0 < g;) {
            var b = 31 - J(g),
                N = 1 << b;
            c[b] = -1, g &= ~N
        }
        o !== 0 && ln(n, o, i)
    }

    function Cc() {
        return (St & 6) === 0 ? (To(0), !1) : !0
    }

    function rh() {
        if (lt !== null) {
            if (Ct === 0) var n = lt.return;
            else n = lt, Xs = ia = null, wu(n), sr = null, po = 0, n = lt;
            for (; n !== null;) Jg(n.alternate, n), n = n.return;
            lt = null
        }
    }

    function ur(n, i) {
        var o = n.timeoutHandle;
        o !== -1 && (n.timeoutHandle = -1, A1(o)), o = n.cancelPendingCommit, o !== null && (n.cancelPendingCommit = null, o()), rh(), Dt = n, lt = o = Ys(n.current, null), ht = i, Ct = 0, Un = null, wi = !1, or = li(n, i), Ju = !1, lr = ss = eh = da = Ti = Ut = 0, Nn = Co = null, th = !1, (i & 8) !== 0 && (i |= i & 32);
        var c = n.entangledLanes;
        if (c !== 0)
            for (n = n.entanglements, c &= i; 0 < c;) {
                var g = 31 - J(c),
                    b = 1 << g;
                i |= n[g], c &= ~b
            }
        return si = i, $l(), o
    }

    function Sm(n, i) {
        at = null, z.H = cc, i === io || i === Jl ? (i = Fp(), Ct = 3) : i === Mp ? (i = Fp(), Ct = 4) : Ct = i === Ig ? 8 : i !== null && typeof i == "object" && typeof i.then == "function" ? 6 : 1, Un = i, lt === null && (Ut = 1, pc(n, Zn(i, n.current)))
    }

    function Cm() {
        var n = z.H;
        return z.H = cc, n === null ? cc : n
    }

    function wm() {
        var n = z.A;
        return z.A = l1, n
    }

    function oh() {
        Ut = 4, wi || (ht & 4194048) !== ht && ns.current !== null || (or = !0), (Ti & 134217727) === 0 && (da & 134217727) === 0 || Dt === null || Ei(Dt, ht, ss, !1)
    }

    function lh(n, i, o) {
        var c = St;
        St |= 2;
        var g = Cm(),
            b = wm();
        (Dt !== n || ht !== i) && (Sc = null, ur(n, i)), i = !1;
        var N = Ut;
        e: do try {
                if (Ct !== 0 && lt !== null) {
                    var M = lt,
                        Q = Un;
                    switch (Ct) {
                        case 8:
                            rh(), N = 6;
                            break e;
                        case 3:
                        case 2:
                        case 9:
                        case 6:
                            ns.current === null && (i = !0);
                            var ue = Ct;
                            if (Ct = 0, Un = null, hr(n, M, Q, ue), o && or) {
                                N = 0;
                                break e
                            }
                            break;
                        default:
                            ue = Ct, Ct = 0, Un = null, hr(n, M, Q, ue)
                    }
                }
                u1(), N = Ut;
                break
            } catch (ye) {
                Sm(n, ye)
            }
            while (!0);
            return i && n.shellSuspendCounter++, Xs = ia = null, St = c, z.H = g, z.A = b, lt === null && (Dt = null, ht = 0, $l()), N
    }

    function u1() {
        for (; lt !== null;) Tm(lt)
    }

    function h1(n, i) {
        var o = St;
        St |= 2;
        var c = Cm(),
            g = wm();
        Dt !== n || ht !== i ? (Sc = null, vc = qe() + 500, ur(n, i)) : or = li(n, i);
        e: do try {
                if (Ct !== 0 && lt !== null) {
                    i = lt;
                    var b = Un;
                    t: switch (Ct) {
                        case 1:
                            Ct = 0, Un = null, hr(n, i, b, 1);
                            break;
                        case 2:
                        case 9:
                            if (Bp(b)) {
                                Ct = 0, Un = null, jm(i);
                                break
                            }
                            i = function() {
                                Ct !== 2 && Ct !== 9 || Dt !== n || (Ct = 7), Ps(n)
                            }, b.then(i, i);
                            break e;
                        case 3:
                            Ct = 7;
                            break e;
                        case 4:
                            Ct = 5;
                            break e;
                        case 7:
                            Bp(b) ? (Ct = 0, Un = null, jm(i)) : (Ct = 0, Un = null, hr(n, i, b, 7));
                            break;
                        case 5:
                            var N = null;
                            switch (lt.tag) {
                                case 26:
                                    N = lt.memoizedState;
                                case 5:
                                case 27:
                                    var M = lt;
                                    if (!N || rx(N)) {
                                        Ct = 0, Un = null;
                                        var Q = M.sibling;
                                        if (Q !== null) lt = Q;
                                        else {
                                            var ue = M.return;
                                            ue !== null ? (lt = ue, wc(ue)) : lt = null
                                        }
                                        break t
                                    }
                            }
                            Ct = 0, Un = null, hr(n, i, b, 5);
                            break;
                        case 6:
                            Ct = 0, Un = null, hr(n, i, b, 6);
                            break;
                        case 8:
                            rh(), Ut = 6;
                            break e;
                        default:
                            throw Error(r(462))
                    }
                }
                f1();
                break
            } catch (ye) {
                Sm(n, ye)
            }
            while (!0);
            return Xs = ia = null, z.H = c, z.A = g, St = o, lt !== null ? 0 : (Dt = null, ht = 0, $l(), Ut)
    }

    function f1() {
        for (; lt !== null && !Pe();) Tm(lt)
    }

    function Tm(n) {
        var i = Kg(n.alternate, n, si);
        n.memoizedProps = n.pendingProps, i === null ? wc(n) : lt = i
    }

    function jm(n) {
        var i = n,
            o = i.alternate;
        switch (i.tag) {
            case 15:
            case 0:
                i = Gg(o, i, i.pendingProps, i.type, void 0, ht);
                break;
            case 11:
                i = Gg(o, i, i.pendingProps, i.type.render, i.ref, ht);
                break;
            case 5:
                wu(i);
            default:
                Jg(o, i), i = lt = kp(i, si), i = Kg(o, i, si)
        }
        n.memoizedProps = n.pendingProps, i === null ? wc(n) : lt = i
    }

    function hr(n, i, o, c) {
        Xs = ia = null, wu(i), sr = null, po = 0;
        var g = i.return;
        try {
            if (n1(n, g, i, o, ht)) {
                Ut = 1, pc(n, Zn(o, n.current)), lt = null;
                return
            }
        } catch (b) {
            if (g !== null) throw lt = g, b;
            Ut = 1, pc(n, Zn(o, n.current)), lt = null;
            return
        }
        i.flags & 32768 ? (xt || c === 1 ? n = !0 : or || (ht & 536870912) !== 0 ? n = !1 : (wi = n = !0, (c === 2 || c === 9 || c === 3 || c === 6) && (c = ns.current, c !== null && c.tag === 13 && (c.flags |= 16384))), km(i, n)) : wc(i)
    }

    function wc(n) {
        var i = n;
        do {
            if ((i.flags & 32768) !== 0) {
                km(i, wi);
                return
            }
            n = i.return;
            var o = i1(i.alternate, i, si);
            if (o !== null) {
                lt = o;
                return
            }
            if (i = i.sibling, i !== null) {
                lt = i;
                return
            }
            lt = i = n
        } while (i !== null);
        Ut === 0 && (Ut = 5)
    }

    function km(n, i) {
        do {
            var o = a1(n.alternate, n);
            if (o !== null) {
                o.flags &= 32767, lt = o;
                return
            }
            if (o = n.return, o !== null && (o.flags |= 32768, o.subtreeFlags = 0, o.deletions = null), !i && (n = n.sibling, n !== null)) {
                lt = n;
                return
            }
            lt = n = o
        } while (n !== null);
        Ut = 6, lt = null
    }

    function Em(n, i, o, c, g, b, N, M, Q) {
        n.cancelPendingCommit = null;
        do Tc(); while (dn !== 0);
        if ((St & 6) !== 0) throw Error(r(327));
        if (i !== null) {
            if (i === n.current) throw Error(r(177));
            if (b = i.lanes | i.childLanes, b |= Zd, on(n, o, b, N, M, Q), n === Dt && (lt = Dt = null, ht = 0), cr = i, ki = n, dr = o, sh = b, ih = g, xm = c, (i.subtreeFlags & 10256) !== 0 || (i.flags & 10256) !== 0 ? (n.callbackNode = null, n.callbackPriority = 0, x1(_e, function() {
                    return _m(), null
                })) : (n.callbackNode = null, n.callbackPriority = 0), c = (i.flags & 13878) !== 0, (i.subtreeFlags & 13878) !== 0 || c) {
                c = z.T, z.T = null, g = U.p, U.p = 2, N = St, St |= 4;
                try {
                    r1(n, i, o)
                } finally {
                    St = N, U.p = g, z.T = c
                }
            }
            dn = 1, Am(), Rm(), Dm()
        }
    }

    function Am() {
        if (dn === 1) {
            dn = 0;
            var n = ki,
                i = cr,
                o = (i.flags & 13878) !== 0;
            if ((i.subtreeFlags & 13878) !== 0 || o) {
                o = z.T, z.T = null;
                var c = U.p;
                U.p = 2;
                var g = St;
                St |= 4;
                try {
                    dm(i, n);
                    var b = vh,
                        N = mp(n.containerInfo),
                        M = b.focusedElem,
                        Q = b.selectionRange;
                    if (N !== M && M && M.ownerDocument && gp(M.ownerDocument.documentElement, M)) {
                        if (Q !== null && Vd(M)) {
                            var ue = Q.start,
                                ye = Q.end;
                            if (ye === void 0 && (ye = ue), "selectionStart" in M) M.selectionStart = ue, M.selectionEnd = Math.min(ye, M.value.length);
                            else {
                                var we = M.ownerDocument || document,
                                    he = we && we.defaultView || window;
                                if (he.getSelection) {
                                    var pe = he.getSelection(),
                                        Ze = M.textContent.length,
                                        Ve = Math.min(Q.start, Ze),
                                        jt = Q.end === void 0 ? Ve : Math.min(Q.end, Ze);
                                    !pe.extend && Ve > jt && (N = jt, jt = Ve, Ve = N);
                                    var ae = pp(M, Ve),
                                        te = pp(M, jt);
                                    if (ae && te && (pe.rangeCount !== 1 || pe.anchorNode !== ae.node || pe.anchorOffset !== ae.offset || pe.focusNode !== te.node || pe.focusOffset !== te.offset)) {
                                        var ce = we.createRange();
                                        ce.setStart(ae.node, ae.offset), pe.removeAllRanges(), Ve > jt ? (pe.addRange(ce), pe.extend(te.node, te.offset)) : (ce.setEnd(te.node, te.offset), pe.addRange(ce))
                                    }
                                }
                            }
                        }
                        for (we = [], pe = M; pe = pe.parentNode;) pe.nodeType === 1 && we.push({
                            element: pe,
                            left: pe.scrollLeft,
                            top: pe.scrollTop
                        });
                        for (typeof M.focus == "function" && M.focus(), M = 0; M < we.length; M++) {
                            var ve = we[M];
                            ve.element.scrollLeft = ve.left, ve.element.scrollTop = ve.top
                        }
                    }
                    Bc = !!bh, vh = bh = null
                } finally {
                    St = g, U.p = c, z.T = o
                }
            }
            n.current = i, dn = 2
        }
    }

    function Rm() {
        if (dn === 2) {
            dn = 0;
            var n = ki,
                i = cr,
                o = (i.flags & 8772) !== 0;
            if ((i.subtreeFlags & 8772) !== 0 || o) {
                o = z.T, z.T = null;
                var c = U.p;
                U.p = 2;
                var g = St;
                St |= 4;
                try {
                    rm(n, i.alternate, i)
                } finally {
                    St = g, U.p = c, z.T = o
                }
            }
            dn = 3
        }
    }

    function Dm() {
        if (dn === 4 || dn === 3) {
            dn = 0, be();
            var n = ki,
                i = cr,
                o = dr,
                c = xm;
            (i.subtreeFlags & 10256) !== 0 || (i.flags & 10256) !== 0 ? dn = 5 : (dn = 0, cr = ki = null, Nm(n, n.pendingLanes));
            var g = n.pendingLanes;
            if (g === 0 && (ji = null), ps(o), i = i.stateNode, xe && typeof xe.onCommitFiberRoot == "function") try {
                xe.onCommitFiberRoot(oe, i, void 0, (i.current.flags & 128) === 128)
            } catch {}
            if (c !== null) {
                i = z.T, g = U.p, U.p = 2, z.T = null;
                try {
                    for (var b = n.onRecoverableError, N = 0; N < c.length; N++) {
                        var M = c[N];
                        b(M.value, {
                            componentStack: M.stack
                        })
                    }
                } finally {
                    z.T = i, U.p = g
                }
            }(dr & 3) !== 0 && Tc(), Ps(n), g = n.pendingLanes, (o & 4194090) !== 0 && (g & 42) !== 0 ? n === ah ? wo++ : (wo = 0, ah = n) : wo = 0, To(0)
        }
    }

    function Nm(n, i) {
        (n.pooledCacheLanes &= i) === 0 && (i = n.pooledCache, i != null && (n.pooledCache = null, no(i)))
    }

    function Tc(n) {
        return Am(), Rm(), Dm(), _m()
    }

    function _m() {
        if (dn !== 5) return !1;
        var n = ki,
            i = sh;
        sh = 0;
        var o = ps(dr),
            c = z.T,
            g = U.p;
        try {
            U.p = 32 > o ? 32 : o, z.T = null, o = ih, ih = null;
            var b = ki,
                N = dr;
            if (dn = 0, cr = ki = null, dr = 0, (St & 6) !== 0) throw Error(r(331));
            var M = St;
            if (St |= 4, gm(b.current), hm(b, b.current, N, o), St = M, To(0, !1), xe && typeof xe.onPostCommitFiberRoot == "function") try {
                xe.onPostCommitFiberRoot(oe, b)
            } catch {}
            return !0
        } finally {
            U.p = g, z.T = c, Nm(n, i)
        }
    }

    function Pm(n, i, o) {
        i = Zn(o, i), i = zu(n.stateNode, i, 2), n = mi(n, i, 2), n !== null && (Qt(n, 2), Ps(n))
    }

    function Et(n, i, o) {
        if (n.tag === 3) Pm(n, n, o);
        else
            for (; i !== null;) {
                if (i.tag === 3) {
                    Pm(i, n, o);
                    break
                } else if (i.tag === 1) {
                    var c = i.stateNode;
                    if (typeof i.type.getDerivedStateFromError == "function" || typeof c.componentDidCatch == "function" && (ji === null || !ji.has(c))) {
                        n = Zn(o, n), o = zg(2), c = mi(i, o, 2), c !== null && (Fg(o, c, i, n), Qt(c, 2), Ps(c));
                        break
                    }
                }
                i = i.return
            }
    }

    function ch(n, i, o) {
        var c = n.pingCache;
        if (c === null) {
            c = n.pingCache = new c1;
            var g = new Set;
            c.set(i, g)
        } else g = c.get(i), g === void 0 && (g = new Set, c.set(i, g));
        g.has(o) || (Ju = !0, g.add(o), n = p1.bind(null, n, i, o), i.then(n, n))
    }

    function p1(n, i, o) {
        var c = n.pingCache;
        c !== null && c.delete(i), n.pingedLanes |= n.suspendedLanes & o, n.warmLanes &= ~o, Dt === n && (ht & o) === o && (Ut === 4 || Ut === 3 && (ht & 62914560) === ht && 300 > qe() - nh ? (St & 2) === 0 && ur(n, 0) : eh |= o, lr === ht && (lr = 0)), Ps(n)
    }

    function Lm(n, i) {
        i === 0 && (i = Dl()), n = Va(n, i), n !== null && (Qt(n, i), Ps(n))
    }

    function g1(n) {
        var i = n.memoizedState,
            o = 0;
        i !== null && (o = i.retryLane), Lm(n, o)
    }

    function m1(n, i) {
        var o = 0;
        switch (n.tag) {
            case 13:
                var c = n.stateNode,
                    g = n.memoizedState;
                g !== null && (o = g.retryLane);
                break;
            case 19:
                c = n.stateNode;
                break;
            case 22:
                c = n.stateNode._retryCache;
                break;
            default:
                throw Error(r(314))
        }
        c !== null && c.delete(i), Lm(n, o)
    }

    function x1(n, i) {
        return Ee(n, i)
    }
    var jc = null,
        fr = null,
        dh = !1,
        kc = !1,
        uh = !1,
        ua = 0;

    function Ps(n) {
        n !== fr && n.next === null && (fr === null ? jc = fr = n : fr = fr.next = n), kc = !0, dh || (dh = !0, b1())
    }

    function To(n, i) {
        if (!uh && kc) {
            uh = !0;
            do
                for (var o = !1, c = jc; c !== null;) {
                    if (n !== 0) {
                        var g = c.pendingLanes;
                        if (g === 0) var b = 0;
                        else {
                            var N = c.suspendedLanes,
                                M = c.pingedLanes;
                            b = (1 << 31 - J(42 | n) + 1) - 1, b &= g & ~(N & ~M), b = b & 201326741 ? b & 201326741 | 1 : b ? b | 2 : 0
                        }
                        b !== 0 && (o = !0, Fm(c, b))
                    } else b = ht, b = hs(c, c === Dt ? b : 0, c.cancelPendingCommit !== null || c.timeoutHandle !== -1), (b & 3) === 0 || li(c, b) || (o = !0, Fm(c, b));
                    c = c.next
                }
            while (o);
            uh = !1
        }
    }

    function y1() {
        Mm()
    }

    function Mm() {
        kc = dh = !1;
        var n = 0;
        ua !== 0 && (E1() && (n = ua), ua = 0);
        for (var i = qe(), o = null, c = jc; c !== null;) {
            var g = c.next,
                b = Bm(c, i);
            b === 0 ? (c.next = null, o === null ? jc = g : o.next = g, g === null && (fr = o)) : (o = c, (n !== 0 || (b & 3) !== 0) && (kc = !0)), c = g
        }
        To(n)
    }

    function Bm(n, i) {
        for (var o = n.suspendedLanes, c = n.pingedLanes, g = n.expirationTimes, b = n.pendingLanes & -62914561; 0 < b;) {
            var N = 31 - J(b),
                M = 1 << N,
                Q = g[N];
            Q === -1 ? ((M & o) === 0 || (M & c) !== 0) && (g[N] = fs(M, i)) : Q <= i && (n.expiredLanes |= M), b &= ~M
        }
        if (i = Dt, o = ht, o = hs(n, n === i ? o : 0, n.cancelPendingCommit !== null || n.timeoutHandle !== -1), c = n.callbackNode, o === 0 || n === i && (Ct === 2 || Ct === 9) || n.cancelPendingCommit !== null) return c !== null && c !== null && Ae(c), n.callbackNode = null, n.callbackPriority = 0;
        if ((o & 3) === 0 || li(n, o)) {
            if (i = o & -o, i === n.callbackPriority) return i;
            switch (c !== null && Ae(c), ps(o)) {
                case 2:
                case 8:
                    o = Ce;
                    break;
                case 32:
                    o = _e;
                    break;
                case 268435456:
                    o = Fe;
                    break;
                default:
                    o = _e
            }
            return c = zm.bind(null, n), o = Ee(o, c), n.callbackPriority = i, n.callbackNode = o, i
        }
        return c !== null && c !== null && Ae(c), n.callbackPriority = 2, n.callbackNode = null, 2
    }

    function zm(n, i) {
        if (dn !== 0 && dn !== 5) return n.callbackNode = null, n.callbackPriority = 0, null;
        var o = n.callbackNode;
        if (Tc() && n.callbackNode !== o) return null;
        var c = ht;
        return c = hs(n, n === Dt ? c : 0, n.cancelPendingCommit !== null || n.timeoutHandle !== -1), c === 0 ? null : (bm(n, c, i), Bm(n, qe()), n.callbackNode != null && n.callbackNode === o ? zm.bind(null, n) : null)
    }

    function Fm(n, i) {
        if (Tc()) return null;
        bm(n, i, !0)
    }

    function b1() {
        R1(function() {
            (St & 6) !== 0 ? Ee(le, y1) : Mm()
        })
    }

    function hh() {
        return ua === 0 && (ua = Rd()), ua
    }

    function Im(n) {
        return n == null || typeof n == "symbol" || typeof n == "boolean" ? null : typeof n == "function" ? n : zl("" + n)
    }

    function Om(n, i) {
        var o = i.ownerDocument.createElement("input");
        return o.name = i.name, o.value = i.value, n.id && o.setAttribute("form", n.id), i.parentNode.insertBefore(o, i), n = new FormData(n), o.parentNode.removeChild(o), n
    }

    function v1(n, i, o, c, g) {
        if (i === "submit" && o && o.stateNode === g) {
            var b = Im((g[Ot] || null).action),
                N = c.submitter;
            N && (i = (i = N[Ot] || null) ? Im(i.formAction) : N.getAttribute("formAction"), i !== null && (b = i, N = null));
            var M = new Wl("action", "action", null, c, g);
            n.push({
                event: M,
                listeners: [{
                    instance: null,
                    listener: function() {
                        if (c.defaultPrevented) {
                            if (ua !== 0) {
                                var Q = N ? Om(g, N) : new FormData(g);
                                _u(o, {
                                    pending: !0,
                                    data: Q,
                                    method: g.method,
                                    action: b
                                }, null, Q)
                            }
                        } else typeof b == "function" && (M.preventDefault(), Q = N ? Om(g, N) : new FormData(g), _u(o, {
                            pending: !0,
                            data: Q,
                            method: g.method,
                            action: b
                        }, b, Q))
                    },
                    currentTarget: g
                }]
            })
        }
    }
    for (var fh = 0; fh < Kd.length; fh++) {
        var ph = Kd[fh],
            S1 = ph.toLowerCase(),
            C1 = ph[0].toUpperCase() + ph.slice(1);
        gs(S1, "on" + C1)
    }
    gs(bp, "onAnimationEnd"), gs(vp, "onAnimationIteration"), gs(Sp, "onAnimationStart"), gs("dblclick", "onDoubleClick"), gs("focusin", "onFocus"), gs("focusout", "onBlur"), gs(Ib, "onTransitionRun"), gs(Ob, "onTransitionStart"), gs(Wb, "onTransitionCancel"), gs(Cp, "onTransitionEnd"), $s("onMouseEnter", ["mouseout", "mouseover"]), $s("onMouseLeave", ["mouseout", "mouseover"]), $s("onPointerEnter", ["pointerout", "pointerover"]), $s("onPointerLeave", ["pointerout", "pointerover"]), As("onChange", "change click focusin focusout input keydown keyup selectionchange".split(" ")), As("onSelect", "focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")), As("onBeforeInput", ["compositionend", "keypress", "textInput", "paste"]), As("onCompositionEnd", "compositionend focusout keydown keypress keyup mousedown".split(" ")), As("onCompositionStart", "compositionstart focusout keydown keypress keyup mousedown".split(" ")), As("onCompositionUpdate", "compositionupdate focusout keydown keypress keyup mousedown".split(" "));
    var jo = "abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),
        w1 = new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(jo));

    function Wm(n, i) {
        i = (i & 4) !== 0;
        for (var o = 0; o < n.length; o++) {
            var c = n[o],
                g = c.event;
            c = c.listeners;
            e: {
                var b = void 0;
                if (i)
                    for (var N = c.length - 1; 0 <= N; N--) {
                        var M = c[N],
                            Q = M.instance,
                            ue = M.currentTarget;
                        if (M = M.listener, Q !== b && g.isPropagationStopped()) break e;
                        b = M, g.currentTarget = ue;
                        try {
                            b(g)
                        } catch (ye) {
                            fc(ye)
                        }
                        g.currentTarget = null, b = Q
                    } else
                        for (N = 0; N < c.length; N++) {
                            if (M = c[N], Q = M.instance, ue = M.currentTarget, M = M.listener, Q !== b && g.isPropagationStopped()) break e;
                            b = M, g.currentTarget = ue;
                            try {
                                b(g)
                            } catch (ye) {
                                fc(ye)
                            }
                            g.currentTarget = null, b = Q
                        }
            }
        }
    }

    function ct(n, i) {
        var o = i[Br];
        o === void 0 && (o = i[Br] = new Set);
        var c = n + "__bubble";
        o.has(c) || (Um(i, n, 2, !1), o.add(c))
    }

    function gh(n, i, o) {
        var c = 0;
        i && (c |= 4), Um(o, n, c, i)
    }
    var Ec = "_reactListening" + Math.random().toString(36).slice(2);

    function mh(n) {
        if (!n[Ec]) {
            n[Ec] = !0, Or.forEach(function(o) {
                o !== "selectionchange" && (w1.has(o) || gh(o, !1, n), gh(o, !0, n))
            });
            var i = n.nodeType === 9 ? n : n.ownerDocument;
            i === null || i[Ec] || (i[Ec] = !0, gh("selectionchange", !1, i))
        }
    }

    function Um(n, i, o, c) {
        switch (hx(i)) {
            case 2:
                var g = Q1;
                break;
            case 8:
                g = K1;
                break;
            default:
                g = Dh
        }
        o = g.bind(null, i, o, n), g = void 0, !Fd || i !== "touchstart" && i !== "touchmove" && i !== "wheel" || (g = !0), c ? g !== void 0 ? n.addEventListener(i, o, {
            capture: !0,
            passive: g
        }) : n.addEventListener(i, o, !0) : g !== void 0 ? n.addEventListener(i, o, {
            passive: g
        }) : n.addEventListener(i, o, !1)
    }

    function xh(n, i, o, c, g) {
        var b = c;
        if ((i & 1) === 0 && (i & 2) === 0 && c !== null) e: for (;;) {
            if (c === null) return;
            var N = c.tag;
            if (N === 3 || N === 4) {
                var M = c.stateNode.containerInfo;
                if (M === g) break;
                if (N === 4)
                    for (N = c.return; N !== null;) {
                        var Q = N.tag;
                        if ((Q === 3 || Q === 4) && N.stateNode.containerInfo === g) return;
                        N = N.return
                    }
                for (; M !== null;) {
                    if (N = ui(M), N === null) return;
                    if (Q = N.tag, Q === 5 || Q === 6 || Q === 26 || Q === 27) {
                        c = b = N;
                        continue e
                    }
                    M = M.parentNode
                }
            }
            c = c.return
        }
        Xf(function() {
            var ue = b,
                ye = Bd(o),
                we = [];
            e: {
                var he = wp.get(n);
                if (he !== void 0) {
                    var pe = Wl,
                        Ze = n;
                    switch (n) {
                        case "keypress":
                            if (Il(o) === 0) break e;
                        case "keydown":
                        case "keyup":
                            pe = xb;
                            break;
                        case "focusin":
                            Ze = "focus", pe = Ud;
                            break;
                        case "focusout":
                            Ze = "blur", pe = Ud;
                            break;
                        case "beforeblur":
                        case "afterblur":
                            pe = Ud;
                            break;
                        case "click":
                            if (o.button === 2) break e;
                        case "auxclick":
                        case "dblclick":
                        case "mousedown":
                        case "mousemove":
                        case "mouseup":
                        case "mouseout":
                        case "mouseover":
                        case "contextmenu":
                            pe = Zf;
                            break;
                        case "drag":
                        case "dragend":
                        case "dragenter":
                        case "dragexit":
                        case "dragleave":
                        case "dragover":
                        case "dragstart":
                        case "drop":
                            pe = ab;
                            break;
                        case "touchcancel":
                        case "touchend":
                        case "touchmove":
                        case "touchstart":
                            pe = vb;
                            break;
                        case bp:
                        case vp:
                        case Sp:
                            pe = lb;
                            break;
                        case Cp:
                            pe = Cb;
                            break;
                        case "scroll":
                        case "scrollend":
                            pe = sb;
                            break;
                        case "wheel":
                            pe = Tb;
                            break;
                        case "copy":
                        case "cut":
                        case "paste":
                            pe = db;
                            break;
                        case "gotpointercapture":
                        case "lostpointercapture":
                        case "pointercancel":
                        case "pointerdown":
                        case "pointermove":
                        case "pointerout":
                        case "pointerover":
                        case "pointerup":
                            pe = ep;
                            break;
                        case "toggle":
                        case "beforetoggle":
                            pe = kb
                    }
                    var Ve = (i & 4) !== 0,
                        jt = !Ve && (n === "scroll" || n === "scrollend"),
                        ae = Ve ? he !== null ? he + "Capture" : null : he;
                    Ve = [];
                    for (var te = ue, ce; te !== null;) {
                        var ve = te;
                        if (ce = ve.stateNode, ve = ve.tag, ve !== 5 && ve !== 26 && ve !== 27 || ce === null || ae === null || (ve = Hr(te, ae), ve != null && Ve.push(ko(te, ve, ce))), jt) break;
                        te = te.return
                    }
                    0 < Ve.length && (he = new pe(he, Ze, null, o, ye), we.push({
                        event: he,
                        listeners: Ve
                    }))
                }
            }
            if ((i & 7) === 0) {
                e: {
                    if (he = n === "mouseover" || n === "pointerover", pe = n === "mouseout" || n === "pointerout", he && o !== Md && (Ze = o.relatedTarget || o.fromElement) && (ui(Ze) || Ze[ci])) break e;
                    if ((pe || he) && (he = ye.window === ye ? ye : (he = ye.ownerDocument) ? he.defaultView || he.parentWindow : window, pe ? (Ze = o.relatedTarget || o.toElement, pe = ue, Ze = Ze ? ui(Ze) : null, Ze !== null && (jt = d(Ze), Ve = Ze.tag, Ze !== jt || Ve !== 5 && Ve !== 27 && Ve !== 6) && (Ze = null)) : (pe = null, Ze = ue), pe !== Ze)) {
                        if (Ve = Zf, ve = "onMouseLeave", ae = "onMouseEnter", te = "mouse", (n === "pointerout" || n === "pointerover") && (Ve = ep, ve = "onPointerLeave", ae = "onPointerEnter", te = "pointer"), jt = pe == null ? he : Yi(pe), ce = Ze == null ? he : Yi(Ze), he = new Ve(ve, te + "leave", pe, o, ye), he.target = jt, he.relatedTarget = ce, ve = null, ui(ye) === ue && (Ve = new Ve(ae, te + "enter", Ze, o, ye), Ve.target = ce, Ve.relatedTarget = jt, ve = Ve), jt = ve, pe && Ze) t: {
                            for (Ve = pe, ae = Ze, te = 0, ce = Ve; ce; ce = pr(ce)) te++;
                            for (ce = 0, ve = ae; ve; ve = pr(ve)) ce++;
                            for (; 0 < te - ce;) Ve = pr(Ve),
                            te--;
                            for (; 0 < ce - te;) ae = pr(ae),
                            ce--;
                            for (; te--;) {
                                if (Ve === ae || ae !== null && Ve === ae.alternate) break t;
                                Ve = pr(Ve), ae = pr(ae)
                            }
                            Ve = null
                        }
                        else Ve = null;
                        pe !== null && Hm(we, he, pe, Ve, !1), Ze !== null && jt !== null && Hm(we, jt, Ze, Ve, !0)
                    }
                }
                e: {
                    if (he = ue ? Yi(ue) : window, pe = he.nodeName && he.nodeName.toLowerCase(), pe === "select" || pe === "input" && he.type === "file") var Ie = lp;
                    else if (rp(he))
                        if (cp) Ie = Bb;
                        else {
                            Ie = Lb;
                            var rt = Pb
                        }
                    else pe = he.nodeName,
                    !pe || pe.toLowerCase() !== "input" || he.type !== "checkbox" && he.type !== "radio" ? ue && Ld(ue.elementType) && (Ie = lp) : Ie = Mb;
                    if (Ie && (Ie = Ie(n, ue))) {
                        op(we, Ie, o, ye);
                        break e
                    }
                    rt && rt(n, he, ue),
                    n === "focusout" && ue && he.type === "number" && ue.memoizedProps.value != null && Pd(he, "number", he.value)
                }
                switch (rt = ue ? Yi(ue) : window, n) {
                    case "focusin":
                        (rp(rt) || rt.contentEditable === "true") && ($a = rt, qd = ue, Kr = null);
                        break;
                    case "focusout":
                        Kr = qd = $a = null;
                        break;
                    case "mousedown":
                        Xd = !0;
                        break;
                    case "contextmenu":
                    case "mouseup":
                    case "dragend":
                        Xd = !1, xp(we, o, ye);
                        break;
                    case "selectionchange":
                        if (Fb) break;
                    case "keydown":
                    case "keyup":
                        xp(we, o, ye)
                }
                var He;
                if ($d) e: {
                    switch (n) {
                        case "compositionstart":
                            var Xe = "onCompositionStart";
                            break e;
                        case "compositionend":
                            Xe = "onCompositionEnd";
                            break e;
                        case "compositionupdate":
                            Xe = "onCompositionUpdate";
                            break e
                    }
                    Xe = void 0
                }
                else Ha ? ip(n, o) && (Xe = "onCompositionEnd") : n === "keydown" && o.keyCode === 229 && (Xe = "onCompositionStart");Xe && (tp && o.locale !== "ko" && (Ha || Xe !== "onCompositionStart" ? Xe === "onCompositionEnd" && Ha && (He = Qf()) : (hi = ye, Id = "value" in hi ? hi.value : hi.textContent, Ha = !0)), rt = Ac(ue, Xe), 0 < rt.length && (Xe = new Jf(Xe, n, null, o, ye), we.push({
                    event: Xe,
                    listeners: rt
                }), He ? Xe.data = He : (He = ap(o), He !== null && (Xe.data = He)))),
                (He = Ab ? Rb(n, o) : Db(n, o)) && (Xe = Ac(ue, "onBeforeInput"), 0 < Xe.length && (rt = new Jf("onBeforeInput", "beforeinput", null, o, ye), we.push({
                    event: rt,
                    listeners: Xe
                }), rt.data = He)),
                v1(we, n, ue, o, ye)
            }
            Wm(we, i)
        })
    }

    function ko(n, i, o) {
        return {
            instance: n,
            listener: i,
            currentTarget: o
        }
    }

    function Ac(n, i) {
        for (var o = i + "Capture", c = []; n !== null;) {
            var g = n,
                b = g.stateNode;
            if (g = g.tag, g !== 5 && g !== 26 && g !== 27 || b === null || (g = Hr(n, o), g != null && c.unshift(ko(n, g, b)), g = Hr(n, i), g != null && c.push(ko(n, g, b))), n.tag === 3) return c;
            n = n.return
        }
        return []
    }

    function pr(n) {
        if (n === null) return null;
        do n = n.return; while (n && n.tag !== 5 && n.tag !== 27);
        return n || null
    }

    function Hm(n, i, o, c, g) {
        for (var b = i._reactName, N = []; o !== null && o !== c;) {
            var M = o,
                Q = M.alternate,
                ue = M.stateNode;
            if (M = M.tag, Q !== null && Q === c) break;
            M !== 5 && M !== 26 && M !== 27 || ue === null || (Q = ue, g ? (ue = Hr(o, b), ue != null && N.unshift(ko(o, ue, Q))) : g || (ue = Hr(o, b), ue != null && N.push(ko(o, ue, Q)))), o = o.return
        }
        N.length !== 0 && n.push({
            event: i,
            listeners: N
        })
    }
    var T1 = /\r\n?/g,
        j1 = /\u0000|\uFFFD/g;

    function $m(n) {
        return (typeof n == "string" ? n : "" + n).replace(T1, `
`).replace(j1, "")
    }

    function Gm(n, i) {
        return i = $m(i), $m(n) === i
    }

    function Rc() {}

    function Tt(n, i, o, c, g, b) {
        switch (o) {
            case "children":
                typeof c == "string" ? i === "body" || i === "textarea" && c === "" || Oa(n, c) : (typeof c == "number" || typeof c == "bigint") && i !== "body" && Oa(n, "" + c);
                break;
            case "className":
                ut(n, "class", c);
                break;
            case "tabIndex":
                ut(n, "tabindex", c);
                break;
            case "dir":
            case "role":
            case "viewBox":
            case "width":
            case "height":
                ut(n, o, c);
                break;
            case "style":
                Vf(n, c, b);
                break;
            case "data":
                if (i !== "object") {
                    ut(n, "data", c);
                    break
                }
            case "src":
            case "href":
                if (c === "" && (i !== "a" || o !== "href")) {
                    n.removeAttribute(o);
                    break
                }
                if (c == null || typeof c == "function" || typeof c == "symbol" || typeof c == "boolean") {
                    n.removeAttribute(o);
                    break
                }
                c = zl("" + c), n.setAttribute(o, c);
                break;
            case "action":
            case "formAction":
                if (typeof c == "function") {
                    n.setAttribute(o, "javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");
                    break
                } else typeof b == "function" && (o === "formAction" ? (i !== "input" && Tt(n, i, "name", g.name, g, null), Tt(n, i, "formEncType", g.formEncType, g, null), Tt(n, i, "formMethod", g.formMethod, g, null), Tt(n, i, "formTarget", g.formTarget, g, null)) : (Tt(n, i, "encType", g.encType, g, null), Tt(n, i, "method", g.method, g, null), Tt(n, i, "target", g.target, g, null)));
                if (c == null || typeof c == "symbol" || typeof c == "boolean") {
                    n.removeAttribute(o);
                    break
                }
                c = zl("" + c), n.setAttribute(o, c);
                break;
            case "onClick":
                c != null && (n.onclick = Rc);
                break;
            case "onScroll":
                c != null && ct("scroll", n);
                break;
            case "onScrollEnd":
                c != null && ct("scrollend", n);
                break;
            case "dangerouslySetInnerHTML":
                if (c != null) {
                    if (typeof c != "object" || !("__html" in c)) throw Error(r(61));
                    if (o = c.__html, o != null) {
                        if (g.children != null) throw Error(r(60));
                        n.innerHTML = o
                    }
                }
                break;
            case "multiple":
                n.multiple = c && typeof c != "function" && typeof c != "symbol";
                break;
            case "muted":
                n.muted = c && typeof c != "function" && typeof c != "symbol";
                break;
            case "suppressContentEditableWarning":
            case "suppressHydrationWarning":
            case "defaultValue":
            case "defaultChecked":
            case "innerHTML":
            case "ref":
                break;
            case "autoFocus":
                break;
            case "xlinkHref":
                if (c == null || typeof c == "function" || typeof c == "boolean" || typeof c == "symbol") {
                    n.removeAttribute("xlink:href");
                    break
                }
                o = zl("" + c), n.setAttributeNS("http://www.w3.org/1999/xlink", "xlink:href", o);
                break;
            case "contentEditable":
            case "spellCheck":
            case "draggable":
            case "value":
            case "autoReverse":
            case "externalResourcesRequired":
            case "focusable":
            case "preserveAlpha":
                c != null && typeof c != "function" && typeof c != "symbol" ? n.setAttribute(o, "" + c) : n.removeAttribute(o);
                break;
            case "inert":
            case "allowFullScreen":
            case "async":
            case "autoPlay":
            case "controls":
            case "default":
            case "defer":
            case "disabled":
            case "disablePictureInPicture":
            case "disableRemotePlayback":
            case "formNoValidate":
            case "hidden":
            case "loop":
            case "noModule":
            case "noValidate":
            case "open":
            case "playsInline":
            case "readOnly":
            case "required":
            case "reversed":
            case "scoped":
            case "seamless":
            case "itemScope":
                c && typeof c != "function" && typeof c != "symbol" ? n.setAttribute(o, "") : n.removeAttribute(o);
                break;
            case "capture":
            case "download":
                c === !0 ? n.setAttribute(o, "") : c !== !1 && c != null && typeof c != "function" && typeof c != "symbol" ? n.setAttribute(o, c) : n.removeAttribute(o);
                break;
            case "cols":
            case "rows":
            case "size":
            case "span":
                c != null && typeof c != "function" && typeof c != "symbol" && !isNaN(c) && 1 <= c ? n.setAttribute(o, c) : n.removeAttribute(o);
                break;
            case "rowSpan":
            case "start":
                c == null || typeof c == "function" || typeof c == "symbol" || isNaN(c) ? n.removeAttribute(o) : n.setAttribute(o, c);
                break;
            case "popover":
                ct("beforetoggle", n), ct("toggle", n), st(n, "popover", c);
                break;
            case "xlinkActuate":
                gn(n, "http://www.w3.org/1999/xlink", "xlink:actuate", c);
                break;
            case "xlinkArcrole":
                gn(n, "http://www.w3.org/1999/xlink", "xlink:arcrole", c);
                break;
            case "xlinkRole":
                gn(n, "http://www.w3.org/1999/xlink", "xlink:role", c);
                break;
            case "xlinkShow":
                gn(n, "http://www.w3.org/1999/xlink", "xlink:show", c);
                break;
            case "xlinkTitle":
                gn(n, "http://www.w3.org/1999/xlink", "xlink:title", c);
                break;
            case "xlinkType":
                gn(n, "http://www.w3.org/1999/xlink", "xlink:type", c);
                break;
            case "xmlBase":
                gn(n, "http://www.w3.org/XML/1998/namespace", "xml:base", c);
                break;
            case "xmlLang":
                gn(n, "http://www.w3.org/XML/1998/namespace", "xml:lang", c);
                break;
            case "xmlSpace":
                gn(n, "http://www.w3.org/XML/1998/namespace", "xml:space", c);
                break;
            case "is":
                st(n, "is", c);
                break;
            case "innerText":
            case "textContent":
                break;
            default:
                (!(2 < o.length) || o[0] !== "o" && o[0] !== "O" || o[1] !== "n" && o[1] !== "N") && (o = tb.get(o) || o, st(n, o, c))
        }
    }

    function yh(n, i, o, c, g, b) {
        switch (o) {
            case "style":
                Vf(n, c, b);
                break;
            case "dangerouslySetInnerHTML":
                if (c != null) {
                    if (typeof c != "object" || !("__html" in c)) throw Error(r(61));
                    if (o = c.__html, o != null) {
                        if (g.children != null) throw Error(r(60));
                        n.innerHTML = o
                    }
                }
                break;
            case "children":
                typeof c == "string" ? Oa(n, c) : (typeof c == "number" || typeof c == "bigint") && Oa(n, "" + c);
                break;
            case "onScroll":
                c != null && ct("scroll", n);
                break;
            case "onScrollEnd":
                c != null && ct("scrollend", n);
                break;
            case "onClick":
                c != null && (n.onclick = Rc);
                break;
            case "suppressContentEditableWarning":
            case "suppressHydrationWarning":
            case "innerHTML":
            case "ref":
                break;
            case "innerText":
            case "textContent":
                break;
            default:
                if (!_l.hasOwnProperty(o)) e: {
                    if (o[0] === "o" && o[1] === "n" && (g = o.endsWith("Capture"), i = o.slice(2, g ? o.length - 7 : void 0), b = n[Ot] || null, b = b != null ? b[o] : null, typeof b == "function" && n.removeEventListener(i, b, g), typeof c == "function")) {
                        typeof b != "function" && b !== null && (o in n ? n[o] = null : n.hasAttribute(o) && n.removeAttribute(o)), n.addEventListener(i, c, g);
                        break e
                    }
                    o in n ? n[o] = c : c === !0 ? n.setAttribute(o, "") : st(n, o, c)
                }
        }
    }

    function un(n, i, o) {
        switch (i) {
            case "div":
            case "span":
            case "svg":
            case "path":
            case "a":
            case "g":
            case "p":
            case "li":
                break;
            case "img":
                ct("error", n), ct("load", n);
                var c = !1,
                    g = !1,
                    b;
                for (b in o)
                    if (o.hasOwnProperty(b)) {
                        var N = o[b];
                        if (N != null) switch (b) {
                            case "src":
                                c = !0;
                                break;
                            case "srcSet":
                                g = !0;
                                break;
                            case "children":
                            case "dangerouslySetInnerHTML":
                                throw Error(r(137, i));
                            default:
                                Tt(n, i, b, N, o, null)
                        }
                    }
                g && Tt(n, i, "srcSet", o.srcSet, o, null), c && Tt(n, i, "src", o.src, o, null);
                return;
            case "input":
                ct("invalid", n);
                var M = b = N = g = null,
                    Q = null,
                    ue = null;
                for (c in o)
                    if (o.hasOwnProperty(c)) {
                        var ye = o[c];
                        if (ye != null) switch (c) {
                            case "name":
                                g = ye;
                                break;
                            case "type":
                                N = ye;
                                break;
                            case "checked":
                                Q = ye;
                                break;
                            case "defaultChecked":
                                ue = ye;
                                break;
                            case "value":
                                b = ye;
                                break;
                            case "defaultValue":
                                M = ye;
                                break;
                            case "children":
                            case "dangerouslySetInnerHTML":
                                if (ye != null) throw Error(r(137, i));
                                break;
                            default:
                                Tt(n, i, c, ye, o, null)
                        }
                    }
                Hf(n, b, M, Q, ue, N, g, !1), Ml(n);
                return;
            case "select":
                ct("invalid", n), c = N = b = null;
                for (g in o)
                    if (o.hasOwnProperty(g) && (M = o[g], M != null)) switch (g) {
                        case "value":
                            b = M;
                            break;
                        case "defaultValue":
                            N = M;
                            break;
                        case "multiple":
                            c = M;
                        default:
                            Tt(n, i, g, M, o, null)
                    }
                i = b, o = N, n.multiple = !!c, i != null ? Ia(n, !!c, i, !1) : o != null && Ia(n, !!c, o, !0);
                return;
            case "textarea":
                ct("invalid", n), b = g = c = null;
                for (N in o)
                    if (o.hasOwnProperty(N) && (M = o[N], M != null)) switch (N) {
                        case "value":
                            c = M;
                            break;
                        case "defaultValue":
                            g = M;
                            break;
                        case "children":
                            b = M;
                            break;
                        case "dangerouslySetInnerHTML":
                            if (M != null) throw Error(r(91));
                            break;
                        default:
                            Tt(n, i, N, M, o, null)
                    }
                Gf(n, c, g, b), Ml(n);
                return;
            case "option":
                for (Q in o)
                    if (o.hasOwnProperty(Q) && (c = o[Q], c != null)) switch (Q) {
                        case "selected":
                            n.selected = c && typeof c != "function" && typeof c != "symbol";
                            break;
                        default:
                            Tt(n, i, Q, c, o, null)
                    }
                return;
            case "dialog":
                ct("beforetoggle", n), ct("toggle", n), ct("cancel", n), ct("close", n);
                break;
            case "iframe":
            case "object":
                ct("load", n);
                break;
            case "video":
            case "audio":
                for (c = 0; c < jo.length; c++) ct(jo[c], n);
                break;
            case "image":
                ct("error", n), ct("load", n);
                break;
            case "details":
                ct("toggle", n);
                break;
            case "embed":
            case "source":
            case "link":
                ct("error", n), ct("load", n);
            case "area":
            case "base":
            case "br":
            case "col":
            case "hr":
            case "keygen":
            case "meta":
            case "param":
            case "track":
            case "wbr":
            case "menuitem":
                for (ue in o)
                    if (o.hasOwnProperty(ue) && (c = o[ue], c != null)) switch (ue) {
                        case "children":
                        case "dangerouslySetInnerHTML":
                            throw Error(r(137, i));
                        default:
                            Tt(n, i, ue, c, o, null)
                    }
                return;
            default:
                if (Ld(i)) {
                    for (ye in o) o.hasOwnProperty(ye) && (c = o[ye], c !== void 0 && yh(n, i, ye, c, o, void 0));
                    return
                }
        }
        for (M in o) o.hasOwnProperty(M) && (c = o[M], c != null && Tt(n, i, M, c, o, null))
    }

    function k1(n, i, o, c) {
        switch (i) {
            case "div":
            case "span":
            case "svg":
            case "path":
            case "a":
            case "g":
            case "p":
            case "li":
                break;
            case "input":
                var g = null,
                    b = null,
                    N = null,
                    M = null,
                    Q = null,
                    ue = null,
                    ye = null;
                for (pe in o) {
                    var we = o[pe];
                    if (o.hasOwnProperty(pe) && we != null) switch (pe) {
                        case "checked":
                            break;
                        case "value":
                            break;
                        case "defaultValue":
                            Q = we;
                        default:
                            c.hasOwnProperty(pe) || Tt(n, i, pe, null, c, we)
                    }
                }
                for (var he in c) {
                    var pe = c[he];
                    if (we = o[he], c.hasOwnProperty(he) && (pe != null || we != null)) switch (he) {
                        case "type":
                            b = pe;
                            break;
                        case "name":
                            g = pe;
                            break;
                        case "checked":
                            ue = pe;
                            break;
                        case "defaultChecked":
                            ye = pe;
                            break;
                        case "value":
                            N = pe;
                            break;
                        case "defaultValue":
                            M = pe;
                            break;
                        case "children":
                        case "dangerouslySetInnerHTML":
                            if (pe != null) throw Error(r(137, i));
                            break;
                        default:
                            pe !== we && Tt(n, i, he, pe, c, we)
                    }
                }
                _d(n, N, M, Q, ue, ye, b, g);
                return;
            case "select":
                pe = N = M = he = null;
                for (b in o)
                    if (Q = o[b], o.hasOwnProperty(b) && Q != null) switch (b) {
                        case "value":
                            break;
                        case "multiple":
                            pe = Q;
                        default:
                            c.hasOwnProperty(b) || Tt(n, i, b, null, c, Q)
                    }
                for (g in c)
                    if (b = c[g], Q = o[g], c.hasOwnProperty(g) && (b != null || Q != null)) switch (g) {
                        case "value":
                            he = b;
                            break;
                        case "defaultValue":
                            M = b;
                            break;
                        case "multiple":
                            N = b;
                        default:
                            b !== Q && Tt(n, i, g, b, c, Q)
                    }
                i = M, o = N, c = pe, he != null ? Ia(n, !!o, he, !1) : !!c != !!o && (i != null ? Ia(n, !!o, i, !0) : Ia(n, !!o, o ? [] : "", !1));
                return;
            case "textarea":
                pe = he = null;
                for (M in o)
                    if (g = o[M], o.hasOwnProperty(M) && g != null && !c.hasOwnProperty(M)) switch (M) {
                        case "value":
                            break;
                        case "children":
                            break;
                        default:
                            Tt(n, i, M, null, c, g)
                    }
                for (N in c)
                    if (g = c[N], b = o[N], c.hasOwnProperty(N) && (g != null || b != null)) switch (N) {
                        case "value":
                            he = g;
                            break;
                        case "defaultValue":
                            pe = g;
                            break;
                        case "children":
                            break;
                        case "dangerouslySetInnerHTML":
                            if (g != null) throw Error(r(91));
                            break;
                        default:
                            g !== b && Tt(n, i, N, g, c, b)
                    }
                $f(n, he, pe);
                return;
            case "option":
                for (var Ze in o)
                    if (he = o[Ze], o.hasOwnProperty(Ze) && he != null && !c.hasOwnProperty(Ze)) switch (Ze) {
                        case "selected":
                            n.selected = !1;
                            break;
                        default:
                            Tt(n, i, Ze, null, c, he)
                    }
                for (Q in c)
                    if (he = c[Q], pe = o[Q], c.hasOwnProperty(Q) && he !== pe && (he != null || pe != null)) switch (Q) {
                        case "selected":
                            n.selected = he && typeof he != "function" && typeof he != "symbol";
                            break;
                        default:
                            Tt(n, i, Q, he, c, pe)
                    }
                return;
            case "img":
            case "link":
            case "area":
            case "base":
            case "br":
            case "col":
            case "embed":
            case "hr":
            case "keygen":
            case "meta":
            case "param":
            case "source":
            case "track":
            case "wbr":
            case "menuitem":
                for (var Ve in o) he = o[Ve], o.hasOwnProperty(Ve) && he != null && !c.hasOwnProperty(Ve) && Tt(n, i, Ve, null, c, he);
                for (ue in c)
                    if (he = c[ue], pe = o[ue], c.hasOwnProperty(ue) && he !== pe && (he != null || pe != null)) switch (ue) {
                        case "children":
                        case "dangerouslySetInnerHTML":
                            if (he != null) throw Error(r(137, i));
                            break;
                        default:
                            Tt(n, i, ue, he, c, pe)
                    }
                return;
            default:
                if (Ld(i)) {
                    for (var jt in o) he = o[jt], o.hasOwnProperty(jt) && he !== void 0 && !c.hasOwnProperty(jt) && yh(n, i, jt, void 0, c, he);
                    for (ye in c) he = c[ye], pe = o[ye], !c.hasOwnProperty(ye) || he === pe || he === void 0 && pe === void 0 || yh(n, i, ye, he, c, pe);
                    return
                }
        }
        for (var ae in o) he = o[ae], o.hasOwnProperty(ae) && he != null && !c.hasOwnProperty(ae) && Tt(n, i, ae, null, c, he);
        for (we in c) he = c[we], pe = o[we], !c.hasOwnProperty(we) || he === pe || he == null && pe == null || Tt(n, i, we, he, c, pe)
    }
    var bh = null,
        vh = null;

    function Dc(n) {
        return n.nodeType === 9 ? n : n.ownerDocument
    }

    function Ym(n) {
        switch (n) {
            case "http://www.w3.org/2000/svg":
                return 1;
            case "http://www.w3.org/1998/Math/MathML":
                return 2;
            default:
                return 0
        }
    }

    function Vm(n, i) {
        if (n === 0) switch (i) {
            case "svg":
                return 1;
            case "math":
                return 2;
            default:
                return 0
        }
        return n === 1 && i === "foreignObject" ? 0 : n
    }

    function Sh(n, i) {
        return n === "textarea" || n === "noscript" || typeof i.children == "string" || typeof i.children == "number" || typeof i.children == "bigint" || typeof i.dangerouslySetInnerHTML == "object" && i.dangerouslySetInnerHTML !== null && i.dangerouslySetInnerHTML.__html != null
    }
    var Ch = null;

    function E1() {
        var n = window.event;
        return n && n.type === "popstate" ? n === Ch ? !1 : (Ch = n, !0) : (Ch = null, !1)
    }
    var qm = typeof setTimeout == "function" ? setTimeout : void 0,
        A1 = typeof clearTimeout == "function" ? clearTimeout : void 0,
        Xm = typeof Promise == "function" ? Promise : void 0,
        R1 = typeof queueMicrotask == "function" ? queueMicrotask : typeof Xm < "u" ? function(n) {
            return Xm.resolve(null).then(n).catch(D1)
        } : qm;

    function D1(n) {
        setTimeout(function() {
            throw n
        })
    }

    function Ai(n) {
        return n === "head"
    }

    function Qm(n, i) {
        var o = i,
            c = 0,
            g = 0;
        do {
            var b = o.nextSibling;
            if (n.removeChild(o), b && b.nodeType === 8)
                if (o = b.data, o === "/$") {
                    if (0 < c && 8 > c) {
                        o = c;
                        var N = n.ownerDocument;
                        if (o & 1 && Eo(N.documentElement), o & 2 && Eo(N.body), o & 4)
                            for (o = N.head, Eo(o), N = o.firstChild; N;) {
                                var M = N.nextSibling,
                                    Q = N.nodeName;
                                N[di] || Q === "SCRIPT" || Q === "STYLE" || Q === "LINK" && N.rel.toLowerCase() === "stylesheet" || o.removeChild(N), N = M
                            }
                    }
                    if (g === 0) {
                        n.removeChild(b), Mo(i);
                        return
                    }
                    g--
                } else o === "$" || o === "$?" || o === "$!" ? g++ : c = o.charCodeAt(0) - 48;
            else c = 0;
            o = b
        } while (o);
        Mo(i)
    }

    function wh(n) {
        var i = n.firstChild;
        for (i && i.nodeType === 10 && (i = i.nextSibling); i;) {
            var o = i;
            switch (i = i.nextSibling, o.nodeName) {
                case "HTML":
                case "HEAD":
                case "BODY":
                    wh(o), Ir(o);
                    continue;
                case "SCRIPT":
                case "STYLE":
                    continue;
                case "LINK":
                    if (o.rel.toLowerCase() === "stylesheet") continue
            }
            n.removeChild(o)
        }
    }

    function N1(n, i, o, c) {
        for (; n.nodeType === 1;) {
            var g = o;
            if (n.nodeName.toLowerCase() !== i.toLowerCase()) {
                if (!c && (n.nodeName !== "INPUT" || n.type !== "hidden")) break
            } else if (c) {
                if (!n[di]) switch (i) {
                    case "meta":
                        if (!n.hasAttribute("itemprop")) break;
                        return n;
                    case "link":
                        if (b = n.getAttribute("rel"), b === "stylesheet" && n.hasAttribute("data-precedence")) break;
                        if (b !== g.rel || n.getAttribute("href") !== (g.href == null || g.href === "" ? null : g.href) || n.getAttribute("crossorigin") !== (g.crossOrigin == null ? null : g.crossOrigin) || n.getAttribute("title") !== (g.title == null ? null : g.title)) break;
                        return n;
                    case "style":
                        if (n.hasAttribute("data-precedence")) break;
                        return n;
                    case "script":
                        if (b = n.getAttribute("src"), (b !== (g.src == null ? null : g.src) || n.getAttribute("type") !== (g.type == null ? null : g.type) || n.getAttribute("crossorigin") !== (g.crossOrigin == null ? null : g.crossOrigin)) && b && n.hasAttribute("async") && !n.hasAttribute("itemprop")) break;
                        return n;
                    default:
                        return n
                }
            } else if (i === "input" && n.type === "hidden") {
                var b = g.name == null ? null : "" + g.name;
                if (g.type === "hidden" && n.getAttribute("name") === b) return n
            } else return n;
            if (n = xs(n.nextSibling), n === null) break
        }
        return null
    }

    function _1(n, i, o) {
        if (i === "") return null;
        for (; n.nodeType !== 3;)
            if ((n.nodeType !== 1 || n.nodeName !== "INPUT" || n.type !== "hidden") && !o || (n = xs(n.nextSibling), n === null)) return null;
        return n
    }

    function Th(n) {
        return n.data === "$!" || n.data === "$?" && n.ownerDocument.readyState === "complete"
    }

    function P1(n, i) {
        var o = n.ownerDocument;
        if (n.data !== "$?" || o.readyState === "complete") i();
        else {
            var c = function() {
                i(), o.removeEventListener("DOMContentLoaded", c)
            };
            o.addEventListener("DOMContentLoaded", c), n._reactRetry = c
        }
    }

    function xs(n) {
        for (; n != null; n = n.nextSibling) {
            var i = n.nodeType;
            if (i === 1 || i === 3) break;
            if (i === 8) {
                if (i = n.data, i === "$" || i === "$!" || i === "$?" || i === "F!" || i === "F") break;
                if (i === "/$") return null
            }
        }
        return n
    }
    var jh = null;

    function Km(n) {
        n = n.previousSibling;
        for (var i = 0; n;) {
            if (n.nodeType === 8) {
                var o = n.data;
                if (o === "$" || o === "$!" || o === "$?") {
                    if (i === 0) return n;
                    i--
                } else o === "/$" && i++
            }
            n = n.previousSibling
        }
        return null
    }

    function Zm(n, i, o) {
        switch (i = Dc(o), n) {
            case "html":
                if (n = i.documentElement, !n) throw Error(r(452));
                return n;
            case "head":
                if (n = i.head, !n) throw Error(r(453));
                return n;
            case "body":
                if (n = i.body, !n) throw Error(r(454));
                return n;
            default:
                throw Error(r(451))
        }
    }

    function Eo(n) {
        for (var i = n.attributes; i.length;) n.removeAttributeNode(i[0]);
        Ir(n)
    }
    var is = new Map,
        Jm = new Set;

    function Nc(n) {
        return typeof n.getRootNode == "function" ? n.getRootNode() : n.nodeType === 9 ? n : n.ownerDocument
    }
    var ii = U.d;
    U.d = {
        f: L1,
        r: M1,
        D: B1,
        C: z1,
        L: F1,
        m: I1,
        X: W1,
        S: O1,
        M: U1
    };

    function L1() {
        var n = ii.f(),
            i = Cc();
        return n || i
    }

    function M1(n) {
        var i = Us(n);
        i !== null && i.tag === 5 && i.type === "form" ? bg(i) : ii.r(n)
    }
    var gr = typeof document > "u" ? null : document;

    function ex(n, i, o) {
        var c = gr;
        if (c && typeof i == "string" && i) {
            var g = Kn(i);
            g = 'link[rel="' + n + '"][href="' + g + '"]', typeof o == "string" && (g += '[crossorigin="' + o + '"]'), Jm.has(g) || (Jm.add(g), n = {
                rel: n,
                crossOrigin: o,
                href: i
            }, c.querySelector(g) === null && (i = c.createElement("link"), un(i, "link", n), Ht(i), c.head.appendChild(i)))
        }
    }

    function B1(n) {
        ii.D(n), ex("dns-prefetch", n, null)
    }

    function z1(n, i) {
        ii.C(n, i), ex("preconnect", n, i)
    }

    function F1(n, i, o) {
        ii.L(n, i, o);
        var c = gr;
        if (c && n && i) {
            var g = 'link[rel="preload"][as="' + Kn(i) + '"]';
            i === "image" && o && o.imageSrcSet ? (g += '[imagesrcset="' + Kn(o.imageSrcSet) + '"]', typeof o.imageSizes == "string" && (g += '[imagesizes="' + Kn(o.imageSizes) + '"]')) : g += '[href="' + Kn(n) + '"]';
            var b = g;
            switch (i) {
                case "style":
                    b = mr(n);
                    break;
                case "script":
                    b = xr(n)
            }
            is.has(b) || (n = y({
                rel: "preload",
                href: i === "image" && o && o.imageSrcSet ? void 0 : n,
                as: i
            }, o), is.set(b, n), c.querySelector(g) !== null || i === "style" && c.querySelector(Ao(b)) || i === "script" && c.querySelector(Ro(b)) || (i = c.createElement("link"), un(i, "link", n), Ht(i), c.head.appendChild(i)))
        }
    }

    function I1(n, i) {
        ii.m(n, i);
        var o = gr;
        if (o && n) {
            var c = i && typeof i.as == "string" ? i.as : "script",
                g = 'link[rel="modulepreload"][as="' + Kn(c) + '"][href="' + Kn(n) + '"]',
                b = g;
            switch (c) {
                case "audioworklet":
                case "paintworklet":
                case "serviceworker":
                case "sharedworker":
                case "worker":
                case "script":
                    b = xr(n)
            }
            if (!is.has(b) && (n = y({
                    rel: "modulepreload",
                    href: n
                }, i), is.set(b, n), o.querySelector(g) === null)) {
                switch (c) {
                    case "audioworklet":
                    case "paintworklet":
                    case "serviceworker":
                    case "sharedworker":
                    case "worker":
                    case "script":
                        if (o.querySelector(Ro(b))) return
                }
                c = o.createElement("link"), un(c, "link", n), Ht(c), o.head.appendChild(c)
            }
        }
    }

    function O1(n, i, o) {
        ii.S(n, i, o);
        var c = gr;
        if (c && n) {
            var g = Hs(c).hoistableStyles,
                b = mr(n);
            i = i || "default";
            var N = g.get(b);
            if (!N) {
                var M = {
                    loading: 0,
                    preload: null
                };
                if (N = c.querySelector(Ao(b))) M.loading = 5;
                else {
                    n = y({
                        rel: "stylesheet",
                        href: n,
                        "data-precedence": i
                    }, o), (o = is.get(b)) && kh(n, o);
                    var Q = N = c.createElement("link");
                    Ht(Q), un(Q, "link", n), Q._p = new Promise(function(ue, ye) {
                        Q.onload = ue, Q.onerror = ye
                    }), Q.addEventListener("load", function() {
                        M.loading |= 1
                    }), Q.addEventListener("error", function() {
                        M.loading |= 2
                    }), M.loading |= 4, _c(N, i, c)
                }
                N = {
                    type: "stylesheet",
                    instance: N,
                    count: 1,
                    state: M
                }, g.set(b, N)
            }
        }
    }

    function W1(n, i) {
        ii.X(n, i);
        var o = gr;
        if (o && n) {
            var c = Hs(o).hoistableScripts,
                g = xr(n),
                b = c.get(g);
            b || (b = o.querySelector(Ro(g)), b || (n = y({
                src: n,
                async: !0
            }, i), (i = is.get(g)) && Eh(n, i), b = o.createElement("script"), Ht(b), un(b, "link", n), o.head.appendChild(b)), b = {
                type: "script",
                instance: b,
                count: 1,
                state: null
            }, c.set(g, b))
        }
    }

    function U1(n, i) {
        ii.M(n, i);
        var o = gr;
        if (o && n) {
            var c = Hs(o).hoistableScripts,
                g = xr(n),
                b = c.get(g);
            b || (b = o.querySelector(Ro(g)), b || (n = y({
                src: n,
                async: !0,
                type: "module"
            }, i), (i = is.get(g)) && Eh(n, i), b = o.createElement("script"), Ht(b), un(b, "link", n), o.head.appendChild(b)), b = {
                type: "script",
                instance: b,
                count: 1,
                state: null
            }, c.set(g, b))
        }
    }

    function tx(n, i, o, c) {
        var g = (g = ee.current) ? Nc(g) : null;
        if (!g) throw Error(r(446));
        switch (n) {
            case "meta":
            case "title":
                return null;
            case "style":
                return typeof o.precedence == "string" && typeof o.href == "string" ? (i = mr(o.href), o = Hs(g).hoistableStyles, c = o.get(i), c || (c = {
                    type: "style",
                    instance: null,
                    count: 0,
                    state: null
                }, o.set(i, c)), c) : {
                    type: "void",
                    instance: null,
                    count: 0,
                    state: null
                };
            case "link":
                if (o.rel === "stylesheet" && typeof o.href == "string" && typeof o.precedence == "string") {
                    n = mr(o.href);
                    var b = Hs(g).hoistableStyles,
                        N = b.get(n);
                    if (N || (g = g.ownerDocument || g, N = {
                            type: "stylesheet",
                            instance: null,
                            count: 0,
                            state: {
                                loading: 0,
                                preload: null
                            }
                        }, b.set(n, N), (b = g.querySelector(Ao(n))) && !b._p && (N.instance = b, N.state.loading = 5), is.has(n) || (o = {
                            rel: "preload",
                            as: "style",
                            href: o.href,
                            crossOrigin: o.crossOrigin,
                            integrity: o.integrity,
                            media: o.media,
                            hrefLang: o.hrefLang,
                            referrerPolicy: o.referrerPolicy
                        }, is.set(n, o), b || H1(g, n, o, N.state))), i && c === null) throw Error(r(528, ""));
                    return N
                }
                if (i && c !== null) throw Error(r(529, ""));
                return null;
            case "script":
                return i = o.async, o = o.src, typeof o == "string" && i && typeof i != "function" && typeof i != "symbol" ? (i = xr(o), o = Hs(g).hoistableScripts, c = o.get(i), c || (c = {
                    type: "script",
                    instance: null,
                    count: 0,
                    state: null
                }, o.set(i, c)), c) : {
                    type: "void",
                    instance: null,
                    count: 0,
                    state: null
                };
            default:
                throw Error(r(444, n))
        }
    }

    function mr(n) {
        return 'href="' + Kn(n) + '"'
    }

    function Ao(n) {
        return 'link[rel="stylesheet"][' + n + "]"
    }

    function nx(n) {
        return y({}, n, {
            "data-precedence": n.precedence,
            precedence: null
        })
    }

    function H1(n, i, o, c) {
        n.querySelector('link[rel="preload"][as="style"][' + i + "]") ? c.loading = 1 : (i = n.createElement("link"), c.preload = i, i.addEventListener("load", function() {
            return c.loading |= 1
        }), i.addEventListener("error", function() {
            return c.loading |= 2
        }), un(i, "link", o), Ht(i), n.head.appendChild(i))
    }

    function xr(n) {
        return '[src="' + Kn(n) + '"]'
    }

    function Ro(n) {
        return "script[async]" + n
    }

    function sx(n, i, o) {
        if (i.count++, i.instance === null) switch (i.type) {
            case "style":
                var c = n.querySelector('style[data-href~="' + Kn(o.href) + '"]');
                if (c) return i.instance = c, Ht(c), c;
                var g = y({}, o, {
                    "data-href": o.href,
                    "data-precedence": o.precedence,
                    href: null,
                    precedence: null
                });
                return c = (n.ownerDocument || n).createElement("style"), Ht(c), un(c, "style", g), _c(c, o.precedence, n), i.instance = c;
            case "stylesheet":
                g = mr(o.href);
                var b = n.querySelector(Ao(g));
                if (b) return i.state.loading |= 4, i.instance = b, Ht(b), b;
                c = nx(o), (g = is.get(g)) && kh(c, g), b = (n.ownerDocument || n).createElement("link"), Ht(b);
                var N = b;
                return N._p = new Promise(function(M, Q) {
                    N.onload = M, N.onerror = Q
                }), un(b, "link", c), i.state.loading |= 4, _c(b, o.precedence, n), i.instance = b;
            case "script":
                return b = xr(o.src), (g = n.querySelector(Ro(b))) ? (i.instance = g, Ht(g), g) : (c = o, (g = is.get(b)) && (c = y({}, o), Eh(c, g)), n = n.ownerDocument || n, g = n.createElement("script"), Ht(g), un(g, "link", c), n.head.appendChild(g), i.instance = g);
            case "void":
                return null;
            default:
                throw Error(r(443, i.type))
        } else i.type === "stylesheet" && (i.state.loading & 4) === 0 && (c = i.instance, i.state.loading |= 4, _c(c, o.precedence, n));
        return i.instance
    }

    function _c(n, i, o) {
        for (var c = o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'), g = c.length ? c[c.length - 1] : null, b = g, N = 0; N < c.length; N++) {
            var M = c[N];
            if (M.dataset.precedence === i) b = M;
            else if (b !== g) break
        }
        b ? b.parentNode.insertBefore(n, b.nextSibling) : (i = o.nodeType === 9 ? o.head : o, i.insertBefore(n, i.firstChild))
    }

    function kh(n, i) {
        n.crossOrigin == null && (n.crossOrigin = i.crossOrigin), n.referrerPolicy == null && (n.referrerPolicy = i.referrerPolicy), n.title == null && (n.title = i.title)
    }

    function Eh(n, i) {
        n.crossOrigin == null && (n.crossOrigin = i.crossOrigin), n.referrerPolicy == null && (n.referrerPolicy = i.referrerPolicy), n.integrity == null && (n.integrity = i.integrity)
    }
    var Pc = null;

    function ix(n, i, o) {
        if (Pc === null) {
            var c = new Map,
                g = Pc = new Map;
            g.set(o, c)
        } else g = Pc, c = g.get(o), c || (c = new Map, g.set(o, c));
        if (c.has(n)) return c;
        for (c.set(n, null), o = o.getElementsByTagName(n), g = 0; g < o.length; g++) {
            var b = o[g];
            if (!(b[di] || b[kt] || n === "link" && b.getAttribute("rel") === "stylesheet") && b.namespaceURI !== "http://www.w3.org/2000/svg") {
                var N = b.getAttribute(i) || "";
                N = n + N;
                var M = c.get(N);
                M ? M.push(b) : c.set(N, [b])
            }
        }
        return c
    }

    function ax(n, i, o) {
        n = n.ownerDocument || n, n.head.insertBefore(o, i === "title" ? n.querySelector("head > title") : null)
    }

    function $1(n, i, o) {
        if (o === 1 || i.itemProp != null) return !1;
        switch (n) {
            case "meta":
            case "title":
                return !0;
            case "style":
                if (typeof i.precedence != "string" || typeof i.href != "string" || i.href === "") break;
                return !0;
            case "link":
                if (typeof i.rel != "string" || typeof i.href != "string" || i.href === "" || i.onLoad || i.onError) break;
                switch (i.rel) {
                    case "stylesheet":
                        return n = i.disabled, typeof i.precedence == "string" && n == null;
                    default:
                        return !0
                }
            case "script":
                if (i.async && typeof i.async != "function" && typeof i.async != "symbol" && !i.onLoad && !i.onError && i.src && typeof i.src == "string") return !0
        }
        return !1
    }

    function rx(n) {
        return !(n.type === "stylesheet" && (n.state.loading & 3) === 0)
    }
    var Do = null;

    function G1() {}

    function Y1(n, i, o) {
        if (Do === null) throw Error(r(475));
        var c = Do;
        if (i.type === "stylesheet" && (typeof o.media != "string" || matchMedia(o.media).matches !== !1) && (i.state.loading & 4) === 0) {
            if (i.instance === null) {
                var g = mr(o.href),
                    b = n.querySelector(Ao(g));
                if (b) {
                    n = b._p, n !== null && typeof n == "object" && typeof n.then == "function" && (c.count++, c = Lc.bind(c), n.then(c, c)), i.state.loading |= 4, i.instance = b, Ht(b);
                    return
                }
                b = n.ownerDocument || n, o = nx(o), (g = is.get(g)) && kh(o, g), b = b.createElement("link"), Ht(b);
                var N = b;
                N._p = new Promise(function(M, Q) {
                    N.onload = M, N.onerror = Q
                }), un(b, "link", o), i.instance = b
            }
            c.stylesheets === null && (c.stylesheets = new Map), c.stylesheets.set(i, n), (n = i.state.preload) && (i.state.loading & 3) === 0 && (c.count++, i = Lc.bind(c), n.addEventListener("load", i), n.addEventListener("error", i))
        }
    }

    function V1() {
        if (Do === null) throw Error(r(475));
        var n = Do;
        return n.stylesheets && n.count === 0 && Ah(n, n.stylesheets), 0 < n.count ? function(i) {
            var o = setTimeout(function() {
                if (n.stylesheets && Ah(n, n.stylesheets), n.unsuspend) {
                    var c = n.unsuspend;
                    n.unsuspend = null, c()
                }
            }, 6e4);
            return n.unsuspend = i,
                function() {
                    n.unsuspend = null, clearTimeout(o)
                }
        } : null
    }

    function Lc() {
        if (this.count--, this.count === 0) {
            if (this.stylesheets) Ah(this, this.stylesheets);
            else if (this.unsuspend) {
                var n = this.unsuspend;
                this.unsuspend = null, n()
            }
        }
    }
    var Mc = null;

    function Ah(n, i) {
        n.stylesheets = null, n.unsuspend !== null && (n.count++, Mc = new Map, i.forEach(q1, n), Mc = null, Lc.call(n))
    }

    function q1(n, i) {
        if (!(i.state.loading & 4)) {
            var o = Mc.get(n);
            if (o) var c = o.get(null);
            else {
                o = new Map, Mc.set(n, o);
                for (var g = n.querySelectorAll("link[data-precedence],style[data-precedence]"), b = 0; b < g.length; b++) {
                    var N = g[b];
                    (N.nodeName === "LINK" || N.getAttribute("media") !== "not all") && (o.set(N.dataset.precedence, N), c = N)
                }
                c && o.set(null, c)
            }
            g = i.instance, N = g.getAttribute("data-precedence"), b = o.get(N) || c, b === c && o.set(null, g), o.set(N, g), this.count++, c = Lc.bind(this), g.addEventListener("load", c), g.addEventListener("error", c), b ? b.parentNode.insertBefore(g, b.nextSibling) : (n = n.nodeType === 9 ? n.head : n, n.insertBefore(g, n.firstChild)), i.state.loading |= 4
        }
    }
    var No = {
        $$typeof: k,
        Provider: null,
        Consumer: null,
        _currentValue: V,
        _currentValue2: V,
        _threadCount: 0
    };

    function X1(n, i, o, c, g, b, N, M) {
        this.tag = 1, this.containerInfo = n, this.pingCache = this.current = this.pendingChildren = null, this.timeoutHandle = -1, this.callbackNode = this.next = this.pendingContext = this.context = this.cancelPendingCommit = null, this.callbackPriority = 0, this.expirationTimes = Nl(-1), this.entangledLanes = this.shellSuspendCounter = this.errorRecoveryDisabledLanes = this.expiredLanes = this.warmLanes = this.pingedLanes = this.suspendedLanes = this.pendingLanes = 0, this.entanglements = Nl(0), this.hiddenUpdates = Nl(null), this.identifierPrefix = c, this.onUncaughtError = g, this.onCaughtError = b, this.onRecoverableError = N, this.pooledCache = null, this.pooledCacheLanes = 0, this.formState = M, this.incompleteTransitions = new Map
    }

    function ox(n, i, o, c, g, b, N, M, Q, ue, ye, we) {
        return n = new X1(n, i, o, N, M, Q, ue, we), i = 1, b === !0 && (i |= 24), b = In(3, null, null, i), n.current = b, b.stateNode = n, i = cu(), i.refCount++, n.pooledCache = i, i.refCount++, b.memoizedState = {
            element: c,
            isDehydrated: o,
            cache: i
        }, fu(b), n
    }

    function lx(n) {
        return n ? (n = qa, n) : qa
    }

    function cx(n, i, o, c, g, b) {
        g = lx(g), c.context === null ? c.context = g : c.pendingContext = g, c = gi(i), c.payload = {
            element: o
        }, b = b === void 0 ? null : b, b !== null && (c.callback = b), o = mi(n, c, i), o !== null && ($n(o, n, i), ro(o, n, i))
    }

    function dx(n, i) {
        if (n = n.memoizedState, n !== null && n.dehydrated !== null) {
            var o = n.retryLane;
            n.retryLane = o !== 0 && o < i ? o : i
        }
    }

    function Rh(n, i) {
        dx(n, i), (n = n.alternate) && dx(n, i)
    }

    function ux(n) {
        if (n.tag === 13) {
            var i = Va(n, 67108864);
            i !== null && $n(i, n, 67108864), Rh(n, 67108864)
        }
    }
    var Bc = !0;

    function Q1(n, i, o, c) {
        var g = z.T;
        z.T = null;
        var b = U.p;
        try {
            U.p = 2, Dh(n, i, o, c)
        } finally {
            U.p = b, z.T = g
        }
    }

    function K1(n, i, o, c) {
        var g = z.T;
        z.T = null;
        var b = U.p;
        try {
            U.p = 8, Dh(n, i, o, c)
        } finally {
            U.p = b, z.T = g
        }
    }

    function Dh(n, i, o, c) {
        if (Bc) {
            var g = Nh(c);
            if (g === null) xh(n, i, c, zc, o), fx(n, c);
            else if (J1(g, n, i, o, c)) c.stopPropagation();
            else if (fx(n, c), i & 4 && -1 < Z1.indexOf(n)) {
                for (; g !== null;) {
                    var b = Us(g);
                    if (b !== null) switch (b.tag) {
                        case 3:
                            if (b = b.stateNode, b.current.memoizedState.isDehydrated) {
                                var N = Ft(b.pendingLanes);
                                if (N !== 0) {
                                    var M = b;
                                    for (M.pendingLanes |= 2, M.entangledLanes |= 2; N;) {
                                        var Q = 1 << 31 - J(N);
                                        M.entanglements[1] |= Q, N &= ~Q
                                    }
                                    Ps(b), (St & 6) === 0 && (vc = qe() + 500, To(0))
                                }
                            }
                            break;
                        case 13:
                            M = Va(b, 2), M !== null && $n(M, b, 2), Cc(), Rh(b, 2)
                    }
                    if (b = Nh(c), b === null && xh(n, i, c, zc, o), b === g) break;
                    g = b
                }
                g !== null && c.stopPropagation()
            } else xh(n, i, c, null, o)
        }
    }

    function Nh(n) {
        return n = Bd(n), _h(n)
    }
    var zc = null;

    function _h(n) {
        if (zc = null, n = ui(n), n !== null) {
            var i = d(n);
            if (i === null) n = null;
            else {
                var o = i.tag;
                if (o === 13) {
                    if (n = u(i), n !== null) return n;
                    n = null
                } else if (o === 3) {
                    if (i.stateNode.current.memoizedState.isDehydrated) return i.tag === 3 ? i.stateNode.containerInfo : null;
                    n = null
                } else i !== n && (n = null)
            }
        }
        return zc = n, null
    }

    function hx(n) {
        switch (n) {
            case "beforetoggle":
            case "cancel":
            case "click":
            case "close":
            case "contextmenu":
            case "copy":
            case "cut":
            case "auxclick":
            case "dblclick":
            case "dragend":
            case "dragstart":
            case "drop":
            case "focusin":
            case "focusout":
            case "input":
            case "invalid":
            case "keydown":
            case "keypress":
            case "keyup":
            case "mousedown":
            case "mouseup":
            case "paste":
            case "pause":
            case "play":
            case "pointercancel":
            case "pointerdown":
            case "pointerup":
            case "ratechange":
            case "reset":
            case "resize":
            case "seeked":
            case "submit":
            case "toggle":
            case "touchcancel":
            case "touchend":
            case "touchstart":
            case "volumechange":
            case "change":
            case "selectionchange":
            case "textInput":
            case "compositionstart":
            case "compositionend":
            case "compositionupdate":
            case "beforeblur":
            case "afterblur":
            case "beforeinput":
            case "blur":
            case "fullscreenchange":
            case "focus":
            case "hashchange":
            case "popstate":
            case "select":
            case "selectstart":
                return 2;
            case "drag":
            case "dragenter":
            case "dragexit":
            case "dragleave":
            case "dragover":
            case "mousemove":
            case "mouseout":
            case "mouseover":
            case "pointermove":
            case "pointerout":
            case "pointerover":
            case "scroll":
            case "touchmove":
            case "wheel":
            case "mouseenter":
            case "mouseleave":
            case "pointerenter":
            case "pointerleave":
                return 8;
            case "message":
                switch (Re()) {
                    case le:
                        return 2;
                    case Ce:
                        return 8;
                    case _e:
                    case Ne:
                        return 32;
                    case Fe:
                        return 268435456;
                    default:
                        return 32
                }
            default:
                return 32
        }
    }
    var Ph = !1,
        Ri = null,
        Di = null,
        Ni = null,
        _o = new Map,
        Po = new Map,
        _i = [],
        Z1 = "mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");

    function fx(n, i) {
        switch (n) {
            case "focusin":
            case "focusout":
                Ri = null;
                break;
            case "dragenter":
            case "dragleave":
                Di = null;
                break;
            case "mouseover":
            case "mouseout":
                Ni = null;
                break;
            case "pointerover":
            case "pointerout":
                _o.delete(i.pointerId);
                break;
            case "gotpointercapture":
            case "lostpointercapture":
                Po.delete(i.pointerId)
        }
    }

    function Lo(n, i, o, c, g, b) {
        return n === null || n.nativeEvent !== b ? (n = {
            blockedOn: i,
            domEventName: o,
            eventSystemFlags: c,
            nativeEvent: b,
            targetContainers: [g]
        }, i !== null && (i = Us(i), i !== null && ux(i)), n) : (n.eventSystemFlags |= c, i = n.targetContainers, g !== null && i.indexOf(g) === -1 && i.push(g), n)
    }

    function J1(n, i, o, c, g) {
        switch (i) {
            case "focusin":
                return Ri = Lo(Ri, n, i, o, c, g), !0;
            case "dragenter":
                return Di = Lo(Di, n, i, o, c, g), !0;
            case "mouseover":
                return Ni = Lo(Ni, n, i, o, c, g), !0;
            case "pointerover":
                var b = g.pointerId;
                return _o.set(b, Lo(_o.get(b) || null, n, i, o, c, g)), !0;
            case "gotpointercapture":
                return b = g.pointerId, Po.set(b, Lo(Po.get(b) || null, n, i, o, c, g)), !0
        }
        return !1
    }

    function px(n) {
        var i = ui(n.target);
        if (i !== null) {
            var o = d(i);
            if (o !== null) {
                if (i = o.tag, i === 13) {
                    if (i = u(o), i !== null) {
                        n.blockedOn = i, Ma(n.priority, function() {
                            if (o.tag === 13) {
                                var c = Hn();
                                c = _t(c);
                                var g = Va(o, c);
                                g !== null && $n(g, o, c), Rh(o, c)
                            }
                        });
                        return
                    }
                } else if (i === 3 && o.stateNode.current.memoizedState.isDehydrated) {
                    n.blockedOn = o.tag === 3 ? o.stateNode.containerInfo : null;
                    return
                }
            }
        }
        n.blockedOn = null
    }

    function Fc(n) {
        if (n.blockedOn !== null) return !1;
        for (var i = n.targetContainers; 0 < i.length;) {
            var o = Nh(n.nativeEvent);
            if (o === null) {
                o = n.nativeEvent;
                var c = new o.constructor(o.type, o);
                Md = c, o.target.dispatchEvent(c), Md = null
            } else return i = Us(o), i !== null && ux(i), n.blockedOn = o, !1;
            i.shift()
        }
        return !0
    }

    function gx(n, i, o) {
        Fc(n) && o.delete(i)
    }

    function ev() {
        Ph = !1, Ri !== null && Fc(Ri) && (Ri = null), Di !== null && Fc(Di) && (Di = null), Ni !== null && Fc(Ni) && (Ni = null), _o.forEach(gx), Po.forEach(gx)
    }

    function Ic(n, i) {
        n.blockedOn === i && (n.blockedOn = null, Ph || (Ph = !0, e.unstable_scheduleCallback(e.unstable_NormalPriority, ev)))
    }
    var Oc = null;

    function mx(n) {
        Oc !== n && (Oc = n, e.unstable_scheduleCallback(e.unstable_NormalPriority, function() {
            Oc === n && (Oc = null);
            for (var i = 0; i < n.length; i += 3) {
                var o = n[i],
                    c = n[i + 1],
                    g = n[i + 2];
                if (typeof c != "function") {
                    if (_h(c || o) === null) continue;
                    break
                }
                var b = Us(o);
                b !== null && (n.splice(i, 3), i -= 3, _u(b, {
                    pending: !0,
                    data: g,
                    method: o.method,
                    action: c
                }, c, g))
            }
        }))
    }

    function Mo(n) {
        function i(Q) {
            return Ic(Q, n)
        }
        Ri !== null && Ic(Ri, n), Di !== null && Ic(Di, n), Ni !== null && Ic(Ni, n), _o.forEach(i), Po.forEach(i);
        for (var o = 0; o < _i.length; o++) {
            var c = _i[o];
            c.blockedOn === n && (c.blockedOn = null)
        }
        for (; 0 < _i.length && (o = _i[0], o.blockedOn === null);) px(o), o.blockedOn === null && _i.shift();
        if (o = (n.ownerDocument || n).$$reactFormReplay, o != null)
            for (c = 0; c < o.length; c += 3) {
                var g = o[c],
                    b = o[c + 1],
                    N = g[Ot] || null;
                if (typeof b == "function") N || mx(o);
                else if (N) {
                    var M = null;
                    if (b && b.hasAttribute("formAction")) {
                        if (g = b, N = b[Ot] || null) M = N.formAction;
                        else if (_h(g) !== null) continue
                    } else M = N.action;
                    typeof M == "function" ? o[c + 1] = M : (o.splice(c, 3), c -= 3), mx(o)
                }
            }
    }

    function Lh(n) {
        this._internalRoot = n
    }
    Wc.prototype.render = Lh.prototype.render = function(n) {
        var i = this._internalRoot;
        if (i === null) throw Error(r(409));
        var o = i.current,
            c = Hn();
        cx(o, c, n, i, null, null)
    }, Wc.prototype.unmount = Lh.prototype.unmount = function() {
        var n = this._internalRoot;
        if (n !== null) {
            this._internalRoot = null;
            var i = n.containerInfo;
            cx(n.current, 2, null, n, null, null), Cc(), i[ci] = null
        }
    };

    function Wc(n) {
        this._internalRoot = n
    }
    Wc.prototype.unstable_scheduleHydration = function(n) {
        if (n) {
            var i = Nd();
            n = {
                blockedOn: null,
                target: n,
                priority: i
            };
            for (var o = 0; o < _i.length && i !== 0 && i < _i[o].priority; o++);
            _i.splice(o, 0, n), o === 0 && px(n)
        }
    };
    var xx = s.version;
    if (xx !== "19.1.0") throw Error(r(527, xx, "19.1.0"));
    U.findDOMNode = function(n) {
        var i = n._reactInternals;
        if (i === void 0) throw typeof n.render == "function" ? Error(r(188)) : (n = Object.keys(n).join(","), Error(r(268, n)));
        return n = f(i), n = n !== null ? p(n) : null, n = n === null ? null : n.stateNode, n
    };
    var tv = {
        bundleType: 0,
        version: "19.1.0",
        rendererPackageName: "react-dom",
        currentDispatcherRef: z,
        reconcilerVersion: "19.1.0"
    };
    if (typeof __REACT_DEVTOOLS_GLOBAL_HOOK__ < "u") {
        var Uc = __REACT_DEVTOOLS_GLOBAL_HOOK__;
        if (!Uc.isDisabled && Uc.supportsFiber) try {
            oe = Uc.inject(tv), xe = Uc
        } catch {}
    }
    return tl.createRoot = function(n, i) {
        if (!l(n)) throw Error(r(299));
        var o = !1,
            c = "",
            g = Pg,
            b = Lg,
            N = Mg,
            M = null;
        return i != null && (i.unstable_strictMode === !0 && (o = !0), i.identifierPrefix !== void 0 && (c = i.identifierPrefix), i.onUncaughtError !== void 0 && (g = i.onUncaughtError), i.onCaughtError !== void 0 && (b = i.onCaughtError), i.onRecoverableError !== void 0 && (N = i.onRecoverableError), i.unstable_transitionCallbacks !== void 0 && (M = i.unstable_transitionCallbacks)), i = ox(n, 1, !1, null, null, o, c, g, b, N, M, null), n[ci] = i.current, mh(n), new Lh(i)
    }, tl.hydrateRoot = function(n, i, o) {
        if (!l(n)) throw Error(r(299));
        var c = !1,
            g = "",
            b = Pg,
            N = Lg,
            M = Mg,
            Q = null,
            ue = null;
        return o != null && (o.unstable_strictMode === !0 && (c = !0), o.identifierPrefix !== void 0 && (g = o.identifierPrefix), o.onUncaughtError !== void 0 && (b = o.onUncaughtError), o.onCaughtError !== void 0 && (N = o.onCaughtError), o.onRecoverableError !== void 0 && (M = o.onRecoverableError), o.unstable_transitionCallbacks !== void 0 && (Q = o.unstable_transitionCallbacks), o.formState !== void 0 && (ue = o.formState)), i = ox(n, 1, !0, i, o ? ? null, c, g, b, N, M, Q, ue), i.context = lx(null), o = i.current, c = Hn(), c = _t(c), g = gi(c), g.callback = null, mi(o, g, c), o = c, i.current.lanes = o, Qt(i, o), Ps(i), n[ci] = i.current, mh(n), new Wc(i)
    }, tl.version = "19.1.0", tl
}
var qx;

function _S() {
    if (qx) return Hh.exports;
    qx = 1;

    function e() {
        if (!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__ > "u" || typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE != "function")) try {
            __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)
        } catch (s) {
            console.error(s)
        }
    }
    return e(), Hh.exports = NS(), Hh.exports
}
var PS = _S();
const LS = F0(PS);
var MS = function() {
        function e(s) {
            this.parent = s
        }
        return e.prototype.setMessageText = function(s) {
            this.parent.createSingletonIfNecessary(), window.$crisp.push(["set", "message:text", [s]])
        }, e.prototype.send = function(s, a) {
            this.parent.createSingletonIfNecessary(), window.$crisp.push(["do", "message:send", [s, a]])
        }, e.prototype.sendText = function(s) {
            this.send("text", s)
        }, e.prototype.sendFile = function(s) {
            this.send("file", s)
        }, e.prototype.sendAnimation = function(s) {
            this.send("animation", s)
        }, e.prototype.sendAudio = function(s) {
            this.send("audio", s)
        }, e.prototype.show = function(s, a) {
            this.parent.createSingletonIfNecessary(), window.$crisp.push(["do", "message:show", [s, a]])
        }, e.prototype.showText = function(s) {
            this.show("text", s)
        }, e.prototype.showFile = function(s) {
            this.show("file", s)
        }, e.prototype.showAnimation = function(s) {
            this.show("animation", s)
        }, e.prototype.showAudio = function(s) {
            this.show("audio", s)
        }, e.prototype.showPicker = function(s) {
            this.show("picker", s)
        }, e.prototype.showField = function(s) {
            this.show("field", s)
        }, e.prototype.showCarousel = function(s) {
            this.show("carousel", s)
        }, e.prototype.markAsRead = function() {
            this.parent.createSingletonIfNecessary(), window.$crisp.push(["do", "message:read"])
        }, e.prototype.startThread = function(s) {
            this.parent.createSingletonIfNecessary(), window.$crisp.push(["do", "message:thread:start", [s]])
        }, e.prototype.endThread = function(s) {
            this.parent.createSingletonIfNecessary(), window.$crisp.push(["do", "message:thread:end", [s]])
        }, e.prototype.onMessageSent = function(s) {
            this.parent.createSingletonIfNecessary(), this.offMessageSent(), window.$crisp.push(["on", "message:sent", s])
        }, e.prototype.offMessageSent = function() {
            this.parent.createSingletonIfNecessary(), window.$crisp.push(["off", "message:sent"])
        }, e.prototype.onMessageReceived = function(s) {
            this.parent.createSingletonIfNecessary(), this.offMessageReceived(), window.$crisp.push(["on", "message:received", s])
        }, e.prototype.offMessageReceived = function() {
            this.parent.createSingletonIfNecessary(), window.$crisp.push(["off", "message:received"])
        }, e.prototype.onMessageComposeSent = function(s) {
            this.parent.createSingletonIfNecessary(), this.offMessageComposeSent(), window.$crisp.push(["on", "message:compose:sent", s])
        }, e.prototype.offMessageComposeSent = function() {
            this.parent.createSingletonIfNecessary(), window.$crisp.push(["off", "message:compose:sent"])
        }, e.prototype.onMessageComposeReceived = function(s) {
            this.parent.createSingletonIfNecessary(), this.offMessageComposeReceived(), window.$crisp.push(["on", "message:compose:received", s])
        }, e.prototype.offMessageComposeReceived = function() {
            this.parent.createSingletonIfNecessary(), window.$crisp.push(["off", "message:compose:received"])
        }, e
    }(),
    BS = function() {
        function e(s) {
            this.parent = s
        }
        return e.prototype.setNickname = function(s) {
            this.parent.createSingletonIfNecessary(), window.$crisp.push(["set", "user:nickname", [s]])
        }, e.prototype.setEmail = function(s, a) {
            this.parent.createSingletonIfNecessary(), window.$crisp.push(["set", "user:email", [s, a]])
        }, e.prototype.setPhone = function(s) {
            this.parent.createSingletonIfNecessary(), window.$crisp.push(["set", "user:phone", [s]])
        }, e.prototype.setAvatar = function(s) {
            this.parent.createSingletonIfNecessary(), window.$crisp.push(["set", "user:avatar", [s]])
        }, e.prototype.setCompany = function(s, a) {
            var r = {};
            a && (a.url && (r.url = a.url), a.description && (r.description = a.description), a.employment && (r.employment = [a.employment.title], a.employment.role && r.employment.push(a.employment.role))), this.parent.createSingletonIfNecessary(), window.$crisp.push(["set", "user:company", [s, r]])
        }, e.prototype.getEmail = function() {
            return this.parent.isCrispInjected() ? window.$crisp.get("user:email") : null
        }, e.prototype.getPhone = function() {
            return this.parent.isCrispInjected() ? window.$crisp.get("user:phone") : null
        }, e.prototype.getNickname = function() {
            return this.parent.isCrispInjected() ? window.$crisp.get("user:nickname") : null
        }, e.prototype.getAvatar = function() {
            return this.parent.isCrispInjected() ? window.$crisp.get("user:avatar") : null
        }, e.prototype.getCompany = function() {
            return this.parent.isCrispInjected() ? window.$crisp.get("user:company") : null
        }, e.prototype.onEmailChanged = function(s) {
            this.parent.isCrispInjected() && (this.offEmailChanged(), window.$crisp.push(["on", "user:email:changed", s]))
        }, e.prototype.offEmailChanged = function() {
            this.parent.isCrispInjected() && window.$crisp.push(["off", "user:email:changed"])
        }, e.prototype.onPhoneChanged = function(s) {
            this.parent.isCrispInjected() && (this.offPhoneChanged(), window.$crisp.push(["on", "user:phone:changed", s]))
        }, e.prototype.offPhoneChanged = function() {
            this.parent.isCrispInjected() && window.$crisp.push(["off", "user:phone:changed"])
        }, e.prototype.onNicknameChanged = function(s) {
            this.parent.isCrispInjected() && (this.offNicknameChanged(), window.$crisp.push(["on", "user:nickname:changed", s]))
        }, e.prototype.offNicknameChanged = function() {
            this.parent.isCrispInjected() && window.$crisp.push(["off", "user:nickname:changed"])
        }, e.prototype.onAvatarChanged = function(s) {
            this.parent.isCrispInjected() && (this.offAvatarChanged(), window.$crisp.push(["on", "user:avatar:changed", s]))
        }, e.prototype.offAvatarChanged = function() {
            this.parent.isCrispInjected() && window.$crisp.push(["off", "user:avatar:changed"])
        }, e
    }(),
    zS = function() {
        function e(s) {
            this.parent = s
        }
        return e.prototype.run = function(s) {
            this.parent.createSingletonIfNecessary(), window.$crisp.push(["do", "trigger:run", [s]])
        }, e
    }(),
    cf;
(function(e) {
    e.Red = "red", e.Orange = "orange", e.Yellow = "yellow", e.Green = "green", e.Blue = "blue", e.Purple = "purple", e.Pink = "pink", e.Brown = "brown", e.Grey = "grey", e.Black = "black"
})(cf || (cf = {}));
var FS = function() {
        function e(s) {
            this.parent = s
        }
        return e.prototype.reset = function(s) {
            s === void 0 && (s = !1), this.parent.isCrispInjected() && window.$crisp.push(["do", "session:reset", [s]])
        }, e.prototype.setSegments = function(s, a) {
            this.parent.createSingletonIfNecessary(), $crisp.push(["set", "session:segments", [s, a]])
        }, e.prototype.setData = function(s) {
            var a = this,
                r = [];
            Object.entries(s).forEach(function(l) {
                a.isValidDataValue(l[0]) && r.push([l[0], l[1]])
            }), this.parent.createSingletonIfNecessary(), $crisp.push(["set", "session:data", [r]])
        }, e.prototype.pushEvent = function(s, a, r) {
            a === void 0 && (a = {}), r === void 0 && (r = cf.Blue), this.parent.isCrispInjected() && window.$crisp.push(["set", "session:event", [
                [
                    [s, a, r]
                ]
            ]])
        }, e.prototype.getData = function(s) {
            if (this.parent.isCrispInjected()) return window.$crisp.get("session:data", s)
        }, e.prototype.getIdentifier = function() {
            return this.parent.isCrispInjected() ? window.$crisp.get("session:identifier") : null
        }, e.prototype.onLoaded = function(s) {
            this.parent.createSingletonIfNecessary(), this.offLoaded(), window.$crisp.push(["on", "session:loaded", s])
        }, e.prototype.offLoaded = function() {
            this.parent.createSingletonIfNecessary(), window.$crisp.push(["off", "session:loaded"])
        }, e.prototype.isValidDataValue = function(s) {
            return typeof s == "string" || typeof s == "number" || typeof s == "boolean"
        }, e
    }(),
    IS = function() {
        function e(s) {
            this.parent = s
        }
        return e.prototype.show = function() {
            this.parent.autoInjectIfNecessary(), window.$crisp.push(["do", "chat:show"])
        }, e.prototype.hide = function() {
            this.parent.autoInjectIfNecessary(), window.$crisp.push(["do", "chat:hide"])
        }, e.prototype.open = function() {
            this.parent.autoInjectIfNecessary(), window.$crisp.push(["do", "chat:open"])
        }, e.prototype.close = function() {
            this.parent.isCrispInjected() && window.$crisp.push(["do", "chat:close"])
        }, e.prototype.setHelpdeskView = function() {
            this.parent.createSingletonIfNecessary(), window.$crisp.push(["do", "helpdesk:search"])
        }, e.prototype.openHelpdeskArticle = function(s, a, r, l) {
            this.parent.createSingletonIfNecessary(), window.$crisp.push(["do", "helpdesk:article:open", [s, a, r, l]])
        }, e.prototype.queryHelpdesk = function(s) {
            this.parent.createSingletonIfNecessary(), window.$crisp.push(["do", "helpdesk:query", [s]])
        }, e.prototype.unreadCount = function() {
            return this.parent.isCrispInjected() ? window.$crisp.get("chat:unread:count") : 0
        }, e.prototype.isChatOpened = function() {
            return this.parent.isCrispInjected() ? window.$crisp.is("chat:opened") : !1
        }, e.prototype.isVisible = function() {
            return this.parent.isCrispInjected() ? window.$crisp.is("chat:visible") : !1
        }, e.prototype.onChatInitiated = function(s) {
            this.parent.createSingletonIfNecessary(), this.offChatInitiated(), window.$crisp.push(["on", "chat:initiated", s])
        }, e.prototype.offChatInitiated = function() {
            this.parent.createSingletonIfNecessary(), window.$crisp.push(["off", "chat:initiated"])
        }, e.prototype.onChatOpened = function(s) {
            this.parent.createSingletonIfNecessary(), this.offChatOpened(), window.$crisp.push(["on", "chat:opened", s])
        }, e.prototype.offChatOpened = function() {
            this.parent.createSingletonIfNecessary(), window.$crisp.push(["off", "chat:opened"])
        }, e.prototype.onChatClosed = function(s) {
            this.parent.createSingletonIfNecessary(), this.offChatClosed(), window.$crisp.push(["on", "chat:closed", s])
        }, e.prototype.offChatClosed = function() {
            this.parent.createSingletonIfNecessary(), window.$crisp.push(["off", "chat:closed"])
        }, e.prototype.onHelpdeskQueried = function(s) {
            this.parent.createSingletonIfNecessary(), this.offHelpdeskQueried(), window.$crisp.push(["on", "helpdesk:queried", s])
        }, e.prototype.offHelpdeskQueried = function() {
            this.parent.createSingletonIfNecessary(), window.$crisp.push(["off", "helpdesk:queried"])
        }, e
    }(),
    Xx;
(function(e) {
    e.Default = "default", e.Amber = "amber", e.Black = "black", e.Blue = "blue", e.BlueGrey = "blue_grey", e.LightBlue = "light_blue", e.Brown = "brown", e.Cyan = "cyan", e.Green = "green", e.LightGreen = "light_green", e.Grey = "grey", e.Indigo = "indigo", e.Orange = "orange", e.DeepOrange = "deep_orange", e.Pink = "pink", e.Purple = "purple", e.DeepPurple = "deep_purple", e.Red = "red", e.Teal = "teal"
})(Xx || (Xx = {}));
var df;
(function(e) {
    e.Left = "left", e.Right = "right"
})(df || (df = {}));
var OS = function() {
        function e() {
            this.clientUrl = "https://client.crisp.chat/l.js", this.websiteId = "", this.autoload = !0, this.injected = !1, this.chat = new IS(this), this.session = new FS(this), this.user = new BS(this), this.message = new MS(this), this.trigger = new zS(this)
        }
        return e.prototype.configure = function(s, a) {
            a === void 0 && (a = {}), this.websiteId = s, this.tokenId = a.tokenId, this.locale = a.locale, this.sessionMerge = a.sessionMerge, this.cookieDomain = a.cookieDomain, this.cookieExpire = a.cookieExpire, this.lockFullview = a.lockFullview, this.lockMaximized = a.lockMaximized, this.safeMode = a.safeMode, a.clientUrl !== void 0 && (this.clientUrl = a.clientUrl), a.autoload !== void 0 && (this.autoload = a.autoload), this.autoload && this.load()
        }, e.prototype.load = function() {
            var s = document.getElementsByTagName("head");
            if (this.createSingletonIfNecessary(), this.isCrispInjected() !== !0) {
                if (!this.websiteId) throw new Error("websiteId must be set before loading Crisp");
                if (window.CRISP_WEBSITE_ID = this.websiteId, window.CRISP_RUNTIME_CONFIG = {}, this.tokenId && (window.CRISP_TOKEN_ID = this.tokenId), this.sessionMerge && (window.CRISP_RUNTIME_CONFIG.session_merge = !0), this.locale && (window.CRISP_RUNTIME_CONFIG.locale = this.locale), this.lockFullview && (window.CRISP_RUNTIME_CONFIG.lock_full_view = !0), this.lockMaximized && (window.CRISP_RUNTIME_CONFIG.lock_maximized = !0), this.cookieDomain && (window.CRISP_COOKIE_DOMAIN = this.cookieDomain), this.cookieExpire && (window.CRISP_COOKIE_EXPIRE = this.cookieExpire), !s || !s[0]) return this.deferredLoading();
                this.safeMode === !0 && this.setSafeMode(!0);
                var a = document.createElement("script");
                a.src = this.clientUrl, a.async = !0, s[0].appendChild(a), this.injected = !0
            }
        }, e.prototype.setTokenId = function(s) {
            this.tokenId = s, this.isCrispInjected() === !0 && (s ? window.CRISP_TOKEN_ID = s : delete window.CRISP_TOKEN_ID)
        }, e.prototype.setZIndex = function(s) {
            this.createSingletonIfNecessary(), window.$crisp.push(["config", "container:index", [s]])
        }, e.prototype.setColorTheme = function(s) {
            this.createSingletonIfNecessary(), window.$crisp.push(["config", "color:theme", [s]])
        }, e.prototype.setHideOnAway = function(s) {
            this.createSingletonIfNecessary(), window.$crisp.push(["config", "hide:on:away", [s]])
        }, e.prototype.setHideOnMobile = function(s) {
            this.createSingletonIfNecessary(), window.$crisp.push(["config", "hide:on:mobile", [s]])
        }, e.prototype.setPosition = function(s) {
            this.createSingletonIfNecessary(), $crisp.push(["config", "position:reverse", [s === df.Left]])
        }, e.prototype.setAvailabilityTooltip = function(s) {
            this.createSingletonIfNecessary(), window.$crisp.push(["config", "availability:tooltip", [s]])
        }, e.prototype.setVacationMode = function(s) {
            this.createSingletonIfNecessary(), window.$crisp.push(["config", "hide:vacation", [s]])
        }, e.prototype.setSafeMode = function(s) {
            s === void 0 && (s = !0), this.createSingletonIfNecessary(), window.$crisp.push(["safe", s])
        }, e.prototype.muteSound = function(s) {
            this.createSingletonIfNecessary(), window.$crisp.push(["config", "sound:mute", [s]])
        }, e.prototype.toggleOperatorCount = function(s) {
            this.createSingletonIfNecessary(), window.$crisp.push(["config", "show:operator:count", [s]])
        }, e.prototype.onWebsiteAvailabilityChanged = function(s) {
            this.createSingletonIfNecessary(), this.offWebsiteAvailabilityChanged(), window.$crisp.push(["on", "website:availability:changed", s])
        }, e.prototype.offWebsiteAvailabilityChanged = function() {
            this.createSingletonIfNecessary(), window.$crisp.push(["off", "website:availability:changed"])
        }, e.prototype.createSingletonIfNecessary = function() {
            window.$crisp === void 0 && (window.$crisp = [])
        }, e.prototype.autoInjectIfNecessary = function() {
            this.isCrispInjected() || this.load()
        }, e.prototype.isCrispInjected = function() {
            return !!(this.injected === !0 || window.$crisp && window.$crisp.is)
        }, e.prototype.deferredLoading = function() {
            var s = this;
            document.addEventListener("DOMContentLoaded", function() {
                s.load()
            })
        }, e
    }(),
    wn = new OS;
const WS = {
        existingBonusCodes: null,
        generatedBonusCodes: null,
        maintenanceMode: {
            active: !1,
            message: "Server will reboot after this round. Will take approximately 3 minutes.",
            mega: !1
        },
        referralManagement: {
            fixReferralCounts: {
                result: null
            }
        },
        partnerManagement: {
            result: null
        }
    },
    US = yn({
        name: "admin",
        initialState: WS,
        reducers: {
            startGeneratingBonusCodes: e => {
                e.generatedBonusCodes = null
            },
            setBonusCodesGenerated: (e, s) => {
                s.payload.success && s.payload.codes ? e.generatedBonusCodes = s.payload.codes : e.generatedBonusCodes = null
            },
            setBonusCodesLoaded: (e, s) => {
                e.existingBonusCodes = s.payload
            },
            clearBonusCodesResults: e => {
                e.generatedBonusCodes = null, e.existingBonusCodes = null
            },
            clearResults: e => {
                e.generatedBonusCodes = null, e.existingBonusCodes = null
            },
            setMaintenanceMode: (e, s) => {
                e.maintenanceMode.active = s.payload.active, s.payload.message !== void 0 && (e.maintenanceMode.message = s.payload.message), s.payload.mega !== void 0 && (e.maintenanceMode.mega = s.payload.mega)
            },
            startFixReferralCounts: e => {
                e.referralManagement.fixReferralCounts.result = null
            },
            setFixReferralCountsResult: (e, s) => {
                e.referralManagement.fixReferralCounts.result = s.payload
            },
            setPartnerManagementResult: (e, s) => {
                e.partnerManagement.result = s.payload
            }
        }
    }),
    {
        reducer: HS,
        actions: $S
    } = US,
    uf = {
        selectExistingBonusCodes: e => e.admin.existingBonusCodes,
        selectGeneratedBonusCodes: e => e.admin.generatedBonusCodes,
        selectMaintenanceMode: e => e.admin.maintenanceMode
    },
    GS = HS,
    kr = $S;
var Er = (e => (e.SET_LOADING = "setLoading", e.SET_JOINING_LOBBY = "setJoiningLobby", e.SET_LEAVING_LOBBY = "setLeavingLobby", e.SET_MAKING_TRADE = "setMakingTrade", e.SET_CREATING_LOBBY = "setCreatingLobby", e.SET_ERROR = "setError", e.SET_LOBBY_ERROR = "setLobbyError", e.SET_TRADE_ERROR = "setTradeError", e.CLEAR_ERRORS = "clearErrors", e.SET_CURRENT_USER = "setCurrentUser", e.UPDATE_USER_BALANCES = "updateUserBalances", e.UPDATE_USER_LOBBY_STATE = "updateUserLobbyState", e.SET_PREVIEW_LOBBIES = "setPreviewLobbies", e.SET_PREVIEW_GAMES = "setPreviewGames", e.ADD_PREVIEW_ENTRY = "addPreviewEntry", e.REMOVE_PREVIEW_ENTRY = "removePreviewEntry", e.SET_CURRENT_LOBBY = "setCurrentLobby", e.UPDATE_CURRENT_LOBBY = "updateCurrentLobby", e.CLEAR_CURRENT_LOBBY = "clearCurrentLobby", e.LOBBY_KICK = "lobbyKick", e.SET_ACTIVE_GAME = "setActiveGame", e.SET_ACTIVE_GAME_STATE = "setActiveGameState", e.UPDATE_ACTIVE_GAME_STATE = "updateActiveGameState", e.SET_ACTIVE_PLAYER_DATA = "setActivePlayerData", e.SET_ACTIVE_TRADE_DATA = "setActiveTradeData", e.CLEAR_ACTIVE_GAME = "clearActiveGame", e.SET_PREVIEW_SUBSCRIPTION = "setPreviewSubscription", e.SET_GAME_SUBSCRIPTION = "setGameSubscription", e.CLEAR_SUBSCRIPTIONS = "clearSubscriptions", e.SET_SELECTED_GAME_FOR_SPECTATING = "setSelectedGameForSpectating", e.PLACE_BUY_ORDER = "placeBuyOrder", e.PLACE_SELL_ORDER = "placeSellOrder", e.TRADE_ORDER_SUCCESS = "tradeOrderSuccess", e.TRADE_ORDER_FAILURE = "tradeOrderFailure", e.START_MATCHMAKING = "startMatchmaking", e.CANCEL_MATCHMAKING = "cancelMatchmaking", e.SET_EVENT_GLOBAL_LEADERBOARD = "setEventGlobalLeaderboard", e.SET_USER_EVENT_POSITION = "setUserEventPosition", e.SET_GAME_LEADERBOARD = "setGameLeaderboard", e.SET_EVENT_COUNTDOWN = "setEventCountdown", e.SET_PARTICIPATING = "setParticipating", e))(Er || {});
const Sr = bd(),
    YS = {
        currentlyParticipatingId: null,
        currentPlayerData: null,
        pagination: null,
        justLeftLobby: !1,
        isJoiningLobby: !1,
        isCreatingLobby: !1,
        error: null,
        lobbyError: null,
        successMessage: null,
        eventCountdown: null,
        eventGlobalLeaderboard: [],
        userEventPosition: null,
        gameLeaderboards: {},
        playerBattleState: null,
        battleEventState: null,
        queueState: null,
        playerQueueState: null,
        isJoiningQueue: !1,
        adminStates: {
            isAdmin: !1,
            lobbyCreationDisabled: !1,
            lobbyJoiningDisabled: !1,
            freeTradingDisabled: !1
        },
        currentTime: Date.now(),
        memoizedPlayerPosition: null,
        lastRuggedUpdate: null,
        battleFinished: !1,
        battlePreviews: {},
        lastPreviewUpdate: 0
    },
    VS = yn({
        name: "battles",
        initialState: Sr.getInitialState(YS),
        reducers: {
            update: (e, {
                payload: s
            }) => {
                console.log("[BATTLES] Update action received:", s), Sr.upsertOne(e, s)
            },
            updateMany: (e, {
                payload: s
            }) => {
                console.log("[BATTLES] UpdateMany action received:", s), console.log("[BATTLES] UpdateMany payload length:", Array.isArray(s) ? s.length : Object.keys(s).length), console.log("[BATTLES] State before updateMany:", {
                    ids: e.ids,
                    entities: Object.keys(e.entities)
                }), Sr.upsertMany(e, s), console.log("[BATTLES] State after updateMany:", {
                    ids: e.ids,
                    entities: Object.keys(e.entities)
                })
            },
            setAllLobbies: (e, {
                payload: s
            }) => {
                console.log("[BATTLES] SetAllLobbies action received:", s), console.log("[BATTLES] SetAllLobbies payload length:", s.length), console.log("[BATTLES] State before setAllLobbies:", {
                    ids: e.ids,
                    entities: Object.keys(e.entities)
                }), Sr.setAll(e, s), console.log("[BATTLES] State after setAllLobbies:", {
                    ids: e.ids,
                    entities: Object.keys(e.entities)
                })
            },
            [Er.REMOVE_PREVIEW_ENTRY]: (e, {
                payload: s
            }) => {
                console.log("[BATTLES] Remove preview entry:", s), (s.type === "lobby" || s.type === "game") && Sr.removeOne(e, s.id)
            },
            [Er.SET_PARTICIPATING]: (e, {
                payload: s
            }) => {
                e.currentlyParticipatingId = s
            },
            setJoiningLobby: (e, {
                payload: s
            }) => {
                e.isJoiningLobby = s
            },
            setJustLeftLobby: (e, {
                payload: s
            }) => {
                e.justLeftLobby = s
            },
            setCreatingLobby: (e, {
                payload: s
            }) => {
                e.isCreatingLobby = s
            },
            setError: (e, {
                payload: s
            }) => {
                e.error = s
            },
            setLobbyError: (e, {
                payload: s
            }) => {
                e.lobbyError = s
            },
            setSuccessMessage: (e, {
                payload: s
            }) => {
                e.successMessage = s
            },
            updatePlayerData: (e, {
                payload: s
            }) => {
                e.currentPlayerData ? e.currentPlayerData = { ...e.currentPlayerData,
                    ...s
                } : s.id && (e.currentPlayerData = {
                    id: s.id,
                    balance: s.balance || 1e3,
                    position: s.position || 0,
                    points: s.points || 0
                })
            },
            clearPlayerData: e => {
                e.currentPlayerData = null
            },
            setEventCountdown: (e, {
                payload: s
            }) => {
                e.eventCountdown = s
            },
            setPagination: (e, {
                payload: s
            }) => {
                e.pagination = s
            },
            setPlayerBattleState: (e, {
                payload: s
            }) => {
                var d;
                if (!s) {
                    e.playerBattleState = null;
                    return
                }
                if (!s.isSpectating && e.justLeftLobby) {
                    console.log("[BATTLES REDUCER] Ignoring participant state update due to justLeftLobby flag - preventing race condition");
                    return
                }
                const a = e.playerBattleState,
                    r = s.isRuggedUpdate === !0;
                if (console.log("[BATTLES REDUCER] Processing battle state update:", {
                        isRuggedUpdate: r,
                        pricesCount: ((d = s.prices) == null ? void 0 : d.length) || 0,
                        currentRound: s.currentRound,
                        isSpectating: s.isSpectating,
                        justLeftLobby: e.justLeftLobby
                    }), !a) {
                    e.playerBattleState = s;
                    return
                }
                if (r) {
                    console.log("[BATTLES REDUCER] Rugged update received - using complete state from backend"), e.playerBattleState = { ...s,
                        trades: a.trades || []
                    };
                    return
                }
                if (a.rugged && !s.rugged && s.currentRound === a.currentRound) {
                    console.log("[BATTLES REDUCER] Blocked non-rugged update to prevent override of rugged state");
                    return
                }
                const l = s.currentRound !== a.currentRound && s.tickCount === 0;
                console.log("[BATTLES REDUCER] Standard update merge"), e.playerBattleState = { ...s,
                    trades: l ? [] : "trades" in s ? s.trades : a.trades || []
                }
            },
            updatePlayerBattleState: (e, {
                payload: s
            }) => {
                e.playerBattleState && (e.playerBattleState = { ...e.playerBattleState,
                    ...s
                })
            },
            setBattleEventState: (e, {
                payload: s
            }) => {
                e.battleEventState = s
            },
            setQueueState: (e, {
                payload: s
            }) => {
                e.queueState = s
            },
            setPlayerQueueState: (e, {
                payload: s
            }) => {
                e.playerQueueState = s
            },
            setIsJoiningQueue: (e, {
                payload: s
            }) => {
                e.isJoiningQueue = s
            },
            setAdminStates: (e, {
                payload: s
            }) => {
                e.adminStates = { ...e.adminStates,
                    ...s
                }
            },
            setCurrentTime: (e, {
                payload: s
            }) => {
                e.currentTime = s
            },
            setMemoizedPlayerPosition: (e, {
                payload: s
            }) => {
                e.memoizedPlayerPosition = s
            },
            setLastRuggedUpdate: (e, {
                payload: s
            }) => {
                e.lastRuggedUpdate = s
            },
            addTrade: (e, {
                payload: s
            }) => {
                e.playerBattleState && (e.playerBattleState.trades || (e.playerBattleState.trades = []), e.playerBattleState.trades.some(r => r.playerId === s.playerId && r.price === s.price && r.tickIndex === s.tickIndex && r.type === s.type && r.timestamp === s.timestamp) || e.playerBattleState.trades.push(s))
            },
            clearTrades: e => {
                e.playerBattleState && (e.playerBattleState.trades = [])
            },
            playerUpdate: (e, {
                payload: s
            }) => {
                if (!s || typeof s != "object" || !s) return;
                const a = s;
                if (a.battleState && typeof a.battleState == "object") {
                    const r = a.battleState;
                    console.log("[BATTLES REDUCER] Player update with battle state received:", r), e.playerBattleState = r
                }
                if (a.id && e.playerBattleState) {
                    const r = {};
                    typeof a.balance == "number" && (r.balance = a.balance), typeof a.position == "number" && (r.position = a.position), typeof a.points == "number" && (r.points = a.points), Object.keys(r).length > 0 && (console.log("[BATTLES REDUCER] Updating current player data from playerUpdate:", r), e.currentPlayerData ? e.currentPlayerData = { ...e.currentPlayerData,
                        ...r
                    } : e.currentPlayerData = {
                        id: a.id,
                        balance: 0,
                        position: 0,
                        points: 0,
                        ...r
                    })
                }
            },
            setBattleFinished: (e, {
                payload: s
            }) => {
                e.battleFinished = s
            },
            setBattlePreviews: (e, {
                payload: s
            }) => {
                console.log("[BATTLES REDUCER] Setting battle previews:", s.previews.length, "battles");
                const a = {};
                for (const r of s.previews) r.id && (a[r.id] = r);
                e.battlePreviews = a, e.lastPreviewUpdate = s.timestamp
            },
            updateBattlePreview: (e, {
                payload: s
            }) => {
                const {
                    battleId: a,
                    previewData: r
                } = s;
                e.battlePreviews[a] ? e.battlePreviews[a] = { ...e.battlePreviews[a],
                    ...r
                } : r.id && (e.battlePreviews[a] = r)
            },
            removeBattlePreview: (e, {
                payload: s
            }) => {
                delete e.battlePreviews[s]
            },
            clearBattlePreviews: e => {
                e.battlePreviews = {}, e.lastPreviewUpdate = 0
            }
        }
    }),
    qS = Sr.getSelectors(e => e.battles),
    yt = { ...qS,
        selectCurrentPlayerData: e => e.battles.currentPlayerData,
        selectEventCountdown: e => e.battles.eventCountdown,
        selectPlayerBattleState: e => e.battles.playerBattleState,
        selectBattleEventState: e => e.battles.battleEventState,
        selectQueueState: e => e.battles.queueState,
        selectPlayerQueueState: e => e.battles.playerQueueState,
        selectIsJoiningQueue: e => e.battles.isJoiningQueue,
        selectAdminStates: e => e.battles.adminStates,
        selectCurrentTime: e => e.battles.currentTime,
        selectMemoizedPlayerPosition: e => e.battles.memoizedPlayerPosition,
        selectLastRuggedUpdate: e => e.battles.lastRuggedUpdate,
        selectBattleFinished: e => e.battles.battleFinished,
        selectBattlePreviews: e => e.battles.battlePreviews,
        selectBattlePreviewById: e => s => s.battles.battlePreviews[e],
        selectLastPreviewUpdate: e => e.battles.lastPreviewUpdate,
        selectJustLeftLobby: e => e.battles.justLeftLobby
    },
    {
        reducer: XS,
        actions: QS
    } = VS,
    Le = { ...QS
    },
    KS = XS;
var Aa = (e => (e.NEW = "new", e.ALL = "all", e.MUTED_PLAYERS = "mutedPlayers", e.COSMETICS = "cosmetics", e.BADGE = "badge", e))(Aa || {});
const ZS = {
        rooms: {
            GLOBAL: {
                messages: []
            }
        },
        adminMessage: null,
        latestMessage: null,
        messagePreviewTrigger: 0,
        mutedPlayers: []
    },
    JS = yn({
        name: "chat",
        initialState: ZS,
        reducers: {
            [Aa.NEW]: (e, s) => {
                const {
                    room: a,
                    message: r
                } = s.payload;
                a in e.rooms || (e.rooms[a] = {
                    messages: []
                }), e.rooms[a].messages.push(r)
            },
            [Aa.ALL]: (e, s) => {
                const {
                    room: a,
                    messages: r
                } = s.payload;
                e.rooms[a] = {
                    messages: r
                }
            },
            setAdminMessage: (e, s) => {
                s.payload ? e.adminMessage = { ...s.payload,
                    receivedAt: Date.now(),
                    expiresAt: Date.now() + (s.payload.duration || 30) * 1e3
                } : e.adminMessage = null
            },
            newMessageReceived: (e, s) => {
                e.latestMessage = s.payload, e.messagePreviewTrigger = Date.now()
            },
            [Aa.MUTED_PLAYERS]: (e, s) => {
                e.mutedPlayers = s.payload
            }
        }
    }),
    {
        reducer: eC,
        actions: tC
    } = JS,
    Oi = { ...tC
    },
    nC = eC,
    yl = bd(),
    sC = {
        id: "sol",
        name: "Solana",
        shortName: "SOL",
        slug: "solana",
        image: "/icons/Icon_Solana.png",
        tokenAddress: "So11111111111111111111111111111111111111112",
        maxBet: .2,
        minBet: .001,
        maxWithdraw: 25,
        minWithdraw: .001,
        maxDeposit: 1e18,
        minDeposit: .001
    },
    iC = yl.upsertOne(yl.getInitialState(), sC),
    aC = yn({
        name: "coin",
        initialState: iC,
        reducers: {
            update: (e, s) => yl.upsertOne(e, s.payload),
            updateMany: (e, s) => yl.upsertMany(e, s.payload)
        }
    }),
    G0 = yl.getSelectors(e => e.coin),
    {
        actions: rC,
        reducer: oC
    } = aC,
    lC = oC,
    cC = rC,
    dC = {
        nonce: void 0
    },
    uC = yn({
        name: "dev",
        initialState: dC,
        reducers: {
            refreshNonce: e => {
                e.nonce = Date.now().toString()
            },
            setNonce: (e, s) => {
                e.nonce = s.payload
            }
        }
    }),
    {
        reducer: hC,
        actions: fC
    } = uC,
    Pf = {
        selectNonce: e => e.dev.nonce
    },
    pC = hC,
    gC = { ...fC
    },
    ba = bd(),
    mC = {
        constants: {
            TICK_MS: 250,
            TICKS_PER_CANDLE: 5,
            RUG_PROB: .01,
            RUG_IMPACT: .98,
            DRIFT_MIN: -.008,
            DRIFT_MAX: .03,
            BIG_MOVE_CHANCE: .125,
            BIG_MOVE_MIN: .15,
            BIG_MOVE_MAX: .25,
            TRADE_FEE: 0,
            COOLDOWN_MS: 15e3,
            MIN_VALID_TICKS: 20,
            MAX_BET_SOL: 25
        },
        history: [],
        stats: {
            averageMultiplier: 0,
            count2x: 0,
            count10x: 0,
            count50x: 0,
            count100x: 0
        },
        current: null,
        shareGame: null,
        shareOpened: !1
    },
    Y0 = e => ({
        id: e,
        serverSeedHash: "",
        version: "",
        price: 0,
        active: !1,
        prices: [],
        tickCount: 0,
        scoreboard: [],
        playerScoreboard: null,
        trades: [],
        sideBets: [],
        rugged: !1,
        cooldown: {
            timeLeft: 0,
            paused: !0,
            message: "Game is loading..."
        }
    }),
    xC = yn({
        name: "game",
        initialState: ba.getInitialState(mC),
        reducers: {
            update: ba.upsertOne,
            updateMany: ba.upsertMany,
            tickCurrent: (e, s) => {
                var d, u, h;
                const a = {
                        id: s.payload.id
                    },
                    r = e.entities[s.payload.id] ? e : ba.addOne(e, Y0(s.payload.id));
                (s.payload.allowPreRoundBuys || s.payload.active || !r.current) && (r.current = s.payload.id);
                const l = r.entities[s.payload.id];
                if ((((d = l.cooldown) == null ? void 0 : d.timeLeft) !== s.payload.cooldownTimer || ((u = l.cooldown) == null ? void 0 : u.paused) !== s.payload.cooldownPaused || ((h = l.cooldown) == null ? void 0 : h.message) !== s.payload.pauseMessage) && (a.cooldown = l.cooldown ? ? {
                        timeLeft: 0,
                        paused: !1,
                        message: void 0
                    }, s.payload.cooldownTimer !== void 0 && (a.cooldown.timeLeft = s.payload.cooldownTimer), s.payload.cooldownPaused !== void 0 && (a.cooldown.paused = s.payload.cooldownPaused), s.payload.pauseMessage !== void 0 && (a.cooldown.message = s.payload.pauseMessage)), a.tickCount = s.payload.tickCount, a.price = s.payload.price, s.payload.prices && s.payload.prices.length !== l.prices.length && (a.prices = s.payload.prices), typeof s.payload.rugged == "boolean" && !s.payload.rugged && (a.rugged = !1), s.payload.rugged && !l.rugged && (a.rugged = !0, a.endedAt = Date.now(), a.tickCount = s.payload.tickCount, a.price = s.payload.price, a.prices = [...l.prices, s.payload.price], r.shareGame = l.id), typeof s.payload.active == "boolean" && (a.active = s.payload.active), typeof s.payload.allowPreRoundBuys == "boolean" && (a.allowPreRoundBuys = s.payload.allowPreRoundBuys), s.payload.scoreboard !== void 0) {
                    const f = s.payload.allowPreRoundBuys ? ? l.allowPreRoundBuys;
                    a.scoreboard = s.payload.scoreboard.sort((p, y) => {
                        if (!p || !y) return 0;
                        const x = (p == null ? void 0 : p.selectedCoin) && (p == null ? void 0 : p.selectedCoin.ticker),
                            S = (y == null ? void 0 : y.selectedCoin) && (y == null ? void 0 : y.selectedCoin.ticker);
                        if (x && !S) return 1;
                        if (!x && S) return -1;
                        if (f) {
                            const v = p.totalInvested || 0,
                                C = y.totalInvested || 0;
                            return Math.abs(C - v) > 1e-6 ? C - v : ((p == null ? void 0 : p.id) || "").localeCompare((y == null ? void 0 : y.id) || "")
                        } else {
                            const v = typeof p.pnl == "number" ? p.pnl : -1 / 0,
                                C = typeof y.pnl == "number" ? y.pnl : -1 / 0;
                            if (C !== v) return C - v;
                            const w = typeof p.pnlPercent == "number" ? p.pnlPercent : -1 / 0;
                            return (typeof y.pnlPercent == "number" ? y.pnlPercent : -1 / 0) - w
                        }
                    })
                }
                return s.payload.provablyFair !== void 0 && (a.provablyFair = s.payload.provablyFair), ba.upsertOne(r, a)
            },
            playerUpdate: (e, s) => {
                const a = e.entities[s.payload.gameId];
                if (!a) return e;
                s.payload.trades !== void 0 && (a.trades = s.payload.trades), a.playerScoreboard = s.payload.leaderboardEntry ? ? null
            },
            newTrade: (e, s) => {
                const a = e.entities[s.payload.gameId];
                return a && (a.trades = [...a.trades, s.payload]), e
            },
            newSideBet: (e, s) => {
                const a = e.entities[s.payload.gameId];
                if (!a) return e;
                a.sideBets = [...a.sideBets, s.payload]
            },
            setHistory: (e, s) => {
                const a = ba.upsertMany(e, s.payload);
                return a.history = s.payload.map(r => r.id), a
            },
            setStats: (e, s) => {
                e.stats = s.payload
            },
            setShareGame: (e, s) => {
                e.shareGame = s.payload
            },
            setShareOpened: (e, s) => {
                e.shareOpened = s.payload
            }
        }
    }),
    Sd = ba.getSelectors(e => e.game),
    yC = e => Sd.selectById(e, e.game.current) ? ? Y0(""),
    bC = e => e.game.constants,
    vC = e => Sd.selectAll(e).filter(s => e.game.history.includes(s.id)),
    SC = e => e.game.shareGame ? Sd.selectById(e, e.game.shareGame) : null,
    CC = e => e.game.shareOpened,
    us = { ...Sd,
        selectCurrent: yC,
        selectHistory: vC,
        selectShareGame: SC,
        selectShareOpened: CC,
        selectConstants: bC
    },
    {
        reducer: wC,
        actions: TC
    } = xC,
    jC = wC,
    br = { ...TC
    };
var Lf = (e => (e.CONNECTED_PLAYERS = "connected_players", e))(Lf || {});
const kC = {
        connectedPlayers: 0
    },
    EC = yn({
        name: "global",
        initialState: kC,
        reducers: {
            [Lf.CONNECTED_PLAYERS]: (e, s) => {
                e.connectedPlayers = s.payload
            }
        }
    }),
    {
        reducer: AC,
        actions: RC
    } = EC,
    DC = AC,
    NC = { ...RC
    };
var Wi = (e => (e.UPDATE_STATE = "updateState", e.SET_DRAWING = "setDrawing", e.SET_WIN = "setWin", e.RESET = "reset", e))(Wi || {});
const Qx = {
        isActive: !1,
        isFinishingLastGame: !1,
        endTime: null,
        nextTime: null,
        config: null,
        currentGameIsGolden: !1,
        status: null,
        activeEventId: null,
        events: [],
        playerEntries: null,
        hasValidEntry: !1,
        validXP: null,
        isRugged: null,
        lastDrawing: null,
        lastWin: null,
        recentDrawings: void 0,
        lastUpdated: null
    },
    _C = yn({
        name: "goldenHour",
        initialState: Qx,
        reducers: {
            [Wi.UPDATE_STATE]: (e, s) => {
                const a = s.payload;
                a.isActive !== void 0 && (e.isActive = a.isActive), a.isFinishingLastGame !== void 0 && (e.isFinishingLastGame = a.isFinishingLastGame), a.endTime !== void 0 && (e.endTime = a.endTime), a.nextTime !== void 0 && (e.nextTime = a.nextTime), a.config !== void 0 && (e.config = a.config), a.currentGameIsGolden !== void 0 && (e.currentGameIsGolden = a.currentGameIsGolden), a.status !== void 0 && (e.status = a.status), a.activeEventId !== void 0 && (e.activeEventId = a.activeEventId), a.events !== void 0 && (e.events = a.events), a.playerEntries !== void 0 && (e.playerEntries = a.playerEntries), a.hasValidEntry !== void 0 && (e.hasValidEntry = a.hasValidEntry), a.validXP !== void 0 && (e.validXP = a.validXP), a.isRugged !== void 0 && (e.isRugged = a.isRugged), a.recentDrawings !== void 0 && (e.recentDrawings = a.recentDrawings), e.lastUpdated = Date.now()
            },
            [Wi.SET_DRAWING]: (e, s) => {
                e.lastDrawing = s.payload.drawing, e.lastUpdated = Date.now()
            },
            [Wi.SET_WIN]: (e, s) => {
                e.lastWin = {
                    amount: s.payload.amount,
                    drawingData: s.payload.drawingData
                }, e.lastUpdated = Date.now()
            },
            [Wi.RESET]: () => ({ ...Qx
            })
        }
    }),
    {
        reducer: PC,
        actions: LC
    } = _C,
    ed = { ...LC
    },
    MC = PC;
var ka = (e => (e.FETCH_LEADERBOARD_REQUEST = "fetchRequest", e.FETCH_LEADERBOARD_SUCCESS = "fetchSuccess", e.FETCH_LEADERBOARD_FAILURE = "fetchFailure", e.SET_LEADERBOARD_PERIOD = "setPeriod", e))(ka || {});
const BC = {
        byPeriod: {
            "24h": [],
            weekly: [],
            monthly: []
        },
        selectedPeriod: "24h",
        isLoading: !1,
        error: null,
        currentUserPosition: null
    },
    zC = yn({
        name: "leaderboards",
        initialState: BC,
        reducers: {
            [ka.FETCH_LEADERBOARD_REQUEST]: e => {
                e.isLoading = !0, e.error = null
            },
            [ka.FETCH_LEADERBOARD_SUCCESS]: (e, s) => {
                e.byPeriod[s.payload.period] = s.payload.data, e.isLoading = !1
            },
            [ka.FETCH_LEADERBOARD_FAILURE]: (e, s) => {
                e.isLoading = !1, e.error = s.payload.error
            },
            [ka.SET_LEADERBOARD_PERIOD]: (e, s) => {
                e.selectedPeriod = s.payload
            },
            setCurrentUserPosition: (e, s) => {
                e.currentUserPosition = s.payload
            }
        }
    }),
    {
        reducer: FC,
        actions: IC
    } = zC,
    bl = { ...IC
    },
    OC = FC,
    ul = bd(),
    WC = yn({
        name: "profiles",
        initialState: ul.getInitialState({
            current: null,
            crateInfo: null,
            dailyDrop: {
                entries: 0,
                nextDrawTime: null,
                isSpecialTimeframe: !1,
                recentWinners: [],
                isLoading: !1,
                error: null
            },
            referral: {
                isLoading: !1,
                error: null,
                data: null,
                registration: {
                    isLoading: !1,
                    error: null,
                    success: !1,
                    message: null
                }
            },
            discord: {
                isLoading: !1,
                error: null,
                isConnected: !1,
                user: null
            },
            cosmetics: {
                isLoading: !1,
                error: null,
                data: null,
                isUpdatingBadge: !1,
                badgeUpdateError: null
            },
            statsLoading: {},
            promoCode: {
                isLoading: !1,
                error: null,
                success: !1,
                message: null,
                lastResult: null
            },
            walletBalances: {},
            isLoadingWalletBalance: !1,
            walletBalanceError: null,
            inbox: {
                messages: [],
                unreadCount: 0
            }
        }),
        reducers: {
            setCurrent: (e, s) => {
                e.current = s.payload
            },
            update: (e, s) => {
                var a, r;
                (((a = s.payload.username) == null ? void 0 : a.toLowerCase()) === "anonymous" || ((r = s.payload.username) == null ? void 0 : r.toLowerCase()) === "anon") && (s.payload.username = null), ul.upsertOne(e, s.payload)
            },
            updateMany: (e, s) => {
                var a, r;
                for (const l of s.payload)(((a = l.username) == null ? void 0 : a.toLowerCase()) === "anonymous" || ((r = l.username) == null ? void 0 : r.toLowerCase()) === "anon") && (l.username = null);
                ul.upsertMany(e, s.payload)
            },
            updatePartials: (e, s) => {
                var r, l, d;
                let a = e;
                for (const u of s.payload) {
                    if (!u.id) continue;
                    const h = a.entities[u.id];
                    h ? (typeof u.username == "string" && ((((r = u.username) == null ? void 0 : r.toLowerCase()) === "anonymous" || ((l = u.username) == null ? void 0 : l.toLowerCase()) === "anon") && (h.username = null), h.username = u.username), typeof((d = u.levelInfo) == null ? void 0 : d.level) == "number" && (h.levelInfo ? h.levelInfo.level = u.levelInfo.level : h.levelInfo = {
                        level: u.levelInfo.level,
                        xp: -1,
                        xpForNextLevel: -1,
                        totalXP: -1
                    }), typeof u.verified == "boolean" && (h.verified = u.verified), typeof u.role == "string" && (h.role = u.role), typeof u.tag == "string" && (h.tag = u.tag)) : a = ul.addOne(a, u)
                }
                return a
            },
            setCrateInfo: (e, s) => {
                e.crateInfo = s.payload
            },
            setDailyDropLoading: (e, s) => {
                e.dailyDrop.isLoading = s.payload, s.payload && (e.dailyDrop.error = null)
            },
            setDailyDropData: (e, s) => {
                e.dailyDrop.isLoading = !1, s.payload.success ? (e.dailyDrop.entries = s.payload.entries || 0, e.dailyDrop.nextDrawTime = s.payload.nextDrawTime || null, e.dailyDrop.isSpecialTimeframe = s.payload.isSpecial || !1, e.dailyDrop.recentWinners = s.payload.recentWinners || [], e.dailyDrop.error = null) : e.dailyDrop.error = s.payload.message || "Failed to load daily drop data"
            },
            setDailyDropError: (e, s) => {
                e.dailyDrop.isLoading = !1, e.dailyDrop.error = s.payload
            },
            setStatsLoading: (e, s) => {
                e.statsLoading[s.payload.playerId] = s.payload.loading
            },
            setDiscordLoading: (e, s) => {
                e.discord.isLoading = s.payload, s.payload && (e.discord.error = null)
            },
            setDiscordConnection: (e, s) => {
                e.discord.isLoading = !1, e.discord.isConnected = !0, e.discord.user = s.payload, e.discord.error = null
            },
            clearDiscordConnection: e => {
                e.discord.isLoading = !1, e.discord.isConnected = !1, e.discord.user = null, e.discord.error = null
            },
            setDiscordError: (e, s) => {
                e.discord.isLoading = !1, e.discord.error = s.payload
            },
            setPromoCodeLoading: (e, s) => {
                e.promoCode.isLoading = s.payload, s.payload && (e.promoCode.error = null, e.promoCode.success = !1, e.promoCode.message = null)
            },
            setPromoCodeSuccess: (e, s) => {
                e.promoCode.isLoading = !1, e.promoCode.success = !0, e.promoCode.message = s.payload.message, e.promoCode.error = null, e.promoCode.lastResult = s.payload
            },
            setPromoCodeError: (e, s) => {
                e.promoCode.isLoading = !1, e.promoCode.success = !1, e.promoCode.error = s.payload, e.promoCode.message = null, e.promoCode.lastResult = null
            },
            resetPromoCodeStatus: e => {
                e.promoCode.isLoading = !1, e.promoCode.error = null, e.promoCode.success = !1, e.promoCode.message = null, e.promoCode.lastResult = null
            },
            setWalletBalanceLoading: (e, s) => {
                e.isLoadingWalletBalance = s.payload, s.payload && (e.walletBalanceError = null)
            },
            setWalletBalances: (e, s) => {
                e.walletBalances = s.payload, e.isLoadingWalletBalance = !1, e.walletBalanceError = null
            },
            updateWalletBalance: (e, s) => {
                e.walletBalances[s.payload.tokenAddress] = s.payload.balance
            },
            setWalletBalanceError: (e, s) => {
                e.isLoadingWalletBalance = !1, e.walletBalanceError = s.payload
            },
            setCosmeticsLoading: (e, s) => {
                e.cosmetics.isLoading = s.payload, s.payload && (e.cosmetics.error = null)
            },
            setCosmeticsData: (e, s) => {
                e.cosmetics.isLoading = !1, e.cosmetics.data = s.payload, e.cosmetics.error = null
            },
            setCosmeticsError: (e, s) => {
                e.cosmetics.isLoading = !1, e.cosmetics.error = s.payload
            },
            setBadgeUpdateLoading: (e, s) => {
                e.cosmetics.isUpdatingBadge = s.payload, s.payload && (e.cosmetics.badgeUpdateError = null)
            },
            updateActiveBadge: (e, s) => {
                e.cosmetics.isUpdatingBadge = !1, e.cosmetics.data && (e.cosmetics.data.activeBadge = s.payload), e.cosmetics.badgeUpdateError = null
            },
            setBadgeUpdateError: (e, s) => {
                e.cosmetics.isUpdatingBadge = !1, e.cosmetics.badgeUpdateError = s.payload
            },
            clearCosmeticsData: e => {
                e.cosmetics.data = null, e.cosmetics.error = null, e.cosmetics.isLoading = !1, e.cosmetics.isUpdatingBadge = !1, e.cosmetics.badgeUpdateError = null
            },
            setInboxMessages: (e, s) => {
                e.inbox.messages = s.payload
            },
            setInboxUnreadCount: (e, s) => {
                e.inbox.unreadCount = s.payload
            },
            clearInboxData: e => {
                e.inbox.messages = [], e.inbox.unreadCount = 0
            },
            setSellTracking: (e, s) => {
                const a = e.entities[e.current];
                a && (a.originalPositionQty = s.payload.originalPositionQty, a.soldPercentage = s.payload.soldPercentage, a.pendingSellPercent = s.payload.pendingSellPercent)
            },
            updateSellProgress: (e, s) => {
                const a = e.entities[e.current];
                a && (s.payload.soldPercentage !== void 0 && (a.soldPercentage = s.payload.soldPercentage), s.payload.pendingSellPercent !== void 0 && (a.pendingSellPercent = s.payload.pendingSellPercent))
            },
            resetSellTracking: e => {
                const s = e.entities[e.current];
                s && (s.originalPositionQty = 0, s.soldPercentage = 0, s.pendingSellPercent = 0)
            },
            setRugpassClaimAllResult: (e, s) => {
                console.log("[Redux] Rugpass claim all result:", s.payload)
            },
            setRugpassClaimSpecificResult: (e, s) => {
                console.log("[Redux] Rugpass claim specific result:", s.payload)
            },
            setRugpassPiggyBankClaimResult: (e, s) => {
                console.log("[Redux] Rugpass piggy bank claim result:", s.payload)
            },
            resetCurrentPlayerCooldown: (e, s) => {
                const a = e.current;
                a && e.entities[a] && (e.entities[a].crateCooldown = s.payload)
            }
        }
    }),
    {
        reducer: UC,
        actions: HC
    } = WC,
    Kx = ul.getSelectors(e => e.profiles),
    Ge = { ...Kx,
        selectCurrent: e => e.profiles.current ? Kx.selectById(e, e.profiles.current) : null,
        selectCrateInfo: e => e.profiles.crateInfo,
        selectDailyDrop: e => e.profiles.dailyDrop,
        selectStatsLoading: (e, s) => e.profiles.statsLoading[s] || !1,
        selectReferral: e => e.profiles.referral,
        selectDiscord: e => e.profiles.discord,
        selectPromoCode: e => e.profiles.promoCode,
        selectWalletBalances: e => e.profiles.walletBalances,
        selectWalletBalance: (e, s) => e.profiles.walletBalances[s] || 0,
        selectIsLoadingWalletBalance: e => e.profiles.isLoadingWalletBalance,
        selectWalletBalanceError: e => e.profiles.walletBalanceError,
        selectCosmetics: e => e.profiles.cosmetics,
        selectCosmeticsData: e => e.profiles.cosmetics.data,
        selectCosmeticsLoading: e => e.profiles.cosmetics.isLoading,
        selectCosmeticsError: e => e.profiles.cosmetics.error,
        selectIsBadgeUpdating: e => e.profiles.cosmetics.isUpdatingBadge,
        selectBadgeUpdateError: e => e.profiles.cosmetics.badgeUpdateError,
        selectInboxMessages: e => e.profiles.inbox.messages,
        selectInboxUnreadCount: e => e.profiles.inbox.unreadCount
    },
    $C = UC,
    Me = HC;
var Xn = (e => (e.SET_STATUS = "setStatus", e.DRAW_COMPLETED = "drawCompleted", e.DRAW_STARTED = "drawStarted", e.USER_WON = "userWon", e.SHOW_OVERLAY = "showOverlay", e.HIDE_OVERLAY = "hideOverlay", e))(Xn || {});
const GC = {
        instarugCount: 0,
        currentAmount: 0,
        totalEntries: 0,
        thresholdForNextDraw: 5,
        playersWithEntriesCount: 0,
        solPerEntry: .001,
        maxEntriesPerPlayer: 1e3,
        winnersCount: 3,
        allPlayerEntriesList: [],
        lastDrawing: void 0,
        config: void 0,
        currentUserEntries: 0,
        recentDrawsHistory: [],
        isLoading: !1,
        error: null,
        overlay: {
            isVisible: !1,
            type: null,
            drawingData: null
        },
        isInitialized: !1
    },
    V0 = yn({
        name: "rugpool",
        initialState: GC,
        reducers: {
            [Xn.SET_STATUS]: (e, s) => {
                const a = e.instarugCount;
                if (e.instarugCount = s.payload.instarugCount ? ? e.instarugCount, e.currentAmount = s.payload.rugpoolAmount ? ? e.currentAmount, e.totalEntries = s.payload.totalEntries ? ? e.totalEntries, e.thresholdForNextDraw = s.payload.threshold ? ? e.thresholdForNextDraw, e.playersWithEntriesCount = s.payload.playersWithEntries ? ? e.playersWithEntriesCount, e.solPerEntry = s.payload.solPerEntry ? ? e.solPerEntry, e.maxEntriesPerPlayer = s.payload.maxEntriesPerPlayer ? ? e.maxEntriesPerPlayer, e.winnersCount = s.payload.winnersCount ? ? e.winnersCount, e.allPlayerEntriesList = s.payload.playerEntries ? ? e.allPlayerEntriesList, e.config = s.payload.config ? ? e.config, s.payload.currentUserSpecificEntries !== void 0 && (e.currentUserEntries = s.payload.currentUserSpecificEntries), s.payload.lastDrawing) {
                    const r = { ...s.payload.lastDrawing,
                        id: s.payload.lastDrawing.drawId || `draw-${s.payload.lastDrawing.timestamp}-${Math.random().toString(36).substring(2,9)}`
                    };
                    e.lastDrawing = r;
                    const l = e.recentDrawsHistory.findIndex(d => d.id === r.id);
                    l === -1 ? e.recentDrawsHistory = [r, ...e.recentDrawsHistory].slice(0, 10) : (e.recentDrawsHistory.splice(l, 1), e.recentDrawsHistory = [r, ...e.recentDrawsHistory].slice(0, 10))
                } else s.payload.lastDrawing === null && (e.lastDrawing = void 0);
                s.payload.instarugCount !== void 0 && s.payload.instarugCount > a && s.payload.instarugCount > 0 && e.isInitialized && (e.overlay = {
                    isVisible: !0,
                    type: "candle",
                    drawingData: null
                }), e.isInitialized || (e.isInitialized = !0), e.isLoading = !1, e.error = null
            },
            [Xn.DRAW_STARTED]: (e, s) => {
                console.log("[RUGPOOL] Draw started with totalPool:", s.payload.totalPool, "full payload:", s.payload), e.overlay = {
                    isVisible: !0,
                    type: "drawing",
                    drawingData: null
                }, e.currentDrawingEvent = {
                    totalPool: s.payload.totalPool,
                    playerEntries: s.payload.playerEntries,
                    rewardPerWinner: s.payload.rewardPerWinner,
                    totalEntries: s.payload.totalEntries
                }, console.log("[RUGPOOL] Stored currentDrawingEvent with totalPool:", e.currentDrawingEvent.totalPool)
            },
            [Xn.DRAW_COMPLETED]: (e, s) => {
                console.log("[RUGPOOL] Draw completed action triggered (needs fixing):", s.payload)
            },
            [Xn.USER_WON]: (e, s) => {
                console.log("[RUGPOOL] User won:", s.payload)
            },
            [Xn.SHOW_OVERLAY]: (e, s) => {
                e.overlay = {
                    isVisible: !0,
                    type: s.payload.type,
                    drawingData: s.payload.drawingData || null
                }
            },
            [Xn.HIDE_OVERLAY]: e => {
                e.overlay = {
                    isVisible: !1,
                    type: null,
                    drawingData: null
                }, e.currentDrawingEvent = void 0
            }
        }
    }),
    Cr = V0.actions,
    YC = V0.reducer;
var Pt = (e => (e.SET_LOADING = "setLoading", e.SET_ERROR = "setError", e.CLEAR_ERROR = "clearError", e.UPDATE_STATE = "updateState", e.SET_STATE = "setState", e.RESET_STATE = "resetState", e.SET_STATUS = "setStatus", e.SET_CURRENT_EVENT = "setCurrentEvent", e.SET_ACTIVE_EVENT_ID = "setActiveEventId", e.SET_LEADERBOARD = "setLeaderboard", e.UPDATE_LEADERBOARD = "updateLeaderboard", e.SET_PLAYER_POSITION = "setPlayerPosition", e.SET_HISTORY = "setHistory", e.ADD_TOURNAMENT_TO_HISTORY = "addTournamentToHistory", e.SET_TIME_REMAINING = "setTimeRemaining", e.SET_FINAL_ROUND = "setFinalRound", e.SET_IS_IN_FINAL_ROUND = "setIsInFinalRound", e.SET_CONFIG = "setConfig", e.SET_EVENTS = "setEvents", e.ADD_EVENT = "addEvent", e.UPDATE_EVENT = "updateEvent", e.REMOVE_EVENT = "removeEvent", e))(Pt || {});
const Zx = {
        status: "INACTIVE",
        activeEventId: null,
        currentEvent: null,
        events: [],
        leaderboard: [],
        playerPosition: null,
        history: [],
        timeRemaining: null,
        finalRound: !1,
        isInFinalRound: !1,
        config: null,
        loading: !1,
        error: null,
        lastUpdated: null
    },
    VC = yn({
        name: "rugRoyale",
        initialState: Zx,
        reducers: {
            [Pt.SET_LOADING]: (e, s) => {
                e.loading = s.payload
            },
            [Pt.SET_ERROR]: (e, s) => {
                e.error = s.payload
            },
            [Pt.CLEAR_ERROR]: e => {
                e.error = null
            },
            [Pt.UPDATE_STATE]: (e, s) => {
                const a = s.payload;
                a.status !== void 0 && (e.status = a.status), a.activeEventId !== void 0 && (e.activeEventId = a.activeEventId), a.currentEvent !== void 0 && (e.currentEvent = a.currentEvent), a.events !== void 0 && (e.events = a.events), a.leaderboard !== void 0 && (e.leaderboard = a.leaderboard), a.playerPosition !== void 0 && (e.playerPosition = a.playerPosition), a.history !== void 0 && (e.history = a.history), a.timeRemaining !== void 0 && (e.timeRemaining = a.timeRemaining), a.finalRound !== void 0 && (e.finalRound = a.finalRound), a.isInFinalRound !== void 0 && (e.isInFinalRound = a.isInFinalRound), a.config !== void 0 && (e.config = a.config), e.lastUpdated = Date.now()
            },
            [Pt.SET_STATE]: (e, s) => ({ ...e,
                ...s.payload.state,
                lastUpdated: Date.now()
            }),
            [Pt.RESET_STATE]: () => ({ ...Zx
            }),
            [Pt.SET_STATUS]: (e, s) => {
                e.status = s.payload, e.lastUpdated = Date.now()
            },
            [Pt.SET_CURRENT_EVENT]: (e, s) => {
                e.currentEvent = s.payload, e.lastUpdated = Date.now()
            },
            [Pt.SET_ACTIVE_EVENT_ID]: (e, s) => {
                e.activeEventId = s.payload, e.lastUpdated = Date.now()
            },
            [Pt.SET_LEADERBOARD]: (e, s) => {
                e.leaderboard = s.payload, e.lastUpdated = Date.now()
            },
            [Pt.UPDATE_LEADERBOARD]: (e, s) => {
                const a = [...s.payload];
                a.sort((r, l) => r.rank - l.rank), e.leaderboard = a, e.lastUpdated = Date.now()
            },
            [Pt.SET_PLAYER_POSITION]: (e, s) => {
                e.playerPosition = s.payload, e.lastUpdated = Date.now()
            },
            [Pt.SET_HISTORY]: (e, s) => {
                e.history = s.payload, e.lastUpdated = Date.now()
            },
            [Pt.ADD_TOURNAMENT_TO_HISTORY]: (e, s) => {
                e.history = [s.payload, ...e.history], e.lastUpdated = Date.now()
            },
            [Pt.SET_TIME_REMAINING]: (e, s) => {
                e.timeRemaining = s.payload, e.lastUpdated = Date.now()
            },
            [Pt.SET_FINAL_ROUND]: (e, s) => {
                e.finalRound = s.payload, e.lastUpdated = Date.now()
            },
            [Pt.SET_IS_IN_FINAL_ROUND]: (e, s) => {
                e.isInFinalRound = s.payload, e.lastUpdated = Date.now()
            },
            [Pt.SET_CONFIG]: (e, s) => {
                e.config = s.payload, e.lastUpdated = Date.now()
            },
            [Pt.SET_EVENTS]: (e, s) => {
                e.events = s.payload, e.lastUpdated = Date.now()
            },
            [Pt.ADD_EVENT]: (e, s) => {
                e.events.some(r => r.id === s.payload.id) || (e.events.push(s.payload), e.lastUpdated = Date.now())
            },
            [Pt.UPDATE_EVENT]: (e, s) => {
                const a = e.events.findIndex(r => r.id === s.payload.id);
                a !== -1 && (e.events[a] = s.payload, e.lastUpdated = Date.now())
            },
            [Pt.REMOVE_EVENT]: (e, s) => {
                e.events = e.events.filter(a => a.id !== s.payload), e.lastUpdated = Date.now()
            }
        }
    }),
    {
        reducer: qC,
        actions: XC
    } = VC,
    Jx = { ...XC
    },
    QC = qC,
    KC = {
        currentSidebet: null
    },
    q0 = yn({
        name: "sidebet",
        initialState: KC,
        reducers: {
            setCurrentSidebet: (e, s) => {
                e.currentSidebet = s.payload
            },
            clearCurrentSideBet: e => {
                e.currentSidebet = null
            }
        }
    }),
    va = { ...q0.actions
    },
    ZC = q0.reducer,
    JC = {
        ping: null,
        pingHistory: [],
        rollingAveragePing: null
    },
    ew = yn({
        name: "system",
        initialState: JC,
        reducers: {
            setPing: (e, s) => {
                e.ping = s.payload, e.pingHistory.push(s.payload), e.pingHistory.length > 10 && (e.pingHistory = e.pingHistory.slice(-10));
                const a = e.pingHistory.reduce((r, l) => r + l, 0);
                e.rollingAveragePing = a / e.pingHistory.length
            },
            clearPing: e => {
                e.ping = null, e.pingHistory = [], e.rollingAveragePing = null
            }
        }
    }),
    {
        reducer: tw,
        actions: nw
    } = ew,
    sw = {
        selectRollingAveragePing: e => e.system.rollingAveragePing
    },
    iw = tw,
    aw = { ...nw
    },
    rw = {
        toasts: []
    },
    ow = yn({
        name: "toast",
        initialState: rw,
        reducers: {
            addToast: (e, s) => {
                e.toasts = e.toasts.filter(r => r.message !== s.payload.message);
                const a = {
                    id: Date.now().toString() + Math.random().toString(36).substr(2, 9),
                    message: s.payload.message,
                    type: s.payload.type,
                    timestamp: Date.now()
                };
                e.toasts.push(a)
            },
            addErrorToast: (e, s) => {
                e.toasts = e.toasts.filter(r => r.message !== s.payload.message);
                const a = {
                    id: Date.now().toString() + Math.random().toString(36).substr(2, 9),
                    message: s.payload.message,
                    type: "error",
                    timestamp: Date.now()
                };
                e.toasts.push(a)
            },
            addSuccessToast: (e, s) => {
                e.toasts = e.toasts.filter(r => r.message !== s.payload.message);
                const a = {
                    id: Date.now().toString() + Math.random().toString(36).substr(2, 9),
                    message: s.payload.message,
                    type: "success",
                    timestamp: Date.now()
                };
                e.toasts.push(a)
            },
            addNotificationToast: (e, s) => {
                e.toasts = e.toasts.filter(r => r.message !== s.payload.message);
                const a = {
                    id: Date.now().toString() + Math.random().toString(36).substr(2, 9),
                    message: s.payload.message,
                    type: "notification",
                    timestamp: Date.now()
                };
                e.toasts.push(a)
            },
            removeToast: (e, s) => {
                e.toasts = e.toasts.filter(a => a.id !== s.payload)
            },
            removeErrorToast: (e, s) => {
                e.toasts = e.toasts.filter(a => a.id !== s.payload)
            },
            clearAllToasts: e => {
                e.toasts = []
            }
        }
    }),
    {
        reducer: lw,
        actions: cw
    } = ow,
    dw = lw,
    Bt = { ...cw
    },
    uw = {
        selectToasts: e => e.toast.toasts
    },
    hw = {
        deposit: null,
        withdrawal: null
    },
    fw = yn({
        name: "transaction",
        initialState: hw,
        reducers: {
            startDeposit: (e, s) => {
                e.deposit = {
                    txnStatus: "processing",
                    referenceCode: s.payload.referenceCode,
                    amount: s.payload.amount,
                    timestamp: s.payload.timestamp
                }
            },
            successDeposit: (e, s) => {
                e.deposit = {
                    txnStatus: "pending_confirmation",
                    referenceCode: s.payload.referenceCode,
                    amount: s.payload.amount,
                    timestamp: s.payload.timestamp,
                    txnHash: s.payload.txnHash
                }
            },
            confirmDeposit: (e, s) => {
                var a, r;
                e.deposit = {
                    txnStatus: "completed",
                    amount: s.payload.amount,
                    coin: s.payload.token,
                    timestamp: s.payload.timestamp,
                    txnHash: ((a = e.deposit) == null ? void 0 : a.txnStatus) === "pending_confirmation" ? (r = e.deposit) == null ? void 0 : r.txnHash : void 0
                }
            },
            errorDeposit: (e, s) => {
                e.deposit = {
                    txnStatus: "error"
                }
            },
            resetDeposit: e => {
                e.deposit = null
            },
            startWithdrawal: (e, s) => {
                e.withdrawal = {
                    txnStatus: "processing",
                    amount: s.payload.amount,
                    destinationWallet: s.payload.destinationWallet,
                    coin: s.payload.coin,
                    timestamp: s.payload.timestamp
                }
            },
            successWithdrawal: (e, s) => {
                e.withdrawal = {
                    txnStatus: "completed",
                    amount: s.payload.amount,
                    destinationWallet: s.payload.destinationWallet,
                    timestamp: s.payload.timestamp
                }
            },
            errorWithdrawal: (e, s) => {
                e.withdrawal = {
                    txnStatus: "error"
                }
            },
            resetWithdrawal: e => {
                e.withdrawal = null
            }
        }
    }),
    pw = {
        selectDeposit: e => e.transaction.deposit,
        selectWithdrawal: e => e.transaction.withdrawal
    },
    X0 = pw,
    {
        actions: gw,
        reducer: mw
    } = fw,
    Ui = gw,
    xw = mw,
    yw = {
        game: jC,
        chat: nC,
        global: DC,
        goldenHour: MC,
        leaderboard: OC,
        profiles: $C,
        battles: KS,
        admin: GS,
        dev: pC,
        rugpool: YC,
        rugRoyale: QC,
        coin: lC,
        transaction: xw,
        sidebet: ZC,
        system: iw,
        toast: dw
    },
    bw = wv(yw),
    Hi = Tv({
        reducer: bw,
        devTools: !0
    }),
    bt = jl,
    Se = pn,
    Q0 = jv;

function K0() {
    const e = navigator.userAgent;
    let s = "Unknown",
        a = "Unknown";
    if (e.includes("Vivaldi")) {
        s = "Vivaldi";
        const w = e.match(/Vivaldi\/([0-9.]+)/);
        a = w ? w[1] : "Unknown"
    } else if (e.includes("brave") || e.includes("Brave") || typeof navigator < "u" && navigator.brave && typeof navigator.brave.isBrave == "function") {
        s = "Brave";
        let w = e.match(/Brave\/([0-9.]+)/);
        w || (w = e.match(/Chrome\/([0-9.]+)/)), a = w ? w[1] : "Unknown"
    } else if (e.includes("Opera") || e.includes("OPR")) {
        s = "Opera";
        const w = e.match(/(Opera|OPR)\/([0-9.]+)/);
        a = w ? w[2] : "Unknown"
    } else if (e.includes("Edg")) {
        s = "Edge";
        const w = e.match(/Edg\/([0-9.]+)/);
        a = w ? w[1] : "Unknown"
    } else if (e.includes("Chrome") && !e.includes("Edg")) {
        s = "Chrome";
        const w = e.match(/Chrome\/([0-9.]+)/);
        a = w ? w[1] : "Unknown"
    } else if (e.includes("Firefox")) {
        s = "Firefox";
        const w = e.match(/Firefox\/([0-9.]+)/);
        a = w ? w[1] : "Unknown"
    } else if (e.includes("Safari") && !e.includes("Chrome")) {
        s = "Safari";
        const w = e.match(/Version\/([0-9.]+)/);
        a = w ? w[1] : "Unknown"
    } else if (e.includes("Arc")) {
        s = "Arc";
        const w = e.match(/Arc\/([0-9.]+)/);
        a = w ? w[1] : "Unknown"
    } else if (e.includes("DuckDuckGo")) {
        s = "DuckDuckGo";
        const w = e.match(/DuckDuckGo\/([0-9.]+)/);
        a = w ? w[1] : "Unknown"
    } else if (e.includes("SamsungBrowser")) {
        s = "Samsung Internet";
        const w = e.match(/SamsungBrowser\/([0-9.]+)/);
        a = w ? w[1] : "Unknown"
    } else if (e.includes("YaBrowser")) {
        s = "Yandex";
        const w = e.match(/YaBrowser\/([0-9.]+)/);
        a = w ? w[1] : "Unknown"
    }
    let r = "Unknown",
        l = "Unknown";
    if (e.includes("Windows NT")) {
        r = "Windows";
        const w = e.match(/Windows NT ([0-9.]+)/);
        if (w) {
            const j = w[1];
            switch (j) {
                case "10.0":
                    l = "10/11";
                    break;
                case "6.3":
                    l = "8.1";
                    break;
                case "6.2":
                    l = "8";
                    break;
                case "6.1":
                    l = "7";
                    break;
                default:
                    l = j
            }
        }
    } else if (e.includes("Mac OS X")) {
        r = "macOS";
        const w = e.match(/Mac OS X ([0-9_]+)/);
        l = w ? w[1].replace(/_/g, ".") : "Unknown"
    } else if (e.includes("Linux")) r = "Linux";
    else if (e.includes("Android")) {
        r = "Android";
        const w = e.match(/Android ([0-9.]+)/);
        l = w ? w[1] : "Unknown"
    } else if (e.includes("iPhone") || e.includes("iPad") || e.includes("iPod")) {
        r = "iOS";
        let w = e.match(/OS ([0-9_]+)/);
        w || (w = e.match(/iPhone OS ([0-9_]+)/)), w || (w = e.match(/Version\/([0-9.]+).*Mobile/)), l = w ? w[1].replace(/_/g, ".") : "Unknown"
    }
    const d = /iPhone|iPad|iPod/i.test(e),
        u = /iPad/i.test(e) || navigator.platform === "MacIntel" && navigator.maxTouchPoints > 1,
        h = /iPhone/i.test(e),
        f = /iPod/i.test(e),
        p = /Android|webOS|iPhone|iPod|BlackBerry|IEMobile|Opera Mini/i.test(e) || h || f || window.innerWidth <= 768,
        y = u || /Android(?!.*Mobile)/i.test(e) || window.innerWidth > 768 && window.innerWidth <= 1024 && "ontouchstart" in window,
        x = !p && !y;
    let S = "Desktop";
    h ? S = "iPhone" : f ? S = "iPod" : u ? S = "iPad" : p ? S = "Mobile" : y && (S = "Tablet");
    const v = `${screen.width}x${screen.height}`,
        C = `${window.innerWidth}x${window.innerHeight}`;
    return {
        browser: s,
        browserVersion: a,
        device: S,
        os: r,
        osVersion: l,
        isMobile: p,
        isTablet: y,
        isDesktop: x,
        isIOS: d,
        isIPhone: h,
        isIPad: u,
        isIPod: f,
        userAgent: e,
        screenResolution: v,
        viewport: C
    }
}

function vw() {
    const e = K0(),
        s = Intl.DateTimeFormat().resolvedOptions().timeZone,
        a = navigator.language,
        r = navigator.cookieEnabled,
        l = navigator.doNotTrack;
    return btoa(JSON.stringify({
        browser: e.browser,
        os: e.os,
        screen: e.screenResolution,
        timezone: s,
        language: a,
        cookieEnabled: r,
        doNotTrack: l
    })).slice(0, 16)
}
const Sw = "a3106075-af0b-418b-9c58-1f84a387f5dd",
    Cw = "scenario_a5db8e61-b6dc-4de0-a848-7c9022548954";

function ww() {
    var S, v;
    const e = Se(Ge.selectCurrent),
        {
            user: s
        } = Gi(),
        a = (S = s == null ? void 0 : s.wallet) == null ? void 0 : S.address,
        r = (v = s == null ? void 0 : s.wallet) == null ? void 0 : v.walletClientType,
        l = s == null ? void 0 : s.id,
        d = m.useRef(!1),
        u = m.useRef("Not set"),
        [h, f] = m.useState(),
        p = m.useMemo(() => K0(), []),
        y = m.useMemo(() => vw(), []),
        x = m.useCallback(C => {
            f(w => {
                if (!w) return null;
                const j = { ...w,
                    ...C
                };
                if (JSON.stringify(j) === JSON.stringify(w)) return w;
                if (d.current) try {
                    console.log("Updating crisp data", C), wn.session.setData(C)
                } catch (A) {
                    console.error("[CrispWidget] Error updating Crisp data:", A)
                }
                return j
            })
        }, []);
    return m.useEffect(() => {
        if (!d.current) {
            try {
                wn.configure(Sw);
                const C = {
                    scenario: Cw,
                    browser: p.browser,
                    browser_version: p.browserVersion,
                    device_type: p.device,
                    operating_system: p.os,
                    os_version: p.osVersion,
                    is_mobile: p.isMobile,
                    is_tablet: p.isTablet,
                    is_desktop: p.isDesktop,
                    is_ios: p.isIOS,
                    screen_resolution: p.screenResolution,
                    viewport_size: p.viewport,
                    user_agent: p.userAgent,
                    device_fingerprint: y,
                    timezone: Intl.DateTimeFormat().resolvedOptions().timeZone,
                    language: navigator.language,
                    cookie_enabled: navigator.cookieEnabled,
                    wallet_address: a || "Not set",
                    wallet_type: r || "Not set",
                    user_id: l || "Not set"
                };
                f(C), wn.session.setData(C);
                try {
                    wn.setZIndex(2147483e3), wn.setHideOnMobile(!1), window.innerWidth <= 768 ? wn.chat.hide() : wn.chat.show()
                } catch {}
                d.current = !0, console.log("Crisp widget initialized successfully")
            } catch (C) {
                console.error("Failed to initialize Crisp widget:", C)
            }
            return () => {
                d.current = !1, f(null)
            }
        }
    }, [p, y, s]), m.useEffect(() => {
        d.current && x({
            wallet_address: a || "Not set",
            wallet_type: r || "Not set"
        })
    }, [a, r, x]), m.useEffect(() => {
        var C, w, j, A, _, k, D, E, P, I, B, X, O, L, F, Y, H, K, z, U, V, W, q;
        if (d.current) {
            if (!e) {
                u.current = null;
                return
            }
            if (u.current === e.id) {
                x({
                    username: e.username || "Anonymous",
                    level: ((C = e.levelInfo) == null ? void 0 : C.level) || 0,
                    total_xp: ((w = e.levelInfo) == null ? void 0 : w.totalXP) || 0,
                    xp_current: ((j = e.levelInfo) == null ? void 0 : j.xp) || 0,
                    xp_next_level: ((A = e.levelInfo) == null ? void 0 : A.xpForNextLevel) || 0,
                    cash_balance: e.cash || 0,
                    bonus_balance: e.bonusBalance || 0,
                    rugpass_tier: ((_ = e.rugpassData) == null ? void 0 : _.tier) || 0,
                    rugpass_gems: ((k = e.rugpassData) == null ? void 0 : k.gems) || 0,
                    total_bets_sol: ((D = e.stats) == null ? void 0 : D.totalBetsSol) || 0,
                    total_wins_sol: ((E = e.stats) == null ? void 0 : E.totalWinsSol) || 0,
                    total_losses_sol: ((P = e.stats) == null ? void 0 : P.totalLossesSol) || 0,
                    total_games_played: ((I = e.stats) == null ? void 0 : I.totalGamesPlayed) || 0,
                    pnl_percentage: ((B = e.stats) == null ? void 0 : B.pnlPercentage) || 0
                });
                return
            }
            u.current = e.id;
            try {
                const Z = e.username || `Player ${e.id.slice(0,8)}`;
                wn.user.setNickname(Z), x({
                    user_id: e.id,
                    username: e.username || "Anonymous",
                    role: e.role || "user",
                    level: ((X = e.levelInfo) == null ? void 0 : X.level) || 0,
                    total_xp: ((O = e.levelInfo) == null ? void 0 : O.totalXP) || 0,
                    xp_current: ((L = e.levelInfo) == null ? void 0 : L.xp) || 0,
                    xp_next_level: ((F = e.levelInfo) == null ? void 0 : F.xpForNextLevel) || 0,
                    cash_balance: e.cash || 0,
                    bonus_balance: e.bonusBalance || 0,
                    verified: e.verified || !1,
                    has_interacted: e.hasInteracted || !1,
                    discord_connected: !!e.discord,
                    discord_username: ((Y = e.discord) == null ? void 0 : Y.username) || "Not Set",
                    rugpass_tier: ((H = e.rugpassData) == null ? void 0 : H.tier) || 0,
                    rugpass_gems: ((K = e.rugpassData) == null ? void 0 : K.gems) || 0,
                    total_bets_sol: ((z = e.stats) == null ? void 0 : z.totalBetsSol) || 0,
                    total_wins_sol: ((U = e.stats) == null ? void 0 : U.totalWinsSol) || 0,
                    total_losses_sol: ((V = e.stats) == null ? void 0 : V.totalLossesSol) || 0,
                    total_games_played: ((W = e.stats) == null ? void 0 : W.totalGamesPlayed) || 0,
                    pnl_percentage: ((q = e.stats) == null ? void 0 : q.pnlPercentage) || 0
                })
            } catch (Z) {
                console.error("Error updating Crisp user data:", Z)
            }
        }
    }, [e, x]), null
}
const Tw = ({
        message: e,
        isActive: s
    }) => {
        const [a, r] = m.useState(!1), [l, d] = m.useState("hidden"), u = m.useRef(!0);
        return m.useEffect(() => {
            if (u.current) {
                u.current = !1, s && (r(!0), d("visible"));
                return
            }
            if (s) {
                r(!0), d("entering");
                const h = setTimeout(() => {
                    d("visible")
                }, 300);
                return () => clearTimeout(h)
            } else {
                d("exiting");
                const h = setTimeout(() => {
                    r(!1), d("hidden")
                }, 300);
                return () => clearTimeout(h)
            }
        }, [s]), !a && !s ? null : t.jsx("div", {
            className: `maintenance-banner maintenance-${l}`,
            "aria-live": "polite",
            role: "banner",
            children: t.jsx("div", {
                className: "maintenance-banner-content",
                children: e || "Server will reboot after this round. Will take approximately 3 minutes."
            })
        })
    },
    jw = yd(t.jsx("path", {
        d: "M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"
    })),
    kw = yd(t.jsx("path", {
        d: "M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m-2 15-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8z"
    })),
    Ew = yd(t.jsx("path", {
        d: "M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m1 15h-2v-2h2zm0-4h-2V7h2z"
    })),
    Aw = yd(t.jsx("path", {
        d: "M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m1 15h-2v-6h2zm0-8h-2V7h2z"
    })),
    de = {
        colorBackground: "#15161d",
        colorForeground: "#f8f8fc",
        colorCard: "#1e202a",
        colorCardForeground: "#ffffff",
        colorPopover: "#1e202a",
        colorBorder: "#383943",
        colorInput: "#383943",
        colorMuted: "#272935",
        colorMutedForeground: "#a1a5ba",
        colorPrimary: "#ffc700",
        colorPrimaryForeground: "#15161d",
        colorPrimaryHover: "#e6b400",
        colorPrimaryActive: "#cca000",
        colorSecondary: "#ef7104",
        colorSecondaryForeground: "#15161d",
        colorSecondaryHover: "#f29138",
        colorSecondaryActive: "#e05600",
        colorAccent: "#ffc700",
        colorDestructive: "#ff3b5d",
        colorDestructiveForeground: "#ffffff",
        colorSuccess: "#19b55a",
        colorSuccessForeground: "#15161d",
        colorWarning: "#ffb52e",
        colorWarningForeground: "#15161d",
        colorCandlestickUp: "#00c950",
        colorCandlestickDown: "#fb2c36"
    },
    Mt = {
        tier0: {
            color: "#8B7355",
            name: "Iron"
        },
        tier1: {
            color: "#CD7F32",
            name: "Bronze"
        },
        tier2: {
            color: "#C9D2D9",
            name: "Silver"
        },
        tier3: {
            color: "#FFD700",
            name: "Gold"
        },
        tier4: {
            color: "linear-gradient(135deg, #E5E4E2 0%, #BCC6CC 50%, #98AFC7 100%)",
            name: "Platinum"
        },
        tier5: {
            color: "linear-gradient(135deg, #B9F2FF 0%, #00D4FF 50%, #0099CC 100%)",
            name: "Diamond"
        },
        tier6: {
            color: "linear-gradient(135deg, #50C878 0%, #228B22 50%, #006400 100%)",
            name: "Emerald"
        },
        tier7: {
            color: "linear-gradient(135deg, #9966CC 0%, #8B008B 50%, #4B0082 100%)",
            name: "Amethyst"
        },
        tier8: {
            color: "linear-gradient(135deg, #FF6B35 0%, #F7931E 25%, #FFD700 50%, #9966CC 75%, #FF1493 100%)",
            name: "Mythic"
        },
        tier9: {
            color: "linear-gradient(135deg, #FFFFFF 0%, #87CEEB 25%, #FFD700 50%, #FF69B4 75%, #9370DB 100%)",
            name: "Celestial"
        }
    },
    Rw = ({
        toast: e,
        onRemove: s
    }) => {
        const [a, r] = m.useState(!0), l = Nr(), d = Fs(l.breakpoints.down("md")), u = e.type === "success" && e.message.toLowerCase().includes("level up"), h = v => v >= 90 ? {
            tier: "tier9",
            name: Mt.tier9.name,
            color: Mt.tier9.color
        } : v >= 80 ? {
            tier: "tier8",
            name: Mt.tier8.name,
            color: Mt.tier8.color
        } : v >= 70 ? {
            tier: "tier7",
            name: Mt.tier7.name,
            color: Mt.tier7.color
        } : v >= 60 ? {
            tier: "tier6",
            name: Mt.tier6.name,
            color: Mt.tier6.color
        } : v >= 50 ? {
            tier: "tier5",
            name: Mt.tier5.name,
            color: Mt.tier5.color
        } : v >= 40 ? {
            tier: "tier4",
            name: Mt.tier4.name,
            color: Mt.tier4.color
        } : v >= 30 ? {
            tier: "tier3",
            name: Mt.tier3.name,
            color: Mt.tier3.color
        } : v >= 20 ? {
            tier: "tier2",
            name: Mt.tier2.name,
            color: Mt.tier2.color
        } : v >= 10 ? {
            tier: "tier1",
            name: Mt.tier1.name,
            color: Mt.tier1.color
        } : {
            tier: "tier0",
            name: Mt.tier0.name,
            color: Mt.tier0.color
        }, p = (() => {
            if (!u) return null;
            const v = e.message.match(/level (\d+)/i),
                C = v ? v[1] : "",
                w = C ? String(parseInt(C) - 1) : "",
                j = w ? h(parseInt(w)) : null,
                A = C ? h(parseInt(C)) : null,
                _ = e.message.match(/Rewards:\s*(.+)$/i),
                k = _ ? _[1] : "",
                D = k ? k.split(",").map(E => {
                    const P = E.trim().match(/(\d+)\s+(.+)/);
                    if (P) {
                        let I = "tier0";
                        const B = P[2].toLowerCase();
                        return B.includes("celestial") ? I = "tier9" : B.includes("mythic") ? I = "tier8" : B.includes("amethyst") ? I = "tier7" : B.includes("emerald") ? I = "tier6" : B.includes("diamond") ? I = "tier5" : B.includes("platinum") ? I = "tier4" : B.includes("gold") ? I = "tier3" : B.includes("silver") ? I = "tier2" : B.includes("bronze") ? I = "tier1" : B.includes("iron") && (I = "tier0"), {
                            count: P[1],
                            name: P[2],
                            tier: I
                        }
                    }
                    return null
                }).filter(E => E !== null) : [];
            return {
                oldLevel: w,
                newLevel: C,
                oldRank: j,
                newRank: A,
                rewards: D
            }
        })(), y = m.useCallback((v, C) => {
            C !== "clickaway" && (r(!1), setTimeout(() => s(e.id), 200))
        }, [e.id, s]);
        m.useEffect(() => {
            const v = setTimeout(() => {
                y()
            }, 5e3);
            return () => clearTimeout(v)
        }, [y]);
        const x = () => {
                switch (e.type) {
                    case "success":
                        return t.jsx(kw, {});
                    case "notification":
                        return t.jsx(Aw, {});
                    case "error":
                    default:
                        return t.jsx(Ew, {})
                }
            },
            S = () => {
                switch (e.type) {
                    case "success":
                        return "success";
                    case "notification":
                        return "info";
                    case "error":
                    default:
                        return "error"
                }
            };
        return t.jsx(av, {
            open: a,
            onClose: y,
            anchorOrigin: {
                vertical: "top",
                horizontal: "left"
            },
            sx: {
                position: "static",
                "& .MuiSnackbar-root": {
                    position: "static"
                }
            },
            children: t.jsx(it, {
                severity: S(),
                icon: u ? !1 : x(),
                onClose: y,
                onClick: v => {
                    v.stopPropagation(), y()
                },
                action: t.jsx(Rt, {
                    size: "small",
                    "aria-label": "close",
                    color: "inherit",
                    onClick: v => {
                        v.stopPropagation(), y()
                    },
                    sx: {
                        alignSelf: u ? "flex-start" : "center",
                        padding: "4px",
                        marginTop: u ? "-2px" : 0,
                        position: u ? "absolute" : "relative",
                        right: u ? "12px" : "auto",
                        top: u ? "16px" : "auto",
                        "&:hover": {
                            backgroundColor: "rgba(255, 255, 255, 0.1)"
                        }
                    },
                    children: t.jsx(jw, {
                        fontSize: "small"
                    })
                }),
                sx: {
                    width: d ? "90vw" : u ? "auto" : "400px",
                    maxWidth: u ? "420px" : "400px",
                    minWidth: u ? "320px" : "auto",
                    fontFamily: "DynaPuff, sans-serif",
                    fontSize: "0.875rem",
                    display: "flex",
                    alignItems: u ? "flex-start" : "center",
                    padding: u ? "16px 20px" : "12px 16px",
                    position: "relative",
                    "& .MuiAlert-icon": {
                        fontSize: u ? "2rem" : "1.75rem",
                        alignSelf: u ? "flex-start" : "center",
                        marginRight: u ? "16px" : "12px",
                        padding: 0,
                        opacity: 1,
                        color: u ? de.colorPrimary : e.type === "success" ? de.colorSuccess : e.type === "notification" ? de.colorPrimary : de.colorDestructive
                    },
                    "& .MuiAlert-message": {
                        padding: 0,
                        display: "flex",
                        flexDirection: u ? "column" : "row",
                        alignItems: u ? "flex-start" : "center",
                        wordBreak: "break-word",
                        flex: 1,
                        gap: u ? "12px" : 0
                    },
                    "& .MuiAlert-action": {
                        padding: 0,
                        paddingLeft: "8px",
                        marginRight: 0,
                        alignItems: u ? "flex-start" : "center"
                    },
                    backgroundColor: de.colorCard,
                    color: de.colorForeground,
                    border: `2px solid ${u?de.colorPrimary:e.type==="success"?de.colorSuccess:e.type==="notification"?de.colorPrimary:de.colorDestructive}`,
                    boxShadow: u ? "0 0 20px rgba(255, 199, 0, 0.2), 0 4px 12px rgba(0, 0, 0, 0.4)" : e.type === "success" ? "0 0 12px rgba(25, 181, 90, 0.15), 0 4px 8px rgba(0, 0, 0, 0.3)" : e.type === "notification" ? "0 0 12px rgba(255, 199, 0, 0.15), 0 4px 8px rgba(0, 0, 0, 0.3)" : "0 0 12px rgba(255, 59, 93, 0.15), 0 4px 8px rgba(0, 0, 0, 0.3)"
                },
                children: u && p ? t.jsxs(t.Fragment, {
                    children: [t.jsx("style", {
                        children: `
                @keyframes levelUpGlow {
                  0%, 100% { opacity: 0.8; }
                  50% { opacity: 1; }
                }
                @keyframes slideInReward {
                  from { 
                    opacity: 0; 
                    transform: translateX(-10px);
                  }
                  to { 
                    opacity: 1; 
                    transform: translateX(0);
                  }
                }
              `
                    }), t.jsxs("div", {
                        style: {
                            display: "flex",
                            flexDirection: "column",
                            gap: "10px",
                            width: "100%"
                        },
                        children: [t.jsx("div", {
                            style: {
                                fontSize: "1.1rem",
                                fontWeight: 600,
                                color: de.colorForeground,
                                animation: "levelUpGlow 2s ease-in-out infinite",
                                paddingRight: "32px"
                            },
                            children: "🎉 You Leveled Up!"
                        }), t.jsxs("div", {
                            style: {
                                display: "flex",
                                alignItems: "center",
                                gap: "8px",
                                marginBottom: p.rewards.length > 0 ? "4px" : 0
                            },
                            children: [p.oldRank && t.jsxs("span", {
                                style: {
                                    fontSize: "1.2rem",
                                    fontWeight: 600,
                                    background: p.oldRank.color.includes("gradient") ? p.oldRank.color : void 0,
                                    color: p.oldRank.color.includes("gradient") ? "transparent" : p.oldRank.color,
                                    WebkitBackgroundClip: p.oldRank.color.includes("gradient") ? "text" : void 0,
                                    WebkitTextFillColor: p.oldRank.color.includes("gradient") ? "transparent" : void 0,
                                    opacity: .7
                                },
                                children: [p.oldRank.name, " ", p.oldLevel]
                            }), t.jsx("span", {
                                style: {
                                    fontSize: "1.1rem",
                                    color: de.colorPrimary
                                },
                                children: "→"
                            }), p.newRank && t.jsxs("span", {
                                style: {
                                    fontSize: "1.4rem",
                                    fontWeight: 700,
                                    background: p.newRank.color.includes("gradient") ? p.newRank.color : void 0,
                                    color: p.newRank.color.includes("gradient") ? "transparent" : p.newRank.color,
                                    WebkitBackgroundClip: p.newRank.color.includes("gradient") ? "text" : void 0,
                                    WebkitTextFillColor: p.newRank.color.includes("gradient") ? "transparent" : void 0,
                                    textShadow: p.newRank.color.includes("gradient") ? void 0 : `0 0 12px ${p.newRank.color}40`,
                                    animation: "levelUpGlow 2s ease-in-out infinite"
                                },
                                children: [p.newRank.name, " ", p.newLevel]
                            })]
                        }), p.rewards.length > 0 && t.jsx("div", {
                            style: {
                                display: "flex",
                                flexDirection: "column",
                                gap: "6px"
                            },
                            children: p.rewards.map((v, C) => t.jsxs("div", {
                                style: {
                                    display: "flex",
                                    alignItems: "center",
                                    gap: "8px",
                                    fontSize: "0.9rem",
                                    color: de.colorForeground,
                                    animation: `slideInReward 0.5s ease-out ${C*.1}s both`
                                },
                                children: [t.jsx("img", {
                                    src: `/badges/${v.tier}.png`,
                                    alt: "",
                                    style: {
                                        width: "20px",
                                        height: "20px",
                                        objectFit: "contain"
                                    }
                                }), t.jsx("span", {
                                    children: v.name
                                }), t.jsxs("span", {
                                    style: {
                                        fontWeight: 600,
                                        color: de.colorSuccess,
                                        fontSize: "1rem",
                                        marginLeft: "auto"
                                    },
                                    children: ["+", v.count]
                                })]
                            }, C))
                        })]
                    })]
                }) : e.message
            })
        })
    },
    Dw = () => {
        const e = jl(),
            s = pn(uw.selectToasts),
            a = Nr(),
            r = Fs(a.breakpoints.down("md")),
            l = m.useCallback(d => {
                e(Bt.removeToast(d))
            }, [e]);
        return s.length === 0 ? null : t.jsx("div", {
            style: {
                position: "fixed",
                bottom: r ? void 0 : "24px",
                top: r ? "24px" : void 0,
                left: r ? "50%" : "24px",
                transform: r ? "translateX(-50%)" : "none",
                zIndex: 1400,
                display: "flex",
                flexDirection: "column",
                gap: "16px",
                pointerEvents: "none"
            },
            children: s.map(d => t.jsx("div", {
                style: {
                    pointerEvents: "auto"
                },
                children: t.jsx(Rw, {
                    toast: d,
                    onRemove: l
                })
            }, d.id))
        })
    },
    Z0 = m.createContext(void 0),
    Nw = ({
        children: e
    }) => {
        const [s, a] = m.useState(new Set), r = m.useCallback(h => {
            a(f => new Set(f).add(h))
        }, []), l = m.useCallback(h => {
            a(f => {
                const p = new Set(f);
                return p.delete(h), p
            })
        }, []), d = m.useCallback(() => s.size > 0, [s.size]), u = {
            activeDropdowns: s,
            registerDropdown: r,
            unregisterDropdown: l,
            hasActiveDropdowns: d
        };
        return t.jsx(Z0.Provider, {
            value: u,
            children: e
        })
    },
    kl = () => {
        const e = m.useContext(Z0);
        if (e === void 0) throw new Error("useDropdownContext must be used within a DropdownProvider");
        return e
    };

function _w(e) {
    return ot({
        attr: {
            viewBox: "0 0 24 24"
        },
        child: [{
            tag: "path",
            attr: {
                fill: "none",
                d: "M0 0h24v24H0z"
            },
            child: []
        }, {
            tag: "path",
            attr: {
                d: "M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20v-2z"
            },
            child: []
        }]
    })(e)
}

function Pw(e) {
    return ot({
        attr: {
            viewBox: "0 0 24 24"
        },
        child: [{
            tag: "path",
            attr: {
                fill: "none",
                d: "M0 0h24v24H0z"
            },
            child: []
        }, {
            tag: "path",
            attr: {
                d: "M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"
            },
            child: []
        }]
    })(e)
}
const J0 = m.createContext(null);

function oi() {
    const e = m.useContext(J0);
    if (!e) throw new Error("SocketService not found");
    return e
}

function Pa() {
    const e = bt(),
        s = oi(),
        a = m.useCallback(_ => {
            s.emit("joinBattlesRoom", _)
        }, [s]),
        r = m.useCallback(_ => {
            s.emit("leaveBattlesRoom", _)
        }, [s]),
        l = m.useCallback((_ = 0, k = 4) => {
            s.emit("getBattleLobbies", {
                page: _,
                pageSize: k
            }, D => {
                if (D && D.success) {
                    const E = {
                        lobbies: D.lobbies,
                        pagination: D.pagination
                    };
                    if (E.lobbies) {
                        const P = E.lobbies.map(I => ({ ...I,
                            playerCount: I.currentPlayers || I.playerCount || 0,
                            status: I.state || I.status || "waiting",
                            players: I.players && Array.isArray(I.players) ? I.players.filter((X, O, L) => O === L.findIndex(F => F.id === X.id)) : I.players,
                            _updateTimestamp: Date.now()
                        }));
                        if (console.log("[BATTLES REDUCER] Received battle lobbies:", P.length, "lobbies", E.pagination ? `(page ${(E.pagination.currentPage||0)+1}/${E.pagination.totalPages||1})` : ""), e(Le.setAllLobbies(P)), E.pagination) {
                            const I = E.pagination,
                                B = {
                                    page: I.currentPage || 0,
                                    pageSize: I.pageSize || 4,
                                    totalPages: I.totalPages || 1,
                                    totalCount: I.totalLobbies || 0
                                };
                            e(Le.setPagination(B))
                        }
                    } else console.log("Received battleLobbiesUpdate but no lobbies data:", E)
                } else {
                    const E = "error" in D && (D != null && D.error) ? String(D.error) : "Failed to load battle lobbies";
                    console.error("Error getting battle lobbies:", E), e(Le.setError(E)), e(Bt.addErrorToast({
                        message: E,
                        type: "error"
                    }))
                }
            })
        }, [s, e]),
        d = m.useCallback(() => {
            s.emit("getBattleState", _ => {
                var k;
                if (_.success && _.state) {
                    const {
                        type: D,
                        ...E
                    } = _.state;
                    e(Le.setPlayerBattleState(E));
                    const I = Hi.getState().profiles.current;
                    if (console.log("[BATTLES] Searching for current player. UserId:", I, "Players count:", ((k = E.players) == null ? void 0 : k.length) || 0), I && E.players && Array.isArray(E.players)) {
                        const B = E.players.find(X => X.id === I);
                        if (B) {
                            console.log("[BATTLES] Found current player in battle state:", B);
                            const X = {
                                id: B.id,
                                username: B.username,
                                balance: B.balance,
                                position: B.positionQty || 0,
                                battleId: E.id
                            };
                            console.log("[BATTLES] Dispatching playerUpdate with data:", X), e(Le.playerUpdate(X))
                        } else console.log("[BATTLES] Current player not found in battle players list. User might be spectating."), console.log("[BATTLES] Available players:", E.players.map(X => ({
                            id: X.id,
                            username: X.username
                        })))
                    }
                } else console.log("[BATTLES] No battle state available or null state received"), e(Le.setPlayerBattleState(null))
            })
        }, [s, e]),
        u = m.useCallback(_ => {
            s.emit("spectateBattle", _, k => {
                if (console.log("[BATTLES] Spectate battle response:", k), k.success) {
                    console.log("[BATTLES] Successfully started spectating lobby:", k.lobby);
                    const D = { ...k.lobby,
                        isSpectating: !0,
                        id: k.lobby.id || _,
                        players: k.lobby.players || [],
                        trades: k.lobby.trades || [],
                        prices: k.lobby.prices || []
                    };
                    e(Le.setPlayerBattleState(D))
                } else {
                    console.error("[BATTLES] Failed to spectate battle:", k.error);
                    const D = k.error || "Failed to spectate battle";
                    ["Cannot spectate this battle", "Battle not found", "Not spectating this battle"].includes(D) || (e(Le.setError(D)), e(Bt.addErrorToast({
                        message: D,
                        type: "error"
                    })))
                }
            })
        }, [s, e]),
        h = m.useCallback(_ => {
            s.emit("leaveSpectating", _, k => {
                if (k.success) e(Le.setPlayerBattleState(null));
                else {
                    const D = k.error || "Failed to leave spectating";
                    ["Not spectating this battle", "Battle not found"].includes(D) || (e(Le.setError(D)), e(Bt.addErrorToast({
                        message: D,
                        type: "error"
                    })))
                }
            })
        }, [s, e]),
        f = m.useCallback(_ => {
            e(Le.setJoiningLobby(!0)), e(Le.setError(null)), e(Le.setSuccessMessage(null)), s.emit("joinBattleLobby", {
                lobbyId: _
            }, k => {
                if (console.log("[BATTLES] Received join specific lobby response:", k), e(Le.setJoiningLobby(!1)), k.success) {
                    console.log("[BATTLES] Successfully joined specific lobby:", k.lobby), e(Le[Er.SET_PARTICIPATING](_));
                    const D = "Successfully joined the battle!";
                    e(Le.setSuccessMessage(D)), e(Bt.addSuccessToast({
                        message: D
                    }))
                } else {
                    const D = k.error || k.reason || "Failed to join lobby";
                    console.error("[BATTLES] Join specific lobby failed:", D), e(Le.setError(D)), e(Bt.addErrorToast({
                        message: D,
                        type: "error"
                    }))
                }
            })
        }, [s, e]),
        p = m.useCallback(_ => {
            s.emit("leaveBattleLobby", {
                lobbyId: _
            }, k => {
                if (k.success) e(Le[Er.SET_PARTICIPATING](null)), e(Le.setPlayerBattleState(null));
                else {
                    const D = k.error || "Failed to leave lobby";
                    e(Le.setError(D)), e(Bt.addErrorToast({
                        message: D,
                        type: "error"
                    }))
                }
            })
        }, [s, e]),
        y = m.useCallback(_ => {
            e(Le.setCreatingLobby(!0)), e(Le.setError(null)), e(Le.setSuccessMessage(null)), s.emit("createBattleLobby", _, k => {
                if (e(Le.setCreatingLobby(!1)), k.success) {
                    console.log("[BATTLES] Successfully created lobby:", k.lobby), e(Le[Er.SET_PARTICIPATING](k.lobby.id));
                    const D = "Battle lobby created successfully!";
                    e(Le.setSuccessMessage(D)), e(Bt.addSuccessToast({
                        message: D
                    }))
                } else {
                    const D = k.error || k.reason || "Failed to create lobby";
                    console.error("[BATTLES] Create lobby failed:", D), e(Le.setError(D)), e(Bt.addErrorToast({
                        message: D,
                        type: "error"
                    }))
                }
            })
        }, [s, e]),
        x = m.useCallback(() => {
            e(Le.setJoiningLobby(!0)), e(Le.setError(null)), e(Le.setSuccessMessage(null)), s.emit("joinBattleLobby", {
                lobbyId: ""
            }, _ => {
                if (e(Le.setJoiningLobby(!1)), _.success) {
                    console.log("[BATTLES] Successfully joined lobby:", _.lobby);
                    const k = "Match found! Game will start soon.";
                    e(Le.setSuccessMessage(k)), e(Bt.addSuccessToast({
                        message: k
                    }))
                } else {
                    const k = _.error || _.reason || "Failed to join lobby";
                    console.error("[BATTLES] Join lobby failed:", k), e(Le.setError(k)), e(Bt.addErrorToast({
                        message: k,
                        type: "error"
                    }))
                }
            })
        }, [s, e]),
        S = m.useCallback(() => {
            s.emit("getBattleEventState", _ => {
                _.success ? (e(Le.setBattleEventState(_.state)), console.log("[BATTLES] Updated battle event state from backend")) : console.log("[BATTLES] No battle event state available or error:", _.error)
            })
        }, [s, e]),
        v = m.useCallback(() => {
            e(Le.setIsJoiningQueue(!0)), e(Le.setError(null)), e(Le.setSuccessMessage(null)), s.emit("joinBattleEventQueue", _ => {
                if (e(Le.setIsJoiningQueue(!1)), _.success) {
                    console.log("[BATTLES] Successfully joined event queue");
                    const k = "Joined the event queue! Waiting for match...";
                    e(Le.setSuccessMessage(k)), e(Bt.addSuccessToast({
                        message: k
                    }))
                } else {
                    const k = _.error || "Failed to join event queue";
                    console.error("[BATTLES] Join event queue failed:", k), e(Le.setError(k)), e(Bt.addErrorToast({
                        message: k,
                        type: "error"
                    }))
                }
            })
        }, [s, e]),
        C = m.useCallback(_ => {
            s.emit("leaveBattleEventQueue", _)
        }, [s]),
        w = m.useCallback((_, k) => {
            s.emit("battleBuy", {
                lobbyId: _,
                amount: k
            }, D => {
                console.log("[BATTLES] Buy order response:", D)
            })
        }, [s]),
        j = m.useCallback((_, k) => {
            s.emit("battleSell", {
                lobbyId: _,
                percent: k
            }, D => {
                console.log("[BATTLES] Sell order response:", D)
            })
        }, [s]),
        A = m.useCallback(() => {
            console.log("[BATTLES] Auto-cleanup: Checking for active spectating session...");
            const k = Hi.getState().battles.playerBattleState;
            k && k.isSpectating && k.id && (console.log("[BATTLES] Auto-cleanup: Leaving spectating for battle:", k.id), s.emit("leaveSpectating", k.id, D => {
                console.log("[BATTLES] Auto-cleanup: Leave spectating response:", D)
            })), e(Le.setPlayerBattleState(null)), e(Le.setJustLeftLobby(!0)), setTimeout(() => {
                e(Le.setJustLeftLobby(!1))
            }, 1e3), console.log("[BATTLES] Auto-cleanup: Cleared local battle state")
        }, [s, e]);
    return {
        joinBattlesRoom: a,
        leaveBattlesRoom: r,
        getBattleLobbies: l,
        getBattleState: d,
        spectateBattle: u,
        leaveSpectating: h,
        joinLobby: f,
        leaveLobby: p,
        createLobby: y,
        joinRandomLobby: x,
        getBattleEventState: S,
        joinEventQueue: v,
        leaveEventQueue: C,
        placeBuyOrder: w,
        placeSellOrder: j,
        leaveAllSpectating: A
    }
}

function ey() {
    const e = bt(),
        s = oi();
    return {
        getGoldenHourState: m.useCallback(() => {
            s.emit("getGoldenHourState", r => {
                r && r.success && r.state && e(ed.updateState(r.state))
            })
        }, [s, e])
    }
}

function jn() {
    const e = oi(),
        s = bt(),
        a = m.useCallback(F => {
            e.emit("setUsername", F)
        }, [e]),
        r = m.useCallback(() => {
            e.emit("checkUsername")
        }, [e]),
        l = m.useCallback(() => {
            e.emit("getAdmins")
        }, [e]),
        d = m.useCallback(F => {
            e.emit("getRugpassStatus", F)
        }, [e]),
        u = m.useCallback(F => {
            e.emit("claimTierRewards", F || (() => {}))
        }, [e]),
        h = m.useCallback((F, Y) => {
            e.emit("claimSpecificTierReward", F, Y || (() => {}))
        }, [e]),
        f = m.useCallback(F => {
            e.emit("claimPiggyBank", F || (() => {}))
        }, [e]),
        p = m.useCallback((F, Y) => {
            s(Me.setStatsLoading({
                playerId: F.playerId || "",
                loading: !0
            })), e.emit("getPlayerStats", F, H => {
                s(Me.setStatsLoading({
                    playerId: F.playerId || "",
                    loading: !1
                })), Y == null || Y(H)
            })
        }, [e, s]),
        y = m.useCallback(F => {
            e.emit("getReferralInfo", F)
        }, [e]),
        x = m.useCallback(F => {
            e.emit("claimReferralEarnings", F)
        }, [e]),
        S = m.useCallback(F => {
            e.emit("claimPendingBonus", F)
        }, [e]),
        v = m.useCallback((F, Y) => {
            e.emit("registerUsernameReferral", F, Y)
        }, [e]),
        C = m.useCallback((F, Y) => {
            e.emit("useReferralCode", F, Y)
        }, [e]),
        w = m.useCallback(() => {
            s(Me.setDiscordLoading(!0)), e.emit("getDiscordConnection")
        }, [e, s]),
        j = m.useCallback(F => {
            s(Me.setDiscordLoading(!0)), e.emit("connectDiscord", F)
        }, [e, s]),
        A = m.useCallback(() => {
            s(Me.setDiscordLoading(!0)), e.emit("disconnectDiscord")
        }, [e, s]),
        _ = m.useCallback((F, Y) => {
            e.emit("openCrate", F, Y)
        }, [e]),
        k = m.useCallback(F => {
            e.emit("getCrateInfo", F)
        }, [e]),
        D = m.useCallback(F => {
            e.emit("getDailyDropEntries", F)
        }, [e]),
        E = m.useCallback(F => {
            s(Me.setPromoCodeLoading(!0)), e.emit("claimBonusCode", F)
        }, [e, s]),
        P = m.useCallback(() => {
            s(Me.setCosmeticsLoading(!0)), e.emit("getPlayerCosmetics")
        }, [e, s]),
        I = m.useCallback(F => {
            s(Me.setBadgeUpdateLoading(!0)), e.emit("setActiveBadge", F)
        }, [e, s]),
        B = m.useCallback(F => {
            e.emit("getInbox", {}, F)
        }, [e]),
        X = m.useCallback(F => {
            e.emit("getUnreadCount", F)
        }, [e]),
        O = m.useCallback((F, Y) => {
            e.emit("markMessageRead", F, Y)
        }, [e]),
        L = m.useCallback((F, Y) => {
            e.emit("deleteMessage", F, Y)
        }, [e]);
    return {
        setUsername: a,
        checkUsername: r,
        getAdmins: l,
        getRugpassStatus: d,
        claimTierRewards: u,
        claimSpecificTierReward: h,
        claimPiggyBank: f,
        getPlayerStats: p,
        getReferralInfo: y,
        claimReferralEarnings: x,
        claimPartnerBonus: S,
        registerUsernameReferral: v,
        applyReferralCode: C,
        getDiscordConnection: w,
        connectDiscord: j,
        disconnectDiscord: A,
        openCrate: _,
        getCrateInfo: k,
        getDailyDropEntries: D,
        claimBonusCode: E,
        getPlayerCosmetics: P,
        setActiveBadge: I,
        getInbox: B,
        getUnreadCount: X,
        markMessageRead: O,
        deleteMessage: L
    }
}
const El = {
        pepeClown: {
            id: "pepeClown",
            file: "pepeClown.gif",
            unicode: "",
            description: "Part of May 2025 Rugpass",
            tier: 5
        },
        salty: {
            id: "salty",
            file: "salty.gif",
            unicode: "",
            description: "Part of June 2025 Rugpass",
            tier: 5
        },
        pepePls: {
            id: "pepePls",
            file: "pepePls.gif",
            unicode: "",
            description: "Part of May 2025 Rugpass",
            tier: 8,
            size: 1.3
        },
        pepeLaugh: {
            id: "pepeLaugh",
            file: "pepeLaugh.gif",
            unicode: "",
            description: "Part of June 2025 Rugpass",
            tier: 8
        },
        ppHop: {
            id: "ppHop",
            file: "ppHop.gif",
            unicode: "",
            description: "Part of May 2025 Rugpass",
            tier: 11,
            size: 1.5
        },
        ppPoof: {
            id: "ppPoof",
            file: "ppPoof.gif",
            unicode: "",
            description: "Part of June 2025 Rugpass",
            tier: 11
        },
        sendoor: {
            id: "sendoor",
            file: "womanDancing.gif",
            unicode: "",
            description: "Part of May 2025 Rugpass",
            tier: 14
        },
        ggs: {
            id: "ggs",
            file: "ggs.gif",
            unicode: "",
            description: "Part of June 2025 Rugpass",
            tier: 14
        },
        vibing: {
            id: "vibing",
            file: "vibing.gif",
            unicode: "",
            description: "Part of May 2025 Rugpass",
            tier: 17
        },
        crying: {
            id: "crying",
            file: "crying.gif",
            unicode: "",
            description: "Part of June 2025 Rugpass",
            tier: 17
        },
        monkeKiss: {
            id: "monkeKiss",
            file: "monkeKiss.gif",
            unicode: "",
            description: "Part of May 2025 Rugpass",
            tier: 23,
            size: 1.25
        },
        monkeTsk: {
            id: "monkeTsk",
            file: "monkeTsk.gif",
            unicode: "",
            description: "Part of June 2025 Rugpass",
            tier: 23
        },
        mogged: {
            id: "mogged",
            file: "mogged.png",
            unicode: "",
            description: "Part of May 2025 Rugpass",
            tier: 24
        },
        noCryingInTheCasino: {
            id: "noCryingInTheCasino",
            file: "noCryingInTheCasino.png",
            unicode: "",
            description: "Part of June 2025 Rugpass",
            tier: 24,
            size: 2,
            maxPerMessage: 1
        },
        chefsKiss: {
            id: "chefsKiss",
            file: "chefsKiss.gif",
            unicode: "",
            description: "Part of July 2025 Rugpass",
            tier: 5
        },
        pepeLmao: {
            id: "pepeLmao",
            file: "pepeLmao.gif",
            unicode: "",
            description: "Part of July 2025 Rugpass",
            tier: 8
        },
        ppShiver: {
            id: "ppShiver",
            file: "ppShiver.gif",
            unicode: "",
            description: "Part of July 2025 Rugpass",
            tier: 11
        },
        italian: {
            id: "italian",
            file: "italian.gif",
            unicode: "",
            description: "Part of July 2025 Rugpass",
            tier: 14
        },
        monkaS: {
            id: "monkaS",
            file: "monkaS.gif",
            unicode: "",
            description: "Part of July 2025 Rugpass",
            tier: 17
        },
        monkeWoo: {
            id: "monkeWoo",
            file: "monkeWoo.gif",
            unicode: "",
            description: "Part of July 2025 Rugpass",
            tier: 23
        },
        noBegging: {
            id: "noBegging",
            file: "noBegging.webp",
            unicode: "",
            description: "Part of July 2025 Rugpass",
            tier: 24,
            size: 2.5,
            maxPerMessage: 1
        },
        pepePopcorn: {
            id: "pepePopcorn",
            file: "pepePopcorn.gif",
            unicode: "",
            description: "Part of August 2025 Rugpass",
            tier: 5
        },
        pepePhone: {
            id: "pepePhone",
            file: "pepePhone.gif",
            unicode: "",
            description: "Part of August 2025 Rugpass",
            tier: 8
        },
        ppDance: {
            id: "ppDance",
            file: "ppDance.gif",
            unicode: "",
            description: "Part of August 2025 Rugpass",
            tier: 11
        },
        pepeCheer: {
            id: "pepeCheer",
            file: "pepeCheer.gif",
            unicode: "",
            description: "Part of August 2025 Rugpass",
            tier: 14
        },
        spin: {
            id: "spin",
            file: "spin.gif",
            unicode: "",
            description: "Part of August 2025 Rugpass",
            tier: 17
        },
        monkeAngry: {
            id: "monkeAngry",
            file: "monkeAngry.gif",
            unicode: "",
            description: "Part of August 2025 Rugpass",
            tier: 23
        },
        INEEDACOOKRN: {
            id: "INEEDACOOKRN",
            file: "INEEDACOOKRN.webp",
            unicode: "",
            description: "Part of August 2025 Rugpass",
            tier: 24,
            size: 2
        },
        pepeClap: {
            id: "pepeClap",
            file: "pepeClap.gif",
            unicode: "",
            description: "Part of September 2025 Rugpass",
            tier: 5
        },
        pepegaPls: {
            id: "pepegaPls",
            file: "pepegaPls.gif",
            unicode: "",
            description: "Part of September 2025 Rugpass",
            tier: 8
        },
        ppAppear: {
            id: "ppAppear",
            file: "ppAppear.gif",
            unicode: "",
            description: "Part of September 2025 Rugpass",
            tier: 11
        },
        helloDev: {
            id: "helloDev",
            file: "helloDev.webp",
            unicode: "",
            description: "Part of September 2025 Rugpass",
            tier: 14,
            size: 2.5,
            maxPerMessage: 1
        },
        devSleeping: {
            id: "devSleeping",
            file: "devSleeping.webp",
            unicode: "",
            description: "Part of September 2025 Rugpass",
            tier: 17,
            size: 2.5,
            maxPerMessage: 1
        },
        monkeTired: {
            id: "monkeTired",
            file: "monkeTired.gif",
            unicode: "",
            description: "Part of September 2025 Rugpass",
            tier: 23
        },
        billionsMustBuy: {
            id: "billionsMustBuy",
            file: "billionsMustBuy.jpg",
            unicode: "",
            description: "Part of September 2025 Rugpass",
            tier: 24,
            size: 2.5,
            maxPerMessage: 1
        }
    },
    Lw = () => {
        const e = {};
        return Object.values(El).forEach(s => {
            e[s.unicode] = {
                file: s.file,
                name: s == null ? void 0 : s.id,
                size: "size" in s ? s.size : void 0
            }
        }), e
    },
    e0 = Lw(),
    Ls = {
        ogplayer: {
            id: "ogplayer",
            name: "OG",
            tier: 25,
            gradient: "linear-gradient(90deg,#22C55E 0%,#166534 100%)",
            image: "none",
            border: "0px solid #86EFAC",
            borderRadius: "4px"
        },
        warrior: {
            id: "warrior",
            name: "Warrior",
            tier: 25,
            gradient: "linear-gradient(90deg,#22C55E 0%,#166534 100%)",
            image: "none",
            border: "0px solid #86EFAC",
            borderRadius: "4px"
        },
        grindoor: {
            id: "grindoor",
            name: "Grindoor",
            tier: 25,
            gradient: "linear-gradient(90deg,#22C55E 0%,#166534 100%)",
            image: "none",
            border: "0px solid #86EFAC",
            borderRadius: "4px"
        },
        777: {
            id: "777",
            name: "777",
            tier: 25,
            gradient: "linear-gradient(90deg,#FFD700 0%,#FF8C00 100%)",
            image: "none",
            border: "0px solid #FFD700",
            borderRadius: "4px"
        },
        chud: {
            id: "chud",
            name: "Chud",
            tier: 25,
            gradient: "linear-gradient(90deg,#22C55E 0%,#166534 100%)",
            image: "none",
            border: "0px solid #86EFAC",
            borderRadius: "4px"
        },
        home: {
            id: "home",
            name: "Home",
            unlisted: !0,
            gradient: "linear-gradient(90deg, #2B7FFF 0%, #FB2C36 100%)",
            image: "homelander.gif"
        },
        capybara: {
            id: "capybara",
            name: "CAPYBARA",
            unlisted: !0,
            gradient: "linear-gradient(90deg, #AD7F58 0%, #694D35 100%)",
            image: "capywine.gif"
        },
        imsexy: {
            id: "imsexy",
            name: "ImSexy",
            unlisted: !0,
            gradient: "linear-gradient(90deg, #664282 0%, #B193C8 100%)",
            image: "imsexy.png"
        },
        partner: {
            id: "partner",
            name: "PARTNER",
            unlisted: !0,
            gradient: "linear-gradient(90deg, #FB2C36 0%, #FFC700 100%)",
            image: "partner.png"
        },
        kol: {
            id: "kol",
            name: "PARTNER",
            unlisted: !0,
            gradient: "linear-gradient(90deg, #FB2C36 0%, #FFC700 100%)",
            image: "partner.png"
        },
        streamer: {
            id: "streamer",
            name: "PARTNER",
            unlisted: !0,
            gradient: "linear-gradient(90deg, #FB2C36 0%, #FFC700 100%)",
            image: "partner.png"
        },
        mod: {
            id: "mod",
            name: "Mod",
            unlisted: !0,
            gradient: "linear-gradient(90deg, #2196F3 0%, #64B5F6 100%)",
            image: "none"
        }
    },
    Os = e => {
        const s = Math.floor(e / 2592e3),
            a = Math.floor(e % (30 * 24 * 60 * 60) / (24 * 60 * 60)),
            r = Math.floor(e % (24 * 60 * 60) / (60 * 60)),
            l = Math.floor(e % (60 * 60) / 60),
            d = e % 60;
        return s > 0 ? `${s}mo` : a > 0 ? `${a}d` : r > 0 ? l > 0 ? `${r}h ${l}m` : `${r}h` : l > 0 ? `${l}m` : `${d}s`
    },
    t0 = e => {
        const s = Math.floor(e / 1e3),
            a = Math.floor(s / 3600),
            r = Math.floor(s % 3600 / 60),
            l = s % 60;
        return `${a.toString().padStart(2,"0")}:${r.toString().padStart(2,"0")}:${l.toString().padStart(2,"0")}`
    },
    vl = (e, s = 2) => {
        if (e == null || isNaN(e)) return "0";
        const a = Math.abs(e),
            r = e < 0 ? "-" : "",
            l = (d, u) => {
                const f = d.toFixed(s).replace(/\.0+$|(\.\d*?)0+$/, "$1");
                return r + f + u
            };
        return a < 1e3 ? l(a, "") : a < 1e6 ? l(a / 1e3, "k") : a < 1e9 ? l(a / 1e6, "M") : a < 1e12 ? l(a / 1e9, "B") : a < 1e15 ? l(a / 1e12, "T") : l(a / 1e15, "Q")
    },
    vt = (e, s = 2, a = !0) => {
        if (e == null || isNaN(e)) return "0";
        const r = e < 0 ? "-" : "+";
        return a ? r + Math.abs(e).toFixed(s) : Math.abs(e).toFixed(s)
    },
    n0 = e => {
        const s = Math.abs(e);
        return s < 1 ? 3 : s < 10 || s < 100 ? 2 : 1
    },
    hf = (e, s = []) => {
        if (!e || typeof e != "string") return [{
            type: "text",
            content: e || ""
        }];
        if (Object.keys(e0).some(h => e.includes(h))) {
            const h = [],
                f = e;
            let p = 0;
            for (let y = 0; y < f.length; y++)
                for (const [x, S] of Object.entries(e0))
                    if (f.substring(y).startsWith(x)) {
                        y > p && h.push({
                            type: "text",
                            content: f.substring(p, y)
                        });
                        const v = S;
                        h.push({
                            type: "emoji",
                            emojiInfo: {
                                id: v.name || "unknown",
                                file: v.file,
                                unicode: x,
                                size: v.size
                            }
                        }), p = y + x.length, y = p - 1;
                        break
                    }
            if (p < f.length && h.push({
                    type: "text",
                    content: f.substring(p)
                }), h.length > 0) return h
        }
        const r = /:([a-zA-Z0-9_]+):/g;
        if (!r.test(e)) return [{
            type: "text",
            content: e
        }];
        r.lastIndex = 0;
        const l = [];
        let d = 0,
            u;
        for (;
            (u = r.exec(e)) !== null;) {
            const h = u[1],
                f = El[h];
            f && s.includes(h) ? (u.index > d && l.push({
                type: "text",
                content: e.substring(d, u.index)
            }), l.push({
                type: "emoji",
                emojiInfo: f
            }), d = u.index + u[0].length) : (u.index > d && l.push({
                type: "text",
                content: e.substring(d, u.index + u[0].length)
            }), d = u.index + u[0].length)
        }
        return d < e.length && l.push({
            type: "text",
            content: e.substring(d)
        }), l.length === 0 ? [{
            type: "text",
            content: e
        }] : l
    },
    s0 = (e, s) => {
        switch (s) {
            case "minutes":
                return e * 60;
            case "hours":
                return e * 3600;
            case "days":
                return e * 86400
        }
    },
    Mw = e => {
        if (e === -1) return "Permanent";
        if (e < 60) return `${e} second${e!==1?"s":""}`;
        const s = Math.floor(e / 60);
        if (e < 3600) return `${s} minute${s!==1?"s":""}`;
        const a = Math.floor(e / 3600);
        if (e < 86400) return `${a} hour${a!==1?"s":""}`;
        const r = Math.floor(e / 86400);
        if (e < 604800) return `${r} day${r!==1?"s":""}`;
        const l = Math.floor(e / 604800);
        return `${l} week${l!==1?"s":""}`
    };

function Bw(e) {
    return ot({
        attr: {
            viewBox: "0 0 512 512"
        },
        child: [{
            tag: "path",
            attr: {
                d: "M389.2 48h70.6L305.6 224.2 487 464H345L233.7 318.6 106.5 464H35.8L200.7 275.5 26.8 48H172.4L272.9 180.9 389.2 48zM364.4 421.8h39.1L151.1 88h-42L364.4 421.8z"
            },
            child: []
        }]
    })(e)
}

function zw(e) {
    return ot({
        attr: {
            viewBox: "0 0 512 512"
        },
        child: [{
            tag: "path",
            attr: {
                d: "M495.9 166.6c3.2 8.7 .5 18.4-6.4 24.6l-43.3 39.4c1.1 8.3 1.7 16.8 1.7 25.4s-.6 17.1-1.7 25.4l43.3 39.4c6.9 6.2 9.6 15.9 6.4 24.6c-4.4 11.9-9.7 23.3-15.8 34.3l-4.7 8.1c-6.6 11-14 21.4-22.1 31.2c-5.9 7.2-15.7 9.6-24.5 6.8l-55.7-17.7c-13.4 10.3-28.2 18.9-44 25.4l-12.5 57.1c-2 9.1-9 16.3-18.2 17.8c-13.8 2.3-28 3.5-42.5 3.5s-28.7-1.2-42.5-3.5c-9.2-1.5-16.2-8.7-18.2-17.8l-12.5-57.1c-15.8-6.5-30.6-15.1-44-25.4L83.1 425.9c-8.8 2.8-18.6 .3-24.5-6.8c-8.1-9.8-15.5-20.2-22.1-31.2l-4.7-8.1c-6.1-11-11.4-22.4-15.8-34.3c-3.2-8.7-.5-18.4 6.4-24.6l43.3-39.4C64.6 273.1 64 264.6 64 256s.6-17.1 1.7-25.4L22.4 191.2c-6.9-6.2-9.6-15.9-6.4-24.6c4.4-11.9 9.7-23.3 15.8-34.3l4.7-8.1c6.6-11 14-21.4 22.1-31.2c5.9-7.2 15.7-9.6 24.5-6.8l55.7 17.7c13.4-10.3 28.2-18.9 44-25.4l12.5-57.1c2-9.1 9-16.3 18.2-17.8C227.3 1.2 241.5 0 256 0s28.7 1.2 42.5 3.5c9.2 1.5 16.2 8.7 18.2 17.8l12.5 57.1c15.8 6.5 30.6 15.1 44 25.4l55.7-17.7c8.8-2.8 18.6-.3 24.5 6.8c8.1 9.8 15.5 20.2 22.1 31.2l4.7 8.1c6.1 11 11.4 22.4 15.8 34.3zM256 336a80 80 0 1 0 0-160 80 80 0 1 0 0 160z"
            },
            child: []
        }]
    })(e)
}

function nn() {
    const e = oi(),
        s = m.useCallback((oe, xe) => {
            e.emit("getPrivyIdFromWallet", oe, xe)
        }, [e]),
        a = m.useCallback((oe, xe) => {
            e.emit("setPlayerBalance", oe, xe)
        }, [e]),
        r = m.useCallback(oe => {
            e.emit("resetBonusProgress", oe)
        }, [e]),
        l = m.useCallback((oe, xe) => {
            e.emit("getTopPlayers", oe, xe)
        }, [e]),
        d = m.useCallback((oe, xe) => {
            e.emit("generateBonusCodes", oe, xe)
        }, [e]),
        u = m.useCallback(oe => {
            e.emit("getBonusCodes", oe)
        }, [e]),
        h = m.useCallback(oe => {
            e.emit("flushRedis", oe)
        }, [e]),
        f = m.useCallback(oe => {
            e.emit("clearLeaderboards", oe)
        }, [e]),
        p = m.useCallback((oe, xe) => {
            e.emit("setMaintenanceMode", oe, xe)
        }, [e]),
        y = m.useCallback(oe => {
            e.emit("startGame", oe)
        }, [e]),
        x = m.useCallback(oe => {
            e.emit("stopGame", oe)
        }, [e]),
        S = m.useCallback((oe, xe) => {
            e.emit("pauseCooldown", oe, xe)
        }, [e]),
        v = m.useCallback(oe => {
            e.emit("resumeCooldown", oe)
        }, [e]),
        C = m.useCallback((oe, xe) => {
            e.emit("addCooldownTime", oe, xe)
        }, [e]),
        w = m.useCallback((oe, xe) => {
            e.emit("modifyDocumentField", oe, xe)
        }, [e]),
        j = m.useCallback((oe, xe) => {
            e.emit("performPiggybankAirdrop", oe, xe)
        }, [e]),
        A = m.useCallback(oe => {
            e.emit("startTournament", oe)
        }, [e]),
        _ = m.useCallback(oe => {
            e.emit("endTournament", oe)
        }, [e]),
        k = m.useCallback(oe => {
            e.emit("resetTournamentBalances", oe)
        }, [e]),
        D = m.useCallback((oe, xe) => {
            e.emit("prepTournament", oe, xe)
        }, [e]),
        E = m.useCallback((oe, xe) => {
            e.emit("adminResetRugpassQuests", oe, xe)
        }, [e]),
        P = m.useCallback((oe, xe) => {
            e.emit("adminLookupWallet", oe, xe)
        }, [e]),
        I = m.useCallback((oe, xe) => {
            e.emit("getPlayerStats", {
                playerId: oe
            }, xe)
        }, [e]),
        B = m.useCallback((oe, xe) => {
            e.emit("adminGetRugpassByUsername", oe, xe)
        }, [e]),
        X = m.useCallback((oe, xe) => {
            e.emit("fixReferralBetCounts", oe, xe)
        }, [e]),
        O = m.useCallback((oe, xe) => {
            e.emit("addPartner", oe, xe)
        }, [e]),
        L = m.useCallback((oe, xe) => {
            e.emit("removePartner", oe, xe)
        }, [e]),
        F = m.useCallback((oe, xe) => {
            e.emit("getCodeFaucetSchedules", oe, xe)
        }, [e]),
        Y = m.useCallback((oe, xe) => {
            e.emit("getPlayerCodeFaucets", {
                playerId: oe
            }, xe)
        }, [e]),
        H = m.useCallback((oe, xe) => {
            e.emit("createCodeFaucetSchedule", oe, xe)
        }, [e]),
        K = m.useCallback((oe, xe) => {
            e.emit("deleteCodeFaucetSchedule", {
                scheduleId: oe
            }, xe)
        }, [e]),
        z = m.useCallback((oe, xe) => {
            e.emit("sendPlayerMessage", oe, xe)
        }, [e]),
        U = m.useCallback((oe, xe) => {
            e.emit("sendBonusCodeToPlayer", oe, xe)
        }, [e]),
        V = m.useCallback((oe, xe) => {
            e.emit("getPlayerInbox", {
                playerId: oe
            }, xe)
        }, [e]),
        W = m.useCallback((oe, xe) => {
            e.emit("mutePlayer", oe, xe)
        }, [e]),
        q = m.useCallback((oe, xe) => {
            e.emit("unmutePlayer", oe, xe)
        }, [e]),
        Z = m.useCallback((oe, xe) => {
            e.emit("timeoutPlayer", oe, xe)
        }, [e]),
        se = m.useCallback((oe, xe) => {
            e.emit("untimeoutPlayerByUsername", oe, xe)
        }, [e]),
        G = m.useCallback((oe, xe) => {
            e.emit("sendDirectMessage", oe, xe)
        }, [e]),
        ie = m.useCallback((oe, xe) => {
            e.emit("broadcastMessage", oe, xe)
        }, [e]),
        ne = m.useCallback((oe, xe) => {
            e.emit("setPremiumMode", oe, xe)
        }, [e]),
        ee = m.useCallback((oe, xe) => {
            e.emit("getReferralInfoForUser", oe, xe)
        }, [e]),
        me = m.useCallback((oe, xe) => {
            e.emit("adminUnlockCosmetic", oe, xe)
        }, [e]),
        fe = m.useCallback((oe, xe) => {
            e.emit("adminSetRugpassTier", oe, xe)
        }, [e]),
        ge = m.useCallback((oe, xe) => {
            e.emit("adminSetRugpassPiggybank", oe, xe)
        }, [e]),
        ke = m.useCallback((oe, xe) => {
            e.emit("addRugRoyaleEvent", oe, xe)
        }, [e]),
        je = m.useCallback((oe, xe) => {
            e.emit("deleteRugRoyaleEvent", oe, xe)
        }, [e]),
        re = m.useCallback((oe, xe) => {
            e.emit("forceEndRugRoyaleEvent", oe, xe)
        }, [e]),
        Ee = m.useCallback((oe, xe) => {
            e.emit("updateRugRoyaleEventPrizes", oe, xe)
        }, [e]),
        Ae = m.useCallback((oe, xe) => {
            e.emit("addGoldenHourEvent", oe, xe)
        }, [e]),
        Pe = m.useCallback((oe, xe) => {
            e.emit("updateGoldenHourEvent", oe, xe)
        }, [e]),
        be = m.useCallback((oe, xe) => {
            e.emit("deleteGoldenHourEvent", oe, xe)
        }, [e]),
        qe = m.useCallback((oe, xe) => {
            e.emit("forceEndGoldenHourEvent", oe, xe)
        }, [e]),
        Re = m.useCallback(oe => {
            e.emit("getAdminControlStates", oe)
        }, [e]),
        le = m.useCallback(oe => {
            e.emit("disableLobbyCreation", oe)
        }, [e]),
        Ce = m.useCallback(oe => {
            e.emit("enableLobbyCreation", oe)
        }, [e]),
        _e = m.useCallback((oe, xe) => {
            e.emit("setGlobalLobbyJoiningDisabled", {
                disabled: oe
            }, xe)
        }, [e]),
        Ne = m.useCallback(oe => {
            e.emit("deleteAllLobbies", oe)
        }, [e]),
        Fe = m.useCallback((oe, xe) => {
            e.emit("addBattleEvent", oe, xe)
        }, [e]),
        tt = m.useCallback((oe, xe) => {
            e.emit("deleteBattleEvent", oe, xe)
        }, [e]),
        dt = m.useCallback((oe, xe) => {
            e.emit("updateBattleEventPrizes", oe, xe)
        }, [e]);
    return {
        getPrivyIdFromWallet: s,
        setPlayerBalance: a,
        resetBonusProgress: r,
        getTopPlayers: l,
        generateBonusCodes: d,
        getBonusCodes: u,
        flushRedis: h,
        clearLeaderboards: f,
        setMaintenanceMode: p,
        startGame: y,
        stopGame: x,
        pauseCooldown: S,
        resumeCooldown: v,
        addCooldownTime: C,
        modifyDocumentField: w,
        performPiggybankAirdrop: j,
        startTournament: A,
        endTournament: _,
        resetTournamentBalances: k,
        prepTournament: D,
        adminResetRugpassQuests: E,
        adminLookupWallet: P,
        getPlayerStats: I,
        adminGetRugpassByUsername: B,
        fixReferralBetCounts: X,
        addPartner: O,
        removePartner: L,
        getCodeFaucetSchedules: F,
        getPlayerCodeFaucets: Y,
        createCodeFaucetSchedule: H,
        deleteCodeFaucetSchedule: K,
        sendPlayerMessage: z,
        sendBonusCodeToPlayer: U,
        getPlayerInbox: V,
        mutePlayer: W,
        unmutePlayer: q,
        timeoutPlayer: Z,
        untimeoutPlayerByUsername: se,
        sendDirectMessage: G,
        broadcastMessage: ie,
        setPremiumMode: ne,
        getReferralInfoForUser: ee,
        adminUnlockCosmetic: me,
        adminSetRugpassTier: fe,
        adminSetRugpassPiggybank: ge,
        addRugRoyaleEvent: ke,
        deleteRugRoyaleEvent: je,
        forceEndRugRoyaleEvent: re,
        updateRugRoyaleEventPrizes: Ee,
        addGoldenHourEvent: Ae,
        updateGoldenHourEvent: Pe,
        deleteGoldenHourEvent: be,
        forceEndGoldenHourEvent: qe,
        getBattleAdminControlStates: Re,
        disableBattleLobbyCreation: le,
        enableBattleLobbyCreation: Ce,
        setBattleLobbyJoiningDisabled: _e,
        deleteAllBattleLobbies: Ne,
        addBattleEvent: Fe,
        deleteBattleEvent: tt,
        updateBattleEventPrizes: dt
    }
}

function Fw() {
    const e = nn(),
        s = Se(Ge.selectCurrent),
        [a, r] = m.useState(""),
        [l, d] = m.useState("daily"),
        [u, h] = m.useState(!1),
        [f, p] = m.useState(null);
    if (!s || s.role !== "admin") return null;
    const y = () => {
            a.trim() && (h(!0), e.adminResetRugpassQuests({
                playerId: a.trim(),
                questType: l
            }, S => {
                p(S), h(!1)
            }))
        },
        x = () => {
            h(!1)
        };
    return t.jsxs(Je, {
        sx: S => ({
            padding: S.spacing(3),
            marginBottom: S.spacing(2),
            backgroundColor: S.palette.background.paper,
            borderRadius: S.spacing(1),
            border: `1px solid ${S.palette.divider}`
        }),
        children: [t.jsxs(T, {
            sx: {
                display: "flex",
                alignItems: "center",
                justifyContent: "space-between",
                marginBottom: 3
            },
            children: [t.jsx($, {
                variant: "h6",
                sx: {
                    color: "primary.main",
                    fontWeight: "bold",
                    fontSize: "0.875rem"
                },
                children: "RUGPASS ADMIN CONTROLS"
            }), f && t.jsx(Te, {
                onClick: x,
                variant: "outlined",
                size: "small",
                sx: {
                    fontSize: "0.75rem",
                    fontWeight: "bold"
                },
                children: "Clear"
            })]
        }), t.jsxs(T, {
            sx: {
                display: "flex",
                flexDirection: "column",
                gap: 3
            },
            children: [t.jsxs(T, {
                children: [t.jsx($, {
                    variant: "body2",
                    sx: {
                        color: "text.secondary",
                        fontSize: "0.75rem",
                        fontWeight: "medium",
                        marginBottom: 1
                    },
                    children: "Player ID (Privy ID or Username)"
                }), t.jsx(et, {
                    value: a,
                    onChange: S => r(S.target.value),
                    placeholder: "Enter player ID or username...",
                    disabled: u,
                    variant: "outlined",
                    fullWidth: !0,
                    size: "small",
                    sx: {
                        fontSize: "0.875rem"
                    }
                })]
            }), t.jsxs(T, {
                children: [t.jsx($, {
                    variant: "body2",
                    sx: {
                        color: "text.secondary",
                        fontSize: "0.75rem",
                        fontWeight: "medium",
                        marginBottom: 1
                    },
                    children: "Quest Type to Reset"
                }), t.jsx(D0, {
                    variant: "outlined",
                    fullWidth: !0,
                    disabled: u,
                    sx: {
                        "& .MuiButton-root": {
                            fontSize: "0.75rem",
                            fontWeight: "bold",
                            textTransform: "capitalize"
                        }
                    },
                    children: ["daily", "weekly", "monthly"].map(S => t.jsx(Te, {
                        onClick: () => d(S),
                        variant: l === S ? "contained" : "outlined",
                        color: l === S ? "primary" : "inherit",
                        disabled: u,
                        children: S
                    }, S))
                })]
            }), t.jsx(T, {
                sx: {
                    display: "flex",
                    justifyContent: "center"
                },
                children: t.jsx(Te, {
                    onClick: y,
                    disabled: !a.trim() || u,
                    variant: "contained",
                    color: "error",
                    startIcon: u ? t.jsx(ws, {
                        size: 16
                    }) : null,
                    sx: {
                        fontSize: "0.875rem",
                        fontWeight: "bold",
                        paddingX: 3,
                        paddingY: 1
                    },
                    children: u ? "Resetting..." : `Reset ${l.charAt(0).toUpperCase()+l.slice(1)} Quests`
                })
            }), f && t.jsxs(it, {
                severity: f.success ? "success" : "error",
                sx: {
                    fontSize: "0.875rem"
                },
                children: [t.jsx($, {
                    variant: "body2",
                    sx: {
                        fontWeight: "bold",
                        marginBottom: .5
                    },
                    children: f.success ? "✅ Success" : "❌ Error"
                }), t.jsx($, {
                    variant: "body2",
                    sx: {
                        fontSize: "0.75rem",
                        opacity: .9
                    },
                    children: f.message
                })]
            }), t.jsxs(Je, {
                sx: S => ({
                    padding: S.spacing(2),
                    backgroundColor: S.palette.background.default,
                    borderRadius: S.spacing(1),
                    border: `1px solid ${S.palette.divider}`
                }),
                children: [t.jsx($, {
                    variant: "body2",
                    sx: {
                        fontSize: "0.75rem",
                        fontWeight: "bold",
                        marginBottom: 1,
                        color: "text.secondary"
                    },
                    children: "Usage Instructions:"
                }), t.jsxs(T, {
                    component: "ul",
                    sx: {
                        margin: 0,
                        paddingLeft: 2,
                        fontSize: "0.75rem",
                        color: "text.secondary"
                    },
                    children: [t.jsx("li", {
                        children: "Enter a player's Privy ID or username"
                    }), t.jsx("li", {
                        children: "Select which quest type to reset (daily, weekly, or monthly)"
                    }), t.jsx("li", {
                        children: "Click reset to clear the player's quest progress for that period"
                    }), t.jsx("li", {
                        children: "This will reset all quests of the selected type for the player"
                    })]
                })]
            })]
        })]
    })
}

function Iw() {
    const e = nn(),
        [s, a] = m.useState(!1),
        [r, l] = m.useState(null),
        [d, u] = m.useState(!1),
        [h, f] = m.useState(null),
        [p, y] = m.useState(!1),
        [x, S] = m.useState(null),
        [v, C] = m.useState(!1),
        [w, j] = m.useState(null),
        [A, _] = m.useState(""),
        [k, D] = m.useState(""),
        [E, P] = m.useState(""),
        [I, B] = m.useState(""),
        [X, O] = m.useState(""),
        [L, F] = m.useState("cash"),
        [Y, H] = m.useState(10),
        [K, z] = m.useState(""),
        U = G => {
            G.preventDefault(), A && (l(null), a(!0), e.getPrivyIdFromWallet({
                walletAddress: A
            }, ie => {
                l(ie), a(!1)
            }))
        },
        V = G => {
            G.preventDefault(), k && (!E && !I || (f(null), u(!0), e.setPlayerBalance({
                targetPrivyId: k,
                cashAmount: E ? parseFloat(E) : void 0,
                coinAddress: I || void 0
            }, ie => {
                f(ie), u(!1)
            })))
        },
        W = G => {
            G.preventDefault(), X && (S(null), y(!0), e.resetBonusProgress({
                targetPrivyId: X
            }, ie => {
                S(ie), y(!1)
            }))
        },
        q = G => {
            if (G.preventDefault(), !L || !Y || Y < 1) return;
            j(null), C(!0);
            let ie = L;
            L === "shitcoin" && K && K.trim() !== "" && (ie = `shitcoin:${K.trim()}`), e.getTopPlayers({
                sortBy: ie,
                limit: parseInt(Y.toString())
            }, ne => {
                j(ne), C(!1)
            })
        },
        Z = () => {
            var G, ie;
            r != null && r.success && r.privyId && (D(r.privyId), r.playerInfo && (r.playerInfo.cash !== void 0 && P(r.playerInfo.cash.toString()), (G = r.playerInfo) != null && G.selectedCoin && B(((ie = r.playerInfo) == null ? void 0 : ie.selectedCoin.address) || "")))
        },
        se = () => {
            r != null && r.success && r.privyId && O(r.privyId)
        };
    return ls.useEffect(() => {
        h != null && h.success && (P(""), B(""))
    }, [h]), ls.useEffect(() => {
        x != null && x.success && O("")
    }, [x]), t.jsxs(T, {
        children: [t.jsxs(Je, {
            sx: G => ({
                padding: G.spacing(3),
                marginBottom: G.spacing(3),
                backgroundColor: G.palette.background.paper,
                borderRadius: G.spacing(1)
            }),
            children: [t.jsx(T, {
                sx: {
                    marginBottom: 2
                },
                children: t.jsx($, {
                    variant: "h5",
                    children: "Lookup Player by Wallet Address"
                })
            }), t.jsxs(T, {
                component: "form",
                onSubmit: U,
                sx: {
                    display: "flex",
                    flexDirection: "column",
                    gap: 2
                },
                children: [t.jsx(et, {
                    label: "Wallet Address",
                    placeholder: "0x...",
                    value: A,
                    onChange: G => _(G.target.value),
                    required: !0,
                    variant: "outlined",
                    fullWidth: !0
                }), t.jsx(Te, {
                    type: "submit",
                    variant: "contained",
                    color: "primary",
                    disabled: s,
                    children: s ? "Looking up..." : "Lookup Wallet"
                })]
            }), (r == null ? void 0 : r.success) === !1 && t.jsxs(it, {
                severity: "error",
                sx: {
                    marginTop: 2
                },
                children: ["Error: ", r.message]
            }), (r == null ? void 0 : r.success) && t.jsxs(Je, {
                sx: G => ({
                    marginTop: G.spacing(2),
                    padding: G.spacing(2),
                    backgroundColor: G.palette.success.light,
                    borderRadius: G.spacing(1)
                }),
                children: [t.jsxs($, {
                    sx: {
                        color: "success.contrastText"
                    },
                    children: [t.jsx("strong", {
                        children: "Privy ID:"
                    }), " ", r.privyId]
                }), r.playerInfo && t.jsxs(T, {
                    sx: {
                        marginTop: 1
                    },
                    children: [t.jsxs($, {
                        sx: {
                            color: "success.contrastText"
                        },
                        children: [t.jsx("strong", {
                            children: "Username:"
                        }), " ", r.playerInfo.username || "Not set"]
                    }), t.jsxs($, {
                        sx: {
                            color: "success.contrastText"
                        },
                        children: [t.jsx("strong", {
                            children: "Cash Balance:"
                        }), " $", r.playerInfo.cash.toFixed(2)]
                    }), t.jsxs($, {
                        sx: {
                            color: "success.contrastText"
                        },
                        children: [t.jsx("strong", {
                            children: "Bonus Balance:"
                        }), " $", r.playerInfo.bonusBalance.toFixed(2)]
                    }), t.jsxs($, {
                        sx: {
                            color: "success.contrastText"
                        },
                        children: [t.jsx("strong", {
                            children: "Level:"
                        }), " ", r.playerInfo.level]
                    }), t.jsxs($, {
                        sx: {
                            color: "success.contrastText"
                        },
                        children: [t.jsx("strong", {
                            children: "Selected Coin:"
                        }), " ", r.playerInfo.selectedCoin ? `${r.playerInfo.selectedCoin.ticker||""} (${r.playerInfo.selectedCoin.address||""})` : "None"]
                    })]
                }), t.jsxs(T, {
                    className: "admin-result-actions",
                    sx: {
                        marginTop: 2,
                        display: "flex",
                        gap: 1
                    },
                    children: [t.jsx(Te, {
                        onClick: Z,
                        variant: "outlined",
                        color: "success",
                        sx: G => ({
                            fontFamily: "DynaPuff, sans-serif",
                            fontWeight: "bold"
                        }),
                        children: "Use For Balance"
                    }), t.jsx(Te, {
                        onClick: se,
                        variant: "outlined",
                        color: "success",
                        sx: G => ({
                            fontFamily: "DynaPuff, sans-serif",
                            fontWeight: "bold"
                        }),
                        children: "Use For Bonus Reset"
                    })]
                })]
            })]
        }), t.jsxs(Je, {
            className: "admin-section",
            sx: G => ({
                padding: G.spacing(3),
                marginBottom: G.spacing(3),
                backgroundColor: G.palette.background.paper,
                borderRadius: G.spacing(1)
            }),
            children: [t.jsx(T, {
                className: "admin-section-header",
                sx: {
                    marginBottom: 2
                },
                children: t.jsx($, {
                    variant: "h5",
                    className: "admin-section-title",
                    sx: {
                        color: "primary.main",
                        fontWeight: "bold"
                    },
                    children: "Set Player Balance"
                })
            }), t.jsxs(T, {
                component: "form",
                onSubmit: V,
                className: "admin-form",
                sx: {
                    display: "flex",
                    flexDirection: "column",
                    gap: 2
                },
                children: [t.jsx(et, {
                    label: "Target Privy ID",
                    placeholder: "Enter Privy ID",
                    value: k,
                    onChange: G => D(G.target.value),
                    required: !0,
                    variant: "outlined",
                    fullWidth: !0,
                    sx: G => ({
                        "& .MuiInputBase-root": {
                            fontFamily: "DynaPuff, sans-serif"
                        }
                    })
                }), t.jsx(et, {
                    label: "Cash Amount (optional)",
                    type: "number",
                    placeholder: "Leave empty to not change",
                    value: E,
                    onChange: G => P(G.target.value),
                    inputProps: {
                        step: .01
                    },
                    variant: "outlined",
                    fullWidth: !0,
                    sx: G => ({
                        "& .MuiInputBase-root": {
                            fontFamily: "DynaPuff, sans-serif"
                        }
                    })
                }), t.jsx(et, {
                    label: "Coin Address (optional)",
                    placeholder: "Leave empty to not change",
                    value: I,
                    onChange: G => B(G.target.value),
                    variant: "outlined",
                    fullWidth: !0,
                    sx: G => ({
                        "& .MuiInputBase-root": {
                            fontFamily: "DynaPuff, sans-serif"
                        }
                    })
                }), t.jsx(Te, {
                    type: "submit",
                    variant: "contained",
                    color: "primary",
                    disabled: d,
                    sx: G => ({
                        fontFamily: "DynaPuff, sans-serif",
                        fontWeight: "bold"
                    }),
                    children: d ? "Updating..." : "Update Player Balance"
                })]
            }), (h == null ? void 0 : h.success) === !1 && t.jsxs(it, {
                severity: "error",
                sx: {
                    marginTop: 2
                },
                children: ["Error: ", h.message]
            }), (h == null ? void 0 : h.success) && t.jsx(it, {
                severity: "success",
                sx: {
                    marginTop: 2
                },
                children: h.message || "Player balance updated successfully"
            })]
        }), t.jsxs(Je, {
            sx: G => ({
                padding: G.spacing(3),
                marginBottom: G.spacing(3),
                backgroundColor: G.palette.background.paper,
                borderRadius: G.spacing(1)
            }),
            children: [t.jsx(T, {
                mb: 2,
                children: t.jsx($, {
                    variant: "h5",
                    sx: {
                        color: "primary.main"
                    },
                    children: "Reset Bonus Progress"
                })
            }), t.jsxs(T, {
                component: "form",
                onSubmit: W,
                display: "flex",
                flexDirection: "column",
                gap: 2,
                children: [t.jsx(et, {
                    label: "Target Privy ID",
                    placeholder: "Enter Privy ID",
                    value: X,
                    onChange: G => O(G.target.value),
                    required: !0,
                    variant: "outlined",
                    fullWidth: !0
                }), t.jsx(Te, {
                    type: "submit",
                    variant: "contained",
                    color: "error",
                    disabled: p,
                    children: p ? "Resetting..." : "Reset Bonus Progress"
                })]
            }), (x == null ? void 0 : x.success) === !1 && t.jsxs(it, {
                severity: "error",
                sx: {
                    marginTop: 2
                },
                children: ["Error: ", x.message]
            }), (x == null ? void 0 : x.success) && t.jsx(it, {
                severity: "success",
                sx: {
                    marginTop: 2
                },
                children: x.message || "Bonus progress reset successfully"
            })]
        }), t.jsxs(Je, {
            sx: G => ({
                padding: G.spacing(3),
                backgroundColor: G.palette.background.paper,
                borderRadius: G.spacing(1)
            }),
            children: [t.jsx(T, {
                mb: 2,
                children: t.jsx($, {
                    variant: "h5",
                    sx: {
                        color: "primary.main"
                    },
                    children: "Get Top Players"
                })
            }), t.jsxs(T, {
                component: "form",
                onSubmit: q,
                display: "flex",
                flexDirection: "column",
                gap: 2,
                children: [t.jsxs(Cf, {
                    fullWidth: !0,
                    variant: "outlined",
                    children: [t.jsx(wf, {
                        children: "Sort By"
                    }), t.jsxs(Tf, {
                        value: L,
                        onChange: G => F(G.target.value),
                        label: "Sort By",
                        children: [t.jsx(Ea, {
                            value: "cash",
                            children: "Cash Balance"
                        }), t.jsx(Ea, {
                            value: "bonusBalance",
                            children: "Bonus Balance"
                        }), t.jsx(Ea, {
                            value: "shitcoin",
                            children: "Shitcoin Balance"
                        })]
                    })]
                }), L === "shitcoin" && t.jsx(et, {
                    label: "Shitcoin Contract Address (optional)",
                    placeholder: "Leave empty for default 0xPractice coin",
                    value: K,
                    onChange: G => z(G.target.value),
                    variant: "outlined",
                    fullWidth: !0
                }), t.jsx(et, {
                    label: "Player Limit",
                    type: "number",
                    value: Y,
                    onChange: G => H(parseInt(G.target.value) || 10),
                    inputProps: {
                        min: 1,
                        max: 100
                    },
                    variant: "outlined",
                    fullWidth: !0
                }), t.jsx(Te, {
                    type: "submit",
                    variant: "contained",
                    color: "primary",
                    disabled: v,
                    children: v ? "Fetching..." : "Get Top Players"
                })]
            }), (w == null ? void 0 : w.success) === !1 && t.jsxs(it, {
                severity: "error",
                sx: {
                    marginTop: 2
                },
                children: ["Error: ", w.message]
            }), (w == null ? void 0 : w.players) && w.players.length > 0 && t.jsxs(Je, {
                sx: G => ({
                    marginTop: G.spacing(2),
                    padding: G.spacing(2),
                    backgroundColor: G.palette.background.default,
                    borderRadius: G.spacing(1)
                }),
                children: [t.jsxs($, {
                    variant: "h6",
                    mb: 2,
                    fontWeight: "bold",
                    children: ["Top ", w.players.length, " Players (sorted by ", L, ")"]
                }), t.jsx(rv, {
                    children: t.jsxs(ov, {
                        size: "small",
                        children: [t.jsx(lv, {
                            children: t.jsxs(yx, {
                                children: [t.jsx(_n, {
                                    children: "Rank"
                                }), t.jsx(_n, {
                                    children: "Privy ID"
                                }), t.jsx(_n, {
                                    children: "Username"
                                }), t.jsx(_n, {
                                    children: "Cash"
                                }), t.jsx(_n, {
                                    children: "Bonus"
                                }), t.jsx(_n, {
                                    children: "Level"
                                }), L === "shitcoin" && t.jsx(_n, {
                                    sx: {
                                        fontWeight: "bold"
                                    },
                                    children: "Shitcoin Balance"
                                })]
                            })
                        }), t.jsx(cv, {
                            children: w.players.map((G, ie) => {
                                var ne;
                                return t.jsxs(yx, {
                                    children: [t.jsx(_n, {
                                        children: ie + 1
                                    }), t.jsx(_n, {
                                        className: "admin-table-small-text",
                                        sx: {
                                            fontSize: "0.75rem"
                                        },
                                        children: G.privyId
                                    }), t.jsx(_n, {
                                        children: G.username || "Anon"
                                    }), t.jsxs(_n, {
                                        children: ["$", G.cash.toFixed(2)]
                                    }), t.jsxs(_n, {
                                        children: ["$", G.bonusBalance.toFixed(2)]
                                    }), t.jsx(_n, {
                                        children: G.level
                                    }), L === "shitcoin" && t.jsx(_n, {
                                        children: ((ne = G.shitcoinBalance) == null ? void 0 : ne.toFixed(6)) || "0"
                                    })]
                                }, G.privyId)
                            })
                        })]
                    })
                })]
            })]
        })]
    })
}

function Ow() {
    const e = bt(),
        s = nn(),
        a = Se(uf.selectExistingBonusCodes),
        r = Se(uf.selectGeneratedBonusCodes),
        [l, d] = m.useState(!1),
        [u, h] = m.useState(!1),
        [f, p] = m.useState(null),
        y = ["refund", "giveaway", "event", "kol", "testing"],
        [x, S] = m.useState({
            available: 1,
            bonusAmount: .1,
            bonusWagerMultiReq: 20,
            quantity: 1,
            existingCode: "",
            tag: "kol"
        });
    m.useEffect(() => {
        j()
    }, []);
    const v = k => {
            const {
                name: D,
                value: E
            } = k.target;
            S(P => ({ ...P,
                [D]: D === "existingCode" || D === "tag" ? E : Number(E)
            }))
        },
        C = k => {
            const {
                name: D,
                value: E
            } = k.target;
            S(P => ({ ...P,
                [D]: E
            }))
        },
        w = k => {
            if (k.preventDefault(), x.bonusAmount <= 0) {
                p("Bonus amount must be greater than 0");
                return
            }
            if (x.bonusWagerMultiReq <= 0) {
                p("Wagering requirement must be greater than 0");
                return
            }
            if (x.available <= 0) {
                p("Available uses must be greater than 0");
                return
            }
            if (x.quantity <= 0 || x.quantity > 100) {
                p("Quantity must be between 1 and 100");
                return
            }
            h(!0), s.generateBonusCodes({
                available: x.available,
                bonusAmount: x.bonusAmount,
                bonusWagerMultiReq: x.bonusWagerMultiReq,
                quantity: x.quantity,
                existingCode: x.existingCode || void 0,
                tag: x.tag
            }, () => {
                h(!1)
            })
        },
        j = () => {
            d(!0), s.getBonusCodes(() => {
                d(!1)
            })
        },
        A = () => {
            e(kr.clearBonusCodesResults())
        },
        _ = (k, D) => {
            const E = D.tag ? ` [${D.tag}]` : "";
            return `${k}: ${D.available} available, ${D.claimed} claimed, $${D.bonusAmount} with ${D.bonusWagerMultiReq}x wagering${E}`
        };
    return t.jsxs(T, {
        children: [t.jsx($, {
            variant: "h4",
            sx: {
                color: "primary.main",
                fontWeight: "bold",
                marginBottom: 3
            },
            children: "Bonus Codes Management"
        }), t.jsxs(Je, {
            className: "admin-section",
            sx: k => ({
                padding: k.spacing(3),
                marginBottom: k.spacing(3),
                backgroundColor: k.palette.background.paper,
                borderRadius: k.spacing(1)
            }),
            children: [t.jsx(T, {
                sx: {
                    marginBottom: 2
                },
                children: t.jsx($, {
                    variant: "h5",
                    sx: {
                        color: "primary.main",
                        fontWeight: "bold"
                    },
                    children: "Generate Bonus Codes"
                })
            }), t.jsxs(T, {
                component: "form",
                onSubmit: w,
                className: "admin-form",
                sx: {
                    display: "flex",
                    flexDirection: "column",
                    gap: 2
                },
                children: [t.jsxs(T, {
                    className: "admin-form-grid",
                    sx: {
                        display: "grid",
                        gridTemplateColumns: {
                            xs: "1fr",
                            sm: "1fr 1fr"
                        },
                        gap: 2
                    },
                    children: [t.jsx(et, {
                        label: "Bonus Amount ($)",
                        name: "bonusAmount",
                        type: "number",
                        value: x.bonusAmount,
                        onChange: v,
                        inputProps: {
                            min: .01,
                            step: .01
                        },
                        variant: "outlined",
                        fullWidth: !0,
                        required: !0
                    }), t.jsx(et, {
                        label: "Wagering Requirement (x)",
                        name: "bonusWagerMultiReq",
                        type: "number",
                        value: x.bonusWagerMultiReq,
                        onChange: v,
                        inputProps: {
                            min: 1
                        },
                        variant: "outlined",
                        fullWidth: !0,
                        required: !0
                    }), t.jsx(et, {
                        label: "Available Uses (per code)",
                        name: "available",
                        type: "number",
                        value: x.available,
                        onChange: v,
                        inputProps: {
                            min: 1
                        },
                        variant: "outlined",
                        fullWidth: !0,
                        required: !0
                    }), t.jsx(et, {
                        label: "Quantity of Codes",
                        name: "quantity",
                        type: "number",
                        value: x.quantity,
                        onChange: v,
                        inputProps: {
                            min: 1,
                            max: 100
                        },
                        className: "admin-form-input",
                        variant: "outlined",
                        fullWidth: !0,
                        required: !0
                    }), t.jsxs(Cf, {
                        variant: "outlined",
                        fullWidth: !0,
                        children: [t.jsx(wf, {
                            id: "tag-label",
                            children: "Tag"
                        }), t.jsx(Tf, {
                            labelId: "tag-label",
                            name: "tag",
                            value: x.tag,
                            onChange: C,
                            label: "Tag",
                            children: y.map(k => t.jsx(Ea, {
                                value: k,
                                children: k
                            }, k))
                        })]
                    })]
                }), t.jsx(et, {
                    label: "Existing Code (leave blank to generate new)",
                    name: "existingCode",
                    value: x.existingCode,
                    onChange: v,
                    placeholder: "Optional: Update existing code",
                    variant: "outlined",
                    fullWidth: !0
                }), t.jsxs(T, {
                    className: "admin-form-actions",
                    sx: {
                        display: "flex",
                        gap: 2,
                        flexWrap: "wrap"
                    },
                    children: [t.jsx(Te, {
                        type: "submit",
                        variant: "contained",
                        color: "primary",
                        disabled: u,
                        children: u ? "Generating..." : "Generate Codes"
                    }), t.jsx(Te, {
                        type: "button",
                        variant: "outlined",
                        onClick: j,
                        disabled: l,
                        children: l ? "Refreshing..." : "Refresh Codes"
                    }), r && t.jsx(Te, {
                        type: "button",
                        variant: "text",
                        onClick: A,
                        children: "Clear Results"
                    })]
                })]
            }), f && t.jsx(it, {
                severity: "error",
                sx: {
                    marginTop: 2
                },
                children: f
            }), r && Object.keys(r).length > 0 && t.jsxs(Je, {
                sx: k => ({
                    marginTop: k.spacing(2),
                    padding: k.spacing(2),
                    backgroundColor: k.palette.success.light,
                    borderRadius: k.spacing(1)
                }),
                children: [t.jsx($, {
                    variant: "h6",
                    sx: {
                        color: "success.contrastText",
                        fontWeight: "bold",
                        marginBottom: 1
                    },
                    children: "Generated Codes:"
                }), t.jsx(T, {
                    sx: {
                        display: "flex",
                        flexDirection: "column",
                        gap: 1
                    },
                    children: Object.entries(r).map(([k, D]) => t.jsx($, {
                        sx: {
                            color: "success.contrastText",
                            fontFamily: "monospace"
                        },
                        children: _(k, D)
                    }, k))
                })]
            })]
        }), t.jsxs(Je, {
            sx: k => ({
                padding: k.spacing(3),
                backgroundColor: k.palette.background.paper,
                borderRadius: k.spacing(1)
            }),
            children: [t.jsxs(T, {
                sx: {
                    marginBottom: 2,
                    display: "flex",
                    alignItems: "center",
                    gap: 2
                },
                children: [t.jsx($, {
                    variant: "h5",
                    sx: {
                        color: "primary.main",
                        fontWeight: "bold"
                    },
                    children: "Existing Bonus Codes"
                }), t.jsx(Qn, {
                    label: `${a?Object.keys(a).length:0} codes`,
                    color: "primary",
                    size: "small"
                })]
            }), l ? t.jsx($, {
                className: "admin-loading",
                sx: {
                    color: "text.secondary",
                    textAlign: "center",
                    padding: 2
                },
                children: "Loading codes..."
            }) : !a || Object.keys(a).length === 0 ? t.jsx($, {
                className: "admin-empty",
                sx: {
                    color: "text.secondary",
                    textAlign: "center",
                    padding: 2
                },
                children: "No bonus codes found"
            }) : t.jsx(T, {
                sx: {
                    display: "flex",
                    flexDirection: "column",
                    gap: 1
                },
                children: Object.entries(a).map(([k, D]) => t.jsx($, {
                    sx: {
                        fontFamily: "monospace",
                        padding: 1,
                        backgroundColor: "background.default",
                        borderRadius: 1
                    },
                    children: _(k, D)
                }, k))
            })]
        })]
    })
}

function Ww() {
    const e = nn(),
        [s, a] = m.useState(!1),
        [r, l] = m.useState(null),
        [d, u] = m.useState(null),
        [h, f] = m.useState("players"),
        [p, y] = m.useState(""),
        [x, S] = m.useState("stats.highest_pnl_game"),
        [v, C] = m.useState("remove"),
        [w, j] = m.useState(""),
        A = k => {
            if (k.preventDefault(), !(!h.trim() || !p.trim() || !x.trim())) {
                l(null), u(null), a(!0);
                try {
                    let D;
                    if (v !== "remove" && w.trim() !== "") {
                        if (v === "set") try {
                            D = JSON.parse(w)
                        } catch {
                            D = w.trim()
                        } else if (v === "increment" && (D = parseFloat(w), isNaN(D))) {
                            u("Increment operation requires a numeric value"), a(!1);
                            return
                        }
                    }
                    e.modifyDocumentField({
                        collection: h.trim(),
                        documentId: p.trim(),
                        fieldPath: x.trim(),
                        operation: v,
                        value: D
                    }, E => {
                        E.success ? (l(E), a(!1)) : (u(E.message || "Unknown error occurred"), a(!1))
                    })
                } catch (D) {
                    u(D instanceof Error ? D.message : "Unknown error occurred"), a(!1)
                }
            }
        },
        _ = () => {
            l(null), u(null)
        };
    return t.jsxs(T, {
        children: [t.jsxs(T, {
            sx: {
                marginBottom: 3
            },
            children: [t.jsx($, {
                variant: "h4",
                sx: {
                    color: "primary.main",
                    fontWeight: "bold"
                },
                children: "Document Field Editor"
            }), t.jsx($, {
                sx: {
                    color: "text.secondary"
                },
                children: "Modify document fields directly in the database. Use with caution."
            })]
        }), t.jsxs(Je, {
            sx: k => ({
                padding: k.spacing(3),
                backgroundColor: k.palette.background.paper,
                borderRadius: k.spacing(1)
            }),
            children: [t.jsxs(T, {
                sx: {
                    marginBottom: 2,
                    display: "flex",
                    alignItems: "center",
                    gap: 2
                },
                children: [t.jsx($, {
                    variant: "h5",
                    sx: {
                        color: "primary.main",
                        fontWeight: "bold"
                    },
                    children: "Edit Document Field"
                }), t.jsx(Qn, {
                    label: "Dangerous",
                    color: "error",
                    size: "small"
                })]
            }), t.jsxs(T, {
                component: "form",
                onSubmit: A,
                sx: {
                    display: "flex",
                    flexDirection: "column",
                    gap: 2
                },
                children: [t.jsxs(T, {
                    sx: {
                        display: "grid",
                        gridTemplateColumns: {
                            xs: "1fr",
                            sm: "1fr 1fr"
                        },
                        gap: 2
                    },
                    children: [t.jsx(et, {
                        label: "Collection",
                        value: h,
                        onChange: k => f(k.target.value),
                        placeholder: "e.g., players",
                        variant: "outlined",
                        fullWidth: !0,
                        required: !0
                    }), t.jsx(et, {
                        label: "Document ID",
                        value: p,
                        onChange: k => y(k.target.value),
                        placeholder: "privy user ID / document ID",
                        variant: "outlined",
                        fullWidth: !0,
                        required: !0
                    })]
                }), t.jsxs(T, {
                    sx: {
                        display: "grid",
                        gridTemplateColumns: {
                            xs: "1fr",
                            sm: "1fr 1fr"
                        },
                        gap: 2
                    },
                    children: [t.jsx(et, {
                        label: "Field Path",
                        value: x,
                        onChange: k => S(k.target.value),
                        placeholder: "e.g., stats.highest_pnl_game",
                        variant: "outlined",
                        fullWidth: !0,
                        required: !0
                    }), t.jsxs(Cf, {
                        fullWidth: !0,
                        variant: "outlined",
                        children: [t.jsx(wf, {
                            children: "Operation"
                        }), t.jsxs(Tf, {
                            value: v,
                            onChange: k => C(k.target.value),
                            label: "Operation",
                            children: [t.jsx(Ea, {
                                value: "remove",
                                children: "Remove Field"
                            }), t.jsx(Ea, {
                                value: "set",
                                children: "Set Value"
                            }), t.jsx(Ea, {
                                value: "increment",
                                children: "Increment Number"
                            })]
                        })]
                    })]
                }), v !== "remove" && t.jsx(et, {
                    label: `${v==="increment"?"Increment By":"Value"}${v==="set"?" (JSON format for objects)":""}`,
                    value: w,
                    onChange: k => j(k.target.value),
                    placeholder: v === "set" ? 'For objects use: {"key": "value"}' : "Enter value",
                    multiline: !0,
                    rows: 3,
                    variant: "outlined",
                    fullWidth: !0,
                    required: !0
                }), t.jsxs(T, {
                    display: "flex",
                    gap: 2,
                    flexWrap: "wrap",
                    children: [t.jsx(Te, {
                        type: "submit",
                        variant: "contained",
                        color: "error",
                        disabled: s,
                        sx: {
                            fontWeight: "bold"
                        },
                        children: s ? "Processing..." : "Execute Operation"
                    }), r && t.jsx(Te, {
                        type: "button",
                        variant: "outlined",
                        onClick: _,
                        sx: {
                            fontWeight: "bold"
                        },
                        children: "Clear Results"
                    })]
                })]
            }), r && t.jsxs(Je, {
                sx: k => ({
                    marginTop: k.spacing(2),
                    padding: k.spacing(2),
                    backgroundColor: r.success ? k.palette.success.light : k.palette.error.light,
                    borderRadius: k.spacing(1)
                }),
                children: [t.jsx($, {
                    sx: {
                        color: r.success ? "success.contrastText" : "error.contrastText",
                        marginBottom: 1,
                        fontWeight: "bold"
                    },
                    children: r.success ? "Operation Successful" : "Operation Failed"
                }), t.jsxs(T, {
                    children: [t.jsx($, {
                        sx: {
                            color: r.success ? "success.contrastText" : "error.contrastText"
                        },
                        children: r.message || "Operation completed"
                    }), r.success && r.result && t.jsxs(T, {
                        component: "details",
                        sx: {
                            marginTop: 1
                        },
                        children: [t.jsx($, {
                            component: "summary",
                            sx: {
                                cursor: "pointer",
                                fontWeight: "bold",
                                color: "success.contrastText"
                            },
                            children: "View Updated Document Data"
                        }), t.jsx(T, {
                            component: "pre",
                            sx: k => ({
                                marginTop: k.spacing(1),
                                padding: k.spacing(1),
                                backgroundColor: k.palette.background.default,
                                borderRadius: k.spacing(.5),
                                overflow: "auto",
                                fontSize: "0.875rem"
                            }),
                            children: JSON.stringify(r.result, null, 2)
                        })]
                    })]
                })]
            }), d && !r && t.jsxs(it, {
                severity: "error",
                sx: {
                    marginTop: 2
                },
                children: [t.jsx($, {
                    sx: {
                        fontWeight: "bold"
                    },
                    children: "Error"
                }), t.jsx($, {
                    children: d
                })]
            })]
        })]
    })
}

function ff({
    isOpen: e,
    title: s,
    message: a,
    onConfirm: r,
    onCancel: l,
    isLoading: d,
    confirmText: u,
    loadingText: h
}) {
    return t.jsxs(Da, {
        open: e,
        onClose: l,
        maxWidth: "sm",
        fullWidth: !0,
        children: [t.jsx(Tl, {
            sx: {
                fontWeight: "bold",
                color: "primary.main"
            },
            children: s
        }), t.jsx(Na, {
            children: t.jsx($, {
                sx: {
                    marginBottom: 2
                },
                children: a
            })
        }), t.jsxs(N0, {
            sx: {
                padding: 2,
                gap: 1
            },
            children: [t.jsx(Te, {
                onClick: l,
                disabled: d,
                variant: "outlined",
                children: "Cancel"
            }), t.jsx(Te, {
                onClick: r,
                disabled: d,
                variant: "contained",
                color: "error",
                children: d ? h : u
            })]
        })]
    })
}

function Uw() {
    const e = bt(),
        s = nn(),
        [a, r] = m.useState(!1),
        [l, d] = m.useState(null),
        [u, h] = m.useState(!1),
        [f, p] = m.useState(!1),
        [y, x] = m.useState(null),
        [S, v] = m.useState(null),
        [C, w] = m.useState(!1),
        j = "Server will reboot after this round. Will take approximately 3 minutes.",
        A = "Website under maintenance. Please check back soon.",
        [_, k] = m.useState(j),
        [D, E] = m.useState(!1),
        [P, I] = m.useState("Server restarting... (ETA < 2 minutes)"),
        [B, X] = m.useState(30);
    m.useEffect(() => {
        D ? _ === j && k(A) : _ === A && k(j)
    }, [D]);
    const [O, L] = m.useState({
        isOpen: !1,
        title: "",
        message: "",
        action: () => {},
        confirmText: "",
        loadingText: ""
    }), F = (se, G, ie, ne, ee) => {
        L({
            isOpen: !0,
            title: se,
            message: G,
            action: ie,
            confirmText: ne,
            loadingText: ee
        })
    }, Y = () => {
        L(se => ({ ...se,
            isOpen: !1
        }))
    }, H = () => {
        r(!0), d(null), s.setMaintenanceMode({
            active: C,
            message: _,
            mega: D
        }, se => {
            r(!1), d(se), se.success && e(kr.setMaintenanceMode({
                active: C,
                message: _
            }))
        }), Y()
    }, K = () => {
        e(kr.setMaintenanceMode({
            active: C,
            message: _,
            mega: D
        }))
    }, z = () => {
        h(!0), x(null), s.startGame(se => {
            h(!1), x(se)
        }), Y()
    }, U = () => {
        h(!0), x(null), s.stopGame(se => {
            h(!1), x(se)
        }), Y()
    }, V = () => {
        p(!0), v(null), s.pauseCooldown({
            message: P
        }, se => {
            p(!1), v(se)
        }), Y()
    }, W = () => {
        p(!0), v(null), s.resumeCooldown(se => {
            p(!1), v(se)
        }), Y()
    }, q = () => {
        p(!0), v(null), s.addCooldownTime({
            seconds: B
        }, se => {
            p(!1), v(se)
        }), Y()
    }, Z = () => {
        d(null), x(null), v(null)
    };
    return t.jsxs(T, {
        children: [t.jsx(ff, {
            isOpen: O.isOpen,
            title: O.title,
            message: O.message,
            onConfirm: O.action,
            onCancel: Y,
            isLoading: a || u || f,
            confirmText: O.confirmText,
            loadingText: O.loadingText
        }), t.jsxs(T, {
            sx: {
                marginBottom: 3
            },
            children: [t.jsx($, {
                variant: "h4",
                sx: {
                    color: "primary.main",
                    fontWeight: "bold"
                },
                children: "Maintenance Controls"
            }), t.jsx($, {
                sx: {
                    color: "text.secondary"
                },
                children: "Manage maintenance mode, game state, and cooldown settings"
            })]
        }), t.jsxs(Je, {
            sx: se => ({
                padding: se.spacing(3),
                marginBottom: se.spacing(3),
                backgroundColor: se.palette.background.paper,
                borderRadius: se.spacing(1)
            }),
            children: [t.jsxs(T, {
                display: "flex",
                alignItems: "center",
                gap: 2,
                marginBottom: 2,
                children: [t.jsx($, {
                    variant: "h5",
                    sx: {
                        color: "primary.main",
                        fontWeight: "bold"
                    },
                    children: "Maintenance Mode"
                }), t.jsx($, {
                    variant: "caption",
                    sx: {
                        backgroundColor: "error.main",
                        color: "error.contrastText",
                        padding: "2px 8px",
                        borderRadius: "4px",
                        fontWeight: "bold"
                    },
                    children: "Critical"
                })]
            }), t.jsxs(T, {
                display: "flex",
                flexDirection: "column",
                gap: 2,
                children: [t.jsx(id, {
                    control: t.jsx(bx, {
                        checked: C,
                        onChange: se => w(se.target.checked)
                    }),
                    label: "Enable Maintenance Mode",
                    sx: {
                        alignItems: "flex-start"
                    }
                }), t.jsx(id, {
                    control: t.jsx(bx, {
                        checked: D,
                        onChange: se => E(se.target.checked)
                    }),
                    label: "Enable Mega Maintenance (block all interactions with full overlay)",
                    sx: {
                        alignItems: "flex-start"
                    }
                }), t.jsx(et, {
                    label: "Maintenance Message",
                    value: _,
                    onChange: se => k(se.target.value),
                    placeholder: "Enter maintenance message for players",
                    multiline: !0,
                    rows: 3,
                    variant: "outlined",
                    fullWidth: !0
                })]
            }), t.jsxs(T, {
                display: "flex",
                gap: 2,
                flexWrap: "wrap",
                marginTop: 2,
                children: [t.jsx(Te, {
                    onClick: () => F("Set Maintenance Mode", `Are you sure you want to ${C?"activate":"deactivate"} maintenance mode?`, H, "Set Mode", "Setting..."),
                    disabled: a,
                    variant: "contained",
                    color: "primary",
                    children: a ? "Setting..." : "Set Maintenance Mode"
                }), t.jsx(Te, {
                    onClick: K,
                    variant: "outlined",
                    color: "secondary",
                    children: "Test Banner"
                })]
            }), l && t.jsx(it, {
                severity: l.success ? "success" : "error",
                sx: {
                    marginTop: 2
                },
                children: l.message
            })]
        }), t.jsxs(Je, {
            sx: se => ({
                padding: se.spacing(3),
                marginBottom: se.spacing(3),
                backgroundColor: se.palette.background.paper,
                borderRadius: se.spacing(1)
            }),
            children: [t.jsxs(T, {
                display: "flex",
                alignItems: "center",
                gap: 2,
                marginBottom: 2,
                children: [t.jsx($, {
                    variant: "h5",
                    sx: {
                        color: "primary.main",
                        fontWeight: "bold"
                    },
                    children: "Game Control"
                }), t.jsx($, {
                    variant: "caption",
                    sx: {
                        backgroundColor: "error.main",
                        color: "error.contrastText",
                        padding: "2px 8px",
                        borderRadius: "4px",
                        fontWeight: "bold"
                    },
                    children: "Critical"
                })]
            }), t.jsxs(T, {
                display: "flex",
                gap: 2,
                flexWrap: "wrap",
                children: [t.jsx(Te, {
                    onClick: () => F("Start Game", "Are you sure you want to start the game? This will begin a new round.", z, "Start Game", "Starting..."),
                    disabled: u,
                    variant: "contained",
                    color: "success",
                    children: u ? "Starting..." : "Start Game"
                }), t.jsx(Te, {
                    onClick: () => F("Stop Game", "Are you sure you want to stop the current game? This will end the current round.", U, "Stop Game", "Stopping..."),
                    disabled: u,
                    variant: "contained",
                    color: "error",
                    children: u ? "Stopping..." : "Stop Game"
                })]
            }), y && t.jsx(it, {
                severity: y.success ? "success" : "error",
                sx: {
                    marginTop: 2
                },
                children: y.message
            })]
        }), t.jsxs(Je, {
            sx: se => ({
                padding: se.spacing(3),
                marginBottom: se.spacing(3),
                backgroundColor: se.palette.background.paper,
                borderRadius: se.spacing(1)
            }),
            children: [t.jsxs(T, {
                display: "flex",
                alignItems: "center",
                gap: 2,
                marginBottom: 2,
                children: [t.jsx($, {
                    variant: "h5",
                    sx: {
                        color: "primary.main",
                        fontWeight: "bold"
                    },
                    children: "Cooldown Control"
                }), t.jsx($, {
                    variant: "caption",
                    sx: {
                        backgroundColor: "info.main",
                        color: "info.contrastText",
                        padding: "2px 8px",
                        borderRadius: "4px",
                        fontWeight: "bold"
                    },
                    children: "Game Management"
                })]
            }), t.jsxs(T, {
                display: "flex",
                flexDirection: "column",
                gap: 2,
                children: [t.jsx(et, {
                    label: "Pause Message",
                    value: P,
                    onChange: se => I(se.target.value),
                    placeholder: "Message to display when paused",
                    variant: "outlined",
                    fullWidth: !0
                }), t.jsx(et, {
                    label: "Add Time (seconds)",
                    type: "number",
                    value: B,
                    onChange: se => X(parseInt(se.target.value) || 30),
                    inputProps: {
                        min: 1,
                        max: 300
                    },
                    variant: "outlined",
                    fullWidth: !0
                })]
            }), t.jsxs(T, {
                display: "flex",
                gap: 2,
                flexWrap: "wrap",
                marginTop: 2,
                children: [t.jsx(Te, {
                    onClick: () => F("Pause Cooldown", "Are you sure you want to pause the cooldown timer?", V, "Pause", "Pausing..."),
                    disabled: f,
                    variant: "contained",
                    color: "warning",
                    children: f ? "Pausing..." : "Pause Cooldown"
                }), t.jsx(Te, {
                    onClick: () => F("Resume Cooldown", "Are you sure you want to resume the cooldown timer?", W, "Resume", "Resuming..."),
                    disabled: f,
                    variant: "contained",
                    color: "success",
                    children: f ? "Resuming..." : "Resume Cooldown"
                }), t.jsx(Te, {
                    onClick: () => F("Add Cooldown Time", `Are you sure you want to add ${B} seconds to the cooldown?`, q, "Add Time", "Adding..."),
                    disabled: f,
                    variant: "contained",
                    color: "primary",
                    children: f ? "Adding..." : `Add ${B}s`
                })]
            }), S && t.jsx(it, {
                severity: S.success ? "success" : "error",
                sx: {
                    marginTop: 2
                },
                children: S.message
            })]
        }), t.jsx(Je, {
            sx: se => ({
                padding: se.spacing(2),
                backgroundColor: se.palette.background.paper,
                borderRadius: se.spacing(1)
            }),
            children: t.jsx(Te, {
                onClick: Z,
                variant: "outlined",
                children: "Clear All Results"
            })
        })]
    })
}

function Hw() {
    const e = nn(),
        [s, a] = m.useState(""),
        [r, l] = m.useState(!1),
        [d, u] = m.useState([]),
        [h, f] = m.useState(null),
        [p, y] = m.useState(!1),
        [x, S] = m.useState(null),
        [v, C] = m.useState(null),
        w = P => {
            const I = P.trim().split(`
`),
                B = [],
                X = [];
            return I.forEach((O, L) => {
                if (!O.trim()) return;
                const F = O.lastIndexOf(":");
                if (F === -1) {
                    X.push(`Line ${L+1}: Invalid format. Use 'privyID:amount'`);
                    return
                }
                const Y = O.substring(0, F).trim(),
                    H = O.substring(F + 1).trim(),
                    K = parseFloat(H);
                if (!Y) {
                    X.push(`Line ${L+1}: Missing privyID`);
                    return
                }
                if (isNaN(K) || K <= 0) {
                    X.push(`Line ${L+1}: Invalid amount. Must be a positive number`);
                    return
                }
                B.push({
                    privyId: Y,
                    amount: K
                })
            }), u(B), X.length > 0 ? (f(`Input validation errors:
${X.join(`
`)}`), !1) : B.length === 0 ? (f("No valid entries found"), !1) : (f(null), !0)
        },
        j = P => {
            P.preventDefault(), w(s) && l(!0)
        },
        A = () => {
            S(null), C(null), y(!0), e.performPiggybankAirdrop(d, P => {
                y(!1), P.success ? S(P.result) : (C(P.error || "Unknown error occurred"), y(!1))
            })
        },
        _ = () => {
            l(!1), f(null)
        },
        k = () => {
            S(null), C(null), l(!1), a(""), u([]), f(null)
        },
        D = d.length,
        E = d.reduce((P, I) => P + I.amount, 0);
    return t.jsxs(T, {
        children: [t.jsxs(T, {
            sx: {
                marginBottom: 3
            },
            children: [t.jsx($, {
                variant: "h4",
                sx: {
                    color: "primary.main",
                    fontWeight: "bold"
                },
                children: "May 2025 Piggybank Airdrop"
            }), t.jsx($, {
                sx: {
                    color: "text.secondary"
                },
                children: "One-time airdrop to players' piggybanks for May 2025"
            })]
        }), t.jsxs(Je, {
            sx: P => ({
                padding: P.spacing(3),
                backgroundColor: P.palette.background.paper,
                borderRadius: P.spacing(1)
            }),
            children: [t.jsxs(T, {
                display: "flex",
                alignItems: "center",
                gap: 2,
                marginBottom: 2,
                children: [t.jsx($, {
                    variant: "h5",
                    sx: {
                        color: "primary.main",
                        fontWeight: "bold"
                    },
                    children: "Piggybank Airdrop"
                }), t.jsx(Qn, {
                    label: "Dangerous",
                    color: "error",
                    size: "small"
                })]
            }), t.jsxs(Je, {
                sx: P => ({
                    padding: P.spacing(2),
                    marginBottom: P.spacing(2),
                    backgroundColor: P.palette.warning.light,
                    borderRadius: P.spacing(1)
                }),
                children: [t.jsxs($, {
                    sx: {
                        color: "warning.contrastText",
                        marginBottom: 1
                    },
                    children: ["This tool allows you to airdrop funds to players' piggybanks. Enter player IDs and amounts below, one per line, in the format ", t.jsx("strong", {
                        children: "privyID:amount"
                    }), "."]
                }), t.jsx($, {
                    sx: {
                        color: "warning.contrastText"
                    },
                    children: "For players without a rugpass, the funds will be added when they first load the game in May 2025."
                })]
            }), r ? t.jsxs(Da, {
                open: r,
                onClose: _,
                maxWidth: "md",
                fullWidth: !0,
                children: [t.jsx(Tl, {
                    sx: {
                        fontWeight: "bold",
                        color: "primary.main"
                    },
                    children: "Confirm Airdrop Execution"
                }), t.jsxs(Na, {
                    children: [t.jsxs(Je, {
                        sx: P => ({
                            padding: P.spacing(2),
                            marginBottom: P.spacing(2),
                            backgroundColor: P.palette.background.default,
                            borderRadius: P.spacing(1)
                        }),
                        children: [t.jsxs($, {
                            sx: {
                                marginBottom: 2,
                                fontWeight: "bold"
                            },
                            children: ["Ready to process ", D, " player airdrops totaling ", E.toFixed(6), " SOL"]
                        }), t.jsx(T, {
                            display: "flex",
                            flexDirection: "column",
                            gap: 1,
                            maxHeight: "200px",
                            overflow: "auto",
                            children: d.map((P, I) => t.jsxs($, {
                                sx: {
                                    padding: 1,
                                    backgroundColor: "background.paper",
                                    borderRadius: 1,
                                    fontFamily: "monospace"
                                },
                                children: [P.privyId, ": ", P.amount, " SOL"]
                            }, I))
                        })]
                    }), t.jsx(it, {
                        severity: "warning",
                        children: "Are you sure you want to execute this airdrop? This action cannot be undone."
                    })]
                }), t.jsxs(N0, {
                    sx: {
                        padding: 2,
                        gap: 1
                    },
                    children: [t.jsx(Te, {
                        onClick: _,
                        disabled: p,
                        variant: "outlined",
                        sx: {
                            fontWeight: "bold"
                        },
                        children: "Cancel"
                    }), t.jsx(Te, {
                        onClick: A,
                        disabled: p,
                        variant: "contained",
                        color: "error",
                        sx: {
                            fontWeight: "bold"
                        },
                        children: p ? "Processing..." : "Execute Airdrop"
                    })]
                })]
            }) : t.jsxs(T, {
                component: "form",
                onSubmit: j,
                display: "flex",
                flexDirection: "column",
                gap: 2,
                children: [t.jsx(et, {
                    label: "Airdrop Data",
                    value: s,
                    onChange: P => a(P.target.value),
                    placeholder: `privyID:amount
privyID2:amount2
...`,
                    multiline: !0,
                    rows: 12,
                    variant: "outlined",
                    fullWidth: !0,
                    required: !0
                }), t.jsx($, {
                    variant: "caption",
                    sx: {
                        color: "text.secondary"
                    },
                    children: "Format: One entry per line, format: privyID:amount"
                }), t.jsx(T, {
                    display: "flex",
                    gap: 2,
                    flexWrap: "wrap",
                    children: t.jsx(Te, {
                        type: "submit",
                        variant: "contained",
                        color: "primary",
                        disabled: !s.trim(),
                        sx: {
                            fontWeight: "bold"
                        },
                        children: "Preview Airdrop"
                    })
                })]
            }), h && t.jsxs(it, {
                severity: "error",
                sx: {
                    marginTop: 2
                },
                children: [t.jsx($, {
                    sx: {
                        fontWeight: "bold"
                    },
                    children: "Validation Error"
                }), t.jsx(T, {
                    component: "pre",
                    sx: {
                        marginTop: 1,
                        fontSize: "0.875rem",
                        whiteSpace: "pre-wrap",
                        fontFamily: "monospace"
                    },
                    children: h
                })]
            }), x && t.jsxs(Je, {
                sx: P => ({
                    marginTop: P.spacing(2),
                    padding: P.spacing(2),
                    backgroundColor: x.success ? P.palette.success.light : P.palette.error.light,
                    borderRadius: P.spacing(1)
                }),
                children: [t.jsx($, {
                    sx: {
                        fontWeight: "bold",
                        color: x.success ? "success.contrastText" : "error.contrastText",
                        marginBottom: 1
                    },
                    children: x.success ? "Airdrop Completed" : "Airdrop Failed"
                }), t.jsxs(T, {
                    children: [t.jsx(T, {
                        component: "pre",
                        sx: {
                            fontSize: "0.875rem",
                            whiteSpace: "pre-wrap",
                            fontFamily: "monospace",
                            color: x.success ? "success.contrastText" : "error.contrastText"
                        },
                        children: x.message || x.error
                    }), x.success && x.result && t.jsxs(T, {
                        component: "details",
                        marginTop: 1,
                        children: [t.jsx($, {
                            component: "summary",
                            sx: {
                                cursor: "pointer",
                                fontWeight: "bold",
                                color: "success.contrastText"
                            },
                            children: "View Detailed Results"
                        }), t.jsx(T, {
                            component: "pre",
                            sx: P => ({
                                marginTop: P.spacing(1),
                                padding: P.spacing(1),
                                backgroundColor: P.palette.background.default,
                                borderRadius: P.spacing(.5),
                                overflow: "auto",
                                fontSize: "0.875rem"
                            }),
                            children: JSON.stringify(x.result, null, 2)
                        })]
                    })]
                }), t.jsx(T, {
                    marginTop: 2,
                    children: t.jsx(Te, {
                        onClick: k,
                        variant: "outlined",
                        sx: {
                            fontWeight: "bold"
                        },
                        children: "Clear Results"
                    })
                })]
            }), v && !x && t.jsxs(it, {
                severity: "error",
                sx: {
                    marginTop: 2
                },
                children: [t.jsx($, {
                    sx: {
                        fontWeight: "bold"
                    },
                    children: "Error"
                }), t.jsx($, {
                    children: v
                })]
            })]
        })]
    })
}
const $w = () => {
    var ke, je;
    const e = nn(),
        s = ey(),
        a = pn(re => re.rugRoyale),
        r = pn(re => re.goldenHour),
        [l, d] = m.useState(!1),
        [u, h] = m.useState(""),
        [f, p] = m.useState(""),
        [y, x] = m.useState(30),
        [S, v] = m.useState(1e3),
        [C, w] = m.useState({
            1: "",
            2: "",
            3: "",
            4: "",
            5: "",
            6: "",
            7: "",
            8: "",
            9: "",
            10: ""
        }),
        [j, A] = m.useState(null),
        [_, k] = m.useState({}),
        [D, E] = m.useState(null),
        P = re => {
            if (!re) return "";
            const Ee = new Date(re),
                Ae = new Date,
                Pe = Ee.getTime() - Ae.getTime();
            if (Pe < 0) {
                const Re = Math.abs(Pe),
                    le = Math.floor(Re / (1e3 * 60 * 60)),
                    Ce = Math.floor(Re % (1e3 * 60 * 60) / (1e3 * 60));
                return `${le}h ${Ce}m ago`
            }
            const be = Math.floor(Pe / (1e3 * 60 * 60)),
                qe = Math.floor(Pe % (1e3 * 60 * 60) / (1e3 * 60));
            return be === 0 ? `in ${qe}m` : `in ${be}h ${qe}m`
        },
        I = re => {
            const Ee = new Date,
                Ae = new Date(Ee.getTime() + re * 60 * 1e3),
                Pe = re === 1 ? 1 : 60,
                be = new Date(Ee.getTime() + (re + Pe) * 60 * 1e3),
                qe = Re => {
                    const le = Re.getFullYear(),
                        Ce = String(Re.getMonth() + 1).padStart(2, "0"),
                        _e = String(Re.getDate()).padStart(2, "0"),
                        Ne = String(Re.getHours()).padStart(2, "0"),
                        Fe = String(Re.getMinutes()).padStart(2, "0");
                    return `${le}-${Ce}-${_e}T${Ne}:${Fe}`
                };
            h(qe(Ae)), p(qe(be))
        },
        [B, X] = m.useState(!1),
        [O, L] = m.useState(""),
        [F, Y] = m.useState(""),
        [H, K] = m.useState(60),
        [z, U] = m.useState(""),
        [V, W] = m.useState(""),
        q = re => {
            const Ee = new Date,
                Ae = new Date(Ee.getTime() + re * 60 * 1e3),
                Pe = re === 1 ? 1 : 60,
                be = new Date(Ee.getTime() + (re + Pe) * 60 * 1e3),
                qe = Re => {
                    const le = Re.getFullYear(),
                        Ce = String(Re.getMonth() + 1).padStart(2, "0"),
                        _e = String(Re.getDate()).padStart(2, "0"),
                        Ne = String(Re.getHours()).padStart(2, "0"),
                        Fe = String(Re.getMinutes()).padStart(2, "0");
                    return `${le}-${Ce}-${_e}T${Ne}:${Fe}`
                };
            L(qe(Ae)), Y(qe(be)), K(Pe)
        },
        Z = () => {
            if (!O || !F && !H) {
                E({
                    type: "error",
                    message: "Please select start and end time (or duration)."
                });
                return
            }
            const re = {
                startTime: new Date(O).toISOString()
            };
            F && (re.endTime = new Date(F).toISOString()), !F && H && (re.durationMinutes = H), typeof z == "number" && (re.prizeAmount = z), typeof V == "number" && (re.maxEntries = V), e.addGoldenHourEvent(re, Ee => {
                Ee.success ? (E({
                    type: "success",
                    message: "Golden Hour event added successfully!"
                }), s.getGoldenHourState(), L(""), Y(""), K(60), U(""), W(""), X(!1)) : E({
                    type: "error",
                    message: Ee.message || "Failed to add Golden Hour event"
                })
            })
        },
        se = re => {
            const Ee = r.activeEventId === re;
            let Ae;
            Ee ? Ae = "Are you sure you want to FORCE END this active Golden Hour event? This will end the event immediately. This cannot be undone." : Ae = "Are you sure you want to delete this Golden Hour event? This cannot be undone.", confirm(Ae) && (Ee ? e.forceEndGoldenHourEvent({
                eventId: re
            }, Pe => {
                Pe.success ? E({
                    type: "success",
                    message: "Golden Hour event force-ended successfully!"
                }) : E({
                    type: "error",
                    message: Pe.message || "Failed to force end event"
                })
            }) : e.deleteGoldenHourEvent({
                eventId: re
            }, Pe => {
                Pe.success ? E({
                    type: "success",
                    message: "Golden Hour event deleted successfully!"
                }) : E({
                    type: "error",
                    message: Pe.message || "Failed to delete event"
                })
            }))
        },
        G = () => {
            if (!u || !f) {
                E({
                    type: "error",
                    message: "Please select both start and end times"
                });
                return
            }
            const re = new Date(u).toISOString(),
                Ee = new Date(f).toISOString();
            if (new Date(re) >= new Date(Ee)) {
                E({
                    type: "error",
                    message: "End time must be after start time"
                });
                return
            }
            const Ae = {
                    startTime: re,
                    endTime: Ee,
                    prepTimeMinutes: y,
                    startingBalance: S
                },
                Pe = {};
            for (const [be, qe] of Object.entries(C)) {
                const Re = parseFloat(qe);
                !isNaN(Re) && Re >= 0 && (Pe[parseInt(be)] = Re)
            }
            Object.keys(Pe).length > 0 && (Ae.customPrizes = Pe), e.addRugRoyaleEvent(Ae, be => {
                be.success ? (E({
                    type: "success",
                    message: "Rug Royale event added successfully!"
                }), h(""), p(""), x(30), v(1e3), w({
                    1: "",
                    2: "",
                    3: "",
                    4: "",
                    5: "",
                    6: "",
                    7: "",
                    8: "",
                    9: "",
                    10: ""
                }), d(!1)) : E({
                    type: "error",
                    message: be.message || "Failed to add Rug Royale event"
                })
            })
        },
        ie = re => {
            const Ee = a.activeEventId === re,
                Ae = re == null ? void 0 : re.startsWith("admin-");
            let Pe;
            Ee ? Pe = "Are you sure you want to FORCE END this active Rug Royale event? This will end the event immediately WITHOUT awarding prizes. This cannot be undone." : Ae ? Pe = "Are you sure you want to delete this Rug Royale event? This cannot be undone." : Pe = "Are you sure you want to remove this event from the schedule? This cannot be undone.", confirm(Pe) && (Ee ? e.forceEndRugRoyaleEvent({
                eventId: re
            }, be => {
                be.success ? E({
                    type: "success",
                    message: "Event force-ended successfully!"
                }) : E({
                    type: "error",
                    message: be.message || "Failed to force end event"
                })
            }) : e.deleteRugRoyaleEvent({
                eventId: re
            }, be => {
                be.success ? E({
                    type: "success",
                    message: "Event deleted successfully!"
                }) : E({
                    type: "error",
                    message: be.message || "Failed to delete event"
                })
            }))
        },
        ne = re => {
            if (a.events.find(Ae => Ae.id === re)) {
                A(re);
                const Ae = {};
                for (let Pe = 1; Pe <= 10; Pe++) Ae[Pe] = "";
                k(Ae)
            }
        },
        ee = re => {
            const Ee = {};
            for (const [Ae, Pe] of Object.entries(_)) {
                const be = parseFloat(Pe);
                !isNaN(be) && be >= 0 && (Ee[parseInt(Ae)] = be)
            }
            e.updateRugRoyaleEventPrizes({
                eventId: re,
                prizes: Ee
            }, Ae => {
                Ae.success ? (E({
                    type: "success",
                    message: "Prizes updated successfully!"
                }), A(null), k({})) : E({
                    type: "error",
                    message: Ae.message || "Failed to update prizes"
                })
            })
        },
        me = () => {
            A(null), k({})
        };
    m.useEffect(() => {
        if (D) {
            const re = setTimeout(() => E(null), 5e3);
            return () => clearTimeout(re)
        }
    }, [D]);
    const fe = a.events.filter(re => {
            var be;
            const Ee = new Date,
                Ae = new Date(Ee.getTime() - 24 * 60 * 60 * 1e3),
                Pe = new Date(re.endTime);
            return ((be = re.id) == null ? void 0 : be.startsWith("admin-")) || Pe > Ae || !isNaN(Pe.getTime())
        }).sort((re, Ee) => new Date(re.startTime).getTime() - new Date(Ee.startTime).getTime()),
        ge = (r.events || []).filter(re => {
            var be;
            const Ee = new Date,
                Ae = new Date(Ee.getTime() - 24 * 60 * 60 * 1e3),
                Pe = new Date(re.endTime);
            return ((be = re.id) == null ? void 0 : be.startsWith("admin-")) || Pe > Ae || !isNaN(Pe.getTime())
        }).sort((re, Ee) => new Date(re.startTime).getTime() - new Date(Ee.startTime).getTime());
    return t.jsxs(T, {
        sx: {
            p: 2
        },
        children: [D && t.jsx(it, {
            severity: D.type,
            sx: {
                mb: 2
            },
            onClose: () => E(null),
            children: D.message
        }), t.jsxs(T, {
            sx: {
                display: "flex",
                justifyContent: "space-between",
                alignItems: "center",
                mb: 3
            },
            children: [t.jsx($, {
                variant: "h5",
                sx: {
                    display: "flex",
                    alignItems: "center",
                    gap: 1
                },
                children: "🏆 Rug Royale Admin Controls"
            }), t.jsx(Te, {
                variant: l ? "outlined" : "contained",
                color: l ? "error" : "success",
                onClick: () => d(!l),
                sx: {
                    fontWeight: "bold"
                },
                children: l ? "✕ Cancel" : "+ New Event"
            })]
        }), t.jsx(yr, {
            sx: {
                mb: 3
            },
            children: t.jsxs(Hc, {
                children: [t.jsx($, {
                    variant: "h6",
                    sx: {
                        mb: 2,
                        display: "flex",
                        alignItems: "center",
                        gap: 1
                    },
                    children: "📊 Current Status"
                }), t.jsxs(T, {
                    sx: {
                        display: "flex",
                        gap: 2,
                        flexWrap: "wrap"
                    },
                    children: [t.jsxs(T, {
                        sx: {
                            flex: "1 1 300px",
                            minWidth: "150px"
                        },
                        children: [t.jsx($, {
                            variant: "caption",
                            color: "text.secondary",
                            children: "Event Status"
                        }), t.jsx($, {
                            variant: "body1",
                            sx: {
                                fontWeight: "bold",
                                color: a.status === "ACTIVE" ? "success.main" : a.status === "PREP" ? "warning.main" : a.status === "ENDING" ? "error.main" : "text.secondary"
                            },
                            children: a.status || "INACTIVE"
                        })]
                    }), t.jsxs(T, {
                        sx: {
                            flex: "1 1 300px",
                            minWidth: "150px"
                        },
                        children: [t.jsx($, {
                            variant: "caption",
                            color: "text.secondary",
                            children: "Active Event"
                        }), t.jsx($, {
                            variant: "body1",
                            sx: {
                                fontWeight: "bold"
                            },
                            children: ((ke = a.currentEvent) == null ? void 0 : ke.id) || "None"
                        })]
                    }), t.jsxs(T, {
                        sx: {
                            flex: "1 1 300px",
                            minWidth: "150px"
                        },
                        children: [t.jsx($, {
                            variant: "caption",
                            color: "text.secondary",
                            children: "Participants"
                        }), t.jsx($, {
                            variant: "body1",
                            sx: {
                                fontWeight: "bold"
                            },
                            children: ((je = a.leaderboard) == null ? void 0 : je.length) || 0
                        })]
                    })]
                })]
            })
        }), t.jsx(yr, {
            sx: {
                mb: 3
            },
            children: t.jsxs(Hc, {
                children: [t.jsxs(T, {
                    sx: {
                        display: "flex",
                        justifyContent: "space-between",
                        alignItems: "center",
                        mb: 2
                    },
                    children: [t.jsx($, {
                        variant: "h6",
                        sx: {
                            display: "flex",
                            alignItems: "center",
                            gap: 1
                        },
                        children: "🌟 Golden Hour Admin Controls"
                    }), t.jsx(Te, {
                        variant: B ? "outlined" : "contained",
                        color: B ? "error" : "success",
                        onClick: () => X(!B),
                        sx: {
                            fontWeight: "bold"
                        },
                        children: B ? "✕ Cancel" : "+ New Golden Hour"
                    })]
                }), t.jsxs(Mh, { in: B,
                    children: [t.jsxs(T, {
                        sx: {
                            mb: 2
                        },
                        children: [t.jsx($, {
                            variant: "caption",
                            color: "text.secondary",
                            sx: {
                                display: "block",
                                mb: 1
                            },
                            children: "Quick Schedule"
                        }), t.jsxs(T, {
                            sx: {
                                display: "flex",
                                gap: 1,
                                flexWrap: "wrap"
                            },
                            children: [t.jsx(Te, {
                                size: "small",
                                variant: "outlined",
                                onClick: () => q(1),
                                children: "🚀 In 1 minute"
                            }), t.jsx(Te, {
                                size: "small",
                                variant: "outlined",
                                onClick: () => q(60),
                                children: "⚡ In 1 hour"
                            }), t.jsx(Te, {
                                size: "small",
                                variant: "outlined",
                                onClick: () => q(1440),
                                children: "📅 Tomorrow"
                            })]
                        })]
                    }), t.jsxs(T, {
                        sx: {
                            display: "flex",
                            gap: 2,
                            mb: 2,
                            flexWrap: "wrap"
                        },
                        children: [t.jsx(T, {
                            sx: {
                                flex: "1 1 300px",
                                minWidth: "200px"
                            },
                            children: t.jsx(et, {
                                fullWidth: !0,
                                label: "Start Time (Local Time)",
                                type: "datetime-local",
                                value: O,
                                onChange: re => L(re.target.value),
                                InputLabelProps: {
                                    shrink: !0
                                },
                                helperText: O ? P(O) : "",
                                size: "small"
                            })
                        }), t.jsx(T, {
                            sx: {
                                flex: "1 1 300px",
                                minWidth: "200px"
                            },
                            children: t.jsx(et, {
                                fullWidth: !0,
                                label: "End Time (Local Time)",
                                type: "datetime-local",
                                value: F,
                                onChange: re => Y(re.target.value),
                                InputLabelProps: {
                                    shrink: !0
                                },
                                helperText: F ? P(F) : "",
                                size: "small"
                            })
                        }), t.jsx(T, {
                            sx: {
                                flex: "1 1 200px",
                                minWidth: "150px"
                            },
                            children: t.jsx(et, {
                                fullWidth: !0,
                                label: "Or Duration (minutes)",
                                type: "number",
                                value: H,
                                onChange: re => K(parseInt(re.target.value) || 60),
                                inputProps: {
                                    min: 1,
                                    max: 360
                                },
                                size: "small"
                            })
                        })]
                    }), t.jsxs(T, {
                        sx: {
                            display: "flex",
                            gap: 2,
                            mb: 2,
                            flexWrap: "wrap"
                        },
                        children: [t.jsx(T, {
                            sx: {
                                flex: "1 1 200px",
                                minWidth: "150px"
                            },
                            children: t.jsx(et, {
                                fullWidth: !0,
                                label: "Prize Amount (SOL)",
                                type: "number",
                                inputProps: {
                                    min: 0,
                                    step: "0.001"
                                },
                                value: z,
                                onChange: re => U(re.target.value === "" ? "" : parseFloat(re.target.value)),
                                size: "small"
                            })
                        }), t.jsx(T, {
                            sx: {
                                flex: "1 1 200px",
                                minWidth: "150px"
                            },
                            children: t.jsx(et, {
                                fullWidth: !0,
                                label: "Max Entries",
                                type: "number",
                                inputProps: {
                                    min: 1,
                                    max: 1e4
                                },
                                value: V,
                                onChange: re => W(re.target.value === "" ? "" : parseInt(re.target.value)),
                                size: "small"
                            })
                        })]
                    }), t.jsx(Te, {
                        variant: "contained",
                        color: "success",
                        onClick: Z,
                        disabled: !O || !F && !H,
                        fullWidth: !0,
                        sx: {
                            fontWeight: "bold"
                        },
                        children: "🌟 Create Golden Hour Event"
                    })]
                }), t.jsx(vx, {
                    sx: {
                        my: 2
                    }
                }), t.jsxs($, {
                    variant: "subtitle1",
                    sx: {
                        mb: 1,
                        display: "flex",
                        alignItems: "center",
                        gap: 1
                    },
                    children: ["📅 Golden Hour Scheduled Events (", ge.length, " events)"]
                }), ge.length > 0 ? t.jsx(T, {
                    sx: {
                        maxHeight: "400px",
                        overflowY: "auto"
                    },
                    children: ge.map((re, Ee) => {
                        var Ae, Pe, be;
                        return t.jsxs(yr, {
                            variant: "outlined",
                            sx: {
                                mb: 1,
                                p: 1
                            },
                            children: [t.jsxs(T, {
                                sx: {
                                    display: "flex",
                                    justifyContent: "space-between",
                                    alignItems: "flex-start",
                                    mb: 1
                                },
                                children: [t.jsxs(T, {
                                    sx: {
                                        display: "flex",
                                        alignItems: "center",
                                        gap: 1
                                    },
                                    children: [t.jsxs($, {
                                        variant: "subtitle2",
                                        sx: {
                                            fontWeight: "bold"
                                        },
                                        children: ["Event #", Ee + 1]
                                    }), t.jsx(Qn, {
                                        label: (Ae = re.id) != null && Ae.startsWith("admin-") ? "Admin" : "System",
                                        size: "small",
                                        color: (Pe = re.id) != null && Pe.startsWith("admin-") ? "primary" : "default"
                                    })]
                                }), t.jsx(T, {
                                    sx: {
                                        display: "flex",
                                        alignItems: "center",
                                        gap: 1
                                    },
                                    children: (((be = re.id) == null ? void 0 : be.startsWith("admin-")) || r.activeEventId === re.id) && t.jsx(Te, {
                                        size: "small",
                                        variant: "outlined",
                                        color: r.activeEventId === re.id ? "warning" : "error",
                                        onClick: () => se(re.id),
                                        children: r.activeEventId === re.id ? "⏹️ Force End" : "🗑️ Delete"
                                    })
                                })]
                            }), t.jsxs($, {
                                variant: "caption",
                                sx: {
                                    display: "block"
                                },
                                children: [t.jsx("strong", {
                                    children: "Start:"
                                }), " ", new Date(re.startTime).toLocaleString(), t.jsxs($, {
                                    component: "span",
                                    color: "warning.main",
                                    sx: {
                                        ml: 1
                                    },
                                    children: ["(", P(re.startTime), ")"]
                                })]
                            }), t.jsxs($, {
                                variant: "caption",
                                sx: {
                                    display: "block",
                                    mb: 1
                                },
                                children: [t.jsx("strong", {
                                    children: "End:"
                                }), " ", new Date(re.endTime).toLocaleString(), t.jsxs($, {
                                    component: "span",
                                    color: "warning.main",
                                    sx: {
                                        ml: 1
                                    },
                                    children: ["(", P(re.endTime), ")"]
                                })]
                            }), t.jsxs($, {
                                variant: "caption",
                                color: "text.secondary",
                                sx: {
                                    display: "block",
                                    mb: 1
                                },
                                children: [t.jsx("strong", {
                                    children: "Settings:"
                                }), " duration ", re.durationMinutes ? ? Math.round((new Date(re.endTime).getTime() - new Date(re.startTime).getTime()) / 6e4), "m, prize ", re.prizeAmount ? ? "default", " SOL, max entries ", re.maxEntries ? ? "default"]
                            })]
                        }, re.id || Ee)
                    })
                }) : t.jsx($, {
                    variant: "body2",
                    color: "text.secondary",
                    sx: {
                        textAlign: "center",
                        py: 2
                    },
                    children: "No scheduled Golden Hour events"
                })]
            })
        }), t.jsx(Mh, { in: l,
            children: t.jsx(yr, {
                sx: {
                    mb: 3
                },
                children: t.jsxs(Hc, {
                    children: [t.jsx($, {
                        variant: "h6",
                        sx: {
                            mb: 2,
                            display: "flex",
                            alignItems: "center",
                            gap: 1
                        },
                        children: "⚡ Create New Rug Royale Event"
                    }), t.jsxs(T, {
                        sx: {
                            mb: 2
                        },
                        children: [t.jsx($, {
                            variant: "caption",
                            color: "text.secondary",
                            sx: {
                                display: "block",
                                mb: 1
                            },
                            children: "Quick Schedule"
                        }), t.jsxs(T, {
                            sx: {
                                display: "flex",
                                gap: 1,
                                flexWrap: "wrap"
                            },
                            children: [t.jsx(Te, {
                                size: "small",
                                variant: "outlined",
                                onClick: () => I(1),
                                children: "🚀 In 1 minute"
                            }), t.jsx(Te, {
                                size: "small",
                                variant: "outlined",
                                onClick: () => I(60),
                                children: "⚡ In 1 hour"
                            }), t.jsx(Te, {
                                size: "small",
                                variant: "outlined",
                                onClick: () => I(1440),
                                children: "📅 Tomorrow"
                            })]
                        })]
                    }), t.jsxs(T, {
                        sx: {
                            display: "flex",
                            gap: 2,
                            mb: 2,
                            flexWrap: "wrap"
                        },
                        children: [t.jsx(T, {
                            sx: {
                                flex: "1 1 300px",
                                minWidth: "200px"
                            },
                            children: t.jsx(et, {
                                fullWidth: !0,
                                label: "Start Time (Local Time)",
                                type: "datetime-local",
                                value: u,
                                onChange: re => h(re.target.value),
                                InputLabelProps: {
                                    shrink: !0
                                },
                                helperText: u ? P(u) : "",
                                size: "small"
                            })
                        }), t.jsx(T, {
                            sx: {
                                flex: "1 1 300px",
                                minWidth: "200px"
                            },
                            children: t.jsx(et, {
                                fullWidth: !0,
                                label: "End Time (Local Time)",
                                type: "datetime-local",
                                value: f,
                                onChange: re => p(re.target.value),
                                InputLabelProps: {
                                    shrink: !0
                                },
                                helperText: f ? P(f) : "",
                                size: "small"
                            })
                        })]
                    }), t.jsxs(T, {
                        sx: {
                            display: "flex",
                            gap: 2,
                            mb: 2,
                            flexWrap: "wrap"
                        },
                        children: [t.jsx(T, {
                            sx: {
                                flex: "1 1 300px",
                                minWidth: "200px"
                            },
                            children: t.jsx(et, {
                                fullWidth: !0,
                                label: "Prep Time (minutes)",
                                type: "number",
                                value: y,
                                onChange: re => x(parseInt(re.target.value) || 30),
                                inputProps: {
                                    min: 5,
                                    max: 120
                                },
                                size: "small"
                            })
                        }), t.jsx(T, {
                            sx: {
                                flex: "1 1 300px",
                                minWidth: "200px"
                            },
                            children: t.jsx(et, {
                                fullWidth: !0,
                                label: "Starting Balance (FREE tokens)",
                                type: "number",
                                value: S,
                                onChange: re => v(parseInt(re.target.value) || 1e3),
                                inputProps: {
                                    min: 100,
                                    max: 1e4
                                },
                                size: "small"
                            })
                        })]
                    }), t.jsx($, {
                        variant: "subtitle2",
                        sx: {
                            mb: 1,
                            fontWeight: "bold"
                        },
                        children: "🏆 Prize Distribution (SOL) - Leave blank to use defaults"
                    }), t.jsx(T, {
                        sx: {
                            display: "grid",
                            gridTemplateColumns: "repeat(auto-fit, minmax(120px, 1fr))",
                            gap: 1,
                            mb: 2
                        },
                        children: [1, 2, 3, 4, 5, 6, 7, 8, 9, 10].map(re => t.jsx(et, {
                            fullWidth: !0,
                            label: `#${re} Prize`,
                            type: "number",
                            inputProps: {
                                min: 0,
                                step: "0.001"
                            },
                            placeholder: "Default",
                            value: C[re] || "",
                            onChange: Ee => w(Ae => ({ ...Ae,
                                [re]: Ee.target.value
                            })),
                            size: "small"
                        }, re))
                    }), u && f && t.jsxs(it, {
                        severity: "info",
                        sx: {
                            mb: 2
                        },
                        children: [t.jsxs($, {
                            variant: "body2",
                            children: [t.jsx("strong", {
                                children: "Preview:"
                            }), " Event duration: ", Math.round((new Date(f).getTime() - new Date(u).getTime()) / (1e3 * 60)), " minutes"]
                        }), t.jsxs($, {
                            variant: "caption",
                            children: ["Prep starts ", y, " minutes before event start • Starting balance: ", S, " FREE"]
                        })]
                    }), t.jsx(Te, {
                        variant: "contained",
                        color: "success",
                        onClick: G,
                        disabled: !u || !f,
                        fullWidth: !0,
                        sx: {
                            fontWeight: "bold"
                        },
                        children: "🚀 Create Rug Royale Event"
                    })]
                })
            })
        }), t.jsx(yr, {
            children: t.jsxs(Hc, {
                children: [t.jsxs($, {
                    variant: "h6",
                    sx: {
                        mb: 2,
                        display: "flex",
                        alignItems: "center",
                        gap: 1
                    },
                    children: ["📅 Scheduled Events (", fe.length, " events)"]
                }), fe.length > 0 ? t.jsx(T, {
                    sx: {
                        maxHeight: "400px",
                        overflowY: "auto"
                    },
                    children: fe.map((re, Ee) => {
                        var Ae, Pe, be, qe, Re;
                        return t.jsxs(yr, {
                            variant: "outlined",
                            sx: {
                                mb: 1,
                                p: 1
                            },
                            children: [t.jsxs(T, {
                                sx: {
                                    display: "flex",
                                    justifyContent: "space-between",
                                    alignItems: "flex-start",
                                    mb: 1
                                },
                                children: [t.jsxs(T, {
                                    sx: {
                                        display: "flex",
                                        alignItems: "center",
                                        gap: 1
                                    },
                                    children: [t.jsxs($, {
                                        variant: "subtitle2",
                                        sx: {
                                            fontWeight: "bold"
                                        },
                                        children: ["Event #", Ee + 1]
                                    }), t.jsx(Qn, {
                                        label: (Ae = re.id) != null && Ae.startsWith("admin-") ? "Admin" : (Pe = re.id) != null && Pe.startsWith("rugroyale-config-") ? "Config" : "System",
                                        size: "small",
                                        color: (be = re.id) != null && be.startsWith("admin-") ? "primary" : (qe = re.id) != null && qe.startsWith("rugroyale-config-") ? "success" : "default"
                                    })]
                                }), t.jsxs(T, {
                                    sx: {
                                        display: "flex",
                                        alignItems: "center",
                                        gap: 1
                                    },
                                    children: [t.jsx(Te, {
                                        size: "small",
                                        variant: "outlined",
                                        onClick: () => ne(re.id),
                                        children: "Edit Prizes"
                                    }), (((Re = re.id) == null ? void 0 : Re.startsWith("admin-")) || a.activeEventId === re.id) && t.jsx(Te, {
                                        size: "small",
                                        variant: "outlined",
                                        color: a.activeEventId === re.id ? "warning" : "error",
                                        onClick: () => ie(re.id),
                                        children: a.activeEventId === re.id ? "⏹️ Force End" : "🗑️ Delete"
                                    })]
                                })]
                            }), t.jsxs($, {
                                variant: "caption",
                                sx: {
                                    display: "block"
                                },
                                children: [t.jsx("strong", {
                                    children: "Start:"
                                }), " ", new Date(re.startTime).toLocaleString(), t.jsxs($, {
                                    component: "span",
                                    color: "warning.main",
                                    sx: {
                                        ml: 1
                                    },
                                    children: ["(", P(re.startTime), ")"]
                                })]
                            }), t.jsxs($, {
                                variant: "caption",
                                sx: {
                                    display: "block",
                                    mb: 1
                                },
                                children: [t.jsx("strong", {
                                    children: "End:"
                                }), " ", new Date(re.endTime).toLocaleString(), t.jsxs($, {
                                    component: "span",
                                    color: "warning.main",
                                    sx: {
                                        ml: 1
                                    },
                                    children: ["(", P(re.endTime), ")"]
                                })]
                            }), t.jsxs($, {
                                variant: "caption",
                                color: "text.secondary",
                                sx: {
                                    display: "block",
                                    mb: 1
                                },
                                children: [t.jsx("strong", {
                                    children: "Settings:"
                                }), " ", re.prepTimeMinutes || 30, "min prep, ", (re == null ? void 0 : re.startingBalance) || 1e3, " FREE starting balance"]
                            }), t.jsxs(Mh, { in: j === re.id,
                                children: [t.jsx(vx, {
                                    sx: {
                                        my: 1
                                    }
                                }), t.jsx($, {
                                    variant: "caption",
                                    sx: {
                                        display: "block",
                                        mb: 1,
                                        fontWeight: "bold"
                                    },
                                    children: "Edit Prizes (SOL):"
                                }), t.jsx(T, {
                                    sx: {
                                        display: "grid",
                                        gridTemplateColumns: "repeat(auto-fit, minmax(120px, 1fr))",
                                        gap: 1,
                                        mb: 1
                                    },
                                    children: [1, 2, 3, 4, 5, 6, 7, 8, 9, 10].map(le => t.jsx(et, {
                                        fullWidth: !0,
                                        label: `#${le}`,
                                        type: "number",
                                        inputProps: {
                                            min: 0,
                                            step: "0.001"
                                        },
                                        placeholder: "Default",
                                        value: _[le] || "",
                                        onChange: Ce => k(_e => ({ ..._e,
                                            [le]: Ce.target.value
                                        })),
                                        size: "small"
                                    }, le))
                                }), t.jsxs(T, {
                                    sx: {
                                        display: "flex",
                                        gap: 1
                                    },
                                    children: [t.jsx(Te, {
                                        size: "small",
                                        variant: "contained",
                                        color: "success",
                                        onClick: () => ee(re.id),
                                        children: "Save"
                                    }), t.jsx(Te, {
                                        size: "small",
                                        variant: "outlined",
                                        onClick: me,
                                        children: "Cancel"
                                    })]
                                })]
                            })]
                        }, re.id || Ee)
                    })
                }) : t.jsx($, {
                    variant: "body2",
                    color: "text.secondary",
                    sx: {
                        textAlign: "center",
                        py: 4
                    },
                    children: "No scheduled events"
                })]
            })
        })]
    })
};

function i0({
    result: e
}) {
    return e ? t.jsx(it, {
        severity: e.success ? "success" : "error",
        sx: {
            marginTop: 2
        },
        children: e.success ? e.message : e.error
    }) : null
}

function Gw() {
    const e = nn(),
        [s, a] = m.useState(!1),
        [r, l] = m.useState(!1),
        [d, u] = m.useState(!1),
        [h, f] = m.useState(null),
        [p, y] = m.useState(!1),
        [x, S] = m.useState(null),
        v = () => {
            f(null), u(!0), e.flushRedis(j => {
                f(j), u(!1)
            })
        },
        C = () => {
            S(null), y(!0), e.clearLeaderboards(j => {
                S(j), y(!1)
            })
        },
        w = () => {
            f(null), S(null)
        };
    return t.jsxs(T, {
        children: [t.jsxs(T, {
            sx: {
                marginBottom: 3
            },
            children: [t.jsx($, {
                variant: "h4",
                sx: {
                    color: "primary.main",
                    fontWeight: "bold"
                },
                children: "System Management"
            }), t.jsx($, {
                sx: {
                    color: "text.secondary"
                },
                children: "Dangerous operations that affect the entire system"
            })]
        }), t.jsxs(Je, {
            sx: j => ({
                padding: j.spacing(3),
                marginBottom: j.spacing(3),
                backgroundColor: j.palette.background.paper,
                borderRadius: j.spacing(1)
            }),
            children: [t.jsxs(T, {
                display: "flex",
                alignItems: "center",
                gap: 2,
                marginBottom: 2,
                children: [t.jsx($, {
                    variant: "h5",
                    sx: {
                        color: "primary.main",
                        fontWeight: "bold"
                    },
                    children: "Flush Redis Database"
                }), t.jsx(Qn, {
                    label: "⚠️ DANGER",
                    color: "error",
                    size: "small",
                    sx: {
                        fontWeight: "bold"
                    }
                })]
            }), t.jsxs(T, {
                children: [t.jsxs(Je, {
                    sx: j => ({
                        padding: j.spacing(2),
                        marginBottom: j.spacing(2),
                        backgroundColor: j.palette.warning.light,
                        borderRadius: j.spacing(1)
                    }),
                    children: [t.jsx($, {
                        sx: {
                            color: "warning.contrastText",
                            fontWeight: "bold",
                            marginBottom: 1
                        },
                        children: "WARNING: This will clear all data in the Redis cache, including:"
                    }), t.jsxs(T, {
                        component: "ul",
                        sx: {
                            color: "warning.contrastText",
                            margin: 0,
                            paddingLeft: 2
                        },
                        children: [t.jsx("li", {
                            children: "Active player sessions"
                        }), t.jsx("li", {
                            children: "Cached game state"
                        }), t.jsx("li", {
                            children: "Any other temporary data"
                        })]
                    }), t.jsx($, {
                        sx: {
                            color: "warning.contrastText",
                            marginTop: 1
                        },
                        children: "This should only be used as a last resort to fix serious issues. Players will need to refresh their browsers after this operation."
                    })]
                }), s ? t.jsx(ff, {
                    isOpen: s,
                    title: "Confirm Redis Database Flush",
                    message: "Are you absolutely sure you want to flush the entire Redis database? This action cannot be undone and will affect all active players.",
                    onConfirm: () => {
                        v(), a(!1)
                    },
                    onCancel: () => a(!1),
                    isLoading: d,
                    confirmText: "Yes, Flush Database",
                    loadingText: "Flushing..."
                }) : t.jsx(Te, {
                    onClick: () => a(!0),
                    variant: "contained",
                    color: "error",
                    disabled: d,
                    sx: {
                        fontWeight: "bold"
                    },
                    children: "Flush Redis Database"
                }), t.jsx(i0, {
                    result: h
                })]
            })]
        }), t.jsxs(Je, {
            sx: j => ({
                padding: j.spacing(3),
                marginBottom: j.spacing(3),
                backgroundColor: j.palette.background.paper,
                borderRadius: j.spacing(1)
            }),
            children: [t.jsxs(T, {
                display: "flex",
                alignItems: "center",
                gap: 2,
                marginBottom: 2,
                children: [t.jsx($, {
                    variant: "h5",
                    sx: {
                        color: "primary.main",
                        fontWeight: "bold"
                    },
                    children: "Clear PNL Leaderboards"
                }), t.jsx(Qn, {
                    label: "⚠️ DANGER",
                    color: "error",
                    size: "small",
                    sx: {
                        fontWeight: "bold"
                    }
                })]
            }), t.jsxs(T, {
                children: [t.jsxs(Je, {
                    sx: j => ({
                        padding: j.spacing(2),
                        marginBottom: j.spacing(2),
                        backgroundColor: j.palette.warning.light,
                        borderRadius: j.spacing(1)
                    }),
                    children: [t.jsx($, {
                        sx: {
                            color: "warning.contrastText",
                            fontWeight: "bold",
                            marginBottom: 1
                        },
                        children: "WARNING: This will clear all PNL leaderboard data, including:"
                    }), t.jsxs(T, {
                        component: "ul",
                        sx: {
                            color: "warning.contrastText",
                            margin: 0,
                            paddingLeft: 2
                        },
                        children: [t.jsx("li", {
                            children: "All time periods (1d, 7d, 30d)"
                        }), t.jsx("li", {
                            children: "All player rankings"
                        }), t.jsx("li", {
                            children: "Historical leaderboard data"
                        })]
                    }), t.jsx($, {
                        sx: {
                            color: "warning.contrastText",
                            marginTop: 1
                        },
                        children: "This action cannot be undone and will reset all player rankings permanently."
                    })]
                }), r ? t.jsx(ff, {
                    isOpen: r,
                    title: "Confirm Leaderboard Clearing",
                    message: "Are you absolutely sure you want to clear all PNL leaderboards? This will reset all player rankings and cannot be undone.",
                    onConfirm: () => {
                        C(), l(!1)
                    },
                    onCancel: () => l(!1),
                    isLoading: p,
                    confirmText: "Yes, Clear Leaderboards",
                    loadingText: "Clearing..."
                }) : t.jsx(Te, {
                    onClick: () => l(!0),
                    variant: "contained",
                    color: "error",
                    disabled: p,
                    sx: {
                        fontWeight: "bold"
                    },
                    children: "Clear PNL Leaderboards"
                }), t.jsx(i0, {
                    result: x
                })]
            })]
        }), (h || x) && t.jsx(Je, {
            sx: j => ({
                padding: j.spacing(2),
                backgroundColor: j.palette.background.paper,
                borderRadius: j.spacing(1)
            }),
            children: t.jsx(Te, {
                onClick: w,
                variant: "outlined",
                sx: {
                    fontWeight: "bold"
                },
                children: "Clear Results"
            })
        })]
    })
}

function Yw() {
    var j, A, _, k, D, E, P, I, B, X, O, L, F, Y, H, K, z;
    const e = bt(),
        s = nn(),
        a = Pa(),
        r = Se(yt.selectAdminStates),
        l = Se(yt.selectEventCountdown),
        d = Se(yt.selectBattleEventState);
    m.useEffect(() => {
        console.log("[ADMIN] Event state changed:", {
            eventCountdown: l,
            battleEventState: d
        })
    }, [l, d]);
    const [u, h] = m.useState({
        states: !1,
        create: !1,
        join: !1,
        deleteAll: !1
    });
    m.useEffect(() => (h(U => ({ ...U,
        states: !0
    })), console.log("[ADMIN] Joining battles room for event updates..."), a.joinBattlesRoom(() => {}), a.getBattleState(), s.getBattleAdminControlStates(() => {
        h(U => ({ ...U,
            states: !1
        }))
    }), () => {
        console.log("[ADMIN] Leaving battles room..."), a.leaveBattlesRoom(() => {})
    }), [e]), m.useEffect(() => {
        h(U => ({ ...U,
            create: !1
        }))
    }, [r.lobbyCreationDisabled]), m.useEffect(() => {
        h(U => ({ ...U,
            join: !1
        }))
    }, [r.lobbyJoiningDisabled]), m.useEffect(() => {
        h(U => ({ ...U,
            states: !1
        }))
    }, [r]);
    const f = () => {
            h(V => ({ ...V,
                create: !0
            })), e(Le.setAdminStates({
                lobbyCreationDisabled: !r.lobbyCreationDisabled
            })), (r.lobbyCreationDisabled ? s.enableBattleLobbyCreation : s.disableBattleLobbyCreation)(() => {
                s.getBattleAdminControlStates(() => h(V => ({ ...V,
                    create: !1
                })))
            })
        },
        p = () => {
            h(U => ({ ...U,
                join: !0
            })), e(Le.setAdminStates({
                lobbyJoiningDisabled: !r.lobbyJoiningDisabled
            })), s.setBattleLobbyJoiningDisabled(!r.lobbyJoiningDisabled, () => {
                s.getBattleAdminControlStates(() => h(U => ({ ...U,
                    join: !1
                })))
            })
        },
        y = () => {
            h(U => ({ ...U,
                deleteAll: !0
            })), s.deleteAllBattleLobbies(() => h(U => ({ ...U,
                deleteAll: !1
            })))
        },
        [x, S] = m.useState({
            startTime: "",
            endTime: "",
            prepTimeMinutes: 30,
            prizes: "1:5,2:3,3:1",
            players: 4,
            rounds: 3,
            wager: 5
        }),
        v = U => {
            const V = new Date;
            return V.setMinutes(V.getMinutes() + U), V.toISOString().slice(0, -5) + "Z"
        },
        C = () => {
            if (!x.startTime || !x.endTime) {
                alert("Please fill in both start and end times");
                return
            }
            try {
                new Date(x.startTime), new Date(x.endTime)
            } catch {
                alert("Invalid time format. Use ISO format like: 2025-01-20T15:30:00Z");
                return
            }
            const U = x.prizes ? Object.fromEntries(x.prizes.split(",").map(V => V.trim()).filter(Boolean).map(V => {
                const [W, q] = V.split(":").map(Z => Z.trim());
                return [Number(W), Number(q)]
            })) : void 0;
            s.addBattleEvent({
                startTime: x.startTime,
                endTime: x.endTime,
                prepTimeMinutes: x.prepTimeMinutes || void 0,
                customPrizes: U,
                lobbySettings: {
                    players: x.players,
                    rounds: x.rounds,
                    wager: x.wager
                }
            }, () => {
                s.getBattleAdminControlStates(() => {
                    S({
                        startTime: "",
                        endTime: "",
                        prepTimeMinutes: 30,
                        prizes: "1:5,2:3,3:1",
                        players: 4,
                        rounds: 3,
                        wager: 5
                    })
                })
            })
        },
        w = U => {
            U && s.deleteBattleEvent({
                eventId: U
            }, () => {
                s.getBattleAdminControlStates(() => {})
            })
        };
    return t.jsxs(T, {
        children: [t.jsxs(T, {
            sx: {
                mb: 3
            },
            children: [t.jsx($, {
                variant: "h4",
                sx: {
                    color: "primary.main",
                    fontWeight: "bold"
                },
                children: "Battles Controls"
            }), t.jsx($, {
                sx: {
                    color: "text.secondary"
                },
                children: "Manage global battles settings like lobby creation and joining."
            })]
        }), t.jsxs(Je, {
            sx: U => ({
                p: U.spacing(3),
                mb: U.spacing(2)
            }),
            children: [t.jsx($, {
                variant: "h6",
                sx: {
                    mb: 2
                },
                children: "Global Toggles"
            }), t.jsxs(Yn, {
                direction: "column",
                spacing: 2,
                children: [t.jsx(id, {
                    control: t.jsx(Sx, {
                        checked: r.lobbyCreationDisabled,
                        onChange: f
                    }),
                    label: r.lobbyCreationDisabled ? "Lobby Creation: Disabled" : "Lobby Creation: Enabled"
                }), t.jsx(id, {
                    control: t.jsx(Sx, {
                        checked: r.lobbyJoiningDisabled,
                        onChange: p
                    }),
                    label: r.lobbyJoiningDisabled ? "Lobby Joining: Disabled" : "Lobby Joining: Enabled"
                })]
            })]
        }), t.jsxs(Je, {
            sx: U => ({
                p: U.spacing(3)
            }),
            children: [t.jsx($, {
                variant: "h6",
                sx: {
                    mb: 2
                },
                children: "Maintenance"
            }), t.jsxs(Yn, {
                direction: {
                    xs: "column",
                    sm: "row"
                },
                spacing: 2,
                children: [t.jsx(Te, {
                    variant: "outlined",
                    color: "warning",
                    onClick: y,
                    disabled: u.deleteAll,
                    children: "Delete All Open Lobbies"
                }), t.jsx(Te, {
                    variant: "text",
                    onClick: () => {
                        h(U => ({ ...U,
                            states: !0
                        })), s.getBattleAdminControlStates(() => h(U => ({ ...U,
                            states: !1
                        })))
                    },
                    disabled: u.states,
                    children: "Refresh States"
                })]
            })]
        }), t.jsxs(Je, {
            sx: U => ({
                p: U.spacing(3),
                mt: U.spacing(2)
            }),
            children: [t.jsx($, {
                variant: "h6",
                sx: {
                    mb: 2
                },
                children: "Battle Events"
            }), t.jsxs(T, {
                sx: {
                    mb: 3,
                    p: 2,
                    backgroundColor: "rgba(25, 118, 210, 0.1)",
                    borderRadius: 2
                },
                children: [t.jsx($, {
                    variant: "body2",
                    sx: {
                        fontWeight: "bold",
                        mb: 1
                    },
                    children: "Quick Setup Guide:"
                }), t.jsxs($, {
                    variant: "body2",
                    sx: {
                        mb: 1
                    },
                    children: ["• ", t.jsx("strong", {
                        children: "Time Format:"
                    }), " Use ISO format like: ", v(5)]
                }), t.jsxs($, {
                    variant: "body2",
                    sx: {
                        mb: 1
                    },
                    children: ["• ", t.jsx("strong", {
                        children: "Prize Format:"
                    }), " rank:amount pairs like: 1:5,2:3,3:1 (1st=5 SOL, 2nd=3 SOL, 3rd=1 SOL)"]
                }), t.jsxs($, {
                    variant: "body2",
                    children: ["• ", t.jsx("strong", {
                        children: "Event IDs:"
                    }), " Auto-generated when you create events (like admin-event-1234567890)"]
                })]
            }), t.jsxs(T, {
                sx: {
                    mb: 2
                },
                children: [t.jsx($, {
                    variant: "body2",
                    sx: {
                        mb: 1,
                        fontWeight: "bold"
                    },
                    children: "Quick Time Fill:"
                }), t.jsxs(Yn, {
                    direction: "row",
                    spacing: 1,
                    flexWrap: "wrap",
                    children: [t.jsx(Te, {
                        size: "small",
                        variant: "outlined",
                        onClick: () => S({ ...x,
                            startTime: v(2)
                        }),
                        children: "Start in 2min"
                    }), t.jsx(Te, {
                        size: "small",
                        variant: "outlined",
                        onClick: () => S({ ...x,
                            startTime: v(5)
                        }),
                        children: "Start in 5min"
                    }), t.jsx(Te, {
                        size: "small",
                        variant: "outlined",
                        onClick: () => S({ ...x,
                            startTime: v(10)
                        }),
                        children: "Start in 10min"
                    }), t.jsx(Te, {
                        size: "small",
                        variant: "outlined",
                        onClick: () => {
                            const U = v(5),
                                V = new Date(U);
                            V.setMinutes(V.getMinutes() + 15), S({ ...x,
                                startTime: U,
                                endTime: V.toISOString().slice(0, -5) + "Z"
                            })
                        },
                        children: "5min start + 15min duration"
                    })]
                })]
            }), t.jsxs(Yn, {
                spacing: 2,
                children: [t.jsxs(Yn, {
                    direction: {
                        xs: "column",
                        sm: "row"
                    },
                    spacing: 2,
                    children: [t.jsx(et, {
                        label: "Start Time",
                        placeholder: `e.g., ${v(5)}`,
                        value: x.startTime,
                        onChange: U => S({ ...x,
                            startTime: U.target.value
                        }),
                        fullWidth: !0,
                        helperText: "ISO format: YYYY-MM-DDTHH:MM:SSZ"
                    }), t.jsx(et, {
                        label: "End Time",
                        placeholder: `e.g., ${v(20)}`,
                        value: x.endTime,
                        onChange: U => S({ ...x,
                            endTime: U.target.value
                        }),
                        fullWidth: !0,
                        helperText: "ISO format: YYYY-MM-DDTHH:MM:SSZ"
                    })]
                }), t.jsxs(Yn, {
                    direction: {
                        xs: "column",
                        sm: "row"
                    },
                    spacing: 2,
                    children: [t.jsx(et, {
                        label: "Prep Time (minutes)",
                        type: "number",
                        value: x.prepTimeMinutes,
                        onChange: U => S({ ...x,
                            prepTimeMinutes: Number(U.target.value)
                        }),
                        helperText: "How long before start to begin prep"
                    }), t.jsx(et, {
                        label: "Prizes (SOL rewards)",
                        value: x.prizes,
                        onChange: U => S({ ...x,
                            prizes: U.target.value
                        }),
                        fullWidth: !0,
                        helperText: "Format: 1:5,2:3,3:1 (rank:SOL_amount)"
                    })]
                }), t.jsxs(Yn, {
                    direction: {
                        xs: "column",
                        sm: "row"
                    },
                    spacing: 2,
                    children: [t.jsx(et, {
                        label: "Players per Lobby",
                        type: "number",
                        value: x.players,
                        onChange: U => S({ ...x,
                            players: Number(U.target.value)
                        }),
                        inputProps: {
                            min: 2,
                            max: 10
                        },
                        helperText: "2-10 players (default: 4)"
                    }), t.jsx(et, {
                        label: "Rounds per Battle",
                        type: "number",
                        value: x.rounds,
                        onChange: U => S({ ...x,
                            rounds: Number(U.target.value)
                        }),
                        inputProps: {
                            min: 1,
                            max: 5
                        },
                        helperText: "1-5 rounds (default: 3)"
                    }), t.jsx(et, {
                        label: "Wager Amount (FREE)",
                        type: "number",
                        value: x.wager,
                        onChange: U => S({ ...x,
                            wager: Number(U.target.value)
                        }),
                        inputProps: {
                            min: 1,
                            max: 50
                        },
                        helperText: "1-50 FREE tokens (default: 5)"
                    })]
                }), t.jsx(Yn, {
                    direction: {
                        xs: "column",
                        sm: "row"
                    },
                    spacing: 2,
                    children: t.jsx(Te, {
                        variant: "contained",
                        onClick: C,
                        size: "large",
                        children: "🚀 Create Battle Event"
                    })
                })]
            })]
        }), t.jsxs(Je, {
            sx: U => ({
                p: U.spacing(3),
                mt: U.spacing(2)
            }),
            children: [t.jsx($, {
                variant: "h6",
                sx: {
                    mb: 2
                },
                children: "📊 Event Status Monitor"
            }), l || d && d.status && d.status !== "INACTIVE" ? t.jsxs(T, {
                sx: {
                    mb: 2,
                    p: 2,
                    backgroundColor: "rgba(76, 175, 80, 0.1)",
                    borderRadius: 2
                },
                children: [t.jsxs($, {
                    variant: "body1",
                    sx: {
                        fontWeight: "bold",
                        mb: 2
                    },
                    children: ["Current Event Status: ", t.jsx("span", {
                        style: {
                            color: "#4CAF50"
                        },
                        children: ((j = l == null ? void 0 : l.phase) == null ? void 0 : j.toUpperCase()) || ((A = d == null ? void 0 : d.status) == null ? void 0 : A.toUpperCase()) || "ACTIVE"
                    })]
                }), t.jsxs(T, {
                    sx: {
                        display: "flex",
                        gap: 2,
                        flexWrap: "wrap",
                        mb: 2
                    },
                    children: [t.jsxs(T, {
                        sx: {
                            flex: "1 1 200px",
                            minWidth: "150px"
                        },
                        children: [t.jsx($, {
                            variant: "caption",
                            color: "text.secondary",
                            children: "Participants"
                        }), t.jsx($, {
                            variant: "body1",
                            sx: {
                                fontWeight: "bold"
                            },
                            children: (d == null ? void 0 : d.participantCount) || 0
                        })]
                    }), t.jsxs(T, {
                        sx: {
                            flex: "1 1 200px",
                            minWidth: "150px"
                        },
                        children: [t.jsx($, {
                            variant: "caption",
                            color: "text.secondary",
                            children: "Active Battles"
                        }), t.jsx($, {
                            variant: "body1",
                            sx: {
                                fontWeight: "bold"
                            },
                            children: (d == null ? void 0 : d.activeBattleCount) || 0
                        })]
                    }), t.jsxs(T, {
                        sx: {
                            flex: "1 1 200px",
                            minWidth: "150px"
                        },
                        children: [t.jsx($, {
                            variant: "caption",
                            color: "text.secondary",
                            children: "Queue Size"
                        }), t.jsx($, {
                            variant: "body1",
                            sx: {
                                fontWeight: "bold"
                            },
                            children: ((_ = d == null ? void 0 : d.queue) == null ? void 0 : _.queueSize) || 0
                        })]
                    })]
                }), ((l == null ? void 0 : l.prizePool) || ((k = d == null ? void 0 : d.currentEvent) == null ? void 0 : k.customPrizes)) && t.jsxs(T, {
                    sx: {
                        mb: 2
                    },
                    children: [t.jsx($, {
                        variant: "body2",
                        sx: {
                            fontWeight: "bold",
                            mb: 1
                        },
                        children: "🏆 Prize Pool:"
                    }), t.jsxs($, {
                        variant: "body2",
                        children: ["1st: ", ((E = (D = l == null ? void 0 : l.prizePool) == null ? void 0 : D.positions) == null ? void 0 : E[0]) || ((I = (P = d == null ? void 0 : d.currentEvent) == null ? void 0 : P.customPrizes) == null ? void 0 : I[1]) || 0, " SOL, 2nd: ", ((X = (B = l == null ? void 0 : l.prizePool) == null ? void 0 : B.positions) == null ? void 0 : X[1]) || ((L = (O = d == null ? void 0 : d.currentEvent) == null ? void 0 : O.customPrizes) == null ? void 0 : L[2]) || 0, " SOL, 3rd: ", ((Y = (F = l == null ? void 0 : l.prizePool) == null ? void 0 : F.positions) == null ? void 0 : Y[2]) || ((K = (H = d == null ? void 0 : d.currentEvent) == null ? void 0 : H.customPrizes) == null ? void 0 : K[3]) || 0, " SOL"]
                    })]
                }), (l == null ? void 0 : l.nextPhaseTime) && t.jsxs($, {
                    variant: "body2",
                    sx: {
                        mb: 1
                    },
                    children: [t.jsx("strong", {
                        children: "Next Phase:"
                    }), " ", new Date(l.nextPhaseTime).toLocaleString()]
                }), (l == null ? void 0 : l.playerPosition) && t.jsxs($, {
                    variant: "body2",
                    sx: {
                        mb: 1
                    },
                    children: [t.jsx("strong", {
                        children: "Your Position:"
                    }), " #", l.playerPosition]
                })]
            }) : t.jsxs(T, {
                sx: {
                    p: 2,
                    backgroundColor: "rgba(158, 158, 158, 0.1)",
                    borderRadius: 2,
                    mb: 2
                },
                children: [t.jsxs($, {
                    variant: "body2",
                    sx: {
                        color: "text.secondary"
                    },
                    children: ["No active battle event. Status: ", t.jsx("strong", {
                        children: "INACTIVE"
                    })]
                }), t.jsx($, {
                    variant: "body2",
                    sx: {
                        color: "text.secondary",
                        fontSize: "12px",
                        mt: 1
                    },
                    children: "Events will show here when active. Create an event above to see it appear here."
                })]
            }), t.jsxs($, {
                variant: "subtitle1",
                sx: {
                    mb: 1,
                    fontWeight: "bold"
                },
                children: ["📅 Scheduled Events (", ((z = d == null ? void 0 : d.eventSchedule) == null ? void 0 : z.length) || 0, " events)"]
            }), d != null && d.eventSchedule && d.eventSchedule.length > 0 ? t.jsx(T, {
                sx: {
                    maxHeight: "300px",
                    overflowY: "auto",
                    mb: 2
                },
                children: d.eventSchedule.map((U, V) => {
                    const W = U;
                    return t.jsxs(T, {
                        sx: {
                            mb: 1,
                            p: 2,
                            border: "1px solid rgba(255, 255, 255, 0.12)",
                            borderRadius: 1
                        },
                        children: [t.jsxs(T, {
                            sx: {
                                display: "flex",
                                justifyContent: "space-between",
                                alignItems: "flex-start",
                                mb: 1
                            },
                            children: [t.jsxs(T, {
                                children: [t.jsxs($, {
                                    variant: "subtitle2",
                                    sx: {
                                        fontWeight: "bold"
                                    },
                                    children: ["Event #", V + 1]
                                }), t.jsxs($, {
                                    variant: "caption",
                                    color: "text.secondary",
                                    children: ["ID: ", W.id || "N/A"]
                                })]
                            }), t.jsx(Te, {
                                size: "small",
                                variant: "outlined",
                                color: "error",
                                onClick: () => w(W.id || ""),
                                sx: {
                                    minWidth: "auto",
                                    px: 1
                                },
                                disabled: !W.id,
                                children: "🗑️"
                            })]
                        }), t.jsxs($, {
                            variant: "caption",
                            sx: {
                                display: "block"
                            },
                            children: [t.jsx("strong", {
                                children: "Start:"
                            }), " ", W.startTime ? new Date(W.startTime).toLocaleString() : "N/A"]
                        }), t.jsxs($, {
                            variant: "caption",
                            sx: {
                                display: "block",
                                mb: 1
                            },
                            children: [t.jsx("strong", {
                                children: "End:"
                            }), " ", W.endTime ? new Date(W.endTime).toLocaleString() : "N/A"]
                        }), W.lobbySettings && t.jsxs($, {
                            variant: "caption",
                            color: "text.secondary",
                            sx: {
                                display: "block"
                            },
                            children: [t.jsx("strong", {
                                children: "Settings:"
                            }), " ", W.lobbySettings.players || 2, " players, ", W.lobbySettings.rounds || 1, " rounds, ", W.lobbySettings.wager || 1, " wager"]
                        })]
                    }, W.id || V)
                })
            }) : t.jsx($, {
                variant: "body2",
                color: "text.secondary",
                sx: {
                    textAlign: "center",
                    py: 2,
                    mb: 2
                },
                children: "No scheduled events"
            }), t.jsxs(T, {
                sx: {
                    display: "flex",
                    gap: 1,
                    flexWrap: "wrap"
                },
                children: [t.jsx(Te, {
                    variant: "outlined",
                    size: "small",
                    onClick: () => {
                        console.log("[ADMIN] Manual refresh triggered"), a.leaveBattlesRoom(() => {}), setTimeout(() => {
                            a.joinBattlesRoom(() => {}), a.getBattleState(), s.getBattleAdminControlStates(() => {})
                        }, 100)
                    },
                    children: "🔄 Refresh Status"
                }), t.jsxs($, {
                    variant: "caption",
                    sx: {
                        ml: 1,
                        color: "text.secondary",
                        alignSelf: "center"
                    },
                    children: ["Last updated: ", new Date().toLocaleTimeString()]
                })]
            })]
        })]
    })
}

function ty({
    open: e,
    onClose: s
}) {
    const [a, r] = m.useState("balance"), l = [{
        id: "balance",
        label: "Balance Management",
        component: Iw
    }, {
        id: "bonus",
        label: "Bonus Codes",
        component: Ow
    }, {
        id: "rugpass",
        label: "Rugpass Admin",
        component: Fw
    }, {
        id: "battles",
        label: "Battles",
        component: Yw
    }, {
        id: "events",
        label: "Events",
        component: $w
    }, {
        id: "system",
        label: "System Management",
        component: Gw
    }, {
        id: "maintenance",
        label: "Maintenance",
        component: Uw
    }, {
        id: "documents",
        label: "Documents",
        component: Ww
    }, {
        id: "piggybank",
        label: "Piggybank Airdrop",
        component: Hw
    }], d = (u, h) => {
        r(h)
    };
    return t.jsxs(Da, {
        open: e,
        onClose: s,
        maxWidth: "md",
        fullWidth: !0,
        className: "admin-modal-dialog",
        children: [t.jsx(Tl, {
            children: "Admin Controls"
        }), t.jsx(Na, {
            children: t.jsxs(jf, {
                value: a,
                children: [t.jsx(T, {
                    sx: {
                        borderBottom: 1,
                        borderColor: "divider",
                        mb: 2
                    },
                    children: t.jsx(_0, {
                        value: a,
                        onChange: d,
                        variant: "scrollable",
                        scrollButtons: "auto",
                        sx: {
                            "& .MuiTab-root": {
                                textTransform: "none",
                                fontWeight: "medium",
                                fontSize: "0.875rem"
                            }
                        },
                        children: l.map(u => t.jsx(Ts, {
                            value: u.id,
                            label: u.label
                        }, u.id))
                    })
                }), t.jsx(T, {
                    children: l.map(u => t.jsx(vs, {
                        value: u.id,
                        children: t.jsx(u.component, {})
                    }, u.id))
                })]
            })
        })]
    })
}

function Vw() {
    const [e, s] = m.useState(!1), a = () => {
        s(!0)
    }, r = () => {
        s(!1)
    };
    return t.jsxs(T, {
        children: [t.jsx(Te, {
            onClick: a,
            "aria-label": "Open Admin Panel",
            color: "error",
            sx: l => ({
                display: "flex",
                alignItems: "center",
                justifyContent: "center",
                backgroundColor: l.palette.error.main,
                color: l.palette.error.contrastText,
                minWidth: "auto",
                padding: "8px",
                borderRadius: "4px"
            }),
            children: t.jsx(zw, {})
        }), t.jsx(ty, {
            open: e,
            onClose: r
        })]
    })
}
const td = [{
    id: "tier0",
    type: "tier0",
    name: "Iron",
    levelRequired: 1
}, {
    id: "tier1",
    type: "tier1",
    name: "Bronze",
    levelRequired: 10
}, {
    id: "tier2",
    type: "tier2",
    name: "Silver",
    levelRequired: 20
}, {
    id: "tier3",
    type: "tier3",
    name: "Gold",
    levelRequired: 30
}, {
    id: "tier4",
    type: "tier4",
    name: "Platinum",
    levelRequired: 40
}, {
    id: "tier5",
    type: "tier5",
    name: "Diamond",
    levelRequired: 50
}, {
    id: "tier6",
    type: "tier6",
    name: "Emerald",
    levelRequired: 60
}, {
    id: "tier7",
    type: "tier7",
    name: "Amethyst",
    levelRequired: 70
}, {
    id: "tier8",
    type: "tier8",
    name: "Mythic",
    levelRequired: 80
}, {
    id: "tier9",
    type: "tier9",
    name: "Celestial",
    levelRequired: 90
}, {
    id: "referral",
    type: "referral",
    name: "Referral",
    levelRequired: null,
    imagePath: "/crates/referral.png"
}];

function qw(e) {
    const s = td.find(a => a.type === e);
    return (s == null ? void 0 : s.name) || e
}

function Ye(e, ...s) {}

function ks(e) {
    return `tier${Math.max(0,Math.min(10,Math.floor(e/10))).toString()}`
}

function Mf(e) {
    return pf[ks(e)] ? ? pf.tier0
}
const pf = {
        tier0: {
            color: "rgba(90, 69, 62, 0.2)",
            image: "/badges/tier0.png"
        },
        tier1: {
            color: "rgba(131, 84, 76, 0.2)",
            image: "/badges/tier1.png"
        },
        tier2: {
            color: "rgba(154, 172, 186, 0.2)",
            image: "/badges/tier2.png"
        },
        tier3: {
            color: "rgba(251, 187, 14, 0.2)",
            image: "/badges/tier3.png"
        },
        tier4: {
            color: "rgba(8, 192, 201, 0.2)",
            image: "/badges/tier4.png"
        },
        tier5: {
            color: "rgba(31, 135, 255, 0.2)",
            image: "/badges/tier5.png"
        },
        tier6: {
            color: "rgba(34, 197, 94, 0.2)",
            image: "/badges/tier6.png"
        },
        tier7: {
            color: "rgba(154, 92, 208, 0.2)",
            image: "/badges/tier7.png"
        },
        tier8: {
            color: "linear-gradient(90deg, rgba(255, 99, 5, 0.2), rgba(196, 79, 226, 0.2))",
            image: "/badges/tier8.png"
        },
        tier9: {
            color: "linear-gradient(90deg, rgba(86, 233, 255, 0.2), rgba(251, 237, 185, 0.2))",
            image: "/badges/tier9.png"
        },
        tier10: {
            color: "linear-gradient(90deg, rgba(252, 95, 102, 0.2), rgba(74, 130, 253, 0.2))",
            image: "/badges/tier10.png"
        }
    },
    Bf = m.memo(({
        level: e,
        size: s
    }) => {
        const a = Mf(e),
            r = typeof s == "number" ? {
                width: s,
                height: s
            } : {
                className: `level-icon level-icon-${s}`
            };
        return t.jsx("img", {
            src: a.image,
            alt: `Level ${e} Badge`,
            ...r
        })
    }),
    Xw = ({
        crateType: e,
        name: s,
        levelRequired: a,
        keyCount: r,
        hasKey: l,
        isSelected: d,
        onClick: u,
        color: h,
        gradient: f,
        isMobile: p,
        cooldownActive: y,
        cooldownTimeRemaining: x = 0
    }) => {
        const S = _ => _ === 0 ? "0" : _ >= 1e6 ? `${(_/1e6).toFixed(1)}M` : _ >= 1e3 ? `${(_/1e3).toFixed(1)}K` : _.toString(),
            v = ["crate-card", p ? "mobile" : "", d ? "selected" : "", l ? "" : "no-key", y && x > 0 ? "cooldown-active-global" : "", l ? "custom-border" : ""].filter(Boolean).join(" "),
            C = {
                borderRadius: "16px !important"
            };
        if (l ? f ? C["--border-style"] = f : C["--border-style"] = h : C["--border-style"] = "rgb(32, 32, 32)", l)
            if (f) {
                const _ = f.match(/#[0-9A-Fa-f]{6}/);
                _ ? C["--crate-shadow-color"] = _[0] : C["--crate-shadow-color"] = h
            } else C["--crate-shadow-color"] = h;
        else C["--crate-shadow-color"] = "rgba(0, 0, 0, 0.8)";
        const w = {};
        l ? f ? (w.background = f, w.WebkitBackgroundClip = "text", w.backgroundClip = "text", w.color = "transparent") : w.color = h : w.color = "#888";
        const j = p ? 60 : 80,
            A = t.jsxs("div", {
                className: v,
                style: C,
                onClick: u,
                children: [r > 0 && t.jsxs("div", {
                    className: "crate-card-key-count",
                    children: [S(r), " ", t.jsxs("span", {
                        className: "key-text",
                        children: ["Key", r !== 1 ? "s" : ""]
                    })]
                }), t.jsxs("div", {
                    className: "crate-card-image-container",
                    children: [typeof a == "number" ? t.jsx(Bf, {
                        level: a,
                        size: j
                    }) : e === "referral" ? t.jsx("img", {
                        src: "/crates/referral.png",
                        alt: s,
                        className: "crate-card-image"
                    }) : t.jsx("div", {
                        className: "crate-card-image-placeholder"
                    }), a !== null && t.jsxs("div", {
                        className: "crate-card-level-indicator",
                        style: l && f ? {
                            background: f,
                            WebkitBackgroundClip: "text",
                            backgroundClip: "text",
                            color: "transparent",
                            border: "1px solid rgba(255, 255, 255, 0.2)"
                        } : l ? {
                            backgroundColor: h,
                            color: "#000"
                        } : {},
                        children: ["LEVEL ", a, "+"]
                    })]
                }), t.jsx("div", {
                    className: "crate-card-name-container",
                    children: t.jsx("span", {
                        className: "crate-card-name",
                        style: w,
                        children: s
                    })
                }), y && x > 0 && t.jsx("div", {
                    className: "crate-card-cooldown-overlay",
                    children: Os(x)
                })]
            });
        if (l) {
            const _ = {
                    "--border-style": f || h
                },
                k = ["crate-card-gradient-wrapper", d ? "selected" : "", p ? "mobile" : ""].filter(Boolean).join(" ");
            return t.jsx("div", {
                className: k,
                style: _,
                children: A
            })
        }
        return A
    },
    Qw = e => {
        switch (e.toLowerCase()) {
            case "bonus":
                return {
                    backgroundColor: "#1E88E5",
                    textColor: "#FFFFFF",
                    borderColor: "#1565C0"
                };
            case "common_item":
                return {
                    backgroundColor: "#78909C",
                    textColor: "#FFFFFF",
                    borderColor: "#546E7A"
                };
            case "rare_item":
                return {
                    backgroundColor: "#5E35B1",
                    textColor: "#FFFFFF",
                    borderColor: "#4527A0"
                };
            default:
                return {
                    backgroundColor: "#546E7A",
                    textColor: "#FFFFFF",
                    borderColor: "#37474F"
                }
        }
    },
    Kw = ({
        rewardType: e,
        amount: s,
        chance: a,
        imageSrc: r,
        isMobile: l
    }) => {
        const d = e === "cash",
            u = d ? Number(s) : 0;
        let h = {},
            f = {},
            p = {},
            y = {},
            x = .15,
            S = e;
        if (d) {
            let v = 0;
            u >= 250 ? v = 1 : u >= 75 ? v = .95 : u > 50 ? v = .7 + (u - 50) * .01 : u >= 25 ? v = .4 + (u - 25) * .012 : u >= 10 ? v = .25 + (u - 10) * .01 : u >= 5 ? v = .15 + (u - 5) * .02 : u >= 1 ? v = .05 + (u - 1) * .025 : u >= .25 ? v = .045 : u >= .05 ? v = .035 : u >= .03 ? v = .028 : u >= .02 ? v = .022 : u >= .01 ? v = .016 : u >= .005 ? v = .01 : v = .005, v = Math.max(0, Math.min(1, v));
            const C = {
                    r: 156,
                    g: 39,
                    b: 176
                },
                w = {
                    r: 255,
                    g: 215,
                    b: 0
                },
                j = Math.round(C.r + (w.r - C.r) * v),
                A = Math.round(C.g + (w.g - C.g) * v),
                _ = Math.round(C.b + (w.b - C.b) * v),
                k = `#${j.toString(16).padStart(2,"0")}${A.toString(16).padStart(2,"0")}${_.toString(16).padStart(2,"0")}`,
                D = `rgba(${j}, ${A}, ${_}, ${.3+v*.4})`,
                E = `rgba(${j}, ${A}, ${_}, ${.2+v*.3})`;
            let P = 3;
            u >= 150 ? P = 5 : u >= 75 || u >= 25 ? P = 4 : u >= 5 && (P = 3);
            const I = 8 + Math.min(17, u * .3),
                B = 12 + Math.min(33, u * .5);
            h = {
                background: "radial-gradient(circle, rgba(30, 30, 30, 0.85) 0%, rgba(15, 15, 15, 0.95) 100%)",
                boxShadow: `0 0 ${I}px ${D}, 0 0 ${B}px ${E}`,
                border: `${P}px solid ${k}`,
                padding: u >= 150 ? "1px" : "0px"
            }, x = Math.min(.25, .15 + u / 300);
            let X = "#DADADA",
                O = "none",
                L = "none";
            u >= 75 ? (X = "#FFD700", O = "0 0 8px rgba(255, 215, 0, 0.5)", L = "drop-shadow(0 0 4px rgba(255, 215, 0, 0.7))") : u >= 50 ? (X = "#E6D56A", O = "0 0 7px rgba(230, 213, 106, 0.45)", L = "drop-shadow(0 0 3px rgba(230, 213, 106, 0.65))") : u >= 25 ? (X = "#D8B7E8", O = "0 0 6px rgba(187, 99, 235, 0.4)", L = "drop-shadow(0 0 3px rgba(187, 99, 235, 0.6))") : u >= 10 ? (X = "#C9A9E0", O = "0 0 5px rgba(187, 99, 235, 0.35)", L = "drop-shadow(0 0 2px rgba(187, 99, 235, 0.55))") : u >= 5 ? (X = "#BB9BD5", O = "0 0 4px rgba(156, 39, 176, 0.3)", L = "drop-shadow(0 0 2px rgba(156, 39, 176, 0.5))") : u >= 1 ? (X = "#FFFFFF", O = "0 0 3px rgba(156, 39, 176, 0.25)", L = "drop-shadow(0 0 1px rgba(156, 39, 176, 0.45))") : u >= .25 ? (X = "#F0F0F0", O = "0 0 2px rgba(156, 39, 176, 0.2)") : u >= .05 ? (X = "#E6E6E6", O = "0 0 1px rgba(156, 39, 176, 0.15)") : u >= .01 && (X = "#E0E0E0");
            const F = u >= 100 ? "28px" : u >= 40 ? "26px" : u >= 1 ? "24px" : u >= .1 ? "22px" : "20px";
            f = {
                color: X,
                textShadow: O,
                fontSize: F
            }, y = {
                filter: L,
                width: u >= 100 ? "22px" : u >= 1 ? "18px" : "16px",
                height: u >= 100 ? "22px" : u >= 1 ? "18px" : "16px"
            }, p = {
                color: X,
                opacity: .9
            }
        } else {
            const v = Qw(e);
            h = {
                backgroundColor: v.backgroundColor,
                borderColor: v.borderColor || v.backgroundColor,
                boxShadow: `0 0 10px ${v.backgroundColor}60, 0 0 15px ${v.backgroundColor}30`
            }, f = {
                color: v.textColor,
                fontSize: "1.1rem"
            }, p = {
                color: v.textColor,
                opacity: .85
            }, S = e.replace("_", " ").toUpperCase()
        }
        return t.jsxs("div", {
            className: `crate-reward-card ${l?"mobile":""}`,
            style: h,
            children: [d && t.jsx("div", {
                className: "crate-reward-sol-bg-icon",
                style: {
                    opacity: x
                },
                children: t.jsx("img", {
                    src: "/icons/Icon_Solana.png",
                    alt: "SOL background"
                })
            }), r && !d && t.jsx("img", {
                src: r,
                alt: S,
                className: "crate-reward-card-image"
            }), !r && !d && e === "bonus" && t.jsx("div", {
                className: "crate-reward-card-placeholder-icon",
                children: "$"
            }), !r && !d && e !== "bonus" && t.jsx("div", {
                className: "crate-reward-card-placeholder-icon",
                children: "?"
            }), t.jsxs("div", {
                className: "crate-reward-card-amount",
                style: f,
                children: [s, d && t.jsx("img", {
                    src: "/icons/Icon_Solana.png",
                    alt: "SOL",
                    className: "crate-reward-sol-symbol",
                    style: y
                })]
            }), !d && t.jsx("div", {
                className: "crate-reward-card-type",
                style: {
                    color: p.color,
                    opacity: p.opacity
                },
                children: S.length > 10 ? S.substring(0, 8) + "..." : S
            }), t.jsxs("div", {
                className: "crate-reward-card-chance",
                style: p,
                children: [a.toFixed(a < 1 ? 2 : 1), "%"]
            })]
        })
    },
    vr = {
        tier0: 1,
        tier1: 10,
        tier2: 20,
        tier3: 30,
        tier4: 40,
        tier5: 50,
        tier6: 60,
        tier7: 70,
        tier8: 80,
        tier9: 90
    },
    Zw = ({
        selectedCrateId: e,
        selectedCrateName: s,
        onClosePreview: a,
        onOpenCrate: r,
        isMobile: l,
        isCooldownActive: d,
        isLoggedIn: u = !0
    }) => {
        const h = Se(Ge.selectCurrent),
            {
                crateKeys: f = {},
                levelInfo: p
            } = h || {},
            y = (p == null ? void 0 : p.level) || 0,
            x = Se(Ge.selectCrateInfo),
            S = d || !1;
        if (!e) return null;
        const C = (P => !x || !x.crates || !x.crates[P] ? [] : x.crates[P].drops.map((B, X) => ({
            id: `${P}-${X}`,
            type: B.type,
            amount: B.amount,
            chance: B.probability * 100,
            imageSrc: B.type === "cash" ? "/icons/Icon_Solana.png" : void 0
        })))(e);
        if (C.length === 0) return t.jsxs("div", {
            className: `crate-rewards-container ${l?"mobile":""}`,
            children: [t.jsx("div", {
                className: "crate-rewards-header",
                children: t.jsxs("h3", {
                    children: [s, " Crate Rewards"]
                })
            }), t.jsx("div", {
                style: {
                    padding: "40px",
                    textAlign: "center",
                    color: "#888",
                    fontSize: "16px"
                },
                children: t.jsx("div", {
                    children: "Loading crate rewards..."
                })
            }), u && t.jsx("div", {
                className: "crate-rewards-actions",
                children: t.jsx("button", {
                    onClick: () => {
                        e && r(e)
                    },
                    className: "open-crate-button",
                    disabled: S || (vr[e] ? y < vr[e] : !1),
                    children: S ? "On Cooldown" : vr[e] && y < vr[e] ? `Reach Level ${vr[e]} to Open` : "Open Crate"
                })
            })]
        });
        const j = (f[e] || 0) > 0,
            A = vr[e],
            _ = !A || y >= A,
            k = () => {
                if (!j || S || !_) {
                    Ye();
                    return
                }
                Ye(), r(e)
            };
        let D = "Open Crate",
            E = !1;
        return S ? (D = "On Cooldown", E = !0) : j ? !_ && A && (D = `Reach Level ${A} to Open`, E = !0) : (D = "No Key Available", E = !0), t.jsxs("div", {
            className: `crate-rewards-container ${l?"mobile":""}`,
            children: [t.jsx("div", {
                className: "crate-rewards-header",
                children: t.jsxs("h3", {
                    children: [s, " Crate Rewards"]
                })
            }), t.jsx("div", {
                className: "crate-rewards-grid",
                children: C.map(P => t.jsx(Kw, {
                    rewardType: P.type,
                    amount: P.amount,
                    chance: P.chance,
                    imageSrc: P.imageSrc,
                    isMobile: l
                }, P.id))
            }), u && t.jsx("div", {
                className: "crate-rewards-actions",
                children: t.jsx("button", {
                    onClick: k,
                    className: "open-crate-button",
                    disabled: E,
                    children: D
                })
            })]
        })
    };

function Jw(e) {
    switch (e.toLowerCase()) {
        case "cash":
            return "#9C27B0";
        case "bonus":
            return "#2196F3";
        case "item":
            return "#FF9800";
        default:
            return "#4A5568"
    }
}

function e2(e) {
    switch (e.toLowerCase()) {
        case "cash":
            return "SOL";
        case "bonus":
            return "Bonus";
        case "item":
            return "Item";
        default:
            return e.length > 8 ? e.substring(0, 6) + "..." : e
    }
}
const t2 = ({
        rewards: e,
        selectedReward: s,
        onSpinComplete: a
    }) => {
        const r = m.useRef(null),
            [l, d] = m.useState(0),
            [u, h] = m.useState(!1),
            f = m.useRef([]);
        m.useEffect(() => {
            if (r.current && r.current.children.length > 0 && e && e.length > 0) {
                const w = r.current.children[0].offsetWidth;
                d(w), r.current.style.transition = "none", r.current.style.transform = `translateX(-${e.length*w/2}px)`
            }
        }, []), m.useEffect(() => {
            if (r.current && r.current.children.length > 0 && e && e.length > 0 && l === 0) {
                const w = r.current.children[0].offsetWidth;
                d(w), r.current.style.transition = "none", r.current.style.transform = `translateX(-${e.length*w/2}px)`
            }
        }, [e == null ? void 0 : e.length, l]), m.useEffect(() => {
            s && f.current.length === 0 && (f.current = [...e]), s || (f.current = [])
        }, [s, e]), m.useEffect(() => {
            s && !u && l > 0 && e && e.length > 0 && v()
        }, [s, l]);
        const p = f.current.length > 0 ? f.current : e;
        if (!p || p.length === 0) return t.jsx("div", {
            style: {
                height: "120px",
                display: "flex",
                alignItems: "center",
                justifyContent: "center"
            },
            children: "Loading rewards..."
        });
        const y = Math.ceil(400 / p.length),
            S = (() => {
                const C = [];
                for (let w = 0; w <= y; w++) C.push(...p);
                return C
            })(),
            v = () => {
                if (!u && l > 0 && s && p && p.length > 0) {
                    h(!0);
                    const C = p.length * l / 2 - p.length * l * 3;
                    r.current && (r.current.style.transition = "none", r.current.style.transform = `translateX(${C}px)`, r.current.offsetWidth, setTimeout(() => {
                        if (!r.current || !s) return;
                        const w = S.map((_, k) => _.type === s.type && String(_.amount) === String(s.amount) ? k : -1).filter(_ => _ !== -1).filter(_ => _ > p.length * (y / 7)).filter(_ => _ < p.length * (y / 6));
                        if (w.length === 0) {
                            console.warn("CrateWheel: Could not find target reward in wheelRewards segments.", s), console.warn("Available rewards:", S.slice(0, 5)), h(!1), a(s);
                            return
                        }
                        const A = w[Math.floor(Math.random() * w.length)] * l + l / 2 + (Math.random() * .8 - .4) * l;
                        r.current.style.transition = "transform 7s cubic-bezier(.31,.81,.5,1)", r.current.style.transform = `translateX(-${A}px)`
                    }, 0), setTimeout(() => {
                        h(!1), s && a(s)
                    }, 7500))
                }
            };
        return t.jsxs(Nv.div, {
            className: "crate-wheel-container",
            initial: {
                opacity: 0,
                scale: .9
            },
            animate: {
                opacity: 1,
                scale: 1
            },
            transition: {
                duration: .5
            },
            style: {
                position: "relative",
                overflow: "hidden",
                width: "100%",
                height: "120px",
                marginBottom: "30px",
                borderRadius: "12px",
                background: "var(--color-background)",
                border: "2px solid #333",
                boxShadow: "0 0 20px rgba(0, 0, 0, 0.5)"
            },
            children: [t.jsx("div", {
                ref: r,
                style: {
                    display: "flex",
                    position: "absolute",
                    left: "50%",
                    top: "0"
                },
                children: S.map((C, w) => {
                    const j = C.type === "cash",
                        A = j ? "#9C27B0" : Jw(C.type);
                    let _ = {},
                        k = {};
                    if (j) {
                        const D = Number(C.amount);
                        D >= 30 ? (_ = {
                            background: "radial-gradient(circle, rgba(156, 39, 176, 0.85) 0%, rgba(126, 19, 146, 0.85) 100%)",
                            boxShadow: "0 0 15px rgba(156, 39, 176, 0.6)"
                        }, k = {
                            border: "3px solid #FFC107",
                            backgroundImage: "linear-gradient(45deg, rgba(255, 193, 7, 0.3), transparent, rgba(255, 193, 7, 0.3))",
                            padding: "2px"
                        }) : D >= 10 ? (_ = {
                            background: "radial-gradient(circle, rgba(156, 39, 176, 0.75) 0%, rgba(106, 19, 126, 0.75) 100%)",
                            boxShadow: "0 0 12px rgba(156, 39, 176, 0.5)"
                        }, k = {
                            border: "3px solid #E1BEE7",
                            backgroundImage: "linear-gradient(45deg, rgba(225, 190, 231, 0.3), transparent, rgba(225, 190, 231, 0.3))",
                            padding: "1px"
                        }) : D >= 5 ? (_ = {
                            background: "radial-gradient(circle, rgba(156, 39, 176, 0.7) 0%, rgba(86, 19, 106, 0.7) 100%)",
                            boxShadow: "0 0 10px rgba(156, 39, 176, 0.4)"
                        }, k = {
                            border: "3px solid #BA68C8",
                            backgroundImage: "linear-gradient(45deg, rgba(186, 104, 200, 0.3), transparent, rgba(186, 104, 200, 0.3))"
                        }) : (_ = {
                            background: "radial-gradient(circle, rgba(156, 39, 176, 0.6) 0%, rgba(76, 19, 96, 0.6) 100%)",
                            boxShadow: "0 0 8px rgba(156, 39, 176, 0.3)"
                        }, k = {
                            border: "3px solid rgba(156, 39, 176, 0.5)",
                            backgroundImage: "linear-gradient(45deg, rgba(156, 39, 176, 0.2), transparent, rgba(156, 39, 176, 0.2))"
                        })
                    }
                    return t.jsxs("div", {
                        className: "reward-item",
                        style: {
                            width: "120px",
                            height: "120px",
                            display: "flex",
                            flexDirection: "column",
                            alignItems: "center",
                            justifyContent: "center",
                            borderRadius: "50%",
                            color: "white",
                            fontWeight: "bold",
                            textAlign: "center",
                            boxSizing: "border-box",
                            flexShrink: 0,
                            margin: 0,
                            position: "relative",
                            overflow: "hidden",
                            backgroundColor: j ? void 0 : A,
                            ..._,
                            ...k
                        },
                        children: [j && t.jsx("div", {
                            style: {
                                position: "absolute",
                                top: 0,
                                left: 0,
                                width: "100%",
                                height: "100%",
                                display: "flex",
                                alignItems: "center",
                                justifyContent: "center",
                                opacity: .12,
                                zIndex: 1
                            },
                            children: t.jsx("img", {
                                src: "/icons/Icon_Solana.png",
                                alt: "SOL",
                                style: {
                                    width: "65%",
                                    height: "65%",
                                    objectFit: "contain"
                                }
                            })
                        }), !j && t.jsx("div", {
                            style: {
                                position: "absolute",
                                top: 0,
                                left: 0,
                                width: "100%",
                                height: "100%",
                                display: "flex",
                                alignItems: "center",
                                justifyContent: "center",
                                opacity: .15,
                                zIndex: 1
                            },
                            children: C.type === "bonus" ? t.jsx("div", {
                                style: {
                                    fontSize: "50px",
                                    fontWeight: "bold"
                                },
                                children: "$"
                            }) : t.jsx("div", {
                                style: {
                                    fontSize: "50px",
                                    fontWeight: "bold"
                                },
                                children: "?"
                            })
                        }), t.jsxs("div", {
                            style: {
                                fontSize: "28px",
                                display: "flex",
                                alignItems: "center",
                                justifyContent: "center",
                                position: "relative",
                                zIndex: 2,
                                fontWeight: "bold",
                                marginBottom: j ? "2px" : "0",
                                filter: j && Number(C.amount) >= 30 ? "drop-shadow(0 0 3px rgba(255, 255, 255, 0.5))" : "none"
                            },
                            children: [j && Number(C.amount) > 0 && t.jsx("img", {
                                src: "/icons/Icon_Solana.png",
                                alt: "SOL",
                                style: {
                                    width: "20px",
                                    height: "20px",
                                    marginRight: "5px",
                                    filter: Number(C.amount) >= 30 ? "drop-shadow(0 0 2px rgba(255, 255, 255, 0.5))" : "none"
                                }
                            }), C.amount]
                        }), j ? t.jsxs("div", {
                            style: {
                                fontSize: "16px",
                                position: "relative",
                                zIndex: 2,
                                opacity: .9,
                                fontWeight: "normal"
                            },
                            children: [C.chance.toFixed(C.chance < 1 ? 2 : 1), "%"]
                        }) : t.jsx("div", {
                            style: {
                                fontSize: "14px",
                                position: "relative",
                                zIndex: 2,
                                opacity: .9,
                                fontWeight: "normal",
                                textTransform: "uppercase"
                            },
                            children: e2(C.type)
                        })]
                    }, w)
                })
            }), t.jsx("div", {
                style: {
                    position: "absolute",
                    top: "0",
                    left: "50%",
                    height: "100%",
                    width: "4px",
                    backgroundColor: "#FFC107",
                    transform: "translateX(-50%)",
                    zIndex: 10,
                    pointerEvents: "none",
                    boxShadow: "0 0 10px rgba(255, 193, 7, 0.8)"
                }
            }), t.jsx("div", {
                style: {
                    position: "absolute",
                    top: 0,
                    left: 0,
                    width: "80px",
                    height: "100%",
                    background: "linear-gradient(to right, var(--color-background), transparent)",
                    zIndex: 5,
                    pointerEvents: "none"
                }
            }), t.jsx("div", {
                style: {
                    position: "absolute",
                    top: 0,
                    right: 0,
                    width: "80px",
                    height: "100%",
                    background: "linear-gradient(to left, var(--color-background), transparent)",
                    zIndex: 5,
                    pointerEvents: "none"
                }
            })]
        })
    },
    n2 = {},
    ny = ({
        open: e,
        onClose: s,
        isMobile: a
    }) => {
        const r = bt(),
            l = jn(),
            d = Se(Ge.selectCurrent),
            {
                crateKeys: u = n2,
                levelInfo: h,
                crateCooldown: f = null
            } = d || {},
            p = (h == null ? void 0 : h.level) || 0,
            y = !!d,
            x = Se(Ge.selectCrateInfo),
            [S, v] = m.useState(null),
            [C, w] = m.useState(!1),
            [j, A] = m.useState(null),
            [_, k] = m.useState(!1),
            [D, E] = m.useState(!1),
            [P, I] = m.useState(null),
            [B, X] = m.useState(0),
            O = m.useRef(null),
            L = m.useRef(null),
            F = m.useRef(null),
            Y = m.useRef(""),
            [H, K] = m.useState(!1),
            [z, U] = m.useState(0),
            [V, W] = m.useState(85),
            q = m.useRef(null);
        ls.useEffect(() => {
            e && (W(85), K(!1))
        }, [e]), ls.useEffect(() => {
            e && !x && (console.log("fetching crate info"), l.getCrateInfo(le => {
                console.log("crate info callback received:", le), le && le.crates && r(Me.setCrateInfo(le))
            }))
        }, [e, x]);
        const Z = (f == null ? void 0 : f.active) || !1,
            se = (f == null ? void 0 : f.cooldownEnds) || 0;
        ls.useEffect(() => {
            if (O.current && (clearInterval(O.current), O.current = null), Z && se > 0) {
                const le = Date.now();
                L.current = se;
                const Ce = se - le,
                    _e = Math.max(0, Math.ceil(Ce / 1e3));
                X(_e), O.current = setInterval(() => {
                    const Ne = Date.now();
                    if (L.current && Ne < L.current) {
                        const Fe = L.current - Ne,
                            tt = Math.ceil(Fe / 1e3);
                        X(Math.max(0, tt))
                    } else X(0), L.current = null, O.current && (clearInterval(O.current), O.current = null)
                }, 1e3)
            } else X(0), L.current = null;
            return () => {
                O.current && (clearInterval(O.current), O.current = null)
            }
        }, [Z, se]), ls.useEffect(() => {
            _ || j || P || C && S && F.current && setTimeout(() => {
                var le;
                (le = F.current) == null || le.scrollIntoView({
                    behavior: "smooth",
                    block: "end",
                    inline: "nearest"
                })
            }, 100)
        }, [C, S, _, j, P]);
        const G = le => {
                _ || j || P || (S === le && C ? w(!1) : (v(le), w(!0), Ye()))
            },
            ie = () => {
                w(!1), v(null)
            },
            ne = le => {
                if (B > 0) {
                    Ye();
                    return
                }
                if ((u[le] || 0) <= 0) {
                    Ye();
                    return
                }
                Ye(), Y.current = ge(le), w(!1), A(null), I(null), k(!0), E(!0), l.openCrate(le, _e => {
                    if (Ye("[CrateModal] Received crate opening response:", _e), _e.reward) {
                        const Ne = {
                            id: `result-${Date.now()}`,
                            type: _e.reward.type,
                            amount: _e.reward.amount,
                            chance: (_e.reward.probability || 0) * 100,
                            imageSrc: _e.reward.type === "cash" ? "/icons/Icon_Solana.png" : void 0
                        };
                        setTimeout(() => {
                            A(Ne), Ye("[CrateModal] Set selected reward", Ne)
                        }, 1500)
                    } else Ye("[CrateModal] Crate opening failed:", _e.error), k(!1), E(!1)
                }), setTimeout(() => {
                    k(!1)
                }, 2100)
            },
            ee = le => {
                Ye("[CrateModal] Spin complete with reward:", le), I(le), setTimeout(() => {
                    A(null), E(!1)
                }, 50)
            },
            me = ls.useCallback(() => {
                I(null), v(null), w(!1), Y.current = ""
            }, []),
            fe = le => {
                if (le === "referral") return "#FBBF24";
                const _e = Mt[le];
                if (_e && typeof _e.color == "string") {
                    if (_e.color.startsWith("linear-gradient")) {
                        const Ne = _e.color.match(/#[0-9A-Fa-f]{6}/);
                        return Ne ? Ne[0] : "#FF6305"
                    }
                    return _e.color.includes("rgba") ? _e.color.replace(/, \d\.\d+\)/, ", 1)") : _e.color
                }
                return "#4A5568"
            },
            ge = le => {
                const Ce = td.find(_e => _e.id === le);
                return (Ce == null ? void 0 : Ce.name) || le
            },
            ke = le => {
                if (le.type === "cash") {
                    const Ce = Number(le.amount);
                    return Ce >= 30 ? {
                        background: "radial-gradient(circle, rgba(156, 39, 176, 0.85) 0%, rgba(126, 19, 146, 0.85) 100%)",
                        boxShadow: "0 0 15px rgba(156, 39, 176, 0.6)",
                        border: "3px solid #FFC107"
                    } : Ce >= 10 ? {
                        background: "radial-gradient(circle, rgba(156, 39, 176, 0.75) 0%, rgba(106, 19, 126, 0.75) 100%)",
                        boxShadow: "0 0 12px rgba(156, 39, 176, 0.5)",
                        border: "3px solid #E1BEE7"
                    } : {
                        background: "radial-gradient(circle, rgba(156, 39, 176, 0.6) 0%, rgba(76, 19, 96, 0.6) 100%)",
                        boxShadow: "0 0 8px rgba(156, 39, 176, 0.3)",
                        border: "3px solid rgba(156, 39, 176, 0.5)"
                    }
                }
                return {
                    backgroundColor: "#FF9800",
                    border: "3px solid #F57C00"
                }
            },
            je = S ? td.find(le => le.id === S) : null,
            re = (je == null ? void 0 : je.name) || "",
            Ee = B > 0,
            Ae = le => {
                K(!0);
                const Ce = "touches" in le ? le.touches[0].clientY : le.clientY;
                U(Ce)
            },
            Pe = le => {
                if (!H) return;
                const Ce = "touches" in le ? le.touches[0].clientY : le.clientY,
                    _e = z - Ce,
                    Ne = window.innerHeight,
                    tt = _e * .3 / Ne * 100;
                let dt = V + tt;
                dt = Math.max(20, Math.min(98, dt)), W(dt)
            },
            be = () => {
                if (H) {
                    if (K(!1), V < 30) {
                        s();
                        return
                    }
                    V > 75 ? W(98) : W(85)
                }
            },
            qe = () => {
                H || (V >= 98 ? W(85) : W(98))
            };
        if (ls.useEffect(() => {
                if (H) {
                    const le = Fe => Pe(Fe),
                        Ce = Fe => {
                            Fe.preventDefault(), Pe(Fe)
                        },
                        _e = () => be(),
                        Ne = () => be();
                    return document.addEventListener("mousemove", le), document.addEventListener("touchmove", Ce, {
                        passive: !1
                    }), document.addEventListener("mouseup", _e), document.addEventListener("touchend", Ne), () => {
                        document.removeEventListener("mousemove", le), document.removeEventListener("touchmove", Ce), document.removeEventListener("mouseup", _e), document.removeEventListener("touchend", Ne)
                    }
                }
            }, [H, z, V]), !e) return null;
        const Re = t.jsxs(t.Fragment, {
            children: [t.jsx(T, {
                sx: {
                    padding: "0 20px 16px 20px",
                    borderBottom: "1px solid rgba(255, 255, 255, 0.1)",
                    flexShrink: 0
                },
                children: t.jsx($, {
                    variant: "h5",
                    sx: {
                        color: "var(--color-card-foreground)",
                        fontWeight: "bold",
                        fontSize: "20px",
                        fontFamily: "'DynaPuff', sans-serif",
                        textAlign: "center"
                    },
                    children: "Crates"
                })
            }), t.jsxs(T, {
                sx: {
                    padding: "24px 16px 16px 16px",
                    flex: 1,
                    overflow: "auto",
                    display: "flex",
                    flexDirection: "column"
                },
                children: [t.jsx(T, {
                    mb: Ee ? 4 : 0,
                    children: Ee && t.jsxs(it, {
                        severity: "warning",
                        sx: {
                            backgroundColor: "rgba(255, 152, 0, 0.2)",
                            color: "#FF9800",
                            border: "1px solid rgba(255, 152, 0, 0.3)",
                            "& .MuiAlert-icon": {
                                color: "#FF9800"
                            }
                        },
                        children: ["Crates on cooldown: ", Os(B), " remaining"]
                    })
                }), t.jsx(T, {
                    sx: {
                        display: "flex",
                        flexWrap: "wrap",
                        justifyContent: "center",
                        gap: {
                            xs: "10px",
                            sm: "16px"
                        }
                    },
                    children: td.map(le => {
                        const Ce = u[le.id] || 0,
                            _e = Ce > 0;
                        let Ne = !1;
                        le.levelRequired !== null && p < le.levelRequired && (Ne = !0);
                        let Fe = "#4A5568",
                            tt;
                        if (le.type !== "referral" && Mt[le.type]) {
                            const dt = Mt[le.type];
                            if (typeof dt.color == "string" && dt.color.startsWith("linear-gradient")) {
                                tt = dt.color;
                                const oe = dt.color.match(/#[0-9A-Fa-f]{6}/);
                                Fe = oe ? oe[0] : "#FF6305"
                            } else typeof dt.color == "string" && (Fe = dt.color.includes("rgba") ? dt.color.replace(/, \d\.\d+\)/, ", 1)") : dt.color)
                        } else le.type === "referral" && (Fe = "#FBBF24");
                        return t.jsx(Xw, {
                            crateType: le.type,
                            name: le.name,
                            levelRequired: le.levelRequired,
                            keyCount: Ce,
                            hasKey: _e && !Ne,
                            isSelected: S === le.id && C,
                            onClick: () => G(le.id),
                            color: Fe,
                            gradient: tt,
                            isMobile: a,
                            cooldownActive: Ee,
                            cooldownTimeRemaining: B
                        }, le.id)
                    })
                }), t.jsxs(T, {
                    sx: {
                        flex: 1
                    },
                    children: [(j || P || _) && t.jsxs(T, {
                        sx: {
                            position: "relative",
                            height: "400px",
                            width: "100%",
                            display: "flex",
                            flexDirection: "column",
                            alignItems: "center",
                            justifyContent: "center",
                            backgroundColor: "var(--color-background)"
                        },
                        children: [D && t.jsx(T, {
                            sx: {
                                position: "absolute",
                                top: "20px",
                                width: "100%",
                                textAlign: "center",
                                zIndex: 3,
                                opacity: D ? 1 : 0,
                                transition: "opacity 0.3s ease-in-out, transform 0.4s ease-out",
                                transform: D ? "translateY(0px)" : "translateY(-10px)",
                                animation: D ? "fadeSlideIn 0.5s ease-out" : void 0
                            },
                            children: t.jsxs($, {
                                variant: "h5",
                                component: "h3",
                                sx: {
                                    color: "#FFC107",
                                    fontSize: "24px",
                                    fontWeight: "bold",
                                    margin: 0
                                },
                                children: ["Opening ", Y.current.toLowerCase() || S && ge(S).toLowerCase(), " crate..."]
                            })
                        }), _ && !j && t.jsxs(T, {
                            sx: {
                                position: "absolute",
                                width: "100%",
                                height: "100%",
                                display: "flex",
                                alignItems: "center",
                                justifyContent: "center",
                                zIndex: 2,
                                opacity: _ ? 1 : 0,
                                transition: "opacity 0.3s ease-in-out, transform 0.4s ease-out",
                                transform: _ ? "scale(1)" : "scale(0.9)",
                                animation: _ ? "crateBadgeCycle 2.1s ease-in-out" : void 0
                            },
                            children: [t.jsx(T, {
                                sx: {
                                    position: "absolute",
                                    width: "200px",
                                    height: "200px",
                                    borderRadius: "50%",
                                    background: `radial-gradient(circle, ${S?fe(S):"#4A5568"}15 0%, ${S?fe(S):"#4A5568"}30 30%, transparent 70%)`,
                                    filter: "blur(8px)",
                                    animation: _ ? "glowPulse 2.1s ease-in-out" : void 0
                                }
                            }), t.jsx(T, {
                                sx: {
                                    width: "150px",
                                    height: "150px",
                                    position: "relative",
                                    zIndex: 1
                                },
                                children: S && t.jsx("img", {
                                    src: `/crates/${S}.png`,
                                    alt: ge(S),
                                    style: {
                                        width: "100%",
                                        height: "100%",
                                        objectFit: "contain",
                                        filter: `drop-shadow(0 0 20px ${S?fe(S):"#4A5568"}40)`
                                    }
                                })
                            })]
                        }), j && !P && t.jsx(T, {
                            sx: {
                                position: "absolute",
                                left: "-40px",
                                right: "-40px",
                                top: "50%",
                                transform: j && !P ? "translateY(-50%)" : "translateY(-30%)",
                                display: "flex",
                                alignItems: "center",
                                justifyContent: "center",
                                zIndex: 2,
                                opacity: j && !P ? 1 : 0,
                                transition: "opacity 0.3s ease-in-out, transform 0.4s ease-out"
                            },
                            children: t.jsx(T, {
                                sx: {
                                    width: "100%"
                                },
                                children: t.jsx(t2, {
                                    rewards: x && S && x.crates[S] ? x.crates[S].drops.map((le, Ce) => ({
                                        id: `${S}-${Ce}`,
                                        type: le.type,
                                        amount: le.amount,
                                        chance: le.probability * 100,
                                        imageSrc: le.type === "cash" ? "/icons/Icon_Solana.png" : void 0
                                    })) : [],
                                    selectedReward: j,
                                    onSpinComplete: ee,
                                    isMobile: a
                                })
                            })
                        }), P && t.jsxs(T, {
                            sx: {
                                position: "absolute",
                                width: "100%",
                                height: "100%",
                                display: "flex",
                                flexDirection: "column",
                                alignItems: "center",
                                justifyContent: "center",
                                zIndex: 2,
                                opacity: P ? 1 : 0,
                                transition: "opacity 0.4s ease-in-out, transform 0.5s ease-out",
                                transform: P ? "translateY(0px)" : "translateY(30px)",
                                animation: P ? "floatIn 0.6s ease-out" : void 0
                            },
                            children: [t.jsx($, {
                                variant: "h5",
                                component: "h3",
                                sx: {
                                    marginTop: "-80px",
                                    color: "#ffffff",
                                    fontSize: "22px",
                                    marginBottom: "20px",
                                    textTransform: "uppercase",
                                    letterSpacing: "1px",
                                    opacity: P ? 1 : 0,
                                    transition: "opacity 0.5s ease-in-out 0.2s, transform 0.6s ease-out 0.2s",
                                    transform: P ? "translateY(0px)" : "translateY(-15px)",
                                    animation: P ? "fadeSlideIn 0.7s ease-out 0.2s both" : void 0
                                },
                                children: "You received:"
                            }), t.jsxs(T, {
                                sx: {
                                    position: "relative",
                                    width: "140px",
                                    height: "140px",
                                    display: "flex",
                                    flexDirection: "column",
                                    alignItems: "center",
                                    justifyContent: "center",
                                    borderRadius: "50%",
                                    marginBottom: "20px",
                                    opacity: P ? 1 : 0,
                                    transition: "opacity 0.6s ease-in-out 0.3s, transform 0.7s ease-out 0.3s",
                                    transform: P ? "scale(1) translateY(0px)" : "scale(0.8) translateY(20px)",
                                    animation: P ? "bounceIn 0.8s ease-out 0.3s both" : void 0,
                                    ...ke(P)
                                },
                                children: [P.type === "cash" && t.jsx(T, {
                                    sx: {
                                        position: "absolute",
                                        top: 0,
                                        left: 0,
                                        width: "100%",
                                        height: "100%",
                                        display: "flex",
                                        alignItems: "center",
                                        justifyContent: "center",
                                        opacity: .15,
                                        zIndex: 1
                                    },
                                    children: t.jsx("img", {
                                        src: "/icons/Icon_Solana.png",
                                        alt: "SOL",
                                        style: {
                                            width: "75%",
                                            height: "75%",
                                            objectFit: "contain"
                                        }
                                    })
                                }), t.jsxs(T, {
                                    sx: {
                                        fontSize: "34px",
                                        fontWeight: "bold",
                                        display: "flex",
                                        alignItems: "center",
                                        justifyContent: "center",
                                        position: "relative",
                                        zIndex: 2,
                                        marginBottom: "4px",
                                        textShadow: P.type === "cash" && Number(P.amount) >= 30 ? "0 0 10px rgba(255, 255, 255, 0.6)" : "none"
                                    },
                                    children: [P.type === "cash" && t.jsx("img", {
                                        src: "/icons/Icon_Solana.png",
                                        alt: "SOL",
                                        style: {
                                            width: "30px",
                                            height: "30px",
                                            marginRight: "8px",
                                            filter: Number(P.amount) >= 30 ? "drop-shadow(0 0 5px rgba(255, 255, 255, 0.6))" : "none"
                                        }
                                    }), P.amount]
                                }), P.type !== "cash" && t.jsx(T, {
                                    sx: {
                                        fontSize: "18px",
                                        fontWeight: "normal",
                                        position: "relative",
                                        zIndex: 2,
                                        textTransform: "uppercase"
                                    },
                                    children: P.type
                                })]
                            }), t.jsx(Te, {
                                onClick: me,
                                variant: "contained",
                                sx: {
                                    background: "#00C853",
                                    borderRadius: "50px",
                                    padding: "12px 30px",
                                    color: "white",
                                    fontSize: "16px",
                                    cursor: "pointer",
                                    marginTop: "20px",
                                    transition: "all 0.2s ease, opacity 0.7s ease-in-out 0.5s, transform 0.8s ease-out 0.5s",
                                    boxShadow: "0 2px 5px rgba(0,0,0,0.2)",
                                    fontWeight: "bold",
                                    textTransform: "uppercase",
                                    letterSpacing: "1px",
                                    opacity: P ? 1 : 0,
                                    transform: P ? "translateY(0px)" : "translateY(25px)",
                                    animation: P ? "slideInUp 0.8s ease-out 0.5s both" : void 0,
                                    "&:hover": {
                                        backgroundColor: "#00B248",
                                        transform: P ? "scale(1.03) translateY(0px)" : "translateY(25px)"
                                    }
                                },
                                children: "Continue"
                            })]
                        })]
                    }), S && C && !_ && !j && !P && t.jsx(T, {
                        ref: F,
                        children: t.jsx(Zw, {
                            selectedCrateId: S,
                            selectedCrateName: re,
                            onClosePreview: ie,
                            onOpenCrate: ne,
                            isMobile: a,
                            isCooldownActive: Ee,
                            isLoggedIn: y
                        })
                    })]
                })]
            })]
        });
        return a ? _r.createPortal(t.jsxs(t.Fragment, {
            children: [t.jsx(T, {
                sx: {
                    position: "fixed",
                    top: 0,
                    left: 0,
                    right: 0,
                    bottom: 0,
                    width: "100vw",
                    height: "100vh",
                    backgroundColor: "rgba(0, 0, 0, 0.5)",
                    backdropFilter: "blur(4px)",
                    zIndex: 99999
                },
                onClick: s
            }), t.jsxs(T, {
                ref: q,
                sx: {
                    position: "fixed",
                    bottom: 0,
                    left: 0,
                    right: 0,
                    width: "100vw !important",
                    maxWidth: "100vw !important",
                    minWidth: "100vw",
                    borderTop: "1px solid var(--color-border)",
                    borderTopLeftRadius: V >= 98 ? "0px" : "20px",
                    borderTopRightRadius: V >= 98 ? "0px" : "20px",
                    paddingBottom: "env(safe-area-inset-bottom)",
                    paddingTop: V >= 98 ? "env(safe-area-inset-top)" : "0px",
                    backgroundColor: "var(--color-background)",
                    zIndex: 1e5,
                    maxHeight: `${V}vh`,
                    height: `${V}vh`,
                    boxShadow: "0 -4px 20px rgba(0, 0, 0, 0.3)",
                    overflow: "hidden",
                    display: "flex",
                    flexDirection: "column",
                    margin: 0,
                    transform: "translateZ(0)",
                    transition: H ? "none" : "height 0.3s ease-out, max-height 0.3s ease-out, border-radius 0.3s ease-out, padding-top 0.3s ease-out"
                },
                children: [t.jsx(T, {
                    onMouseDown: Ae,
                    onTouchStart: Ae,
                    onClick: qe,
                    sx: {
                        display: "flex",
                        justifyContent: "center",
                        alignItems: "center",
                        padding: "8px 0 4px 0",
                        cursor: "grab",
                        "&:active": {
                            cursor: "grabbing"
                        }
                    },
                    children: t.jsx(T, {
                        sx: {
                            width: "32px",
                            height: "4px",
                            backgroundColor: V >= 98 ? "var(--color-primary)" : "var(--color-muted-foreground)",
                            borderRadius: "2px",
                            transition: "background-color 0.2s ease"
                        }
                    })
                }), Re]
            })]
        }), document.body) : t.jsx(Da, {
            open: e,
            onClose: s,
            maxWidth: "md",
            fullWidth: !0,
            sx: {
                "& .MuiDialog-paper": {
                    height: "90vh",
                    maxHeight: "90vh",
                    backgroundColor: "var(--color-background)"
                }
            },
            children: t.jsx(Na, {
                dividers: !1,
                sx: {
                    padding: {
                        xs: "8px 12px",
                        sm: "20px 24px"
                    },
                    height: "calc(90vh - 0px)",
                    maxHeight: "calc(90vh - 0px)",
                    overflow: "auto",
                    display: "flex",
                    flexDirection: "column",
                    "&.MuiDialogContent-root": {
                        padding: {
                            xs: "8px 12px",
                            sm: "20px 24px"
                        }
                    }
                },
                children: Re
            })
        })
    },
    s2 = ({
        isMobile: e
    }) => {
        const [s, a] = m.useState(!1), r = Se(Ge.selectCurrent), {
            crateCooldown: l = null,
            crateKeys: d = {}
        } = r || {}, [u, h] = m.useState(0), f = m.useRef(null), p = m.useRef(null), y = (l == null ? void 0 : l.active) || !1, x = (l == null ? void 0 : l.cooldownEnds) || 0;
        m.useEffect(() => {
            if (f.current && (clearInterval(f.current), f.current = null), y && x > 0) {
                const j = Date.now();
                p.current = x;
                const A = x - j,
                    _ = Math.max(0, Math.ceil(A / 1e3));
                h(_), f.current = setInterval(() => {
                    const k = Date.now();
                    if (p.current && k < p.current) {
                        const D = p.current - k,
                            E = Math.ceil(D / 1e3);
                        h(Math.max(0, E))
                    } else h(0), p.current = null, f.current && (clearInterval(f.current), f.current = null)
                }, 1e3)
            } else h(0), p.current = null;
            return () => {
                f.current && (clearInterval(f.current), f.current = null)
            }
        }, [y, x]);
        const S = Object.values(d).reduce((j, A) => j + A, 0),
            v = () => {
                a(!0)
            },
            C = u > 0,
            w = !!r;
        return t.jsxs(t.Fragment, {
            children: [t.jsx(Te, {
                variant: "contained",
                color: "basic",
                onClick: v,
                "aria-label": "Open Crates",
                disableRipple: !0,
                children: t.jsxs(T, {
                    sx: {
                        display: "flex",
                        alignItems: "center",
                        gap: 1
                    },
                    children: ["CRATES", w && t.jsx(Qn, {
                        label: C ? Os(u) : S.toString(),
                        size: "small",
                        color: C ? "warning" : "success"
                    })]
                })
            }), t.jsx(ny, {
                open: s,
                onClose: () => a(!1),
                isMobile: e
            })]
        })
    };

function Sl(e) {
    return ot({
        attr: {
            viewBox: "0 0 640 512"
        },
        child: [{
            tag: "path",
            attr: {
                d: "M524.531,69.836a1.5,1.5,0,0,0-.764-.7A485.065,485.065,0,0,0,404.081,32.03a1.816,1.816,0,0,0-1.923.91,337.461,337.461,0,0,0-14.9,30.6,447.848,447.848,0,0,0-134.426,0,309.541,309.541,0,0,0-15.135-30.6,1.89,1.89,0,0,0-1.924-.91A483.689,483.689,0,0,0,116.085,69.137a1.712,1.712,0,0,0-.788.676C39.068,183.651,18.186,294.69,28.43,404.354a2.016,2.016,0,0,0,.765,1.375A487.666,487.666,0,0,0,176.02,479.918a1.9,1.9,0,0,0,2.063-.676A348.2,348.2,0,0,0,208.12,430.4a1.86,1.86,0,0,0-1.019-2.588,321.173,321.173,0,0,1-45.868-21.853,1.885,1.885,0,0,1-.185-3.126c3.082-2.309,6.166-4.711,9.109-7.137a1.819,1.819,0,0,1,1.9-.256c96.229,43.917,200.41,43.917,295.5,0a1.812,1.812,0,0,1,1.924.233c2.944,2.426,6.027,4.851,9.132,7.16a1.884,1.884,0,0,1-.162,3.126,301.407,301.407,0,0,1-45.89,21.83,1.875,1.875,0,0,0-1,2.611,391.055,391.055,0,0,0,30.014,48.815,1.864,1.864,0,0,0,2.063.7A486.048,486.048,0,0,0,610.7,405.729a1.882,1.882,0,0,0,.765-1.352C623.729,277.594,590.933,167.465,524.531,69.836ZM222.491,337.58c-28.972,0-52.844-26.587-52.844-59.239S193.056,219.1,222.491,219.1c29.665,0,53.306,26.82,52.843,59.239C275.334,310.993,251.924,337.58,222.491,337.58Zm195.38,0c-28.971,0-52.843-26.587-52.843-59.239S388.437,219.1,417.871,219.1c29.667,0,53.307,26.82,52.844,59.239C470.715,310.993,447.538,337.58,417.871,337.58Z"
            },
            child: []
        }]
    })(e)
}

function sy(e) {
    return ot({
        attr: {
            viewBox: "0 0 496 512"
        },
        child: [{
            tag: "path",
            attr: {
                d: "M248 8C111 8 0 119 0 256s111 248 248 248 248-111 248-248S385 8 248 8zm121.8 169.9l-40.7 191.8c-3 13.6-11.1 16.9-22.4 10.5l-62-45.7-29.9 28.8c-3.3 3.3-6.1 6.1-12.5 6.1l4.4-63.1 114.9-103.8c5-4.4-1.1-6.9-7.7-2.5l-142 89.4-61.2-19.1c-13.3-4.2-13.6-13.3 2.8-19.7l239.1-92.2c11.1-4 20.8 2.7 17.2 19.5z"
            },
            child: []
        }]
    })(e)
}

function Yh(e) {
    return ot({
        attr: {
            viewBox: "0 0 448 512"
        },
        child: [{
            tag: "path",
            attr: {
                d: "M257.5 445.1l-22.2 22.2c-9.4 9.4-24.6 9.4-33.9 0L7 273c-9.4-9.4-9.4-24.6 0-33.9L201.4 44.7c9.4-9.4 24.6-9.4 33.9 0l22.2 22.2c9.5 9.5 9.3 25-.4 34.3L136.6 216H424c13.3 0 24 10.7 24 24v32c0 13.3-10.7 24-24 24H136.6l120.5 114.8c9.8 9.3 10 24.8.4 34.3z"
            },
            child: []
        }]
    })(e)
}

function a0(e) {
    return ot({
        attr: {
            viewBox: "0 0 512 512"
        },
        child: [{
            tag: "path",
            attr: {
                d: "M496 384H64V80c0-8.84-7.16-16-16-16H16C7.16 64 0 71.16 0 80v336c0 17.67 14.33 32 32 32h464c8.84 0 16-7.16 16-16v-32c0-8.84-7.16-16-16-16zM464 96H345.94c-21.38 0-32.09 25.85-16.97 40.97l32.4 32.4L288 242.75l-73.37-73.37c-12.5-12.5-32.76-12.5-45.25 0l-68.69 68.69c-6.25 6.25-6.25 16.38 0 22.63l22.62 22.62c6.25 6.25 16.38 6.25 22.63 0L192 237.25l73.37 73.37c12.5 12.5 32.76 12.5 45.25 0l96-96 32.4 32.4c15.12 15.12 40.97 4.41 40.97-16.97V112c.01-8.84-7.15-16-15.99-16z"
            },
            child: []
        }]
    })(e)
}

function zf(e) {
    return ot({
        attr: {
            viewBox: "0 0 512 512"
        },
        child: [{
            tag: "path",
            attr: {
                d: "M504 256c0 136.967-111.033 248-248 248S8 392.967 8 256 119.033 8 256 8s248 111.033 248 248zM227.314 387.314l184-184c6.248-6.248 6.248-16.379 0-22.627l-22.627-22.627c-6.248-6.249-16.379-6.249-22.628 0L216 308.118l-70.059-70.059c-6.248-6.248-16.379-6.248-22.628 0l-22.627 22.627c-6.248 6.248-6.248 16.379 0 22.627l104 104c6.249 6.249 16.379 6.249 22.628.001z"
            },
            child: []
        }]
    })(e)
}

function Cl(e) {
    return ot({
        attr: {
            viewBox: "0 0 512 512"
        },
        child: [{
            tag: "path",
            attr: {
                d: "M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206 0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204 0L192 312.69 432.095 72.596c9.997-9.997 26.207-9.997 36.204 0l36.203 36.204c9.997 9.997 9.997 26.206 0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z"
            },
            child: []
        }]
    })(e)
}

function i2(e) {
    return ot({
        attr: {
            viewBox: "0 0 448 512"
        },
        child: [{
            tag: "path",
            attr: {
                d: "M207.029 381.476L12.686 187.132c-9.373-9.373-9.373-24.569 0-33.941l22.667-22.667c9.357-9.357 24.522-9.375 33.901-.04L224 284.505l154.745-154.021c9.379-9.335 24.544-9.317 33.901.04l22.667 22.667c9.373 9.373 9.373 24.569 0 33.941L240.971 381.476c-9.373 9.372-24.569 9.372-33.942 0z"
            },
            child: []
        }]
    })(e)
}

function iy(e) {
    return ot({
        attr: {
            viewBox: "0 0 320 512"
        },
        child: [{
            tag: "path",
            attr: {
                d: "M34.52 239.03L228.87 44.69c9.37-9.37 24.57-9.37 33.94 0l22.67 22.67c9.36 9.36 9.37 24.52.04 33.9L131.49 256l154.02 154.75c9.34 9.38 9.32 24.54-.04 33.9l-22.67 22.67c-9.37 9.37-24.57 9.37-33.94 0L34.52 272.97c-9.37-9.37-9.37-24.57 0-33.94z"
            },
            child: []
        }]
    })(e)
}

function ay(e) {
    return ot({
        attr: {
            viewBox: "0 0 320 512"
        },
        child: [{
            tag: "path",
            attr: {
                d: "M285.476 272.971L91.132 467.314c-9.373 9.373-24.569 9.373-33.941 0l-22.667-22.667c-9.357-9.357-9.375-24.522-.04-33.901L188.505 256 34.484 101.255c-9.335-9.379-9.317-24.544.04-33.901l22.667-22.667c9.373-9.373 24.569-9.373 33.941 0L285.475 239.03c9.373 9.372 9.373 24.568.001 33.941z"
            },
            child: []
        }]
    })(e)
}

function jr(e) {
    return ot({
        attr: {
            viewBox: "0 0 512 512"
        },
        child: [{
            tag: "path",
            attr: {
                d: "M256,8C119,8,8,119,8,256S119,504,256,504,504,393,504,256,393,8,256,8Zm92.49,313h0l-20,25a16,16,0,0,1-22.49,2.5h0l-67-49.72a40,40,0,0,1-15-31.23V112a16,16,0,0,1,16-16h32a16,16,0,0,1,16,16V256l58,42.5A16,16,0,0,1,348.49,321Z"
            },
            child: []
        }]
    })(e)
}

function a2(e) {
    return ot({
        attr: {
            viewBox: "0 0 512 512"
        },
        child: [{
            tag: "path",
            attr: {
                d: "M0 405.3V448c0 35.3 86 64 192 64s192-28.7 192-64v-42.7C342.7 434.4 267.2 448 192 448S41.3 434.4 0 405.3zM320 128c106 0 192-28.7 192-64S426 0 320 0 128 28.7 128 64s86 64 192 64zM0 300.4V352c0 35.3 86 64 192 64s192-28.7 192-64v-51.6c-41.3 34-116.9 51.6-192 51.6S41.3 334.4 0 300.4zm416 11c57.3-11.1 96-31.7 96-55.4v-42.7c-23.2 16.4-57.3 27.6-96 34.5v63.6zM192 160C86 160 0 195.8 0 240s86 80 192 80 192-35.8 192-80-86-80-192-80zm219.3 56.3c60-10.8 100.7-32 100.7-56.3v-42.7c-35.5 25.1-96.5 38.6-160.7 41.8 29.5 14.3 51.2 33.5 60 57.2z"
            },
            child: []
        }]
    })(e)
}

function Cd(e) {
    return ot({
        attr: {
            viewBox: "0 0 448 512"
        },
        child: [{
            tag: "path",
            attr: {
                d: "M320 448v40c0 13.255-10.745 24-24 24H24c-13.255 0-24-10.745-24-24V120c0-13.255 10.745-24 24-24h72v296c0 30.879 25.121 56 56 56h168zm0-344V0H152c-13.255 0-24 10.745-24 24v368c0 13.255 10.745 24 24 24h272c13.255 0 24-10.745 24-24V128H344c-13.2 0-24-10.8-24-24zm120.971-31.029L375.029 7.029A24 24 0 0 0 358.059 0H352v96h96v-6.059a24 24 0 0 0-7.029-16.97z"
            },
            child: []
        }]
    })(e)
}

function ud(e) {
    return ot({
        attr: {
            viewBox: "0 0 640 512"
        },
        child: [{
            tag: "path",
            attr: {
                d: "M528 448H112c-8.8 0-16 7.2-16 16v32c0 8.8 7.2 16 16 16h416c8.8 0 16-7.2 16-16v-32c0-8.8-7.2-16-16-16zm64-320c-26.5 0-48 21.5-48 48 0 7.1 1.6 13.7 4.4 19.8L476 239.2c-15.4 9.2-35.3 4-44.2-11.6L350.3 85C361 76.2 368 63 368 48c0-26.5-21.5-48-48-48s-48 21.5-48 48c0 15 7 28.2 17.7 37l-81.5 142.6c-8.9 15.6-28.9 20.8-44.2 11.6l-72.3-43.4c2.7-6 4.4-12.7 4.4-19.8 0-26.5-21.5-48-48-48S0 149.5 0 176s21.5 48 48 48c2.6 0 5.2-.4 7.7-.8L128 416h384l72.3-192.8c2.5.4 5.1.8 7.7.8 26.5 0 48-21.5 48-48s-21.5-48-48-48z"
            },
            child: []
        }]
    })(e)
}

function r2(e) {
    return ot({
        attr: {
            viewBox: "0 0 512 512"
        },
        child: [{
            tag: "path",
            attr: {
                d: "M216 0h80c13.3 0 24 10.7 24 24v168h87.7c17.8 0 26.7 21.5 14.1 34.1L269.7 378.3c-7.5 7.5-19.8 7.5-27.3 0L90.1 226.1c-12.6-12.6-3.7-34.1 14.1-34.1H192V24c0-13.3 10.7-24 24-24zm296 376v112c0 13.3-10.7 24-24 24H24c-13.3 0-24-10.7-24-24V376c0-13.3 10.7-24 24-24h146.7l49 49c20.1 20.1 52.5 20.1 72.6 0l49-49H488c13.3 0 24 10.7 24 24zm-124 88c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20zm64 0c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20z"
            },
            child: []
        }]
    })(e)
}

function o2(e) {
    return ot({
        attr: {
            viewBox: "0 0 576 512"
        },
        child: [{
            tag: "path",
            attr: {
                d: "M402.6 83.2l90.2 90.2c3.8 3.8 3.8 10 0 13.8L274.4 405.6l-92.8 10.3c-12.4 1.4-22.9-9.1-21.5-21.5l10.3-92.8L388.8 83.2c3.8-3.8 10-3.8 13.8 0zm162-22.9l-48.8-48.8c-15.2-15.2-39.9-15.2-55.2 0l-35.4 35.4c-3.8 3.8-3.8 10 0 13.8l90.2 90.2c3.8 3.8 10 3.8 13.8 0l35.4-35.4c15.2-15.3 15.2-40 0-55.2zM384 346.2V448H64V128h229.8c3.2 0 6.2-1.3 8.5-3.5l40-40c7.6-7.6 2.2-20.5-8.5-20.5H48C21.5 64 0 85.5 0 112v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V306.2c0-10.7-12.9-16-20.5-8.5l-40 40c-2.2 2.3-3.5 5.3-3.5 8.5z"
            },
            child: []
        }]
    })(e)
}

function Ff(e) {
    return ot({
        attr: {
            viewBox: "0 0 576 512"
        },
        child: [{
            tag: "path",
            attr: {
                d: "M569.517 440.013C587.975 472.007 564.806 512 527.94 512H48.054c-36.937 0-59.999-40.055-41.577-71.987L246.423 23.985c18.467-32.009 64.72-31.951 83.154 0l239.94 416.028zM288 354c-25.405 0-46 20.595-46 46s20.595 46 46 46 46-20.595 46-46-20.595-46-46-46zm-43.673-165.346l7.418 136c.347 6.364 5.609 11.346 11.982 11.346h48.546c6.373 0 11.635-4.982 11.982-11.346l7.418-136c.375-6.874-5.098-12.654-11.982-12.654h-63.383c-6.884 0-12.356 5.78-11.981 12.654z"
            },
            child: []
        }]
    })(e)
}

function l2(e) {
    return ot({
        attr: {
            viewBox: "0 0 512 512"
        },
        child: [{
            tag: "path",
            attr: {
                d: "M432,320H400a16,16,0,0,0-16,16V448H64V128H208a16,16,0,0,0,16-16V80a16,16,0,0,0-16-16H48A48,48,0,0,0,0,112V464a48,48,0,0,0,48,48H400a48,48,0,0,0,48-48V336A16,16,0,0,0,432,320ZM488,0h-128c-21.37,0-32.05,25.91-17,41l35.73,35.73L135,320.37a24,24,0,0,0,0,34L157.67,377a24,24,0,0,0,34,0L435.28,133.32,471,169c15,15,41,4.5,41-17V24A24,24,0,0,0,488,0Z"
            },
            child: []
        }]
    })(e)
}

function c2(e) {
    return ot({
        attr: {
            viewBox: "0 0 576 512"
        },
        child: [{
            tag: "path",
            attr: {
                d: "M572.52 241.4C518.29 135.59 410.93 64 288 64S57.68 135.64 3.48 241.41a32.35 32.35 0 0 0 0 29.19C57.71 376.41 165.07 448 288 448s230.32-71.64 284.52-177.41a32.35 32.35 0 0 0 0-29.19zM288 400a144 144 0 1 1 144-144 143.93 143.93 0 0 1-144 144zm0-240a95.31 95.31 0 0 0-25.31 3.79 47.85 47.85 0 0 1-66.9 66.9A95.78 95.78 0 1 0 288 160z"
            },
            child: []
        }]
    })(e)
}

function d2(e) {
    return ot({
        attr: {
            viewBox: "0 0 512 512"
        },
        child: [{
            tag: "path",
            attr: {
                d: "M32 448c0 17.7 14.3 32 32 32h160V320H32v128zm256 32h160c17.7 0 32-14.3 32-32V320H288v160zm192-320h-42.1c6.2-12.1 10.1-25.5 10.1-40 0-48.5-39.5-88-88-88-41.6 0-68.5 21.3-103 68.3-34.5-47-61.4-68.3-103-68.3-48.5 0-88 39.5-88 88 0 14.5 3.8 27.9 10.1 40H32c-17.7 0-32 14.3-32 32v80c0 8.8 7.2 16 16 16h480c8.8 0 16-7.2 16-16v-80c0-17.7-14.3-32-32-32zm-326.1 0c-22.1 0-40-17.9-40-40s17.9-40 40-40c19.9 0 34.6 3.3 86.1 80h-86.1zm206.1 0h-86.1c51.4-76.5 65.7-80 86.1-80 22.1 0 40 17.9 40 40s-17.9 40-40 40z"
            },
            child: []
        }]
    })(e)
}

function u2(e) {
    return ot({
        attr: {
            viewBox: "0 0 512 512"
        },
        child: [{
            tag: "path",
            attr: {
                d: "M256 8C119.043 8 8 119.083 8 256c0 136.997 111.043 248 248 248s248-111.003 248-248C504 119.083 392.957 8 256 8zm0 110c23.196 0 42 18.804 42 42s-18.804 42-42 42-42-18.804-42-42 18.804-42 42-42zm56 254c0 6.627-5.373 12-12 12h-88c-6.627 0-12-5.373-12-12v-24c0-6.627 5.373-12 12-12h12v-64h-12c-6.627 0-12-5.373-12-12v-24c0-6.627 5.373-12 12-12h64c6.627 0 12 5.373 12 12v100h12c6.627 0 12 5.373 12 12v24z"
            },
            child: []
        }]
    })(e)
}

function r0(e) {
    return ot({
        attr: {
            viewBox: "0 0 448 512"
        },
        child: [{
            tag: "path",
            attr: {
                d: "M400 224h-24v-72C376 68.2 307.8 0 224 0S72 68.2 72 152v72H48c-26.5 0-48 21.5-48 48v192c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V272c0-26.5-21.5-48-48-48zm-104 0H152v-72c0-39.7 32.3-72 72-72s72 32.3 72 72v72z"
            },
            child: []
        }]
    })(e)
}

function h2(e) {
    return ot({
        attr: {
            viewBox: "0 0 512 512"
        },
        child: [{
            tag: "path",
            attr: {
                d: "M476 3.2L12.5 270.6c-18.1 10.4-15.8 35.6 2.2 43.2L121 358.4l287.3-253.2c5.5-4.9 13.3 2.6 8.6 8.3L176 407v80.5c0 23.6 28.5 32.9 42.5 15.8L282 426l124.6 52.2c14.2 6 30.4-2.9 33-18.2l72-432C515 7.8 493.3-6.8 476 3.2z"
            },
            child: []
        }]
    })(e)
}

function f2(e) {
    return ot({
        attr: {
            viewBox: "0 0 512 512"
        },
        child: [{
            tag: "path",
            attr: {
                d: "M505 442.7L405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c48.3 0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9 0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7 0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7 0 128 57.2 128 128 0 70.7-57.2 128-128 128z"
            },
            child: []
        }]
    })(e)
}

function gf(e) {
    return ot({
        attr: {
            viewBox: "0 0 512 512"
        },
        child: [{
            tag: "path",
            attr: {
                d: "M497 273L329 441c-15 15-41 4.5-41-17v-96H152c-13.3 0-24-10.7-24-24v-96c0-13.3 10.7-24 24-24h136V88c0-21.4 25.9-32 41-17l168 168c9.3 9.4 9.3 24.6 0 34zM192 436v-40c0-6.6-5.4-12-12-12H96c-17.7 0-32-14.3-32-32V160c0-17.7 14.3-32 32-32h84c6.6 0 12-5.4 12-12V76c0-6.6-5.4-12-12-12H96c-53 0-96 43-96 96v192c0 53 43 96 96 96h84c6.6 0 12-5.4 12-12z"
            },
            child: []
        }]
    })(e)
}

function p2(e) {
    return ot({
        attr: {
            viewBox: "0 0 512 512"
        },
        child: [{
            tag: "path",
            attr: {
                d: "M304 48c0 26.51-21.49 48-48 48s-48-21.49-48-48 21.49-48 48-48 48 21.49 48 48zm-48 368c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.49-48-48-48zm208-208c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.49-48-48-48zM96 256c0-26.51-21.49-48-48-48S0 229.49 0 256s21.49 48 48 48 48-21.49 48-48zm12.922 99.078c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48c0-26.509-21.491-48-48-48zm294.156 0c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48c0-26.509-21.49-48-48-48zM108.922 60.922c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.491-48-48-48z"
            },
            child: []
        }]
    })(e)
}

function g2(e) {
    return ot({
        attr: {
            viewBox: "0 0 576 512"
        },
        child: [{
            tag: "path",
            attr: {
                d: "M259.3 17.8L194 150.2 47.9 171.5c-26.2 3.8-36.7 36.1-17.7 54.6l105.7 103-25 145.5c-4.5 26.3 23.2 46 46.4 33.7L288 439.6l130.7 68.7c23.2 12.2 50.9-7.4 46.4-33.7l-25-145.5 105.7-103c19-18.5 8.5-50.8-17.7-54.6L382 150.2 316.7 17.8c-11.7-23.6-45.6-23.9-57.4 0z"
            },
            child: []
        }]
    })(e)
}

function Lr(e) {
    return ot({
        attr: {
            viewBox: "0 0 352 512"
        },
        child: [{
            tag: "path",
            attr: {
                d: "M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z"
            },
            child: []
        }]
    })(e)
}

function o0(e) {
    return ot({
        attr: {
            viewBox: "0 0 448 512"
        },
        child: [{
            tag: "path",
            attr: {
                d: "M432 32H312l-9.4-18.7A24 24 0 0 0 281.1 0H166.8a23.72 23.72 0 0 0-21.4 13.3L136 32H16A16 16 0 0 0 0 48v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16V48a16 16 0 0 0-16-16zM53.2 467a48 48 0 0 0 47.9 45h245.8a48 48 0 0 0 47.9-45L416 128H32z"
            },
            child: []
        }]
    })(e)
}

function m2(e) {
    return ot({
        attr: {
            viewBox: "0 0 512 512"
        },
        child: [{
            tag: "path",
            attr: {
                d: "M304.083 405.907c4.686 4.686 4.686 12.284 0 16.971l-44.674 44.674c-59.263 59.262-155.693 59.266-214.961 0-59.264-59.265-59.264-155.696 0-214.96l44.675-44.675c4.686-4.686 12.284-4.686 16.971 0l39.598 39.598c4.686 4.686 4.686 12.284 0 16.971l-44.675 44.674c-28.072 28.073-28.072 73.75 0 101.823 28.072 28.072 73.75 28.073 101.824 0l44.674-44.674c4.686-4.686 12.284-4.686 16.971 0l39.597 39.598zm-56.568-260.216c4.686 4.686 12.284 4.686 16.971 0l44.674-44.674c28.072-28.075 73.75-28.073 101.824 0 28.072 28.073 28.072 73.75 0 101.823l-44.675 44.674c-4.686 4.686-4.686 12.284 0 16.971l39.598 39.598c4.686 4.686 12.284 4.686 16.971 0l44.675-44.675c59.265-59.265 59.265-155.695 0-214.96-59.266-59.264-155.695-59.264-214.961 0l-44.674 44.674c-4.686 4.686-4.686 12.284 0 16.971l39.597 39.598zm234.828 359.28l22.627-22.627c9.373-9.373 9.373-24.569 0-33.941L63.598 7.029c-9.373-9.373-24.569-9.373-33.941 0L7.029 29.657c-9.373 9.373-9.373 24.569 0 33.941l441.373 441.373c9.373 9.372 24.569 9.372 33.941 0z"
            },
            child: []
        }]
    })(e)
}

function x2(e) {
    return ot({
        attr: {
            viewBox: "0 0 448 512"
        },
        child: [{
            tag: "path",
            attr: {
                d: "M400 256H152V152.9c0-39.6 31.7-72.5 71.3-72.9 40-.4 72.7 32.1 72.7 72v16c0 13.3 10.7 24 24 24h32c13.3 0 24-10.7 24-24v-16C376 68 307.5-.3 223.5 0 139.5.3 72 69.5 72 153.5V256H48c-26.5 0-48 21.5-48 48v160c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V304c0-26.5-21.5-48-48-48z"
            },
            child: []
        }]
    })(e)
}

function y2(e) {
    return ot({
        attr: {
            viewBox: "0 0 640 512"
        },
        child: [{
            tag: "path",
            attr: {
                d: "M224 256c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm89.6 32h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-74.2-60.2-134.4-134.4-134.4zm323-128.4l-27.8-28.1c-4.6-4.7-12.1-4.7-16.8-.1l-104.8 104-45.5-45.8c-4.6-4.7-12.1-4.7-16.8-.1l-28.1 27.9c-4.7 4.6-4.7 12.1-.1 16.8l81.7 82.3c4.6 4.7 12.1 4.7 16.8.1l141.3-140.2c4.6-4.7 4.7-12.2.1-16.8z"
            },
            child: []
        }]
    })(e)
}

function mf(e) {
    return ot({
        attr: {
            viewBox: "0 0 640 512"
        },
        child: [{
            tag: "path",
            attr: {
                d: "M96 224c35.3 0 64-28.7 64-64s-28.7-64-64-64-64 28.7-64 64 28.7 64 64 64zm448 0c35.3 0 64-28.7 64-64s-28.7-64-64-64-64 28.7-64 64 28.7 64 64 64zm32 32h-64c-17.6 0-33.5 7.1-45.1 18.6 40.3 22.1 68.9 62 75.1 109.4h66c17.7 0 32-14.3 32-32v-32c0-35.3-28.7-64-64-64zm-256 0c61.9 0 112-50.1 112-112S381.9 32 320 32 208 82.1 208 144s50.1 112 112 112zm76.8 32h-8.3c-20.8 10-43.9 16-68.5 16s-47.6-6-68.5-16h-8.3C179.6 288 128 339.6 128 403.2V432c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48v-28.8c0-63.6-51.6-115.2-115.2-115.2zm-223.7-13.4C161.5 263.1 145.6 256 128 256H64c-35.3 0-64 28.7-64 64v32c0 17.7 14.3 32 32 32h65.9c6.3-47.4 34.9-87.3 75.2-109.4z"
            },
            child: []
        }]
    })(e)
}

function b2(e) {
    return ot({
        attr: {
            viewBox: "0 0 512 512"
        },
        child: [{
            tag: "path",
            attr: {
                d: "M215.03 71.05L126.06 160H24c-13.26 0-24 10.74-24 24v144c0 13.25 10.74 24 24 24h102.06l88.97 88.95c15.03 15.03 40.97 4.47 40.97-16.97V88.02c0-21.46-25.96-31.98-40.97-16.97zM461.64 256l45.64-45.64c6.3-6.3 6.3-16.52 0-22.82l-22.82-22.82c-6.3-6.3-16.52-6.3-22.82 0L416 210.36l-45.64-45.64c-6.3-6.3-16.52-6.3-22.82 0l-22.82 22.82c-6.3 6.3-6.3 16.52 0 22.82L370.36 256l-45.63 45.63c-6.3 6.3-6.3 16.52 0 22.82l22.82 22.82c6.3 6.3 16.52 6.3 22.82 0L416 301.64l45.64 45.64c6.3 6.3 16.52 6.3 22.82 0l22.82-22.82c6.3-6.3 6.3-16.52 0-22.82L461.64 256z"
            },
            child: []
        }]
    })(e)
}
const v2 = ({
        children: e,
        size: s,
        color: a,
        transparentBackground: r = !1,
        badgeOnly: l = !1,
        leaderboard: d = !1
    }) => {
        const u = a.startsWith("linear-gradient"),
            h = r && !u || l;
        return t.jsx(T, {
            className: `level-badge level-badge-${s} ${l?"level-badge-only":""}`,
            sx: {
                background: h ? "transparent" : a,
                padding: d ? "2px 4px" : void 0,
                borderRadius: "4px"
            },
            children: e
        })
    },
    S2 = ({
        level: e,
        size: s
    }) => t.jsx(T, {
        component: "span",
        className: `level-badge-text level-badge-text-${s}`,
        children: e
    }),
    ds = m.memo(({
        level: e,
        size: s = "small",
        showLevel: a = !0,
        badgeOnly: r = !1,
        transparentBackground: l = !1,
        leaderboard: d = !1
    }) => {
        const u = Mf(e);
        return t.jsxs(v2, {
            size: s,
            color: u.color,
            transparentBackground: l,
            badgeOnly: r,
            leaderboard: d,
            children: [t.jsx(Bf, {
                level: e,
                size: s
            }), a && !r && t.jsx(S2, {
                level: e,
                size: s
            })]
        })
    }),
    ry = ds,
    C2 = ({
        current: e,
        max: s,
        percentage: a,
        compact: r = !1,
        showLabels: l = !1,
        className: d = ""
    }) => {
        const u = Math.min(100, Math.max(0, a));
        return t.jsxs(T, {
            className: `xp-progress-bar ${r?"xp-progress-bar--compact":""} ${d}`,
            sx: {
                flex: 1,
                minWidth: r ? "60px" : "80px",
                display: "flex",
                flexDirection: "column",
                gap: l ? "2px" : 0
            },
            children: [t.jsx(T, {
                className: "xp-progress-bar__container",
                sx: {
                    width: "100%"
                },
                children: t.jsx(kf, {
                    variant: "determinate",
                    value: u,
                    sx: {
                        height: r ? 4 : 6,
                        borderRadius: 3,
                        backgroundColor: "#333333",
                        "& .MuiLinearProgress-bar": {
                            background: "linear-gradient(90deg, #56E9FF, #FBEDB9)",
                            borderRadius: 3
                        }
                    }
                })
            }), l && t.jsxs(T, {
                className: "xp-progress-bar__labels",
                sx: {
                    display: "flex",
                    justifyContent: "space-between",
                    alignItems: "center",
                    marginTop: "2px"
                },
                children: [t.jsx($, {
                    variant: "caption",
                    className: "xp-progress-bar__current",
                    sx: {
                        fontSize: "10px",
                        color: "#AAAAAA"
                    },
                    children: e
                }), t.jsx($, {
                    variant: "caption",
                    className: "xp-progress-bar__max",
                    sx: {
                        fontSize: "10px",
                        color: "#AAAAAA"
                    },
                    children: s
                })]
            })]
        })
    },
    w2 = ({
        isExpanded: e,
        onToggle: s,
        level: a,
        currentXp: r,
        xpForNextLevel: l,
        progressPercentage: d,
        compact: u = !1,
        isMobile: h = !1
    }) => {
        const f = window.innerWidth < 450,
            p = u ? "medium" : "large",
            y = f ? `Lvl ${a}` : `Level ${a}`;
        return t.jsxs("button", {
            onClick: s,
            style: {
                display: "flex",
                alignItems: "center",
                background: "transparent",
                border: "none",
                borderRadius: "6px",
                padding: "4px 6px",
                cursor: "pointer",
                transition: "all 0.2s ease",
                gap: u ? "6px" : "8px",
                minWidth: f ? "100px" : "140px",
                flexShrink: 0,
                ...f && {
                    gap: "4px",
                    padding: "3px 4px"
                }
            },
            onMouseEnter: x => {
                x.currentTarget.style.backgroundColor = "#232329"
            },
            onMouseLeave: x => {
                x.currentTarget.style.backgroundColor = "transparent"
            },
            children: [t.jsx(T, {
                sx: {
                    flexShrink: 0
                },
                children: t.jsx(ds, {
                    level: a,
                    size: p,
                    badgeOnly: !0,
                    transparentBackground: !0,
                    showLevel: !1
                })
            }), t.jsxs(T, {
                sx: {
                    display: "flex",
                    flexDirection: "column",
                    alignItems: "flex-start",
                    gap: "2px",
                    flex: 1,
                    minWidth: 0
                },
                children: [t.jsx(T, {
                    sx: {
                        flexShrink: 0
                    },
                    children: t.jsx($, {
                        variant: "body2",
                        sx: {
                            background: "linear-gradient(to right, #51A2FF, #FBEDB9)",
                            WebkitBackgroundClip: "text",
                            WebkitTextFillColor: "transparent",
                            backgroundClip: "text",
                            fontSize: "0.875rem",
                            fontWeight: 600,
                            lineHeight: 1,
                            whiteSpace: "nowrap"
                        },
                        children: y
                    })
                }), t.jsx(T, {
                    sx: {
                        display: "flex",
                        width: "100%",
                        maxWidth: f ? "60px" : "90px",
                        height: "6px",
                        "& .MuiLinearProgress-root": {
                            height: "6px"
                        }
                    },
                    children: t.jsx(C2, {
                        current: r,
                        max: l,
                        percentage: d,
                        compact: u
                    })
                })]
            })]
        })
    },
    T2 = ({
        isExpanded: e,
        level: s,
        currentXp: a,
        xpForNextLevel: r,
        totalXP: l,
        xpToNextLevel: d,
        progressPercentage: u,
        isMobile: h = !1
    }) => {
        var p;
        if (!e) return null;
        const f = ks(s);
        return (p = Mt[f]) != null && p.name, t.jsxs("div", {
            style: {
                position: "absolute",
                top: "100%",
                left: "50%",
                transform: "translateX(-50%)",
                marginTop: "8px",
                backgroundColor: "#1E202A",
                border: "1px solid #3A3D4A",
                borderRadius: "12px",
                padding: "0",
                zIndex: 1e3,
                boxShadow: "0 8px 32px rgba(0, 0, 0, 0.3)",
                width: h ? "280px" : "300px",
                color: "#FFFFFF",
                overflow: "hidden"
            },
            children: [t.jsxs("div", {
                style: {
                    display: "flex",
                    alignItems: "center",
                    justifyContent: "space-between",
                    padding: "16px 20px 12px 20px",
                    borderBottom: "1px solid #3A3D4A"
                },
                children: [t.jsx("div", {
                    children: t.jsx("h3", {
                        style: {
                            margin: "0",
                            fontSize: "18px",
                            fontWeight: "700",
                            background: "linear-gradient(90deg, #ffc700, #ef7104)",
                            WebkitBackgroundClip: "text",
                            WebkitTextFillColor: "transparent",
                            letterSpacing: "0.5px",
                            whiteSpace: "nowrap"
                        },
                        children: "XP INFORMATION"
                    })
                }), t.jsx("div", {
                    style: {
                        display: "flex",
                        alignItems: "center",
                        gap: "8px"
                    },
                    children: t.jsx(ds, {
                        level: s,
                        size: "small",
                        showLevel: !0
                    })
                })]
            }), t.jsxs("div", {
                style: {
                    padding: "16px",
                    minHeight: "120px",
                    maxHeight: "300px",
                    overflowY: "auto"
                },
                children: [t.jsxs(T, {
                    sx: {
                        marginBottom: "16px"
                    },
                    children: [t.jsxs($, {
                        variant: "body2",
                        sx: {
                            color: "#8E8E93",
                            fontSize: "14px",
                            marginBottom: "4px",
                            textAlign: "center"
                        },
                        children: ["Current Progress: ", t.jsxs($, {
                            component: "span",
                            sx: {
                                color: "#3B82F6",
                                fontWeight: "600",
                                fontSize: "14px"
                            },
                            children: [u.toFixed(1), "%"]
                        })]
                    }), t.jsx($, {
                        variant: "body2",
                        sx: {
                            color: "#8E8E93",
                            fontSize: "13px",
                            marginBottom: "8px",
                            textAlign: "center"
                        },
                        children: t.jsxs($, {
                            component: "span",
                            sx: {
                                color: "#FFFFFF",
                                fontWeight: "600"
                            },
                            children: [a.toLocaleString(), "/", r.toLocaleString(), " XP"]
                        })
                    }), t.jsx(T, {
                        sx: {
                            display: "flex",
                            alignItems: "center",
                            gap: "12px"
                        },
                        children: t.jsx(T, {
                            sx: {
                                flex: 1,
                                height: "8px",
                                backgroundColor: "#272935",
                                borderRadius: "4px",
                                overflow: "hidden"
                            },
                            children: t.jsx(T, {
                                sx: {
                                    height: "100%",
                                    background: "linear-gradient(90deg, #51A2FF, #FBEDB9)",
                                    borderRadius: "4px",
                                    transition: "width 0.3s ease",
                                    width: `${u}%`
                                }
                            })
                        })
                    })]
                }), t.jsxs(T, {
                    sx: {
                        marginBottom: "16px",
                        padding: "12px",
                        backgroundColor: "#272935",
                        borderRadius: "6px",
                        border: "1px solid #3A3D4A"
                    },
                    children: [t.jsxs(T, {
                        sx: {
                            display: "flex",
                            justifyContent: "space-between",
                            marginBottom: "6px",
                            fontSize: "13px"
                        },
                        children: [t.jsx($, {
                            variant: "body2",
                            sx: {
                                color: "#8E8E93",
                                fontSize: "13px"
                            },
                            children: "XP to Next Level:"
                        }), t.jsx($, {
                            variant: "body2",
                            sx: {
                                color: "#FFFFFF",
                                fontWeight: "600",
                                fontSize: "13px"
                            },
                            children: d > 0 ? `${d.toLocaleString()} XP` : "Max Level"
                        })]
                    }), t.jsxs(T, {
                        sx: {
                            display: "flex",
                            justifyContent: "space-between",
                            fontSize: "13px"
                        },
                        children: [t.jsx($, {
                            variant: "body2",
                            sx: {
                                color: "#8E8E93",
                                fontSize: "13px"
                            },
                            children: "Total XP Earned:"
                        }), t.jsx($, {
                            variant: "body2",
                            sx: {
                                color: "#FFFFFF",
                                fontWeight: "600",
                                fontSize: "13px"
                            },
                            children: l.toLocaleString()
                        })]
                    })]
                }), t.jsxs(T, {
                    sx: {
                        padding: "12px",
                        backgroundColor: "#272935",
                        borderRadius: "6px",
                        border: "1px solid #3A3D4A",
                        fontSize: "13px",
                        lineHeight: 1.4
                    },
                    children: [t.jsxs($, {
                        variant: "body2",
                        sx: {
                            color: "#8E8E93",
                            fontSize: "13px",
                            lineHeight: 1.6,
                            textAlign: "center",
                            marginBottom: "8px"
                        },
                        children: ["Earn ", t.jsx($, {
                            component: "span",
                            sx: {
                                color: "#19b55a",
                                fontWeight: "600"
                            },
                            children: "1 XP"
                        }), " ", "per ", t.jsx($, {
                            component: "span",
                            sx: {
                                color: "#ffc700",
                                fontWeight: "600"
                            },
                            children: "0.001 SOL"
                        }), " ", "bet"]
                    }), t.jsx($, {
                        variant: "caption",
                        sx: {
                            color: "#8E8E93",
                            fontSize: "12px",
                            lineHeight: 1.3,
                            textAlign: "center",
                            display: "block"
                        },
                        children: "Bets must be held for 5+ seconds to count as valid bet."
                    })]
                })]
            })]
        })
    },
    j2 = ({
        onClick: e,
        showProgress: s = !0,
        compact: a = !1,
        className: r = "",
        isMobile: l = !1,
        onExpandedChange: d
    }) => {
        var k, D, E, P;
        const [u, h] = m.useState(!1), f = m.useRef(null), {
            registerDropdown: p,
            unregisterDropdown: y
        } = kl(), x = Se(Ge.selectCurrent), S = ((k = x == null ? void 0 : x.levelInfo) == null ? void 0 : k.level) ? ? 0, v = ((D = x == null ? void 0 : x.levelInfo) == null ? void 0 : D.xp) ? ? 0, C = ((E = x == null ? void 0 : x.levelInfo) == null ? void 0 : E.xpForNextLevel) ? ? 500, w = ((P = x == null ? void 0 : x.levelInfo) == null ? void 0 : P.totalXP) ? ? 0, j = C > 0 ? v / C * 100 : 0, A = Math.max(0, C - v), _ = () => {
            const I = !u;
            h(I), I ? p("xp-info") : y("xp-info"), d && d(I), e && e()
        };
        return m.useEffect(() => {
            const I = B => {
                f.current && !f.current.contains(B.target) && (h(!1), y("xp-info"), d && d(!1))
            };
            return u && document.addEventListener("mousedown", I), () => {
                document.removeEventListener("mousedown", I)
            }
        }, [u, y]), m.useEffect(() => {
            u ? p("xp-info") : y("xp-info")
        }, [u, p, y]), t.jsxs("div", {
            ref: f,
            style: {
                position: "relative"
            },
            className: r,
            children: [t.jsx(w2, {
                isExpanded: u,
                onToggle: _,
                level: S,
                currentXp: v,
                xpForNextLevel: C,
                progressPercentage: j,
                compact: a,
                isMobile: l
            }), t.jsx(T2, {
                isExpanded: u,
                level: S,
                currentXp: v,
                xpForNextLevel: C,
                totalXP: w,
                xpToNextLevel: A,
                progressPercentage: j,
                isMobile: l
            })]
        })
    },
    k2 = Ln(Te, {
        shouldForwardProp: e => e !== "badgeColor"
    })(({
        badgeColor: e,
        theme: s
    }) => ({
        display: "flex",
        alignItems: "center",
        justifyContent: "center",
        gap: "8px",
        backgroundColor: e,
        color: "#09090B",
        border: "none",
        borderRadius: "4px",
        padding: "6px 10px",
        fontSize: "14px",
        fontWeight: "600",
        cursor: "pointer",
        height: "30px",
        whiteSpace: "nowrap",
        position: "relative",
        overflow: "hidden",
        minWidth: "auto",
        textTransform: "none",
        "&:hover": {
            backgroundColor: e,
            filter: "brightness(1.1)"
        },
        [s.breakpoints.down("sm")]: {
            padding: "6px 8px",
            fontSize: "12px",
            height: "28px"
        }
    })),
    E2 = Ln(T)(({
        theme: e
    }) => ({
        position: "absolute",
        top: "100%",
        left: "50%",
        transform: "translateX(-50%)",
        marginTop: "8px",
        backgroundColor: "var(--color-background)",
        border: "1px solid var(--color-border)",
        borderRadius: "8px",
        padding: "16px",
        zIndex: 1e3,
        boxShadow: "0 4px 12px rgba(0, 0, 0, 0.5)",
        width: "340px",
        maxHeight: "500px",
        overflowY: "auto",
        color: "var(--color-foreground)",
        [e.breakpoints.down("sm")]: {
            width: "300px"
        }
    })),
    Vh = Ln(Te, {
        shouldForwardProp: e => e !== "active" && e !== "badgeColor"
    })(({
        active: e,
        badgeColor: s
    }) => ({
        flex: 1,
        backgroundColor: "transparent",
        border: "none",
        color: e ? "#FFFFFF" : "#AAAAAA",
        fontWeight: e ? "600" : "400",
        fontSize: "14px",
        padding: "8px 0",
        cursor: "pointer",
        borderBottom: e ? `2px solid ${s}` : "2px solid transparent",
        borderRadius: 0,
        textTransform: "none",
        minWidth: "auto",
        "&:hover": {
            backgroundColor: "transparent",
            color: e ? "#FFFFFF" : "#CCCCCC"
        }
    })),
    A2 = ({
        onExpandedChange: e
    }) => {
        bt();
        const s = Pa(),
            [a, r] = m.useState(!1),
            [l, d] = m.useState(""),
            [u, h] = m.useState("main"),
            f = m.useRef(null),
            p = Se(yt.selectBattleEventState),
            y = Se(yt.selectQueueState),
            x = Se(yt.selectIsJoiningQueue),
            S = Se(Ge.selectCurrent);
        if (m.useEffect(() => {
                const E = P => {
                    f.current && !f.current.contains(P.target) && (r(!1), e && e(!1))
                };
                return document.addEventListener("mousedown", E), () => {
                    document.removeEventListener("mousedown", E)
                }
            }, [e]), m.useEffect(() => {
                if (!p) return;
                const E = () => {
                    const I = new Date;
                    let B = null,
                        X = "";
                    if (p.status === "ACTIVE" && p.endTime) B = new Date(p.endTime), X = "Ends: ";
                    else if (p.status === "PREP" && p.startTime) B = new Date(p.startTime), X = "Starts: ";
                    else if (p.status === "SCHEDULED" && p.startTime) B = new Date(p.startTime), X = "Starts: ";
                    else if (p.status === "ENDING") {
                        d("Ending soon...");
                        return
                    } else if (p.status === "COMPLETED" && p.endTime) {
                        const H = I.getTime() - new Date(p.endTime).getTime(),
                            K = Math.floor(H / (1e3 * 60));
                        d(`Ended ${K}m ago`);
                        return
                    } else if (p.status === "NONE_SCHEDULED") {
                        d("NEXT SOON");
                        return
                    } else {
                        d("Loading...");
                        return
                    }
                    if (!B) {
                        d("Loading...");
                        return
                    }
                    const O = B.getTime() - I.getTime();
                    if (O <= 0) {
                        if (p.status === "PREP") {
                            d("Starting soon...");
                            return
                        }
                        d("Updating...");
                        return
                    }
                    const L = Math.floor(O / (1e3 * 60 * 60)),
                        F = Math.floor(O % (1e3 * 60 * 60) / (1e3 * 60)),
                        Y = Math.floor(O % (1e3 * 60) / 1e3);
                    L > 0 ? d(`${X}${L}h ${F}m`) : d(`${X}${F}m ${Y}s`)
                };
                E();
                const P = setInterval(E, 1e3);
                return () => clearInterval(P)
            }, [p]), !(() => {
                if (!p || p.status === "NONE_SCHEDULED") return !1;
                const E = new Date;
                return p.status === "ACTIVE" || p.status === "PREP" || p.status === "ENDING" || p.status === "COMPLETED" ? !0 : p.status === "SCHEDULED" && p.startTime ? new Date(p.startTime).getTime() - E.getTime() <= 30 * 24 * 60 * 60 * 1e3 : !!(p.leaderboard && p.leaderboard.length > 0)
            })()) return null;
        let C = "#FBB90F",
            w = "EVENT";
        switch (p == null ? void 0 : p.status) {
            case "ACTIVE":
                C = "#00C950", w = "EVENT LIVE";
                break;
            case "PREP":
                C = "#FF9800", w = "EVENT PREP";
                break;
            case "ENDING":
                C = "#EF4444", w = "EVENT ENDING";
                break;
            case "SCHEDULED":
                C = "#3B82F6", w = "EVENT SOON";
                break;
            case "COMPLETED":
                C = "#6B7280", w = "EVENT ENDED";
                break;
            case "NONE_SCHEDULED":
                C = "#6B7280", w = "CONCLUDED";
                break
        }
        const j = () => {
                s.joinEventQueue()
            },
            A = () => {
                s.leaveEventQueue(() => {})
            },
            k = S != null && S.shitcoinBalances && S.shitcoinBalances["0xPractice"] || 0,
            D = () => {
                var E, P, I, B, X, O, L, F, Y, H, K, z, U, V, W, q, Z, se, G, ie, ne, ee, me, fe, ge, ke, je;
                switch (u) {
                    case "main":
                        return t.jsxs(t.Fragment, {
                            children: [t.jsxs(T, {
                                sx: {
                                    display: "flex",
                                    flexDirection: "column",
                                    gap: "8px",
                                    marginBottom: "16px"
                                },
                                children: [(p == null ? void 0 : p.status) !== "NONE_SCHEDULED" && t.jsxs(T, {
                                    sx: {
                                        display: "flex",
                                        justifyContent: "space-between",
                                        alignItems: "center"
                                    },
                                    children: [t.jsx(T, {
                                        sx: {
                                            fontSize: "14px",
                                            fontWeight: "500"
                                        },
                                        children: "Status:"
                                    }), t.jsx(T, {
                                        sx: {
                                            fontSize: "14px",
                                            color: C,
                                            fontWeight: "500"
                                        },
                                        children: (p == null ? void 0 : p.status) === "ACTIVE" ? "LIVE" : (p == null ? void 0 : p.status) === "PREP" ? "PREPARING" : (p == null ? void 0 : p.status) === "ENDING" ? "ENDING" : (p == null ? void 0 : p.status) === "COMPLETED" ? "FINISHED" : "SCHEDULED"
                                    })]
                                }), t.jsxs(T, {
                                    sx: {
                                        display: "flex",
                                        justifyContent: "space-between",
                                        alignItems: "center"
                                    },
                                    children: [t.jsx(T, {
                                        sx: {
                                            fontSize: "14px",
                                            fontWeight: "500"
                                        },
                                        children: "Time:"
                                    }), t.jsx(T, {
                                        sx: {
                                            fontSize: "14px",
                                            color: C,
                                            fontWeight: "500"
                                        },
                                        children: l
                                    })]
                                }), (p == null ? void 0 : p.status) === "ACTIVE" && y && t.jsxs(T, {
                                    sx: {
                                        display: "flex",
                                        justifyContent: "space-between",
                                        alignItems: "center"
                                    },
                                    children: [t.jsx(T, {
                                        sx: {
                                            fontSize: "14px",
                                            fontWeight: "500"
                                        },
                                        children: "Queue:"
                                    }), t.jsx(T, {
                                        sx: {
                                            fontSize: "14px",
                                            fontWeight: "600"
                                        },
                                        children: y.inQueue ? "Waiting..." : `${y.queueSize||0} players`
                                    })]
                                }), t.jsxs(T, {
                                    sx: {
                                        display: "flex",
                                        justifyContent: "space-between",
                                        alignItems: "center"
                                    },
                                    children: [t.jsx(T, {
                                        sx: {
                                            fontSize: "14px",
                                            fontWeight: "500"
                                        },
                                        children: "Your Rank:"
                                    }), t.jsx(T, {
                                        sx: {
                                            fontSize: "14px",
                                            fontWeight: "600"
                                        },
                                        children: (E = p == null ? void 0 : p.playerPosition) != null && E.rank ? `#${p.playerPosition.rank}` : "Not Ranked"
                                    })]
                                }), t.jsxs(T, {
                                    sx: {
                                        display: "flex",
                                        justifyContent: "space-between",
                                        alignItems: "center"
                                    },
                                    children: [t.jsx(T, {
                                        sx: {
                                            fontSize: "14px",
                                            fontWeight: "500"
                                        },
                                        children: "Your Balance:"
                                    }), t.jsxs(T, {
                                        sx: {
                                            fontSize: "14px",
                                            fontWeight: "600",
                                            display: "flex",
                                            alignItems: "center",
                                            gap: "4px"
                                        },
                                        children: [Math.round(k), " FREE", t.jsx("img", {
                                            src: "/icons/Icon_Free_Solana.png",
                                            alt: "$FREE",
                                            style: {
                                                width: "16px",
                                                height: "16px"
                                            }
                                        })]
                                    })]
                                })]
                            }), t.jsxs(T, {
                                sx: {
                                    backgroundColor: "var(--color-card)",
                                    borderRadius: "6px",
                                    padding: "12px",
                                    maxHeight: "200px",
                                    overflowY: "auto"
                                },
                                children: [t.jsxs(T, {
                                    sx: {
                                        fontSize: "14px",
                                        fontWeight: "600",
                                        marginBottom: "8px",
                                        display: "flex",
                                        justifyContent: "space-between",
                                        alignItems: "center"
                                    },
                                    children: [t.jsx(T, {
                                        children: "Leaderboard"
                                    }), (p == null ? void 0 : p.participantCount) && p.participantCount > 10 && t.jsxs(T, {
                                        sx: {
                                            fontSize: "12px",
                                            color: "#AAAAAA"
                                        },
                                        children: ["Top 10 of ", p.participantCount]
                                    })]
                                }), p != null && p.leaderboard && p.leaderboard.length > 0 ? t.jsx(T, {
                                    sx: {
                                        display: "flex",
                                        flexDirection: "column",
                                        gap: "6px"
                                    },
                                    children: (() => {
                                        const re = [...p.leaderboard];
                                        let Ee = null;
                                        if (p.playerPosition && (S != null && S.id)) {
                                            let Ae = re.findIndex(Pe => Pe.rank === p.playerPosition.rank);
                                            Ae === -1 && p.playerPosition.playerId && (Ae = re.findIndex(Pe => Pe.playerId === p.playerPosition.playerId)), Ae !== -1 ? (Ee = re[Ae], Ae !== 0 ? re.splice(Ae, 1) : re.splice(0, 1)) : Ee = {
                                                rank: p.playerPosition.rank,
                                                username: p.playerPosition.username,
                                                balance: p.playerPosition.balance,
                                                playerId: p.playerPosition.playerId || "current-player"
                                            }
                                        }
                                        return t.jsxs(t.Fragment, {
                                            children: [Ee && t.jsxs(t.Fragment, {
                                                children: [t.jsxs(T, {
                                                    sx: {
                                                        display: "flex",
                                                        justifyContent: "space-between",
                                                        alignItems: "center",
                                                        padding: "6px 8px",
                                                        backgroundColor: C + "20",
                                                        border: `1px solid ${C}`,
                                                        borderRadius: "4px"
                                                    },
                                                    children: [t.jsxs(T, {
                                                        sx: {
                                                            display: "flex",
                                                            alignItems: "center",
                                                            gap: "8px"
                                                        },
                                                        children: [t.jsxs(T, {
                                                            sx: {
                                                                fontSize: "12px",
                                                                fontWeight: "600",
                                                                color: C,
                                                                minWidth: "20px"
                                                            },
                                                            children: ["#", Ee.rank]
                                                        }), t.jsxs(T, {
                                                            sx: {
                                                                fontSize: "13px",
                                                                fontWeight: "600",
                                                                color: C
                                                            },
                                                            children: [Ee.username, " (You)"]
                                                        })]
                                                    }), t.jsxs(T, {
                                                        sx: {
                                                            fontSize: "13px",
                                                            fontWeight: "600",
                                                            color: C
                                                        },
                                                        children: [Math.round(Ee.balance), " FREE"]
                                                    })]
                                                }, `player-${Ee.playerId}`), re.length > 0 && t.jsx(T, {
                                                    sx: {
                                                        height: "1px",
                                                        backgroundColor: "var(--color-border)",
                                                        margin: "4px 0"
                                                    }
                                                })]
                                            }), re.map(Ae => t.jsxs(T, {
                                                sx: {
                                                    display: "flex",
                                                    justifyContent: "space-between",
                                                    alignItems: "center",
                                                    padding: "6px 8px",
                                                    backgroundColor: Ae.rank <= 3 ? "var(--color-muted)" : "transparent",
                                                    borderRadius: "4px",
                                                    borderLeft: Ae.rank <= 3 ? "3px solid " + (Ae.rank === 1 ? "#FFD700" : Ae.rank === 2 ? "#C0C0C0" : "#CD7F32") : "none"
                                                },
                                                children: [t.jsxs(T, {
                                                    sx: {
                                                        display: "flex",
                                                        alignItems: "center",
                                                        gap: "8px"
                                                    },
                                                    children: [t.jsxs(T, {
                                                        sx: {
                                                            fontSize: "12px",
                                                            fontWeight: "600",
                                                            color: "#AAAAAA",
                                                            minWidth: "20px"
                                                        },
                                                        children: ["#", Ae.rank]
                                                    }), t.jsx(T, {
                                                        sx: {
                                                            fontSize: "13px",
                                                            fontWeight: "500",
                                                            color: "#FFFFFF"
                                                        },
                                                        children: Ae.username
                                                    })]
                                                }), t.jsxs(T, {
                                                    sx: {
                                                        fontSize: "13px",
                                                        fontWeight: "600",
                                                        color: Ae.rank <= 3 ? C : "#AAAAAA"
                                                    },
                                                    children: [Math.round(Ae.balance), " FREE"]
                                                })]
                                            }, Ae.playerId))]
                                        })
                                    })()
                                }) : t.jsx(T, {
                                    sx: {
                                        textAlign: "center",
                                        color: "#AAAAAA",
                                        fontSize: "12px",
                                        padding: "20px"
                                    },
                                    children: "No participants yet"
                                })]
                            })]
                        });
                    case "prizes":
                        return t.jsxs(T, {
                            sx: {
                                padding: "10px",
                                backgroundColor: "var(--color-card)",
                                borderRadius: "4px",
                                fontSize: "13px"
                            },
                            children: [t.jsx(T, {
                                sx: {
                                    fontWeight: "600",
                                    marginBottom: "6px"
                                },
                                children: "Prize Pool"
                            }), (P = p == null ? void 0 : p.eventConfig) != null && P.customPrizes || (I = p == null ? void 0 : p.currentEvent) != null && I.customPrizes ? t.jsxs(T, {
                                sx: {
                                    display: "flex",
                                    flexDirection: "column",
                                    gap: "8px"
                                },
                                children: [t.jsxs(T, {
                                    sx: {
                                        display: "grid",
                                        gridTemplateColumns: "repeat(3, 1fr)",
                                        gap: "8px",
                                        marginBottom: "8px"
                                    },
                                    children: [(((X = (B = p == null ? void 0 : p.eventConfig) == null ? void 0 : B.customPrizes) == null ? void 0 : X["1"]) || ((L = (O = p == null ? void 0 : p.currentEvent) == null ? void 0 : O.customPrizes) == null ? void 0 : L[1])) && t.jsxs(T, {
                                        sx: {
                                            textAlign: "center",
                                            padding: "8px",
                                            backgroundColor: "rgba(255, 215, 0, 0.2)",
                                            border: "1px solid #FFD700",
                                            borderRadius: "6px"
                                        },
                                        children: [t.jsx(T, {
                                            sx: {
                                                fontSize: "16px",
                                                marginBottom: "2px"
                                            },
                                            children: "🥇"
                                        }), t.jsxs(T, {
                                            sx: {
                                                color: "#FFD700",
                                                fontWeight: "bold",
                                                fontSize: "12px"
                                            },
                                            children: [((Y = (F = p == null ? void 0 : p.eventConfig) == null ? void 0 : F.customPrizes) == null ? void 0 : Y["1"]) || ((K = (H = p == null ? void 0 : p.currentEvent) == null ? void 0 : H.customPrizes) == null ? void 0 : K[1]), " SOL"]
                                        }), t.jsx(T, {
                                            sx: {
                                                color: "#AAAAAA",
                                                fontSize: "10px"
                                            },
                                            children: "1st"
                                        })]
                                    }), (((U = (z = p == null ? void 0 : p.eventConfig) == null ? void 0 : z.customPrizes) == null ? void 0 : U["2"]) || ((W = (V = p == null ? void 0 : p.currentEvent) == null ? void 0 : V.customPrizes) == null ? void 0 : W[2])) && t.jsxs(T, {
                                        sx: {
                                            textAlign: "center",
                                            padding: "8px",
                                            backgroundColor: "rgba(192, 192, 192, 0.2)",
                                            border: "1px solid #C0C0C0",
                                            borderRadius: "6px"
                                        },
                                        children: [t.jsx(T, {
                                            sx: {
                                                fontSize: "16px",
                                                marginBottom: "2px"
                                            },
                                            children: "🥈"
                                        }), t.jsxs(T, {
                                            sx: {
                                                color: "#C0C0C0",
                                                fontWeight: "bold",
                                                fontSize: "12px"
                                            },
                                            children: [((Z = (q = p == null ? void 0 : p.eventConfig) == null ? void 0 : q.customPrizes) == null ? void 0 : Z["2"]) || ((G = (se = p == null ? void 0 : p.currentEvent) == null ? void 0 : se.customPrizes) == null ? void 0 : G[2]), " SOL"]
                                        }), t.jsx(T, {
                                            sx: {
                                                color: "#AAAAAA",
                                                fontSize: "10px"
                                            },
                                            children: "2nd"
                                        })]
                                    }), (((ne = (ie = p == null ? void 0 : p.eventConfig) == null ? void 0 : ie.customPrizes) == null ? void 0 : ne["3"]) || ((me = (ee = p == null ? void 0 : p.currentEvent) == null ? void 0 : ee.customPrizes) == null ? void 0 : me[3])) && t.jsxs(T, {
                                        sx: {
                                            textAlign: "center",
                                            padding: "8px",
                                            backgroundColor: "rgba(205, 127, 50, 0.2)",
                                            border: "1px solid #CD7F32",
                                            borderRadius: "6px"
                                        },
                                        children: [t.jsx(T, {
                                            sx: {
                                                fontSize: "16px",
                                                marginBottom: "2px"
                                            },
                                            children: "🥉"
                                        }), t.jsxs(T, {
                                            sx: {
                                                color: "#CD7F32",
                                                fontWeight: "bold",
                                                fontSize: "12px"
                                            },
                                            children: [((ge = (fe = p == null ? void 0 : p.eventConfig) == null ? void 0 : fe.customPrizes) == null ? void 0 : ge["3"]) || ((je = (ke = p == null ? void 0 : p.currentEvent) == null ? void 0 : ke.customPrizes) == null ? void 0 : je[3]), " SOL"]
                                        }), t.jsx(T, {
                                            sx: {
                                                color: "#AAAAAA",
                                                fontSize: "10px"
                                            },
                                            children: "3rd"
                                        })]
                                    })]
                                }), (() => {
                                    var Ae, Pe;
                                    const re = ((Ae = p == null ? void 0 : p.eventConfig) == null ? void 0 : Ae.customPrizes) || ((Pe = p == null ? void 0 : p.currentEvent) == null ? void 0 : Pe.customPrizes) || {},
                                        Ee = Object.entries(re).filter(([be]) => parseInt(be) >= 4 && parseInt(be) <= 10);
                                    if (Ee.length > 0) {
                                        const be = Ee.reduce((qe, [Re, le]) => qe + parseFloat(String(le)), 0);
                                        return t.jsxs(T, {
                                            sx: {
                                                textAlign: "center",
                                                padding: "8px",
                                                backgroundColor: "rgba(255, 255, 255, 0.05)",
                                                border: "1px solid rgba(255, 255, 255, 0.2)",
                                                borderRadius: "6px"
                                            },
                                            children: [t.jsxs(T, {
                                                sx: {
                                                    color: "#FFFFFF",
                                                    fontWeight: "bold",
                                                    fontSize: "12px",
                                                    marginBottom: "2px"
                                                },
                                                children: ["🏅 ", be.toFixed(3), " SOL"]
                                            }), t.jsx(T, {
                                                sx: {
                                                    color: "#AAAAAA",
                                                    fontSize: "10px"
                                                },
                                                children: "Split among 4th-10th place"
                                            })]
                                        })
                                    }
                                    return null
                                })()]
                            }) : t.jsxs(T, {
                                sx: {
                                    display: "flex",
                                    flexDirection: "column",
                                    gap: "8px"
                                },
                                children: [t.jsxs(T, {
                                    sx: {
                                        display: "grid",
                                        gridTemplateColumns: "repeat(3, 1fr)",
                                        gap: "8px",
                                        marginBottom: "8px"
                                    },
                                    children: [t.jsxs(T, {
                                        sx: {
                                            textAlign: "center",
                                            padding: "8px",
                                            backgroundColor: "rgba(255, 215, 0, 0.2)",
                                            border: "1px solid #FFD700",
                                            borderRadius: "6px"
                                        },
                                        children: [t.jsx(T, {
                                            sx: {
                                                fontSize: "16px",
                                                marginBottom: "2px"
                                            },
                                            children: "🥇"
                                        }), t.jsx(T, {
                                            sx: {
                                                color: "#FFD700",
                                                fontWeight: "bold",
                                                fontSize: "12px"
                                            },
                                            children: "3 SOL"
                                        }), t.jsx(T, {
                                            sx: {
                                                color: "#AAAAAA",
                                                fontSize: "10px"
                                            },
                                            children: "1st"
                                        })]
                                    }), t.jsxs(T, {
                                        sx: {
                                            textAlign: "center",
                                            padding: "8px",
                                            backgroundColor: "rgba(192, 192, 192, 0.2)",
                                            border: "1px solid #C0C0C0",
                                            borderRadius: "6px"
                                        },
                                        children: [t.jsx(T, {
                                            sx: {
                                                fontSize: "16px",
                                                marginBottom: "2px"
                                            },
                                            children: "🥈"
                                        }), t.jsx(T, {
                                            sx: {
                                                color: "#C0C0C0",
                                                fontWeight: "bold",
                                                fontSize: "12px"
                                            },
                                            children: "1 SOL"
                                        }), t.jsx(T, {
                                            sx: {
                                                color: "#AAAAAA",
                                                fontSize: "10px"
                                            },
                                            children: "2nd"
                                        })]
                                    }), t.jsxs(T, {
                                        sx: {
                                            textAlign: "center",
                                            padding: "8px",
                                            backgroundColor: "rgba(205, 127, 50, 0.2)",
                                            border: "1px solid #CD7F32",
                                            borderRadius: "6px"
                                        },
                                        children: [t.jsx(T, {
                                            sx: {
                                                fontSize: "16px",
                                                marginBottom: "2px"
                                            },
                                            children: "🥉"
                                        }), t.jsx(T, {
                                            sx: {
                                                color: "#CD7F32",
                                                fontWeight: "bold",
                                                fontSize: "12px"
                                            },
                                            children: "0.5 SOL"
                                        }), t.jsx(T, {
                                            sx: {
                                                color: "#AAAAAA",
                                                fontSize: "10px"
                                            },
                                            children: "3rd"
                                        })]
                                    })]
                                }), t.jsxs(T, {
                                    sx: {
                                        textAlign: "center",
                                        padding: "8px",
                                        backgroundColor: "rgba(255, 255, 255, 0.05)",
                                        border: "1px solid rgba(255, 255, 255, 0.2)",
                                        borderRadius: "6px"
                                    },
                                    children: [t.jsx(T, {
                                        sx: {
                                            color: "#FFFFFF",
                                            fontWeight: "bold",
                                            fontSize: "12px",
                                            marginBottom: "2px"
                                        },
                                        children: "🏅 0.5 SOL"
                                    }), t.jsx(T, {
                                        sx: {
                                            color: "#AAAAAA",
                                            fontSize: "10px"
                                        },
                                        children: "Split among 4th-10th place"
                                    })]
                                })]
                            }), ((p == null ? void 0 : p.status) === "COMPLETED" || (p == null ? void 0 : p.status) === "NONE_SCHEDULED") && t.jsx(T, {
                                sx: {
                                    marginTop: "12px",
                                    padding: "8px",
                                    backgroundColor: "rgba(34, 197, 94, 0.1)",
                                    border: "1px solid rgba(34, 197, 94, 0.3)",
                                    borderRadius: "4px",
                                    textAlign: "center"
                                },
                                children: t.jsx(T, {
                                    sx: {
                                        color: "#22C55E",
                                        fontSize: "12px",
                                        fontWeight: "500",
                                        display: "flex",
                                        alignItems: "center",
                                        justifyContent: "center",
                                        gap: "4px"
                                    },
                                    children: "📬 Claim your prize in your profile inbox!"
                                })
                            })]
                        });
                    case "info":
                        return t.jsxs(T, {
                            sx: {
                                padding: "10px",
                                backgroundColor: "var(--color-card)",
                                borderRadius: "4px",
                                fontSize: "13px"
                            },
                            children: [t.jsx(T, {
                                sx: {
                                    fontWeight: "600",
                                    marginBottom: "6px"
                                },
                                children: "How It Works"
                            }), t.jsxs(T, {
                                component: "ul",
                                sx: {
                                    margin: "0",
                                    paddingLeft: "16px",
                                    lineHeight: "1.4",
                                    fontSize: "12px",
                                    listStyleType: "disc"
                                },
                                children: [t.jsxs(T, {
                                    component: "li",
                                    sx: {
                                        marginBottom: "8px"
                                    },
                                    children: [t.jsx(T, {
                                        component: "span",
                                        sx: {
                                            color: "#3B82F6"
                                        },
                                        children: "30 MINS BEFORE:"
                                    }), " Your $FREE balance resets to 100"]
                                }), t.jsx(T, {
                                    component: "li",
                                    sx: {
                                        marginBottom: "8px"
                                    },
                                    children: "Battle other players during the event!"
                                }), t.jsx(T, {
                                    component: "li",
                                    sx: {
                                        marginBottom: "8px"
                                    },
                                    children: "All lobby settings are standardized during the event"
                                }), t.jsxs(T, {
                                    component: "li",
                                    children: ["Top $FREE holders at the end win ", t.jsx(T, {
                                        component: "span",
                                        sx: {
                                            color: "#FBB90F"
                                        },
                                        children: "SOL prizes"
                                    }), "!"]
                                })]
                            })]
                        });
                    default:
                        return null
                }
            };
        return t.jsxs(T, {
            sx: {
                position: "relative",
                display: "flex",
                justifyContent: "center"
            },
            children: [t.jsx("style", {
                children: `
          @keyframes fadeSlideTop {
            0%, 40% { 
              opacity: 1; 
              transform: translateY(0);
            }
            45%, 50% { 
              opacity: 0; 
              transform: translateY(-10px);
            }
            50%, 90% { 
              opacity: 0; 
              transform: translateY(10px);
            }
            95%, 100% { 
              opacity: 1; 
              transform: translateY(0);
            }
          }
          
          @keyframes fadeSlideBottom {
            0%, 40% { 
              opacity: 0; 
              transform: translateY(10px);
            }
            45%, 50% { 
              opacity: 1; 
              transform: translateY(0);
            }
            50%, 90% { 
              opacity: 1; 
              transform: translateY(0);
            }
            95%, 100% { 
              opacity: 0; 
              transform: translateY(-10px);
            }
          }
          
          @media (max-width: 600px) {
            @keyframes fadeSlideTop {
              0%, 40% { 
                opacity: 1; 
                transform: translateY(0);
              }
              45%, 50% { 
                opacity: 0; 
                transform: translateY(-5px);
              }
              50%, 90% { 
                opacity: 0; 
                transform: translateY(5px);
              }
              95%, 100% { 
                opacity: 1; 
                transform: translateY(0);
              }
            }
            
            @keyframes fadeSlideBottom {
              0%, 40% { 
                opacity: 0; 
                transform: translateY(5px);
              }
              45%, 50% { 
                opacity: 1; 
                transform: translateY(0);
              }
              50%, 90% { 
                opacity: 1; 
                transform: translateY(0);
              }
              95%, 100% { 
                opacity: 0; 
                transform: translateY(-5px);
              }
            }
          }
        `
            }), t.jsx(k2, {
                badgeColor: C,
                onClick: () => {
                    const E = !a;
                    r(E), e && e(E)
                },
                children: t.jsxs(T, {
                    sx: {
                        display: "flex",
                        alignItems: "center",
                        position: "relative",
                        height: "20px",
                        width: l ? "110px" : "auto",
                        "@media (max-width: 600px)": {
                            width: l ? "100px" : "auto"
                        }
                    },
                    children: [t.jsx(T, {
                        sx: {
                            fontSize: "14px",
                            marginRight: "4px",
                            zIndex: 1,
                            "@media (max-width: 600px)": {
                                fontSize: "12px"
                            }
                        },
                        children: "⚔️"
                    }), l ? t.jsxs(t.Fragment, {
                        children: [t.jsx(T, {
                            sx: {
                                position: "absolute",
                                left: "20px",
                                right: 0,
                                height: "20px",
                                lineHeight: "20px",
                                animation: "fadeSlideTop 3s ease-in-out infinite",
                                backfaceVisibility: "hidden",
                                whiteSpace: "nowrap",
                                zIndex: 1
                            },
                            children: w
                        }), t.jsx(T, {
                            sx: {
                                position: "absolute",
                                left: "20px",
                                right: 0,
                                height: "20px",
                                lineHeight: "20px",
                                animation: "fadeSlideBottom 3s ease-in-out infinite",
                                backfaceVisibility: "hidden",
                                whiteSpace: "nowrap",
                                zIndex: 1
                            },
                            children: l.includes(":") ? l.split(": ")[1] : l
                        })]
                    }) : t.jsx(T, {
                        children: w
                    })]
                })
            }), a && t.jsxs(E2, {
                ref: f,
                children: [t.jsxs(T, {
                    sx: {
                        display: "flex",
                        alignItems: "center",
                        justifyContent: "space-between",
                        borderBottom: "1px solid var(--color-border)",
                        paddingBottom: "12px",
                        marginBottom: "12px"
                    },
                    children: [t.jsxs(T, {
                        children: [t.jsx(T, {
                            component: "h3",
                            sx: {
                                margin: "0 0 4px 0",
                                fontSize: "18px",
                                display: "flex",
                                alignItems: "center"
                            },
                            children: "⚔️ Battle Event"
                        }), t.jsx(T, {
                            component: "p",
                            sx: {
                                margin: "0",
                                fontSize: "12px",
                                color: "#AAAAAA"
                            },
                            children: "Compete for FREE tokens and prizes"
                        })]
                    }), t.jsx(T, {
                        sx: {
                            backgroundColor: C,
                            color: "#09090B",
                            borderRadius: "4px",
                            padding: "4px 8px",
                            fontSize: "12px",
                            fontWeight: "600"
                        },
                        children: (p == null ? void 0 : p.status) === "NONE_SCHEDULED" ? "TBD" : p == null ? void 0 : p.status
                    })]
                }), t.jsxs(T, {
                    sx: {
                        display: "flex",
                        borderBottom: "1px solid var(--color-border)",
                        marginBottom: "12px"
                    },
                    children: [t.jsx(Vh, {
                        active: u === "main",
                        badgeColor: C,
                        onClick: () => h("main"),
                        children: "Main"
                    }), t.jsx(Vh, {
                        active: u === "prizes",
                        badgeColor: C,
                        onClick: () => h("prizes"),
                        children: "Prizes"
                    }), t.jsx(Vh, {
                        active: u === "info",
                        badgeColor: C,
                        onClick: () => h("info"),
                        children: "Info"
                    })]
                }), D(), (p == null ? void 0 : p.status) === "ACTIVE" && t.jsx(T, {
                    sx: {
                        marginTop: "12px"
                    },
                    children: y != null && y.inQueue ? t.jsx(Te, {
                        onClick: A,
                        variant: "contained",
                        sx: {
                            width: "100%",
                            backgroundColor: "#EF4444",
                            color: "white",
                            borderRadius: "6px",
                            padding: "10px",
                            fontSize: "14px",
                            fontWeight: "bold",
                            textTransform: "none",
                            "&:hover": {
                                backgroundColor: "#DC2626"
                            }
                        },
                        children: "Leave Queue"
                    }) : t.jsx(Te, {
                        onClick: j,
                        disabled: x,
                        variant: "contained",
                        sx: {
                            width: "100%",
                            backgroundColor: "#22C55E",
                            color: "white",
                            borderRadius: "6px",
                            padding: "10px",
                            fontSize: "14px",
                            fontWeight: "bold",
                            textTransform: "none",
                            "&:hover": {
                                backgroundColor: "#16A34A"
                            },
                            "&:disabled": {
                                backgroundColor: "#6B7280"
                            }
                        },
                        children: x ? "Joining..." : "Join Event Queue"
                    })
                })]
            })]
        })
    },
    R2 = ({
        isMobile: e = !1,
        onExpandedChange: s
    }) => {
        var Z, se;
        const a = pn(G => G.goldenHour),
            r = !!a && (a.isActive || a.status || a.activeEventId),
            d = (() => {
                if (!a.status) return "INACTIVE";
                switch (a.status) {
                    case "ACTIVE":
                    case "ENDING":
                        return "ACTIVE";
                    case "PREP":
                    case "SCHEDULED":
                        return "SCHEDULED";
                    case "COMPLETED":
                        return "CONCLUDED";
                    case "INACTIVE":
                    default:
                        return "INACTIVE"
                }
            })(),
            u = Date.now(),
            h = (a.events || []).find(G => {
                const ie = G.startTime ? new Date(G.startTime).getTime() : 0,
                    ne = G.endTime ? new Date(G.endTime).getTime() : 0;
                return u >= ie && u <= ne
            }),
            f = !!h,
            p = d === "CONCLUDED",
            y = !p && (f || d === "ACTIVE" || a.currentGameIsGolden),
            x = !y && !p && d === "SCHEDULED",
            S = y ? a.endTime : a.nextTime,
            v = y ? "Ends: " : "Starts: ",
            w = (G => {
                if (!G) return "";
                const ie = G - Date.now();
                if (ie <= 0) return y ? "Updating..." : "Starting Soon...";
                const ne = Math.floor(ie / 1e3);
                return `${v}${Os(ne)}`
            })(S ? ? null),
            [j, A] = m.useState(!1),
            [_, k] = m.useState(Date.now()),
            D = (Z = a.events) == null ? void 0 : Z.find(G => a.activeEventId === G.id),
            E = h || D || null,
            P = E ? new Date(E.endTime).getTime() : null,
            I = E ? new Date(E.startTime).getTime() : null,
            B = a.endTime || P,
            X = a.nextTime || I,
            O = a.isFinishingLastGame && y,
            L = y && typeof B == "number" ? (() => {
                if (O) return "FINAL ROUND";
                const G = B - _;
                if (G <= 0) return "Updating...";
                const ie = Math.floor(G / 1e3);
                return Os(ie)
            })() : "",
            F = x && typeof X == "number" ? (() => {
                const G = X - _;
                if (G <= 0) return "Starting soon...";
                const ie = Math.floor(G / 1e3);
                return Os(ie)
            })() : "",
            Y = m.useRef(null);
        m.useEffect(() => {
            const G = setInterval(() => {
                k(Date.now())
            }, 1e3);
            return () => clearInterval(G)
        }, []);
        const H = 8e3,
            K = () => !!r,
            z = () => {
                if (y) return {
                    background: "linear-gradient(90deg, #FFD700, #FFA500)",
                    color: "#000000",
                    boxShadow: "0 0 15px rgba(255, 215, 0, 0.5)"
                };
                if (x) {
                    const G = Date.now();
                    return a.nextTime && a.nextTime - G <= 60 * 60 * 1e3 ? {
                        background: "linear-gradient(90deg, #FF9800, #FF5722)",
                        color: "#ffffff"
                    } : {
                        background: "linear-gradient(90deg, #FF5F6D, #FFC371)",
                        color: "#ffffff"
                    }
                }
                return p ? {
                    background: "linear-gradient(90deg, #6B7280, #9CA3AF)",
                    color: "#ffffff"
                } : {
                    background: "linear-gradient(90deg, #FF5F6D, #FFC371)",
                    color: "#ffffff"
                }
            },
            U = () => {
                if (!y || !(a != null && a.hasValidEntry)) return "";
                const G = a.playerEntries || 0;
                return `${G} ${G===1?"entry":"entries"}`
            },
            V = K(),
            W = () => {
                V && (A(G => !G), s && s(!j))
            };
        if (m.useEffect(() => {
                const G = ie => {
                    Y.current && !Y.current.contains(ie.target) && (A(!1), s && s(!1))
                };
                return j && document.addEventListener("mousedown", G), () => document.removeEventListener("mousedown", G)
            }, [j, s]), !r) return null;
        const q = z();
        return t.jsxs("div", {
            style: {
                position: "relative",
                display: "flex",
                justifyContent: "center",
                marginLeft: e ? "8px" : "16px"
            },
            children: [t.jsx("style", {
                children: `
          @keyframes fadeSlideTop {
            0%, 40% { opacity: 1; transform: translateY(0); }
            45%, 50% { opacity: 0; transform: translateY(${e?"-5px":"-10px"}); }
            50%, 90% { opacity: 0; transform: translateY(${e?"5px":"10px"}); }
            95%, 100% { opacity: 1; transform: translateY(0); }
          }
          @keyframes fadeSlideBottom {
            0%, 40% { opacity: 0; transform: translateY(${e?"5px":"10px"}); }
            45%, 50% { opacity: 1; transform: translateY(0); }
            50%, 90% { opacity: 1; transform: translateY(0); }
            95%, 100% { opacity: 0; transform: translateY(${e?"-5px":"-10px"}); }
          }
          @keyframes glowPulse { 0% { box-shadow: 0 0 5px rgba(255, 215, 0, 0.5); } 50% { box-shadow: 0 0 15px rgba(255, 215, 0, 0.8); } 100% { box-shadow: 0 0 5px rgba(255, 215, 0, 0.5); } }
        `
            }), t.jsxs("button", {
                onClick: W,
                style: {
                    display: "flex",
                    alignItems: "center",
                    justifyContent: "center",
                    gap: "8px",
                    background: q.background,
                    color: q.color,
                    border: "none",
                    borderRadius: "4px",
                    padding: e ? "6px 8px" : "6px 10px",
                    fontSize: e ? "12px" : "14px",
                    fontWeight: 600,
                    cursor: V ? "pointer" : "default",
                    height: e ? "28px" : "30px",
                    whiteSpace: "nowrap",
                    position: "relative",
                    overflow: "hidden",
                    boxShadow: q.boxShadow || "0 2px 4px rgba(0,0,0,0.2)",
                    animation: y ? "glowPulse 2s infinite ease-in-out" : "none"
                },
                children: [t.jsxs("div", {
                    style: {
                        display: "flex",
                        alignItems: "center",
                        position: "relative",
                        height: "20px",
                        width: "120px"
                    },
                    children: [t.jsx("span", {
                        style: {
                            marginRight: "6px",
                            fontSize: e ? "14px" : "16px",
                            zIndex: 1
                        },
                        children: "🌇"
                    }), t.jsx("div", {
                        style: {
                            position: "absolute",
                            left: "26px",
                            right: 0,
                            height: "20px",
                            lineHeight: "20px",
                            animation: p ? "none" : `fadeSlideTop ${H/1e3}s ease-in-out infinite`,
                            backfaceVisibility: "hidden",
                            whiteSpace: "nowrap",
                            zIndex: 1
                        },
                        children: "GOLDEN HOUR"
                    }), t.jsx("div", {
                        style: {
                            position: "absolute",
                            left: "26px",
                            right: 0,
                            height: "20px",
                            lineHeight: "20px",
                            animation: p ? "none" : `fadeSlideBottom ${H/1e3}s ease-in-out infinite`,
                            backfaceVisibility: "hidden",
                            whiteSpace: "nowrap",
                            zIndex: 1
                        },
                        children: U() || (x && F ? `in ${F}` : y ? L : w)
                    })]
                }), (a == null ? void 0 : a.hasValidEntry) && t.jsx("span", {
                    style: {
                        backgroundColor: "#09090B",
                        color: "#FFD700",
                        borderRadius: "12px",
                        padding: "1px 6px",
                        fontSize: e ? "10px" : "12px",
                        fontWeight: 600
                    },
                    children: "✓"
                })]
            }), j && t.jsxs("div", {
                ref: Y,
                style: {
                    position: "absolute",
                    top: "100%",
                    left: "50%",
                    transform: "translateX(-50%)",
                    marginTop: "8px",
                    backgroundColor: "var(--color-background)",
                    color: "#FFFFFF",
                    border: "1px solid #27272A",
                    borderRadius: "8px",
                    padding: "12px",
                    width: e ? "300px" : "340px",
                    zIndex: 1e3,
                    boxShadow: "0 4px 12px rgba(0,0,0,0.5)"
                },
                children: [t.jsxs("div", {
                    style: {
                        display: "flex",
                        alignItems: "center",
                        justifyContent: "space-between",
                        borderBottom: "1px solid #27272A",
                        paddingBottom: "12px",
                        marginBottom: "12px"
                    },
                    children: [t.jsxs("div", {
                        children: [t.jsxs("h3", {
                            style: {
                                margin: "0 0 4px 0",
                                fontSize: "18px",
                                display: "flex",
                                alignItems: "center",
                                color: "#FFD700"
                            },
                            children: ["Golden Hour ", t.jsx("span", {
                                style: {
                                    marginLeft: "8px",
                                    fontSize: "20px"
                                },
                                children: "🌇"
                            })]
                        }), t.jsx("p", {
                            style: {
                                margin: 0,
                                fontSize: "12px",
                                color: "#AAAAAA"
                            },
                            children: "Win SOL drawings during Golden Hour!"
                        })]
                    }), t.jsx("div", {
                        style: {
                            backgroundColor: "#FFD700",
                            color: "#000000",
                            borderRadius: "4px",
                            padding: "4px 8px",
                            fontSize: "12px",
                            fontWeight: 600
                        },
                        children: y ? "ACTIVE" : x ? "SCHEDULED" : p ? "CONCLUDED" : "INACTIVE"
                    })]
                }), t.jsxs("div", {
                    style: {
                        padding: "10px",
                        backgroundColor: "var(--color-card)",
                        borderRadius: "8px",
                        fontSize: "13px",
                        marginBottom: "16px"
                    },
                    children: [t.jsxs("div", {
                        style: {
                            fontWeight: 600,
                            marginBottom: a != null && a.isActive ? "8px" : "0px",
                            display: "flex",
                            justifyContent: "space-between"
                        },
                        children: [t.jsx("span", {
                            children: "Status:"
                        }), t.jsx("span", {
                            style: {
                                color: "#FFD700"
                            },
                            children: y ? "Active now" : x ? "Scheduled" : p ? "Concluded" : "Inactive"
                        })]
                    }), y && t.jsxs("div", {
                        style: {
                            fontWeight: 600,
                            marginBottom: "8px",
                            display: "flex",
                            justifyContent: "space-between"
                        },
                        children: [t.jsx("span", {
                            children: "Time left:"
                        }), t.jsx("span", {
                            style: {
                                color: "#FFD700"
                            },
                            children: L || "—"
                        })]
                    }), (y || x) && a.config && t.jsxs("div", {
                        style: {
                            fontWeight: 600,
                            marginBottom: a != null && a.playerEntries ? "8px" : "0px",
                            display: "flex",
                            justifyContent: "space-between"
                        },
                        children: [t.jsx("span", {
                            children: "SOL Prizes (Est.):"
                        }), t.jsx("span", {
                            style: {
                                color: "#FFD700"
                            },
                            children: (() => {
                                const G = a.config.prizeAmount || .1,
                                    ie = a.config.durationMinutes || 60,
                                    ne = G * ie * (5 / 6);
                                return `${vt(ne,1,!1)} SOL (${vt(G,1,!1)} SOL/round)`
                            })()
                        })]
                    }), x && F && t.jsxs("div", {
                        style: {
                            fontWeight: 600,
                            marginBottom: "8px",
                            display: "flex",
                            justifyContent: "space-between"
                        },
                        children: [t.jsx("span", {
                            children: "Starts in:"
                        }), t.jsx("span", {
                            style: {
                                color: "#FFD700"
                            },
                            children: F
                        })]
                    }), y && (a == null ? void 0 : a.hasValidEntry) && t.jsxs("div", {
                        style: {
                            fontWeight: 600,
                            marginBottom: "0px",
                            display: "flex",
                            justifyContent: "space-between"
                        },
                        children: [t.jsx("span", {
                            children: "Your entries:"
                        }), t.jsx("span", {
                            style: {
                                color: "#FFD700"
                            },
                            children: a.playerEntries || 0
                        })]
                    })]
                }), t.jsxs("div", {
                    style: {
                        padding: "10px",
                        backgroundColor: "var(--color-card)",
                        borderRadius: "8px",
                        fontSize: "13px"
                    },
                    children: [t.jsx("p", {
                        style: {
                            margin: "0 0 8px 0",
                            fontWeight: 600,
                            color: "#FFFFFF"
                        },
                        children: "How It Works"
                    }), t.jsxs("ul", {
                        style: {
                            margin: 0,
                            paddingLeft: "16px",
                            lineHeight: 1.6,
                            fontSize: "12px",
                            color: "#AAAAAA",
                            listStyleType: "disc"
                        },
                        children: [t.jsxs("li", {
                            style: {
                                marginBottom: "6px"
                            },
                            children: ["During the ", t.jsx("span", {
                                style: {
                                    color: "#FFD700",
                                    fontWeight: 600
                                },
                                children: "Golden Hour"
                            }), ", SOL is awarded at the end of each golden game."]
                        }), t.jsxs("li", {
                            style: {
                                marginBottom: "6px"
                            },
                            children: ["Earn entries by placing ", t.jsx("span", {
                                style: {
                                    color: "#00C950",
                                    fontWeight: 600
                                },
                                children: "Valid Bets"
                            }), " of at least 0.001 SOL. 0.001 SOL = 1 entry."]
                        }), t.jsxs("li", {
                            style: {
                                marginBottom: "6px"
                            },
                            children: ["A ", t.jsx("span", {
                                style: {
                                    color: "#00C950",
                                    fontWeight: 600
                                },
                                children: "Valid Bet"
                            }), " is any trade held for at least 5 seconds, or any trade that was rugged."]
                        }), t.jsxs("li", {
                            style: {
                                marginBottom: "6px"
                            },
                            children: [t.jsxs("span", {
                                style: {
                                    color: "#FFD700",
                                    fontWeight: 600
                                },
                                children: [((se = a.config) == null ? void 0 : se.maxEntries) || 10, " entries max per round"]
                            }), ". Entries reset every round."]
                        }), t.jsx("li", {
                            style: {
                                marginBottom: "6px"
                            },
                            children: "Trade like normal throughout the event."
                        })]
                    })]
                })]
            })]
        })
    },
    D2 = ({
        rewards: e
    }) => e ? t.jsxs("div", {
        className: "rugpass-bonuses",
        children: [t.jsx("h3", {
            className: "rugpass-bonuses__title",
            children: "Your Bonuses"
        }), t.jsxs("div", {
            className: "rugpass-bonuses__grid",
            children: [t.jsxs("div", {
                className: "rugpass-bonuses__bonus",
                children: [t.jsxs("div", {
                    className: "rugpass-bonuses__bonus-value rugpass-bonuses__bonus-value--drop",
                    children: ["+", e.dailyDropBonus || 0, "%"]
                }), t.jsx("div", {
                    className: "rugpass-bonuses__bonus-label",
                    children: "Daily Drop"
                })]
            }), t.jsxs("div", {
                className: "rugpass-bonuses__bonus",
                children: [t.jsxs("div", {
                    className: "rugpass-bonuses__bonus-value rugpass-bonuses__bonus-value--cooldown",
                    children: ["-", e.crateCooldownReduction || 0, "%"]
                }), t.jsx("div", {
                    className: "rugpass-bonuses__bonus-label",
                    children: "Crate Cooldown"
                })]
            }), t.jsxs("div", {
                className: "rugpass-bonuses__bonus",
                children: [t.jsxs("div", {
                    className: "rugpass-bonuses__bonus-value rugpass-bonuses__bonus-value--rugpool",
                    children: [e.rugpoolBonus && e.rugpoolBonus > 0 ? "+" : "", e.rugpoolBonus || 0]
                }), t.jsx("div", {
                    className: "rugpass-bonuses__bonus-label",
                    children: "Rugpool Bonus"
                })]
            })]
        })]
    }) : t.jsxs("div", {
        className: "rugpass-bonuses",
        children: [t.jsx("h3", {
            className: "rugpass-bonuses__title",
            children: "Your Bonuses"
        }), t.jsx("div", {
            className: "rugpass-bonuses__empty",
            children: "Complete quests to unlock tier bonuses!"
        })]
    }),
    N2 = ({
        rugpassData: e,
        discordLinked: s
    }) => {
        var v, C;
        const a = jn(),
            [r, l] = m.useState(null),
            [d, u] = m.useState(!1),
            [h, f] = m.useState(null),
            [p, y] = m.useState(""),
            x = () => {
                Ye(), u(!0), a.getDailyDropEntries(w => {
                    w.success ? (Ye("[RugpassDailyDrop] Daily drop data fetched successfully", w), l(w)) : (Ye("[RugpassDailyDrop] Daily drop data fetch failed:", w.message), f(w.message ? ? "Unknown error occurred")), u(!1)
                })
            },
            S = w => {
                if (!w) return;
                const j = Date.now(),
                    A = w - j;
                if (A <= 0) {
                    y("Drawing soon...");
                    return
                }
                const _ = Math.floor(A / (1e3 * 60 * 60)),
                    k = Math.floor(A % (1e3 * 60 * 60) / (1e3 * 60)),
                    D = Math.floor(A % (1e3 * 60) / 1e3);
                _ > 0 ? y(`${_}h ${k}m ${D}s`) : y(`${k}m ${D}s`)
            };
        return m.useEffect(() => {
            if (!(r != null && r.nextDrawTime)) return;
            const w = setInterval(() => {
                const j = Date.now(),
                    A = r.nextDrawTime - j;
                if (A <= 0) {
                    y("Drawing soon..."), x();
                    return
                }
                const _ = Math.floor(A / (1e3 * 60 * 60)),
                    k = Math.floor(A % (1e3 * 60 * 60) / (1e3 * 60)),
                    D = Math.floor(A % (1e3 * 60) / 1e3);
                _ > 0 ? y(`${_}h ${k}m ${D}s`) : y(`${k}m ${D}s`)
            }, 1e3);
            return () => clearInterval(w)
        }, [r == null ? void 0 : r.nextDrawTime]), m.useEffect(() => {
            r != null && r.nextDrawTime ? S(r.nextDrawTime) : y("Draw time unavailable")
        }, [r]), m.useEffect(() => {
            x()
        }, []), t.jsxs("div", {
            className: "rugpass-daily-drop",
            children: [t.jsxs("div", {
                className: "rugpass-daily-drop__header",
                children: [t.jsx("h3", {
                    className: "rugpass-daily-drop__title",
                    children: r != null && r.isSpecial ? t.jsxs("div", {
                        className: "rugpass-daily-drop__special-title",
                        children: [t.jsx("span", {
                            className: "rugpass-daily-drop__special-emoji",
                            children: "🎉"
                        }), "WUMPUS WEEKEND | 1 SOL EVERY HOUR"]
                    }) : "Daily Drop"
                }), t.jsxs("div", {
                    className: "rugpass-daily-drop__countdown-section",
                    children: [t.jsx("span", {
                        className: "rugpass-daily-drop__countdown-label",
                        children: "Next Draw (5 SOL):"
                    }), t.jsx("span", {
                        className: `rugpass-daily-drop__countdown-badge ${d||!p?"rugpass-daily-drop__countdown-badge--loading":p.includes("Error")||p.includes("unavailable")?"rugpass-daily-drop__countdown-badge--error":"rugpass-daily-drop__countdown-badge--normal"}`,
                        children: d ? "Loading..." : p || "SOON"
                    })]
                })]
            }), !s && t.jsx("div", {
                className: "rugpass-daily-drop__discord-warning",
                children: t.jsxs("div", {
                    className: "rugpass-daily-drop__discord-warning-text",
                    children: [t.jsx("u", {
                        children: "TO BE ELIGIBLE FOR THE DAILY DROP:"
                    }), " Link your Discord in your profile!"]
                })
            }), h && t.jsx("div", {
                className: "rugpass-daily-drop__error",
                children: t.jsx("div", {
                    className: "rugpass-daily-drop__error-text",
                    children: h
                })
            }), t.jsx("div", {
                className: "rugpass-daily-drop__entries-section",
                children: t.jsxs("div", {
                    className: "rugpass-daily-drop__entries-container",
                    children: [t.jsxs("div", {
                        className: "rugpass-daily-drop__entries-card",
                        children: [t.jsx("div", {
                            className: "rugpass-daily-drop__entries-value",
                            children: Math.floor((r == null ? void 0 : r.entries) || 0)
                        }), t.jsx("div", {
                            className: "rugpass-daily-drop__entries-label",
                            children: "Your Entries"
                        })]
                    }), t.jsxs("div", {
                        className: "rugpass-daily-drop__description",
                        children: ["Earn entries by earning XP. Max per drawing is 100,000 & resets every draw. Winnings go to your", " ", t.jsx("span", {
                            className: "rugpass-daily-drop__piggy-bank-text",
                            children: "Piggy Bank"
                        }), ". Your Rugpass bonus increases your entries by", " ", t.jsxs("span", {
                            className: "rugpass-daily-drop__bonus-text",
                            children: [((v = e.rewards) == null ? void 0 : v.dailyDropBonus) || 0, "%"]
                        }), "!"]
                    })]
                })
            }), (r == null ? void 0 : r.recentWinners) && r.recentWinners.length > 0 && t.jsxs("div", {
                className: "rugpass-daily-drop__recent-winners",
                children: [t.jsx("h4", {
                    className: "rugpass-daily-drop__recent-winners-title",
                    children: "Recent Winners"
                }), t.jsx("div", {
                    className: "rugpass-daily-drop__winners-table-container",
                    children: t.jsxs("table", {
                        className: "rugpass-daily-drop__winners-table",
                        children: [t.jsx("thead", {
                            className: "rugpass-daily-drop__table-header",
                            children: t.jsxs("tr", {
                                children: [t.jsx("th", {
                                    className: "rugpass-daily-drop__table-header-cell-left",
                                    children: "Player"
                                }), t.jsx("th", {
                                    className: "rugpass-daily-drop__table-header-cell-right",
                                    children: "Entries"
                                }), t.jsx("th", {
                                    className: "rugpass-daily-drop__table-header-cell-right",
                                    children: "Prize"
                                })]
                            })
                        }), t.jsx("tbody", {
                            children: (C = r == null ? void 0 : r.recentWinners) == null ? void 0 : C.map((w, j) => {
                                var A, _;
                                return t.jsxs("tr", {
                                    className: `rugpass-daily-drop__table-row ${j%2===0?"rugpass-daily-drop__table-row--even":""}`,
                                    children: [t.jsxs("td", {
                                        className: "rugpass-daily-drop__winner-username",
                                        children: [w.username || "Anon", w.isSpecial && t.jsx("span", {
                                            className: "rugpass-daily-drop__special-emoji-inline",
                                            children: "🎉"
                                        })]
                                    }), t.jsx("td", {
                                        className: "rugpass-daily-drop__entry-count",
                                        children: ((A = w.entryCount) == null ? void 0 : A.toLocaleString()) || "0"
                                    }), t.jsx("td", {
                                        className: "rugpass-daily-drop__prize-cell",
                                        children: t.jsxs("div", {
                                            className: "rugpass-daily-drop__prize-content",
                                            children: [t.jsx("span", {
                                                className: "rugpass-daily-drop__prize-amount",
                                                children: ((_ = w.amount) == null ? void 0 : _.toFixed(3)) || "0.000"
                                            }), t.jsx("img", {
                                                src: "/icons/Icon_Solana.png",
                                                alt: "SOL",
                                                className: "rugpass-daily-drop__sol-icon"
                                            })]
                                        })
                                    })]
                                }, j)
                            })
                        })]
                    })
                })]
            })]
        })
    },
    oy = ls.forwardRef(({
        tier: e,
        onClose: s,
        isAdminView: a = !1,
        lookupPlayerInfo: r
    }, l) => t.jsx("div", {
        className: "rugpass-header",
        ref: l,
        children: t.jsxs("div", {
            className: "rugpass-header__content",
            children: [t.jsxs("div", {
                className: "rugpass-header__left",
                children: [t.jsxs("div", {
                    className: "rugpass-header__title",
                    children: [t.jsx("h2", {
                        children: "Rugpass"
                    }), t.jsxs("span", {
                        className: "rugpass-header__tier",
                        children: ["Tier ", e]
                    }), a && t.jsx("span", {
                        className: "rugpass-header__admin-badge",
                        children: "Admin View"
                    })]
                }), r && t.jsx("div", {
                    className: "rugpass-header__lookup-info",
                    children: r
                })]
            }), t.jsx(Rt, {
                onClick: s,
                className: "rugpass-header__close",
                "aria-label": "Close Rugpass",
                size: "small",
                sx: {
                    color: "#AAAAAA",
                    "&:hover": {
                        color: "#FFFFFF"
                    }
                },
                children: t.jsx(Lr, {
                    className: "rugpass-header__close-icon"
                })
            })]
        })
    }));
oy.displayName = "RugpassHeader";
const _2 = ({
        rugpassData: e,
        onClaimPiggyBank: s
    }) => {
        const a = () => e.tier >= e.maxTier ? 100 : Math.min(100, e.tier / e.maxTier * 100),
            r = () => {
                s()
            },
            l = e.piggyBankClaimed,
            u = e.tier >= e.maxTier && !l,
            h = e.piggyBank || e.piggyBankBalance || 0,
            f = e.daysUntilReset || 0;
        return t.jsxs("div", {
            className: "rugpass-piggy-bank",
            children: [t.jsxs("h3", {
                className: "rugpass-piggy-bank__title",
                children: ["Piggybank Monthly ", f > 0 && `(${f} days left)`]
            }), t.jsxs("div", {
                className: "rugpass-piggy-bank__container",
                children: [t.jsx("div", {
                    className: "rugpass-piggy-bank__icon",
                    children: t.jsx("img", {
                        src: "/icons/piggyBankPig.png",
                        alt: "Piggy Bank",
                        className: "rugpass-piggy-bank__pig",
                        onError: p => {
                            p.target.style.display = "none"
                        }
                    })
                }), t.jsxs("div", {
                    className: "rugpass-piggy-bank__content",
                    children: [t.jsxs("div", {
                        className: "rugpass-piggy-bank__amount",
                        children: [t.jsx("div", {
                            className: "rugpass-piggy-bank__value",
                            children: h > 0 ? h.toFixed(3) : "0.000"
                        }), t.jsx("img", {
                            src: "/icons/Icon_Solana_Transparent.png",
                            alt: "SOL",
                            className: "rugpass-piggy-bank__sol-icon"
                        })]
                    }), t.jsx("div", {
                        className: "rugpass-piggy-bank__progress",
                        children: t.jsx("div", {
                            className: "rugpass-piggy-bank__progress-fill",
                            style: {
                                width: `${a()}%`
                            }
                        })
                    }), t.jsxs("div", {
                        className: "rugpass-piggy-bank__info",
                        children: [t.jsxs("div", {
                            className: "rugpass-piggy-bank__description",
                            children: [t.jsx("p", {
                                className: "rugpass-piggy-bank__text",
                                children: "Your Piggybank fills automatically as you trade!"
                            }), e.isLastChancePiggyBank && t.jsxs("p", {
                                className: "rugpass-piggy-bank__warning",
                                children: [t.jsx("span", {
                                    className: "rugpass-piggy-bank__warning-icon",
                                    children: "⚠️"
                                }), "Last chance! Piggybank will reset next month if unclaimed."]
                            }), (e.piggyBankUnclaimedMonths || 0) > 0 && !e.isLastChancePiggyBank && (e.piggyBankMonthsBeforeReset || 0) > 0 && t.jsxs("p", {
                                className: "rugpass-piggy-bank__unclaimed",
                                children: ["Unclaimed for ", e.piggyBankUnclaimedMonths, " of ", e.piggyBankMonthsBeforeReset, " months before reset"]
                            })]
                        }), t.jsx("div", {
                            children: l ? t.jsx(Te, {
                                className: "rugpass-piggy-bank__button rugpass-piggy-bank__button--claimed",
                                disabled: !0,
                                size: "large",
                                sx: {
                                    fontWeight: "bold",
                                    fontSize: "1.1rem",
                                    padding: "12px 24px",
                                    color: "#FFFFFF",
                                    background: "linear-gradient(to right, #10B981, #059669)",
                                    cursor: "default",
                                    minWidth: "140px",
                                    borderRadius: "12px"
                                },
                                children: "Claimed! 🥳"
                            }) : u ? t.jsx(Te, {
                                onClick: r,
                                className: "rugpass-piggy-bank__button rugpass-piggy-bank__button--claimable",
                                size: "large",
                                sx: {
                                    fontWeight: "bold",
                                    fontSize: "1.1rem",
                                    padding: "12px 24px",
                                    color: "#FFFFFF",
                                    background: "linear-gradient(to right, #EC4899, #9D4EDD)",
                                    minWidth: "140px",
                                    borderRadius: "12px",
                                    "&:hover": {
                                        background: "linear-gradient(to right, rgba(236, 72, 153, 0.9), rgba(157, 78, 221, 0.9))",
                                        transform: "scale(1.05)"
                                    }
                                },
                                children: "Claim Now"
                            }) : t.jsxs(Te, {
                                className: "rugpass-piggy-bank__button rugpass-piggy-bank__button--disabled",
                                disabled: !0,
                                size: "large",
                                sx: {
                                    fontWeight: "bold",
                                    fontSize: "1.1rem",
                                    padding: "12px 24px",
                                    color: "rgba(255, 255, 255, 0.5)",
                                    background: "linear-gradient(to right, rgba(236, 72, 153, 0.5), rgba(157, 78, 221, 0.5))",
                                    cursor: "not-allowed",
                                    minWidth: "140px",
                                    borderRadius: "12px"
                                },
                                children: ["Claim at Tier ", e.maxTier]
                            })
                        })]
                    })]
                })]
            })]
        })
    },
    P2 = ({
        rugpassData: e
    }) => {
        const s = () => {
                var l;
                return e.gems || ((l = e.progress) == null ? void 0 : l.currentGems) || 0
            },
            a = () => {
                var l;
                return ((l = e.progress) == null ? void 0 : l.gemsForNextTier) || 7
            },
            r = e.tier >= e.maxTier;
        return t.jsxs("div", {
            className: "rugpass-progress",
            children: [t.jsxs("div", {
                className: "rugpass-progress__header",
                children: [t.jsx("h3", {
                    className: "rugpass-progress__title",
                    children: "Rugpass Tier Progress"
                }), t.jsxs("div", {
                    className: "rugpass-progress__tier-info",
                    children: [t.jsxs("span", {
                        className: "rugpass-progress__current-tier",
                        children: ["Tier ", e.tier]
                    }), !r && t.jsxs("span", {
                        className: "rugpass-progress__next-tier",
                        children: ["→ Tier ", e.tier + 1]
                    })]
                })]
            }), t.jsx("div", {
                className: "rugpass-progress__content",
                children: r ? t.jsxs("div", {
                    className: "rugpass-progress__max-tier",
                    children: [t.jsx("span", {
                        className: "rugpass-progress__celebration",
                        children: "🎉"
                    }), t.jsx("div", {
                        className: "rugpass-progress__max-text",
                        children: "Max Tier Reached!"
                    }), t.jsx("div", {
                        className: "rugpass-progress__max-description",
                        children: "You've unlocked all tier rewards and can now claim your Piggybank."
                    })]
                }) : t.jsx("div", {
                    className: "rugpass-progress__bowls",
                    children: Array.from({
                        length: a()
                    }, (l, d) => t.jsx("div", {
                        className: "rugpass-progress__bowl",
                        children: d < s() ? t.jsx("img", {
                            src: "/icons/curryBowlFilled.png",
                            alt: "Filled Curry Bowl",
                            className: "rugpass-progress__bowl-image rugpass-progress__bowl-image--filled"
                        }) : t.jsx("img", {
                            src: "/icons/curryBowlEmpty.png",
                            alt: "Empty Curry Bowl",
                            className: "rugpass-progress__bowl-image rugpass-progress__bowl-image--empty"
                        })
                    }, `bowl-${d}`))
                })
            })]
        })
    },
    L2 = ({
        rugpassData: e
    }) => {
        var p, y, x;
        const s = S => {
                if (!S) return "N/A";
                const v = Date.now(),
                    C = Math.max(0, S - v);
                if (C === 0) return "Loading...";
                const w = Math.floor(C / (1e3 * 60 * 60 * 24)),
                    j = Math.floor(C % (1e3 * 60 * 60 * 24) / (1e3 * 60 * 60)),
                    A = Math.floor(C % (1e3 * 60 * 60) / (1e3 * 60));
                return w > 0 ? `${w}d ${j}h` : j > 0 ? `${j}h ${A}m` : A > 0 ? `${A}m` : `${Math.floor(C%6e4/1e3)}s`
            },
            a = () => (e == null ? void 0 : e.activeQuests) || {
                daily: [],
                weekly: [],
                monthly: []
            },
            r = S => S ? S <= Date.now() : !1,
            l = S => {
                if (!S) return !1;
                const v = Date.now();
                return S > v && S - v <= 1e4
            },
            d = (S, v, C) => {
                if (!v || !v[C] || !S.progress) return "0/1";
                const w = v[C],
                    j = S.progress.field,
                    A = S.progress.target || 1;
                if (S.progress.isBoolean) return w[j] ? "✓" : "0/1";
                const _ = w[j] || 0,
                    k = Math.min(_, A);
                return A === 1 ? k >= 1 ? "✓" : "0/1" : `${k}/${A}`
            },
            u = (S, v, C) => {
                if (!v || !v[C] || !S.progress) return "";
                const w = v[C],
                    j = S.progress.field,
                    A = S.progress.target || 1;
                if (S.progress.isBoolean) return w[j] ? "Completed" : S.description;
                const _ = w[j] || 0,
                    k = Math.min(_, A);
                if (j === "games_played") return `${k}/${A} games played with SOL`;
                if (j === "rugged_count") return `${k}/${A} times rugged with SOL`;
                if (j === "crates_opened") return `${k}/${A} crates opened`;
                if (j.includes("pnl_count")) {
                    const D = j.replace("pnl_count_", "");
                    return `End a SOL round with a ${D==="2x"?"100":D==="5x"?"400":D==="20x"?"1900":D==="100x"?"9900":"99900"}%+ PNL (${k}/${A})`
                } else {
                    if (j === "deposit_made") return _ ? "Completed" : "Make a SOL deposit of any amount";
                    if (j === "god_candle_hit") return _ ? "Completed" : "Have an active SOL position when a God Candle hits";
                    if (j === "rugpool_win") return _ ? "Completed" : "Win a Rugpool drawing"
                }
                return `${k}/${A}`
            },
            h = a(),
            f = (e == null ? void 0 : e.questProgress) || {};
        return t.jsxs("div", {
            className: "space-y-5 mb-6",
            children: [t.jsxs("div", {
                className: "rugpass-quest-container",
                children: [t.jsxs("div", {
                    className: "flex justify-between items-center mb-3",
                    children: [t.jsx("h3", {
                        className: "text-white text-lg font-semibold",
                        children: "Daily"
                    }), t.jsxs("span", {
                        className: `text-xs px-2 py-0.5 rounded-full inline-flex items-center ${r(e.dailyRefreshTime||0)?"bg-green-800/40 text-green-300 animate-pulse":l(e.dailyRefreshTime||0)?"bg-[#a855f7]/40 text-[#f3e8ff]":"bg-[#4C2A90] text-zinc-300"}`,
                        children: [r(e.dailyRefreshTime || 0) && t.jsxs("svg", {
                            className: "animate-spin -ml-1 mr-2 h-3 w-3 text-white",
                            xmlns: "http://www.w3.org/2000/svg",
                            fill: "none",
                            viewBox: "0 0 24 24",
                            children: [t.jsx("circle", {
                                className: "opacity-25",
                                cx: "12",
                                cy: "12",
                                r: "10",
                                stroke: "currentColor",
                                strokeWidth: "4"
                            }), t.jsx("path", {
                                className: "opacity-75",
                                fill: "currentColor",
                                d: "M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"
                            })]
                        }), s(e.dailyRefreshTime || 0)]
                    })]
                }), t.jsx("div", {
                    className: "space-y-2",
                    children: (p = h.daily) == null ? void 0 : p.map(S => {
                        const v = S;
                        return v ? t.jsxs("div", {
                            className: `flex justify-between items-center p-3 rounded-xl ${v.completed?"bg-[#2d1b69]/50 border border-[#a855f7]/40":"bg-[#1e1b4b]/40 border border-[#a855f7]/30"}`,
                            children: [t.jsxs("div", {
                                className: "flex items-center",
                                children: [t.jsx("div", {
                                    className: `w-8 h-8 flex items-center justify-center rounded-full mr-3 ${v.completed?"bg-green-800/80 text-green-200":"bg-[#3B1C80] text-zinc-400"}`,
                                    children: v.completed ? "✓" : d(v, f, "daily")
                                }), t.jsxs("div", {
                                    children: [t.jsx("div", {
                                        className: "text-white font-medium",
                                        children: v.description
                                    }), !v.completed && t.jsx("div", {
                                        className: "text-zinc-400 text-xs",
                                        children: u(v, f, "daily")
                                    })]
                                })]
                            }), t.jsx("div", {
                                className: "flex items-center",
                                children: t.jsx("div", {
                                    className: "flex",
                                    children: [...Array(v.gems || 1)].map((C, w) => t.jsx("div", {
                                        className: `w-5 h-5 mx-0.5 ${v.completed?"text-yellow-500":"text-zinc-500"}`,
                                        children: t.jsx("img", {
                                            src: "/icons/curryBowlFilled.png",
                                            alt: "Curry",
                                            className: "w-5 h-5"
                                        })
                                    }, w))
                                })
                            })]
                        }, v == null ? void 0 : v.id) : null
                    })
                })]
            }), t.jsxs("div", {
                className: "rugpass-quest-container",
                children: [t.jsxs("div", {
                    className: "flex justify-between items-center mb-3",
                    children: [t.jsx("h3", {
                        className: "text-white text-lg font-semibold",
                        children: "Weekly"
                    }), t.jsxs("span", {
                        className: `text-xs px-2 py-0.5 rounded-full inline-flex items-center ${r(e.weeklyRefreshTime||0)?"bg-green-800/40 text-green-300 animate-pulse":l(e.weeklyRefreshTime||0)?"bg-[#a855f7]/40 text-[#f3e8ff]":"bg-[#4C2A90] text-zinc-300"}`,
                        children: [r(e.weeklyRefreshTime || 0) && t.jsxs("svg", {
                            className: "animate-spin -ml-1 mr-2 h-3 w-3 text-white",
                            xmlns: "http://www.w3.org/2000/svg",
                            fill: "none",
                            viewBox: "0 0 24 24",
                            children: [t.jsx("circle", {
                                className: "opacity-25",
                                cx: "12",
                                cy: "12",
                                r: "10",
                                stroke: "currentColor",
                                strokeWidth: "4"
                            }), t.jsx("path", {
                                className: "opacity-75",
                                fill: "currentColor",
                                d: "M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"
                            })]
                        }), s(e.weeklyRefreshTime || 0)]
                    })]
                }), t.jsx("div", {
                    className: "space-y-2",
                    children: (y = h.weekly) == null ? void 0 : y.map(S => {
                        const v = S;
                        return v ? t.jsxs("div", {
                            className: `flex justify-between items-center p-3 rounded-xl ${v.completed?"bg-[#2d1b69]/50 border border-[#a855f7]/40":"bg-[#1e1b4b]/40 border border-[#a855f7]/30"}`,
                            children: [t.jsxs("div", {
                                className: "flex items-center",
                                children: [t.jsx("div", {
                                    className: `w-8 h-8 flex items-center justify-center rounded-full mr-3 ${v.completed?"bg-green-800/80 text-green-200":"bg-[#3B1C80] text-zinc-400"}`,
                                    children: v.completed ? "✓" : d(v, f, "weekly")
                                }), t.jsxs("div", {
                                    children: [t.jsx("div", {
                                        className: "text-white font-medium",
                                        children: v.description
                                    }), !v.completed && t.jsx("div", {
                                        className: "text-zinc-400 text-xs",
                                        children: u(v, f, "weekly")
                                    })]
                                })]
                            }), t.jsx("div", {
                                className: "flex items-center",
                                children: t.jsx("div", {
                                    className: "flex",
                                    children: [...Array(v.gems || 1)].map((C, w) => t.jsx("div", {
                                        className: `w-5 h-5 mx-0.5 ${v.completed?"text-yellow-500":"text-zinc-500"}`,
                                        children: t.jsx("img", {
                                            src: "/icons/curryBowlFilled.png",
                                            alt: "Curry",
                                            className: "w-5 h-5"
                                        })
                                    }, w))
                                })
                            })]
                        }, v.id) : null
                    })
                })]
            }), t.jsxs("div", {
                className: "rugpass-quest-container",
                children: [t.jsxs("div", {
                    className: "flex justify-between items-center mb-3",
                    children: [t.jsx("h3", {
                        className: "text-white text-lg font-semibold",
                        children: "Monthly"
                    }), t.jsx("span", {
                        className: `text-xs px-2 py-0.5 rounded-full ${(e.daysUntilReset||0)===0?"bg-green-800/40 text-green-300 animate-pulse":(e.daysUntilReset||0)===1?"bg-[#a855f7]/40 text-[#f3e8ff]":"bg-[#4C2A90] text-zinc-300"}`,
                        children: (e.daysUntilReset || 0) === 0 ? "Loading..." : `${e.daysUntilReset} days`
                    })]
                }), t.jsx("div", {
                    className: "space-y-2",
                    children: (x = h.monthly) == null ? void 0 : x.map(S => {
                        const v = S;
                        return v ? t.jsxs("div", {
                            className: `flex justify-between items-center p-3 rounded-xl ${v.completed?"bg-[#2d1b69]/50 border border-[#a855f7]/40":"bg-[#1e1b4b]/40 border border-[#a855f7]/30"}`,
                            children: [t.jsxs("div", {
                                className: "flex items-center",
                                children: [t.jsx("div", {
                                    className: `w-8 h-8 flex items-center justify-center rounded-full mr-3 ${v.completed?"bg-green-800/80 text-green-200":"bg-[#3B1C80] text-zinc-400"}`,
                                    children: v.completed ? "✓" : d(v, f, "monthly")
                                }), t.jsxs("div", {
                                    children: [t.jsx("div", {
                                        className: "text-white font-medium",
                                        children: v.description
                                    }), !v.completed && t.jsx("div", {
                                        className: "text-zinc-400 text-xs",
                                        children: u(v, f, "monthly")
                                    })]
                                })]
                            }), t.jsx("div", {
                                className: "flex items-center",
                                children: t.jsx("div", {
                                    className: "flex flex-wrap justify-end max-w-[180px] md:max-w-[450px]",
                                    children: [...Array(v.gems || 1)].map((C, w) => t.jsx("div", {
                                        className: `w-5 h-5 mx-0.5 mb-0.5 ${v.completed?"text-yellow-500":"text-zinc-500"}`,
                                        children: t.jsx("img", {
                                            src: "/icons/curryBowlFilled.png",
                                            alt: "Curry",
                                            className: "w-5 h-5"
                                        })
                                    }, w))
                                })
                            })]
                        }, v.id) : null
                    })
                })]
            })]
        })
    },
    ly = m.memo(({
        unclaimedRewards: e,
        onClaimAll: s,
        onClaimSpecific: a,
        recentlyClaimedTiers: r = new Set
    }) => {
        const l = m.useCallback(u => {
                const h = [];
                if (typeof u == "object" && u !== null) {
                    const f = u;
                    f.dailyDropBonus && h.push(t.jsxs("span", {
                        className: "rugpass-rewards__badge rugpass-rewards__badge--drop",
                        children: ["+", f.dailyDropBonus, "% Drop"]
                    }, "drop")), f.crateCooldownReduction && h.push(t.jsxs("span", {
                        className: "rugpass-rewards__badge rugpass-rewards__badge--cooldown",
                        children: ["-", f.crateCooldownReduction, "% Cooldown"]
                    }, "cooldown")), f.rugpoolBonus && h.push(t.jsxs("span", {
                        className: "rugpass-rewards__badge rugpass-rewards__badge--rugpool",
                        children: [f.rugpoolBonus > 0 ? "+" : "", f.rugpoolBonus, " Rugpool"]
                    }, "rugpool")), f.emoji && h.push(t.jsx("span", {
                        className: "rugpass-rewards__badge rugpass-rewards__badge--emoji",
                        children: "Emoji"
                    }, "emoji"))
                }
                return h
            }, []),
            d = m.useMemo(() => !e || !Array.isArray(e) ? null : e.map((u, h) => {
                const f = (u == null ? void 0 : u.tier) || 0,
                    p = r.has(f);
                return t.jsxs("div", {
                    className: `rugpass-rewards__item ${p?"rugpass-rewards__item--claimed":""}`,
                    children: [t.jsxs("div", {
                        className: "rugpass-rewards__item-info",
                        children: [t.jsxs("div", {
                            className: "rugpass-rewards__tier",
                            children: ["Tier ", f]
                        }), t.jsx("div", {
                            className: "rugpass-rewards__badges",
                            children: l(u == null ? void 0 : u.rewards)
                        })]
                    }), t.jsx(Te, {
                        onClick: () => a(f),
                        className: "rugpass-rewards__claim-single",
                        disabled: p,
                        variant: p ? "outlined" : "contained",
                        size: "small",
                        sx: {
                            backgroundColor: p ? "#10B981" : "#FFD700",
                            color: p ? "#FFFFFF" : "#000000",
                            fontWeight: 600,
                            fontSize: "12px",
                            "&:hover": {
                                backgroundColor: p ? "#10B981" : "#E6C200"
                            },
                            "&:disabled": {
                                backgroundColor: "#10B981",
                                color: "#FFFFFF",
                                cursor: "not-allowed",
                                opacity: .9
                            }
                        },
                        children: p ? "Claimed!" : "Claim"
                    })]
                }, f || h)
            }), [e, r, l, a]);
        return !e || !Array.isArray(e) ? null : t.jsxs("div", {
            className: "rugpass-rewards",
            children: [t.jsxs("div", {
                className: "rugpass-rewards__header",
                children: [t.jsx("h3", {
                    className: "rugpass-rewards__title",
                    children: "Unclaimed Rewards"
                }), t.jsx(Te, {
                    onClick: s,
                    className: "rugpass-rewards__claim-all",
                    variant: "contained",
                    size: "medium",
                    sx: {
                        backgroundColor: "#FFD700",
                        color: "#000000",
                        fontWeight: 600,
                        "&:hover": {
                            backgroundColor: "#E6C200"
                        }
                    },
                    children: "Claim All"
                })]
            }), t.jsx("div", {
                className: "rugpass-rewards__list",
                children: d
            })]
        })
    });
ly.displayName = "RugpassRewards";
const l0 = e => {
        const s = El[e];
        return s && "size" in s ? s.size : 1
    },
    M2 = e => {
        const s = El[e];
        return (s == null ? void 0 : s.file) || `${e}.gif`
    },
    B2 = ({
        rugpassData: e,
        onClaimReward: s,
        recentlyClaimedTiers: a = new Set
    }) => {
        const r = e.maxTier || 25,
            l = e.tierRewards || {},
            d = a.size > 0;
        return t.jsxs("div", {
            className: "rugpass-tier-container",
            children: [t.jsxs("div", {
                className: "flex justify-between items-center mb-4",
                children: [t.jsx("h3", {
                    className: "text-white text-lg font-semibold",
                    children: "Rugpass Tiers"
                }), e.unclaimedTierRewards && e.unclaimedTierRewards.length > 0 && t.jsxs("button", {
                    onClick: () => s(0),
                    disabled: d,
                    className: `px-4 py-1 rounded-md text-sm font-medium transition-colors ${d?"bg-green-600 text-white cursor-default":"bg-yellow-600 hover:bg-yellow-500 text-white"}`,
                    children: [d ? "Claimed!" : "Claim", !d && t.jsx("span", {
                        className: "ml-1 inline-flex items-center justify-center w-5 h-5 bg-yellow-800 rounded-full text-xs",
                        children: e.unclaimedTierRewards.length
                    })]
                })]
            }), t.jsxs("div", {
                className: "space-y-2 max-h-640 overflow-y-auto pr-2 relative",
                children: [t.jsx("div", {
                    className: "absolute left-[28px] top-8 bottom-8 w-0.5 bg-[#4C2A90] z-0"
                }), Array.from({
                    length: r
                }, (u, h) => h + 1).map(u => {
                    var S, v;
                    const h = l[u] || {},
                        f = h,
                        p = u === e.tier + 1,
                        y = ((S = e.progress) == null ? void 0 : S.currentGems) || 0,
                        x = ((v = e.progress) == null ? void 0 : v.gemsForNextTier) || 7;
                    return t.jsxs("div", {
                        className: `flex items-center p-2 rounded-lg ${u<=e.tier?"bg-[#2d1b69]/50 border border-[#a855f7]/40":u===r?"bg-red-900/20 border border-red-600/30":"bg-[#1e1b4b]/40 border border-[#a855f7]/30"}`,
                        children: [t.jsx("div", {
                            className: `flex-shrink-0 w-10 h-10 rounded-lg flex items-center justify-center font-bold relative z-10 ${u<=e.tier?"bg-yellow-600 text-white":u===r?"bg-gradient-to-br from-yellow-600 to-red-600 text-white":"bg-[#4C2A90]/70 text-zinc-400"}`,
                            children: u
                        }), t.jsx("div", {
                            className: "ml-3 flex-1",
                            children: Object.keys(h).length > 0 || u === r ? t.jsxs("div", {
                                className: "flex flex-wrap gap-1",
                                children: [f.dailyDropBonus && t.jsxs("span", {
                                    className: "px-2 py-0.5 bg-yellow-800/30 text-yellow-400 rounded text-xs",
                                    children: ["+", f.dailyDropBonus, "% Daily Drop Entries"]
                                }), f.crateCooldownReduction && t.jsxs("span", {
                                    className: "px-2 py-0.5 bg-purple-800/30 text-purple-400 rounded text-xs",
                                    children: ["-", f.crateCooldownReduction, "% Crate Cooldowns"]
                                }), f.rugpoolBonus && t.jsxs("span", {
                                    className: "px-2 py-0.5 bg-orange-800/30 text-orange-400 rounded text-xs",
                                    children: [f.rugpoolBonus > 0 ? "+" : "", f.rugpoolBonus, "% Rugpool Entries"]
                                }), f.emoji && t.jsxs("span", {
                                    className: "px-2 py-0.5 bg-pink-800/30 text-pink-400 rounded text-xs flex items-center",
                                    children: [t.jsx("span", {
                                        className: "mr-1",
                                        children: t.jsx("img", {
                                            src: `/emojis/${M2(f.emoji)}`,
                                            alt: f.emoji,
                                            className: "inline-block",
                                            style: {
                                                width: `${l0(f.emoji)*16}px`,
                                                height: `${l0(f.emoji)*16}px`
                                            },
                                            onError: C => {
                                                C.currentTarget.src = `/emojis/${f.emoji}.png`
                                            }
                                        })
                                    }), f.emoji === "noCryingInTheCasino" ? "noCryingInTheCasino Emoji" : `${f.emoji} Emoji`]
                                }), f.chatBadge && t.jsxs("span", {
                                    className: "px-2 py-0.5 bg-blue-800/30 text-blue-400 rounded text-xs flex items-center",
                                    children: [t.jsx("span", {
                                        className: "mr-1",
                                        children: "🛡️"
                                    }), f.chatBadge, " Badge"]
                                }), u === r && t.jsxs("span", {
                                    className: "px-2 py-0.5 bg-pink-800/30 text-pink-400 rounded text-xs flex items-center",
                                    children: [t.jsx("span", {
                                        className: "mr-1",
                                        children: "🐷"
                                    }), "PIGGY BANK UNLOCK"]
                                })]
                            }) : t.jsx("span", {
                                className: "text-zinc-500 text-xs",
                                children: "No rewards"
                            })
                        }), t.jsxs("div", {
                            className: "ml-2 flex items-center",
                            children: [p ? t.jsx("div", {
                                className: "flex space-x-1 mr-2",
                                children: Array.from({
                                    length: x
                                }, (C, w) => t.jsx("div", {
                                    className: "w-5 h-5",
                                    children: w < y ? t.jsx("img", {
                                        src: "/icons/curryBowlFilled.png",
                                        alt: "Filled Progress",
                                        className: "w-5 h-5"
                                    }) : t.jsx("img", {
                                        src: "/icons/curryBowlEmpty.png",
                                        alt: "Empty Progress",
                                        className: "w-5 h-5 opacity-40"
                                    })
                                }, `bowl-${w}`))
                            }) : null, t.jsx("div", {
                                className: "text-lg",
                                children: u <= e.tier ? t.jsx("span", {
                                    className: "text-green-400",
                                    children: "✓"
                                }) : t.jsx("span", {
                                    className: "text-zinc-500",
                                    children: "🔒"
                                })
                            })]
                        })]
                    }, u)
                })]
            })]
        })
    },
    cy = ({
        onClose: e
    }) => {
        var Nt;
        const s = bt(),
            a = nn(),
            r = jn(),
            l = m.useRef(null),
            d = m.useRef(Date.now()),
            u = m.useRef(!1),
            h = m.useRef(!1),
            f = m.useRef(null),
            p = m.useRef(null),
            y = m.useRef(null),
            x = Se(Ge.selectCurrent),
            S = m.useMemo(() => x == null ? void 0 : x.rugpassData, [x == null ? void 0 : x.rugpassData]),
            v = m.useMemo(() => !!(x != null && x.id), [x == null ? void 0 : x.id]),
            C = m.useMemo(() => (x == null ? void 0 : x.role) === "admin", [x == null ? void 0 : x.role]),
            [w, j] = m.useState(!1),
            [A, _] = m.useState(null),
            [k, D] = m.useState(new Set),
            [E, P] = m.useState(""),
            [I, B] = m.useState(""),
            [X, O] = m.useState(""),
            [L, F] = m.useState(""),
            [Y, H] = m.useState(!1),
            [K, z] = m.useState(""),
            [U, V] = m.useState("emoji"),
            [W, q] = m.useState("daily"),
            [Z, se] = m.useState(!1),
            [G, ie] = m.useState(null);
        m.useEffect(() => {
            S && !w && j(!0)
        }, [S, w]);
        const ne = m.useMemo(() => {
                var J;
                return !!((J = x == null ? void 0 : x.discord) != null && J.id)
            }, [(Nt = x == null ? void 0 : x.discord) == null ? void 0 : Nt.id]),
            ee = m.useMemo(() => v && !h.current && !w, [v, w]),
            me = m.useMemo(() => x == null ? void 0 : x.id, [x == null ? void 0 : x.id]),
            fe = m.useCallback(() => {
                Ye(), !(Z && A) && (r.getRugpassStatus(J => {
                    var ze;
                    if (Ye("[RugpassModal] Rugpass callback received:", J), J.success) {
                        const Ue = J,
                            Oe = {
                                tier: Ue.tier || 0,
                                level: Ue.tier || 0,
                                maxTier: Ue.maxTier || 25,
                                gems: ((ze = Ue.progress) == null ? void 0 : ze.currentGems) || 0,
                                progress: Ue.progress || {
                                    currentGems: 0,
                                    gemsForNextTier: 0,
                                    gemsPercent: 0
                                },
                                piggyBank: Ue.piggyBank || 0,
                                piggyBankBalance: Ue.piggyBank || 0,
                                piggyBankClaimed: Ue.piggyBankClaimed || !1,
                                isPiggyBankClaimable: !Ue.piggyBankClaimed && (Ue.piggyBank || 0) > 0,
                                isLastChancePiggyBank: Ue.isLastChancePiggyBank || !1,
                                piggyBankUnclaimedMonths: Ue.piggyBankUnclaimedMonths || 0,
                                piggyBankMonthsBeforeReset: Ue.piggyBankMonthsBeforeReset || 2,
                                activeQuests: Ue.activeQuests || {
                                    daily: [],
                                    weekly: [],
                                    monthly: []
                                },
                                questProgress: Ue.questProgress || {},
                                tierRewards: (J == null ? void 0 : J.tierRewards) || {},
                                rewards: Ue.rewards,
                                unclaimedRewards: Ue.unclaimedRewards || [],
                                unclaimedTierRewards: Ue.unclaimedRewards || [],
                                dailyRefreshTime: Ue.dailyRefreshTime,
                                weeklyRefreshTime: Ue.weeklyRefreshTime,
                                monthlyRefreshTime: Ue.monthlyRefreshTime,
                                daysUntilReset: Ue.daysUntilReset,
                                may2025piggybankAirdropClaimed: Ue.may2025piggybankAirdropClaimed
                            };
                        s(Me.update({
                            id: me || "current-user",
                            rugpassData: Oe
                        })), j(!0), h.current = !0
                    } else Ye("[RugpassModal] Failed to fetch rugpass data:", J.error), j(!0)
                }), d.current = Date.now())
            }, [s, me, Z, A]);
        m.useEffect(() => {
            v && !u.current && (u.current = !0, fe())
        }, [v]), m.useEffect(() => {
            if (!(!S || Z || !(S.dailyRefreshTime || S.weeklyRefreshTime || S.monthlyRefreshTime))) return l.current = setInterval(() => {
                ge()
            }, 5e3), () => {
                l.current && clearInterval(l.current)
            }
        }, [S, Z]), m.useEffect(() => {
            const J = p.current,
                ze = y.current;
            if (!J || !ze) return;
            const Ue = () => {
                J.scrollTop > 20 ? ze.classList.add("scrolled") : ze.classList.remove("scrolled")
            };
            return J.addEventListener("scroll", Ue), () => {
                J.removeEventListener("scroll", Ue)
            }
        }, []);
        const ge = () => {
                if (!S) return;
                const J = Date.now(),
                    Ue = J - d.current > 6e4;
                if (S.dailyRefreshTime && S.dailyRefreshTime <= J && Ue) {
                    fe();
                    return
                }
                if (S.weeklyRefreshTime && S.weeklyRefreshTime <= J && Ue) {
                    fe();
                    return
                }
                if (S.monthlyRefreshTime && S.monthlyRefreshTime <= J && Ue) {
                    fe();
                    return
                }(S.dailyRefreshTime && S.dailyRefreshTime - J <= 1e4 || S.weeklyRefreshTime && S.weeklyRefreshTime - J <= 1e4 || S.monthlyRefreshTime && S.monthlyRefreshTime - J <= 1e4) && Ue && fe()
            },
            ke = m.useCallback(async () => {
                try {
                    r.claimTierRewards(), s(Me.clearCosmeticsData()), r.getPlayerCosmetics()
                } catch (J) {
                    console.error("Error claiming rewards:", J)
                }
            }, [s]),
            je = m.useCallback(async J => {
                try {
                    r.claimSpecificTierReward({
                        tier: J
                    }), s(Me.clearCosmeticsData()), r.getPlayerCosmetics()
                } catch (ze) {
                    console.error("Error claiming specific reward:", ze)
                }
            }, [s]),
            re = m.useCallback(() => {
                Ye(), r.claimPiggyBank()
            }, [s]);
        m.useCallback(() => {
            _(null), j(!1), h.current = !1, fe()
        }, [fe]);
        const Ee = m.useCallback(async () => {
                const J = E.trim();
                if (!J) {
                    F("Please enter a username");
                    return
                }
                H(!0), F(""), Ce(null), a.adminLookupWallet({
                    username: J
                }, ze => {
                    H(!1), Ce(ze), ze.success && ze.playerId ? (_(ze.playerId), se(!0), B("0"), O("0"), F(`Found player: ${ze.username||J}`), a.adminGetRugpassByUsername({
                        username: J
                    }, Ue => {
                        var zt;
                        const Oe = Ue;
                        if (Oe != null && Oe.success) {
                            const Xt = {
                                tier: Oe.tier || 0,
                                level: Oe.tier || 0,
                                maxTier: Oe.maxTier || 25,
                                gems: ((zt = Oe.progress) == null ? void 0 : zt.currentGems) || 0,
                                progress: Oe.progress || {
                                    currentGems: 0,
                                    gemsForNextTier: 7
                                },
                                piggyBank: Oe.piggyBank || 0,
                                piggyBankBalance: Oe.piggyBank || 0,
                                piggyBankClaimed: Oe.piggyBankClaimed || !1,
                                isPiggyBankClaimable: !Oe.piggyBankClaimed && (Oe.piggyBank || 0) > 0,
                                activeQuests: Oe.activeQuests || {
                                    daily: [],
                                    weekly: [],
                                    monthly: []
                                },
                                questProgress: Oe.questProgress || {},
                                tierRewards: Oe.tierRewards || {},
                                unclaimedRewards: Oe.unclaimedRewards || [],
                                unclaimedTierRewards: Oe.unclaimedRewards || [],
                                rewards: Oe.rewards,
                                dailyRefreshTime: Oe.dailyRefreshTime,
                                weeklyRefreshTime: Oe.weeklyRefreshTime,
                                monthlyRefreshTime: Oe.monthlyRefreshTime,
                                daysUntilReset: Oe.daysUntilReset || 30
                            };
                            ie(Xt), F(`Loaded rugpass data for: ${ze.username||J}`)
                        } else F(`Failed to load rugpass data: ${(Oe==null?void 0:Oe.error)||"Unknown error"}`)
                    })) : (F(`Error: ${ze.success?"Player not found":ze.error}`), se(!1), _(null))
                })
            }, [E, a]),
            Ae = async () => {
                if (!A) {
                    F("Please search for a player first");
                    return
                }
                const J = parseInt(I);
                if (isNaN(J) || J < 0 || J > 25) {
                    F("Tier must be between 0 and 25");
                    return
                }
                F(`Setting tier to ${J}...`), a.adminSetRugpassTier({
                    playerId: A,
                    tier: J
                }, ze => {
                    ze.success ? (F(`Successfully set tier to ${J}`), G && ie({ ...G,
                        tier: J,
                        level: J
                    }), A === (x == null ? void 0 : x.id) && (s(Me.clearCosmeticsData()), r.getPlayerCosmetics())) : F(`Failed to set tier: ${ze.error||"Unknown error"}`)
                })
            },
            Pe = async () => {
                if (!A) {
                    F("Please search for a player first");
                    return
                }
                const J = parseFloat(X);
                if (isNaN(J) || J < 0) {
                    F("Piggybank amount must be a positive number");
                    return
                }
                F(`Setting piggybank to ${J}...`), a.adminSetRugpassPiggybank({
                    playerId: A,
                    amount: J
                }, ze => {
                    ze.success ? (F(`Successfully set piggybank to ${J}`), G && ie({ ...G,
                        piggyBank: J,
                        piggyBankBalance: J
                    })) : F(`Failed to set piggybank: ${ze.error||"Unknown error"}`)
                })
            },
            be = async () => {
                if (!A) {
                    F("Please search for a player first");
                    return
                }
                if (!K.trim()) {
                    F("Please enter a cosmetic ID");
                    return
                }
                F(`Unlocking ${U} "${K}"...`), a.adminUnlockCosmetic({
                    playerId: A,
                    cosmeticType: U,
                    cosmeticId: K.trim()
                }, J => {
                    J.success ? (F(`Successfully unlocked ${U} "${K}"`), A === (x == null ? void 0 : x.id) && (s(Me.clearCosmeticsData()), r.getPlayerCosmetics())) : F(`Failed to unlock cosmetic: ${J.error||"Unknown error"}`)
                })
            },
            qe = async () => {
                if (!A) {
                    F("Please search for a player first");
                    return
                }
                F(`Resetting ${W} quests...`), a.adminResetRugpassQuests({
                    playerId: A,
                    questType: W
                }, J => {
                    J.success ? F(`Successfully reset ${W} quests`) : F(`Failed to reset quests: ${J.error||"Unknown error"}`)
                })
            },
            Re = () => {
                se(!1), _(null), F(""), P(""), ie(null)
            },
            [le, Ce] = m.useState(null),
            _e = m.useMemo(() => ({
                tier: 0,
                level: 0,
                maxTier: 25,
                gems: 0,
                progress: {
                    currentGems: 0,
                    gemsForNextTier: 7
                },
                piggyBank: 0,
                piggyBankBalance: 0,
                piggyBankClaimed: !1,
                isPiggyBankClaimable: !1,
                activeQuests: {
                    daily: [],
                    weekly: [],
                    monthly: []
                },
                questProgress: {},
                tierRewards: {},
                unclaimedRewards: [],
                unclaimedTierRewards: [],
                rewards: void 0,
                daysUntilReset: 30
            }), []),
            Ne = m.useMemo(() => Z && G ? G : S || _e, [Z, G, S, _e]),
            Fe = m.useCallback(async () => {
                try {
                    if (Ne != null && Ne.unclaimedTierRewards) {
                        const J = Ne.unclaimedTierRewards.map(ze => ze.tier);
                        D(new Set(J))
                    }
                    await ke()
                } catch (J) {
                    console.error("Error claiming rewards:", J), D(new Set)
                }
            }, [Ne == null ? void 0 : Ne.unclaimedTierRewards, ke]),
            tt = m.useCallback(async J => {
                try {
                    D(ze => new Set([...ze, J])), await je(J)
                } catch (ze) {
                    console.error("Error claiming specific reward:", ze), D(Ue => {
                        const Oe = new Set(Ue);
                        return Oe.delete(J), Oe
                    })
                }
            }, [je]);
        m.useEffect(() => {
            var J;
            if (S && k.size > 0) {
                const ze = new Set(((J = S.unclaimedTierRewards) == null ? void 0 : J.map(Oe => Oe.tier)) || []),
                    Ue = Array.from(k).filter(Oe => !ze.has(Oe));
                Ue.length > 0 && D(Oe => {
                    const zt = new Set(Oe);
                    return Ue.forEach(Xt => zt.delete(Xt)), zt
                })
            }
        }, [S == null ? void 0 : S.unclaimedTierRewards, k]);
        const dt = m.useCallback(J => {
                J === 0 ? Fe() : tt(J)
            }, [Fe, tt]),
            oe = m.useCallback(J => {
                J.target === J.currentTarget && e()
            }, [e]);
        if (ee) return t.jsx("div", {
            className: "rugpass-modal rugpass-modal--loading",
            children: t.jsx("div", {
                className: "rugpass-modal__content",
                children: t.jsxs("div", {
                    className: "rugpass-modal__loading",
                    children: [t.jsx("div", {
                        className: "rugpass-modal__spinner"
                    }), t.jsx("span", {
                        children: "Loading Rugpass..."
                    })]
                })
            })
        });
        const xe = !!Ne;
        return t.jsx("div", {
            className: "rugpass-modal",
            onClick: oe,
            children: t.jsx("div", {
                className: "rugpass-modal__wrapper",
                onClick: oe,
                children: t.jsxs("div", {
                    className: "rugpass-modal__content",
                    ref: f,
                    children: [t.jsx(oy, {
                        ref: y,
                        tier: (Ne == null ? void 0 : Ne.tier) || 0,
                        onClose: e,
                        isAdminView: !!A,
                        lookupPlayerInfo: A ? `Viewing: ${A}` : void 0
                    }), t.jsxs("div", {
                        className: "rugpass-modal__scrollable-content",
                        ref: p,
                        children: [C && t.jsxs("div", {
                            className: "bg-red-900/20 rounded-lg p-4 mb-6 border border-red-800",
                            children: [t.jsx("h3", {
                                className: "text-red-400 text-lg font-semibold mb-3",
                                children: "Admin Controls"
                            }), t.jsxs("div", {
                                className: "space-y-3",
                                children: [t.jsxs("div", {
                                    className: "flex gap-2 max-[500px]:flex-col",
                                    children: [t.jsx("input", {
                                        type: "text",
                                        value: E,
                                        onChange: J => P(J.target.value),
                                        placeholder: "Username",
                                        className: "flex-1 max-[500px]:w-full bg-zinc-800 border border-zinc-700 rounded px-3 py-1 text-white"
                                    }), t.jsxs("div", {
                                        className: "flex gap-2 max-[500px]:flex-col",
                                        children: [t.jsx("button", {
                                            onClick: Ee,
                                            disabled: Y,
                                            className: "px-3 py-1 max-[500px]:w-full bg-blue-600 hover:bg-blue-500 text-white rounded disabled:opacity-50",
                                            children: Y ? "Loading..." : "Search"
                                        }), A && t.jsx("button", {
                                            onClick: Re,
                                            className: "px-3 py-1 max-[500px]:w-full bg-zinc-600 hover:bg-zinc-500 text-white rounded",
                                            children: "Reset"
                                        })]
                                    })]
                                }), t.jsxs("div", {
                                    className: "flex gap-2 max-[500px]:flex-col",
                                    children: [t.jsxs("label", {
                                        className: "text-white flex items-center max-[500px]:w-full",
                                        children: ["Tier:", t.jsx("input", {
                                            type: "number",
                                            min: "0",
                                            max: "25",
                                            value: I,
                                            onChange: J => B(J.target.value),
                                            className: "ml-2 w-16 max-[500px]:flex-1 bg-zinc-800 border border-zinc-700 rounded px-2 py-1 text-white"
                                        })]
                                    }), t.jsx("button", {
                                        onClick: Ae,
                                        disabled: !A,
                                        className: `px-3 py-1 max-[500px]:w-full rounded text-white ${A?"bg-green-600 hover:bg-green-500":"bg-zinc-700 cursor-not-allowed"}`,
                                        children: "Set Tier"
                                    })]
                                }), t.jsxs("div", {
                                    className: "flex gap-2 max-[500px]:flex-col",
                                    children: [t.jsxs("label", {
                                        className: "text-white flex items-center max-[500px]:w-full",
                                        children: ["Piggybank:", t.jsx("input", {
                                            type: "number",
                                            min: "0",
                                            step: "0.01",
                                            value: X,
                                            onChange: J => O(J.target.value),
                                            className: "ml-2 w-28 max-[500px]:flex-1 bg-zinc-800 border border-zinc-700 rounded px-2 py-1 text-white"
                                        })]
                                    }), t.jsx("button", {
                                        onClick: Pe,
                                        disabled: !A,
                                        className: `px-3 py-1 max-[500px]:w-full rounded text-white ${A?"bg-green-600 hover:bg-green-500":"bg-zinc-700 cursor-not-allowed"}`,
                                        children: "Set Piggybank"
                                    })]
                                }), t.jsxs("div", {
                                    className: "flex gap-2 max-[500px]:flex-col",
                                    children: [t.jsxs("label", {
                                        className: "text-white flex items-center max-[500px]:w-full",
                                        children: ["Reset Quests:", t.jsxs("select", {
                                            className: "ml-2 max-[500px]:flex-1 bg-zinc-800 border border-zinc-700 rounded px-2 py-1 text-white",
                                            value: W,
                                            onChange: J => q(J.target.value),
                                            children: [t.jsx("option", {
                                                value: "daily",
                                                children: "Daily"
                                            }), t.jsx("option", {
                                                value: "weekly",
                                                children: "Weekly"
                                            }), t.jsx("option", {
                                                value: "monthly",
                                                children: "Monthly"
                                            })]
                                        })]
                                    }), t.jsx("button", {
                                        onClick: qe,
                                        disabled: !A,
                                        className: `px-3 py-1 max-[500px]:w-full rounded text-white ${A?"bg-orange-600 hover:bg-orange-500":"bg-zinc-700 cursor-not-allowed"}`,
                                        children: "Reset Quests"
                                    })]
                                }), t.jsxs("div", {
                                    className: "flex gap-2 max-[500px]:flex-col",
                                    children: [t.jsxs("div", {
                                        className: "flex gap-2 max-[500px]:w-full",
                                        children: [t.jsxs("label", {
                                            className: "text-white flex items-center max-[500px]:flex-1",
                                            children: ["Cosmetic ID:", t.jsx("input", {
                                                type: "text",
                                                value: K,
                                                onChange: J => z(J.target.value),
                                                placeholder: "Cosmetic ID",
                                                className: "ml-2 w-28 max-[500px]:flex-1 bg-zinc-800 border border-zinc-700 rounded px-2 py-1 text-white"
                                            })]
                                        }), t.jsxs("select", {
                                            value: U,
                                            onChange: J => V(J.target.value),
                                            className: "flex-1 max-[500px]:w-auto bg-zinc-800 border border-zinc-700 rounded px-2 py-1 text-white",
                                            children: [t.jsx("option", {
                                                value: "emoji",
                                                children: "Emoji"
                                            }), t.jsx("option", {
                                                value: "badge",
                                                children: "Chat Badge"
                                            })]
                                        })]
                                    }), t.jsx("button", {
                                        onClick: be,
                                        disabled: !A,
                                        className: `px-3 py-1 max-[500px]:w-full rounded text-white ${A?"bg-pink-600 hover:bg-pink-500":"bg-zinc-700 cursor-not-allowed"}`,
                                        children: "Unlock Cosmetic"
                                    })]
                                }), L && t.jsx("div", {
                                    className: "text-sm font-medium p-2 rounded bg-zinc-800 text-white",
                                    children: L
                                })]
                            })]
                        }), t.jsxs("div", {
                            className: "rugpass-modal__season-info",
                            children: [t.jsxs("span", {
                                className: "rugpass-modal__season-text",
                                children: ["Ends in ", (Ne == null ? void 0 : Ne.daysUntilReset) || 0, " days"]
                            }), (Ne == null ? void 0 : Ne.monthlyRefreshTime) && t.jsxs("span", {
                                className: "rugpass-modal__season-date",
                                children: ["(", new Date(Ne.monthlyRefreshTime).toLocaleDateString(), ")"]
                            })]
                        }), !xe && w && t.jsx("div", {
                            className: "rugpass-modal__placeholder",
                            children: t.jsx("div", {
                                className: "rugpass-modal__placeholder-text",
                                children: h.current ? "Loading your Rugpass data..." : "Connecting to server..."
                            })
                        }), t.jsxs(t.Fragment, {
                            children: [xe && Ne.unclaimedTierRewards && Array.isArray(Ne.unclaimedTierRewards) && Ne.unclaimedTierRewards.length > 0 && t.jsx(ly, {
                                unclaimedRewards: Ne.unclaimedTierRewards,
                                onClaimAll: Fe,
                                onClaimSpecific: tt,
                                recentlyClaimedTiers: k
                            }), t.jsx(_2, {
                                rugpassData: Ne,
                                onClaimPiggyBank: re
                            }), t.jsx(N2, {
                                rugpassData: Ne,
                                discordLinked: ne
                            }), t.jsx(D2, {
                                rewards: Ne.rewards
                            }), t.jsx(P2, {
                                rugpassData: Ne
                            }), t.jsx(L2, {
                                rugpassData: Ne
                            }), t.jsx(B2, {
                                rugpassData: Ne,
                                onClaimReward: dt,
                                recentlyClaimedTiers: k
                            })]
                        })]
                    })]
                })
            })
        })
    },
    z2 = ({
        onOpenModal: e,
        externalModalControl: s = !1
    }) => {
        const a = jn(),
            [r, l] = m.useState(!1),
            [d, u] = m.useState(!1),
            h = bt(),
            f = Se(Ge.selectCurrent),
            p = !!f,
            y = f == null ? void 0 : f.rugpassData;
        m.useEffect(() => {
            p && !y && (console.log("[RugpassButton] User authenticated and no rugpass data, fetching once for button display"), a.getRugpassStatus(A => {
                var _;
                if (console.log("[RugpassButton] Rugpass callback received:", A), A.success) {
                    const k = A,
                        D = {
                            tier: k.tier || 0,
                            level: k.tier || 0,
                            maxTier: k.maxTier || 25,
                            gems: ((_ = k.progress) == null ? void 0 : _.currentGems) || 0,
                            progress: k.progress || {
                                currentGems: 0,
                                gemsForNextTier: 0,
                                gemsPercent: 0
                            },
                            piggyBank: k.piggyBank || 0,
                            piggyBankBalance: k.piggyBank || 0,
                            isPiggyBankClaimable: !k.piggyBankClaimed && (k.piggyBank || 0) > 0,
                            activeQuests: k.activeQuests || {
                                daily: [],
                                weekly: [],
                                monthly: []
                            },
                            questProgress: k.questProgress || {},
                            tierRewards: k.tierRewards || {},
                            rewards: k.rewards,
                            unclaimedRewards: k.unclaimedRewards || [],
                            unclaimedTierRewards: k.unclaimedRewards || [],
                            dailyRefreshTime: k.dailyRefreshTime,
                            weeklyRefreshTime: k.weeklyRefreshTime,
                            monthlyRefreshTime: k.monthlyRefreshTime,
                            daysUntilReset: k.daysUntilReset
                        };
                    h(Me.update({
                        id: (f == null ? void 0 : f.id) || "current-user",
                        rugpassData: D
                    })), console.log("[RugpassButton] Successfully processed and stored rugpass data:", D)
                } else console.error("[RugpassButton] Failed to fetch rugpass data:", A.error)
            }))
        }, [p, y, h, f == null ? void 0 : f.id]);
        const x = () => {
                console.log("[RugpassButton] Button clicked, opening modal"), s && e ? e() : l(!0)
            },
            S = () => {
                var A, _;
                return (((A = y == null ? void 0 : y.unclaimedTierRewards) == null ? void 0 : A.length) || 0) > 0 || (((_ = y == null ? void 0 : y.unclaimedRewards) == null ? void 0 : _.length) || 0) > 0
            },
            v = () => {
                var A;
                return (y == null ? void 0 : y.gems) || ((A = y == null ? void 0 : y.progress) == null ? void 0 : A.currentGems) || 0
            },
            C = () => {
                var A;
                return ((A = y == null ? void 0 : y.progress) == null ? void 0 : A.gemsForNextTier) || 7
            },
            w = () => (y == null ? void 0 : y.tier) || (y == null ? void 0 : y.level) || 0,
            j = () => {
                const A = C(),
                    _ = v(),
                    k = [];
                for (let D = 0; D < A; D++) D < _ ? k.push(t.jsx("img", {
                    src: "/icons/curryBowlFilled.png",
                    alt: "Filled Curry Bowl",
                    className: "rugpass-bowl-filled"
                }, `bowl-${D}`)) : k.push(t.jsx("img", {
                    src: "/icons/curryBowlEmpty.png",
                    alt: "Empty Curry Bowl",
                    className: "rugpass-bowl-empty"
                }, `bowl-${D}`));
                return k
            };
        return t.jsxs(t.Fragment, {
            children: [t.jsxs("div", {
                className: "rugpass-button-container",
                children: [t.jsxs("button", {
                    onClick: x,
                    className: `rugpass-button ${S()?"rugpass-button--pulse":""}`,
                    onMouseEnter: () => u(!0),
                    onMouseLeave: () => u(!1),
                    style: {
                        "--color-hover": "rgba(255, 215, 0, 0.1)",
                        flexDirection: "column",
                        gap: "2px"
                    },
                    children: [t.jsxs("div", {
                        className: "rugpass-button__header",
                        children: [t.jsx("div", {
                            className: "rugpass-button__title",
                            children: "Rugpass"
                        }), t.jsxs("span", {
                            className: "rugpass-button__tier",
                            children: ["Tier ", w()]
                        })]
                    }), t.jsx("div", {
                        className: "rugpass-button__bowls",
                        children: j()
                    })]
                }), d && t.jsx("div", {
                    className: "rugpass-button__tooltip",
                    children: p ? t.jsxs(t.Fragment, {
                        children: [t.jsx("div", {
                            children: "Click to view Quests & Tier Rewards"
                        }), S() && t.jsx("div", {
                            className: "rugpass-button__unclaimed-notice",
                            children: "You have unclaimed rewards!"
                        })]
                    }) : t.jsx("div", {
                        className: "rugpass-button__login-notice",
                        children: "Login to view your Rugpass progress"
                    })
                })]
            }), !s && r && t.jsx(cy, {
                onClose: () => l(!1)
            })]
        })
    },
    F2 = ({
        instarugCount: e = 0,
        threshold: s = 5,
        isInButton: a = !1,
        isMobile: r = !1,
        animatingCandle: l = !1,
        candleEmptyingAnimation: d = !1,
        animatedCandleCount: u = 0,
        isVerySmallScreen: h = !1
    }) => {
        const f = () => {
                const x = [];
                for (let S = 0; S < s; S++) {
                    const v = d ? u : e,
                        C = S < v,
                        w = S === e - 1 && l || d && S === v,
                        j = d && S === v,
                        A = h ? "6px" : a ? "10px" : "12px",
                        _ = h ? "3px" : a ? "5px" : "8px",
                        k = h ? "5px" : a ? "7px" : "11px",
                        D = h ? "1px" : "2px",
                        E = h ? "3px" : a ? "4px" : "5px",
                        P = {
                            filled: {
                                backgroundImage: "linear-gradient(to bottom, #FF3E00 0%, #FF6600 50%, #FF9900 100%)",
                                boxShadow: C && a ? "0 0 12px 3px rgba(255, 60, 0, 0.8)" : "0 0 15px 4px rgba(255, 30, 0, 0.9)",
                                border: "none"
                            },
                            unfilled: {
                                backgroundColor: "#2a2a2a",
                                border: "1px solid rgba(255, 100, 0, 0.4)"
                            }
                        };
                    x.push(t.jsxs("div", {
                        className: `rugpool-candle ${C?"filled":""} ${w?"animating":""} ${j?"emptying":""}`,
                        style: {
                            width: A,
                            height: "100%",
                            position: "relative",
                            margin: "0 auto",
                            backgroundImage: C ? P.filled.backgroundImage : "none",
                            backgroundColor: C ? "transparent" : P.unfilled.backgroundColor,
                            borderRadius: "3px 3px 0 0",
                            boxShadow: C ? P.filled.boxShadow : "none",
                            border: C ? P.filled.border : P.unfilled.border,
                            boxSizing: "border-box",
                            transition: "all 0.3s ease",
                            transform: C && a ? "scale(1.05)" : "scale(1)"
                        },
                        children: [C && t.jsx("div", {
                            style: {
                                position: "absolute",
                                top: h ? "-6px" : "-8px",
                                left: "50%",
                                width: _,
                                height: k,
                                background: "radial-gradient(ellipse at bottom, #FF4500 0%, #FF4500 70%, transparent 100%)",
                                transform: "translateX(-50%)",
                                borderRadius: "50% 50% 20% 20%",
                                boxShadow: a ? "0 0 6px 2px rgba(255, 120, 0, 0.8)" : "0 0 15px 3px rgba(255, 60, 0, 0.95)",
                                animation: "flicker 0.8s ease-in-out infinite alternate"
                            }
                        }), !C && t.jsx("div", {
                            style: {
                                position: "absolute",
                                top: "-3px",
                                left: "50%",
                                width: D,
                                height: E,
                                backgroundColor: a ? "#000000" : "#FF6600",
                                transform: "translateX(-50%)",
                                boxShadow: a ? "0 0 2px rgba(0, 0, 0, 0.8)" : "none"
                            }
                        }), t.jsx("div", {
                            style: {
                                position: "absolute",
                                bottom: "-2px",
                                left: "50%",
                                width: h ? "4px" : "6px",
                                height: "2px",
                                backgroundColor: C ? "#FF7700" : a ? "rgba(255, 100, 0, 0.6)" : "rgba(255, 120, 0, 0.8)",
                                transform: "translateX(-50%)",
                                borderRadius: "0 0 1px 1px",
                                boxShadow: C ? "0 0 4px rgba(255, 120, 0, 0.4)" : "none"
                            }
                        })]
                    }, S))
                }
                return x
            },
            p = h ? "1px" : r ? "2px" : "3px",
            y = h ? "25px" : r ? "40px" : "50px";
        return t.jsx("div", {
            style: {
                display: "flex",
                height: "100%",
                justifyContent: "space-between",
                alignItems: "flex-end",
                gap: p,
                minWidth: y,
                position: "absolute",
                left: "50%",
                transform: "translateX(-50%)"
            },
            children: f()
        })
    },
    I2 = ({
        isExpanded: e,
        onToggle: s,
        rugpoolAmount: a = 0,
        instarugCount: r = 0,
        threshold: l = 5,
        isMobile: d = !1,
        isDrawingActive: u = !1
    }) => {
        const h = a.toFixed(3),
            f = window.innerWidth < 450,
            p = f ? d ? "18px" : "20px" : d ? "20px" : "22px",
            y = f ? d ? "60px" : "70px" : d ? "80px" : "100px",
            x = f ? d ? "8px" : "12px" : d ? "10px" : "16px";
        return t.jsx("div", {
            style: {
                position: "relative",
                display: "flex",
                justifyContent: "center"
            },
            children: t.jsx("button", {
                onClick: s,
                style: {
                    display: "flex",
                    alignItems: "center",
                    justifyContent: "center",
                    background: "transparent",
                    color: "#FFFFFF",
                    border: "none",
                    borderRadius: "0",
                    padding: f ? "0px 6px" : "0px 10px",
                    fontSize: d ? "12px" : "14px",
                    fontWeight: "600",
                    cursor: "pointer",
                    height: d ? "28px" : "30px",
                    whiteSpace: "nowrap",
                    position: "relative",
                    overflow: "visible",
                    animation: u ? "pulseDrawing 1s infinite" : "none",
                    boxShadow: "none"
                },
                children: t.jsxs("div", {
                    style: {
                        position: "relative",
                        display: "flex",
                        alignItems: "center",
                        justifyContent: "center",
                        height: p,
                        minWidth: y
                    },
                    children: [t.jsx(F2, {
                        instarugCount: r,
                        threshold: l,
                        isInButton: !0,
                        isMobile: d,
                        animatingCandle: !1,
                        candleEmptyingAnimation: !1,
                        animatedCandleCount: 0,
                        isVerySmallScreen: f
                    }), t.jsxs("div", {
                        style: {
                            position: "absolute",
                            top: "50%",
                            left: "50%",
                            transform: "translate(-50%, -50%)",
                            color: "#FFFFFF",
                            fontWeight: "700",
                            fontSize: x,
                            letterSpacing: "0.2px",
                            textShadow: "0 1px 3px rgba(0, 0, 0, 0.8), 0 0 6px rgba(0, 0, 0, 0.6)",
                            whiteSpace: "nowrap",
                            zIndex: 10,
                            pointerEvents: "none",
                            textAlign: "center"
                        },
                        children: [h, " $SOL"]
                    })]
                })
            })
        })
    },
    O2 = ({
        rugpoolAmount: e,
        rugpoolState: s
    }) => {
        const a = s.maxEntriesPerPlayer || 1e3,
            r = 50,
            l = s.winnersCount || 3,
            d = s.thresholdForNextDraw || 5;
        return t.jsx("div", {
            children: t.jsxs("div", {
                style: {
                    backgroundColor: "#272935",
                    borderRadius: "8px",
                    padding: "16px"
                },
                children: [t.jsx("h4", {
                    style: {
                        fontSize: "18px",
                        fontWeight: "600",
                        color: "#FFFFFF",
                        marginBottom: "20px",
                        margin: "0 0 20px 0"
                    },
                    children: "How it works"
                }), t.jsxs("div", {
                    style: {
                        display: "flex",
                        flexDirection: "column",
                        gap: "16px"
                    },
                    children: [t.jsxs("div", {
                        style: {
                            display: "flex",
                            alignItems: "flex-start",
                            gap: "12px"
                        },
                        children: [t.jsx("div", {
                            style: {
                                width: "6px",
                                height: "6px",
                                backgroundColor: "#8E8E93",
                                borderRadius: "50%",
                                marginTop: "8px",
                                flexShrink: 0
                            }
                        }), t.jsxs("div", {
                            style: {
                                fontSize: "14px",
                                lineHeight: "1.5",
                                color: "#FFFFFF"
                            },
                            children: ['The Rugpool grows each time a game "insta-rugs" within the', " ", t.jsx("span", {
                                style: {
                                    color: "#FFFFFF",
                                    fontWeight: "600"
                                },
                                children: "first candle"
                            }), "."]
                        })]
                    }), t.jsxs("div", {
                        style: {
                            display: "flex",
                            alignItems: "flex-start",
                            gap: "12px"
                        },
                        children: [t.jsx("div", {
                            style: {
                                width: "6px",
                                height: "6px",
                                backgroundColor: "#8E8E93",
                                borderRadius: "50%",
                                marginTop: "8px",
                                flexShrink: 0
                            }
                        }), t.jsxs("div", {
                            style: {
                                fontSize: "14px",
                                lineHeight: "1.5",
                                color: "#FFFFFF"
                            },
                            children: ["Players who lose SOL in an instarug get", " ", t.jsxs("span", {
                                style: {
                                    color: "#FFFFFF",
                                    fontWeight: "600"
                                },
                                children: ["1 entry per ", s.solPerEntry || .001, " SOL lost"]
                            }), " ", "(max ", a, " entries per player total per drawing)."]
                        })]
                    }), t.jsxs("div", {
                        style: {
                            display: "flex",
                            alignItems: "flex-start",
                            gap: "12px"
                        },
                        children: [t.jsx("div", {
                            style: {
                                width: "6px",
                                height: "6px",
                                backgroundColor: "#8E8E93",
                                borderRadius: "50%",
                                marginTop: "8px",
                                flexShrink: 0
                            }
                        }), t.jsxs("div", {
                            style: {
                                fontSize: "14px",
                                lineHeight: "1.5",
                                color: "#FFFFFF"
                            },
                            children: ["After ", d, " insta-rugs,", " ", t.jsxs("span", {
                                style: {
                                    color: "#FFFFFF",
                                    fontWeight: "600"
                                },
                                children: [r, "% of all losses"]
                            }), " ", "are evenly distributed to", " ", t.jsxs("span", {
                                style: {
                                    color: "#FFFFFF",
                                    fontWeight: "600"
                                },
                                children: [l, " lucky winners"]
                            }), " ", "randomly based on their weighted number of entries!"]
                        })]
                    })]
                })]
            })
        })
    },
    W2 = ({
        rugpoolState: e
    }) => {
        const s = e.allPlayerEntriesList || [],
            a = e.currentUserEntries || 0;
        return s.length === 0 ? t.jsx("div", {
            style: {
                textAlign: "center",
                color: "#8E8E93",
                padding: "40px 20px"
            },
            children: a > 0 ? `You have ${a} entries in the next drawing!` : "No entries yet. Get insta-rugged to join, why don't ya?"
        }) : t.jsx("div", {
            children: t.jsx("div", {
                style: {
                    display: "flex",
                    flexDirection: "column",
                    gap: "8px"
                },
                children: s.map((r, l) => t.jsxs("div", {
                    style: {
                        display: "flex",
                        alignItems: "center",
                        justifyContent: "space-between",
                        padding: "12px 16px",
                        backgroundColor: "#353843",
                        borderRadius: "8px",
                        border: "1px solid transparent"
                    },
                    children: [t.jsx("div", {
                        style: {
                            fontSize: "16px",
                            fontWeight: "500",
                            color: "#FFFFFF"
                        },
                        children: r.username || "Anon"
                    }), t.jsxs("div", {
                        style: {
                            display: "flex",
                            alignItems: "center",
                            gap: "12px"
                        },
                        children: [t.jsx("span", {
                            style: {
                                fontSize: "14px",
                                color: "#8E8E93"
                            },
                            children: r.entries || "0"
                        }), t.jsxs("span", {
                            style: {
                                fontSize: "14px",
                                color: "#FFFFFF",
                                fontWeight: "600"
                            },
                            children: [(r.percentage || 0).toFixed(1), "%"]
                        })]
                    })]
                }, l))
            })
        })
    },
    U2 = ({
        rugpoolState: e
    }) => {
        const s = e.lastDrawing;
        return !s || !s.winners || s.winners.length === 0 ? t.jsx("div", {
            style: {
                textAlign: "center",
                color: "#8E8E93",
                padding: "40px 20px"
            },
            children: "No recent winners yet. Be the first!"
        }) : t.jsxs("div", {
            children: [t.jsxs("div", {
                style: {
                    textAlign: "center",
                    marginBottom: "24px"
                },
                children: [t.jsx("div", {
                    style: {
                        fontSize: "16px",
                        color: "#8E8E93",
                        marginBottom: "4px"
                    },
                    children: "Last Pool"
                }), t.jsxs("div", {
                    style: {
                        fontSize: "24px",
                        fontWeight: "700",
                        color: "#FAFAFA",
                        marginBottom: "2px",
                        textShadow: "1px 0 0 #22C55E, -1px 0 0 #22C55E, 0 1px 0 #22C55E, 0 -1px 0 #22C55E",
                        filter: "drop-shadow(0 2px 20px rgba(34, 197, 94, 0.4))"
                    },
                    children: [(s.totalPoolAmount || 0).toFixed(3), " $SOL"]
                }), t.jsxs("div", {
                    style: {
                        fontSize: "14px",
                        color: "#22C55E"
                    },
                    children: ["+", ((s.totalPoolAmount || 0) / (s.winners.length || 1)).toFixed(3), " each"]
                })]
            }), t.jsx("div", {
                style: {
                    display: "flex",
                    flexDirection: "column",
                    gap: "8px"
                },
                children: s.winners.map((a, r) => t.jsxs("div", {
                    style: {
                        display: "flex",
                        alignItems: "center",
                        justifyContent: "space-between",
                        padding: "12px 16px",
                        backgroundColor: "#353843",
                        borderRadius: "8px",
                        border: "1px solid transparent"
                    },
                    children: [t.jsx("div", {
                        style: {
                            fontSize: "16px",
                            fontWeight: "500",
                            color: "#FFFFFF"
                        },
                        children: a.username || "Anon"
                    }), t.jsxs("div", {
                        style: {
                            display: "flex",
                            alignItems: "center",
                            gap: "12px"
                        },
                        children: [t.jsx("span", {
                            style: {
                                fontSize: "14px",
                                color: "#8E8E93"
                            },
                            children: a.entries || "0"
                        }), t.jsxs("span", {
                            style: {
                                fontSize: "14px",
                                color: "#FFFFFF",
                                fontWeight: "600"
                            },
                            children: [(a.reward || 0).toFixed(3), " SOL"]
                        })]
                    })]
                }, r))
            })]
        })
    },
    H2 = ({
        activeTab: e,
        onTabChange: s,
        rugpoolAmount: a,
        rugpoolState: r
    }) => {
        const l = [{
            key: "lastWinners",
            label: "Last Winners"
        }, {
            key: "ruggedPlayers",
            label: "Rugged Players"
        }, {
            key: "eventInfo",
            label: "Event Info"
        }];
        return t.jsxs(t.Fragment, {
            children: [t.jsx("div", {
                style: {
                    display: "flex",
                    borderBottom: "1px solid #3A3D4A",
                    paddingLeft: "20px",
                    paddingRight: "20px"
                },
                children: l.map(d => t.jsx("button", {
                    onClick: () => s(d.key),
                    style: {
                        background: "none",
                        border: "none",
                        color: e === d.key ? "#FFFFFF" : "#8E8E93",
                        fontSize: "14px",
                        fontWeight: "500",
                        padding: "12px 16px",
                        cursor: "pointer",
                        position: "relative",
                        borderBottom: e === d.key ? "2px solid #FFFFFF" : "2px solid transparent",
                        transition: "all 0.2s ease"
                    },
                    children: d.label
                }, d.key))
            }), t.jsxs("div", {
                style: {
                    padding: "20px",
                    minHeight: "200px",
                    maxHeight: "400px",
                    overflowY: "auto"
                },
                children: [e === "lastWinners" && t.jsx(U2, {
                    rugpoolState: r
                }), e === "ruggedPlayers" && t.jsx(W2, {
                    rugpoolState: r
                }), e === "eventInfo" && t.jsx(O2, {
                    rugpoolAmount: a,
                    rugpoolState: r
                })]
            })]
        })
    },
    $2 = ({
        isExpanded: e,
        rugpoolAmount: s = 0,
        instarugCount: a = 0,
        threshold: r = 5,
        rugpoolState: l,
        isMobile: d = !1,
        miniButton: u = !1
    }) => {
        const [h, f] = m.useState("lastWinners"), p = s.toFixed(3);
        return e ? t.jsxs("div", {
            style: {
                position: "absolute",
                top: u ? "0px" : "100%",
                left: u ? "110%" : "50%",
                transform: u ? "scale(0.85)" : "translateX(-50%)",
                transformOrigin: u ? "left top" : "center top",
                marginTop: u ? "0" : "8px",
                marginLeft: "0",
                backgroundColor: "#1E202A",
                border: "1px solid #3A3D4A",
                borderRadius: "12px",
                padding: "0",
                zIndex: 1e3,
                boxShadow: "0 8px 32px rgba(0, 0, 0, 0.3)",
                width: u ? "420px" : d ? "350px" : "420px",
                color: "#FFFFFF",
                maxHeight: u ? "100vh" : "none",
                overflowY: "visible",
                overflow: "hidden"
            },
            children: [t.jsxs("div", {
                style: {
                    display: "flex",
                    alignItems: "center",
                    justifyContent: "space-between",
                    padding: "20px 20px 16px 20px",
                    borderBottom: "1px solid #3A3D4A"
                },
                children: [t.jsxs("div", {
                    children: [t.jsx("h3", {
                        style: {
                            margin: "0 0 4px 0",
                            fontSize: "20px",
                            fontWeight: "700",
                            background: "linear-gradient(90deg, #FF4757, #FFA726)",
                            WebkitBackgroundClip: "text",
                            WebkitTextFillColor: "transparent",
                            letterSpacing: "0.5px"
                        },
                        children: "RUGPOOL"
                    }), t.jsxs("p", {
                        style: {
                            margin: "0",
                            fontSize: "14px",
                            color: "#8E8E93"
                        },
                        children: [a, "/", r, " Rugs"]
                    })]
                }), t.jsx("div", {
                    style: {
                        display: "flex",
                        alignItems: "center",
                        gap: "12px"
                    },
                    children: t.jsxs("div", {
                        style: {
                            display: "flex",
                            flexDirection: "column",
                            alignItems: "flex-end"
                        },
                        children: [t.jsxs("div", {
                            style: {
                                fontSize: "18px",
                                fontWeight: "700",
                                color: "#FFC700",
                                marginBottom: "2px",
                                filter: "drop-shadow(0 2px 20px rgba(255, 199, 0, 0.4))",
                                textShadow: "0 0 0 #EF4444, 0 0 0 #383943",
                                WebkitTextStroke: "1px transparent",
                                background: "linear-gradient(to bottom, #383943, #EF4444)",
                                WebkitBackgroundClip: "text",
                                backgroundClip: "text"
                            },
                            children: [p, " $SOL"]
                        }), t.jsx("div", {
                            style: {
                                fontSize: "12px",
                                color: "#8E8E93"
                            },
                            children: "Current Pool"
                        })]
                    })
                })]
            }), t.jsx(H2, {
                activeTab: h,
                onTabChange: f,
                rugpoolAmount: s,
                rugpoolState: l
            })]
        }) : null
    },
    G2 = ({
        expanded: e = !1,
        isMobile: s = !1,
        miniButton: a = !1,
        onExpandedChange: r
    }) => {
        const [l, d] = m.useState(e && !a), u = m.useRef(null), {
            registerDropdown: h,
            unregisterDropdown: f
        } = kl(), p = pn(x => x.rugpool), y = () => {
            const x = !l;
            d(x), x ? h("rugpool") : f("rugpool"), r && r(x)
        };
        return m.useEffect(() => {
            const x = S => {
                u.current && !u.current.contains(S.target) && (d(!1), f("rugpool"), r && r(!1))
            };
            return l && document.addEventListener("mousedown", x), () => {
                document.removeEventListener("mousedown", x)
            }
        }, [l, r, f]), t.jsxs("div", {
            ref: u,
            style: {
                position: "relative"
            },
            children: [t.jsx(I2, {
                isExpanded: l,
                onToggle: y,
                rugpoolAmount: p.currentAmount,
                instarugCount: p.instarugCount,
                threshold: p.thresholdForNextDraw,
                isMobile: s,
                isDrawingActive: !1
            }), t.jsx($2, {
                isExpanded: l,
                rugpoolAmount: p.currentAmount,
                instarugCount: p.instarugCount,
                threshold: p.thresholdForNextDraw,
                rugpoolState: p,
                isMobile: s,
                miniButton: a
            })]
        })
    },
    c0 = e => {
        if (e >= 11 && e <= 13) return "th";
        switch (e % 10) {
            case 1:
                return "st";
            case 2:
                return "nd";
            case 3:
                return "rd";
            default:
                return "th"
        }
    },
    Y2 = ({
        isMobile: e = !1,
        onExpandedChange: s
    }) => {
        var Y;
        const [a, r] = m.useState(!1), [l, d] = m.useState(""), [u, h] = m.useState("main"), [f, p] = m.useState(!1), [y, x] = m.useState(null), S = m.useRef(null), v = pn(H => H.rugRoyale), C = pn(Ge.selectCurrent), w = 3e3;
        if (m.useEffect(() => {
                if (v.status !== "INACTIVE" && l) {
                    const H = setInterval(() => {
                        p(K => !K)
                    }, w);
                    return () => clearInterval(H)
                }
            }, [v.status, l]), m.useEffect(() => {
                const H = K => {
                    S.current && !S.current.contains(K.target) && (r(!1), s && s(!1))
                };
                return document.addEventListener("mousedown", H), () => {
                    document.removeEventListener("mousedown", H)
                }
            }, []), m.useEffect(() => {
                v.timeRemaining && v.timeRemaining !== (y == null ? void 0 : y.timeRemaining) && x({
                    timeRemaining: v.timeRemaining,
                    timestamp: Date.now()
                })
            }, [v.timeRemaining, y == null ? void 0 : y.timeRemaining]), m.useEffect(() => {
                if (v.status === "INACTIVE") return;
                const H = () => {
                    var ie, ne, ee;
                    const z = new Date;
                    let U = null,
                        V = "";
                    if (v.timeRemaining && y) {
                        const me = Math.floor((Date.now() - y.timestamp) / 1e3),
                            fe = v.timeRemaining;
                        if (fe.match(/(\d+d\s*)?(\d+h\s*)?(\d+m\s*)?(\d+s)?/)) {
                            let ke = 0;
                            const je = fe.split(/[dhms\s]+/).filter(Boolean),
                                re = fe.match(/[dhms]/g) || [];
                            for (let Ce = 0; Ce < je.length && Ce < re.length; Ce++) {
                                const _e = parseInt(je[Ce]);
                                switch (re[Ce]) {
                                    case "d":
                                        ke += _e * 24 * 60 * 60;
                                        break;
                                    case "h":
                                        ke += _e * 60 * 60;
                                        break;
                                    case "m":
                                        ke += _e * 60;
                                        break;
                                    case "s":
                                        ke += _e;
                                        break
                                }
                            }
                            const Ee = Math.max(0, ke - me);
                            if (Ee <= 0) {
                                d(fe.includes("Starts:") ? "Starting Soon..." : "Updating...");
                                return
                            }
                            const Ae = fe.match(/^(.*?)(\d)/),
                                Pe = Ae ? Ae[1] : "",
                                be = Math.floor(Ee / (24 * 60 * 60)),
                                qe = Math.floor(Ee % (24 * 60 * 60) / (60 * 60)),
                                Re = Math.floor(Ee % (60 * 60) / 60),
                                le = Ee % 60;
                            be > 0 ? d(`${Pe}${be}d ${qe}h ${Re}m`) : d(`${Pe}${qe}h ${Re}m ${le}s`);
                            return
                        }
                        d(v.timeRemaining);
                        return
                    }
                    if (v.status === "ACTIVE" && ((ie = v.currentEvent) != null && ie.endTime)) U = new Date(v.currentEvent.endTime), V = "Ends: ";
                    else if (v.status === "PREP" && ((ne = v.currentEvent) != null && ne.startTime)) U = new Date(v.currentEvent.startTime), V = "Starts: ";
                    else if (v.status === "SCHEDULED" && ((ee = v.currentEvent) != null && ee.startTime)) U = new Date(v.currentEvent.startTime), V = "Starts: ";
                    else if (v.status === "ENDING") {
                        d("FINAL ROUND");
                        return
                    } else if (v.status === "COMPLETED") {
                        d("CONCLUDED");
                        return
                    } else {
                        d("CONCLUDED");
                        return
                    }
                    if (!U) {
                        d("Loading...");
                        return
                    }
                    const W = U.getTime() - z.getTime();
                    if (W <= 0) {
                        if (v.status === "PREP") {
                            d("Starting Soon...");
                            return
                        }
                        d("Updating...");
                        return
                    }
                    const q = Math.floor(W / (1e3 * 60 * 60 * 24)),
                        Z = Math.floor(W % (1e3 * 60 * 60 * 24) / (1e3 * 60 * 60)),
                        se = Math.floor(W % (1e3 * 60 * 60) / (1e3 * 60)),
                        G = Math.floor(W % (1e3 * 60) / 1e3);
                    q > 0 ? d(`${V}${q}d ${Z}h ${se}m`) : d(`${V}${Z}h ${se}m ${G}s`)
                };
                H();
                const K = setInterval(H, 1e3);
                return () => clearInterval(K)
            }, [v.status, v.currentEvent, v.timeRemaining, y]), !(() => {
                if (v.status === "INACTIVE") return !1;
                if (v.status === "ACTIVE" || v.status === "PREP" || v.status === "ENDING" || v.status === "COMPLETED") return !0;
                if (v.status === "SCHEDULED" && v.currentEvent) {
                    const H = new Date;
                    return new Date(v.currentEvent.startTime).getTime() - H.getTime() <= 30 * 24 * 60 * 60 * 1e3
                }
                return !!(v.leaderboard && v.leaderboard.length > 0 || v.history && v.history.length > 0)
            })()) return null;
        const _ = C != null && C.shitcoinBalances && C.shitcoinBalances["0xPractice"] || 0,
            k = ((Y = v.playerPosition) == null ? void 0 : Y.rank) || null,
            D = () => {
                if (v.status === "ACTIVE" || v.status === "PREP" || v.status === "ENDING" || v.status === "COMPLETED") return !1;
                const H = l || "";
                return !!(H.includes("d") && !H.startsWith("Next: 1d") || H === "CONCLUDED")
            };
        let E = "#FBB90F",
            P = "ROYALE";
        const I = () => v.finalRound || v.isInFinalRound || v.status === "ENDING";
        switch (v.status) {
            case "ACTIVE":
                I() ? (E = "#EF4444", P = "FINAL ROUND") : (E = "#00C950", P = "ROYALE LIVE");
                break;
            case "PREP":
                E = "#FF9800", P = "ROYALE PREP";
                break;
            case "ENDING":
                E = "#EF4444", P = "FINAL ROUND";
                break;
            case "SCHEDULED":
                E = "#3B82F6", P = "ROYALE SOON";
                break;
            case "COMPLETED":
                E = "#6B7280", P = "CONCLUDED";
                break;
            case "INACTIVE":
            default:
                D(), P = "NEXT ROYALE";
                break
        }
        const B = () => t.jsx("img", {
                src: "/icons/Icon_Free_Solana.png",
                alt: "$FREE",
                style: {
                    width: "16px",
                    height: "16px",
                    marginLeft: "4px",
                    verticalAlign: "middle"
                }
            }),
            X = H => {
                navigator.clipboard.writeText(H).then(() => {
                    alert("Bonus SOL code copied to clipboard! Claim in the Deposit tab.")
                }).catch(K => {
                    console.error("Could not copy text: ", K)
                })
            },
            L = (() => {
                if (!v.history || !(C != null && C.id)) return [];
                const H = C.id,
                    K = [];
                return v.history.forEach(z => {
                    if (z.winners && Array.isArray(z.winners)) {
                        const U = z.winners.filter(V => V.playerId === H).map(V => ({ ...V,
                            tournamentDay: z.startTime
                        }));
                        K.push(...U)
                    }
                }), K
            })(),
            F = () => {
                var H, K;
                switch (u) {
                    case "main":
                        return t.jsxs(t.Fragment, {
                            children: [t.jsxs("div", {
                                style: {
                                    display: "flex",
                                    flexDirection: "column",
                                    gap: "8px",
                                    marginBottom: "16px"
                                },
                                children: [t.jsxs("div", {
                                    style: {
                                        display: "flex",
                                        justifyContent: "space-between",
                                        alignItems: "center"
                                    },
                                    children: [t.jsx("span", {
                                        style: {
                                            fontSize: "14px",
                                            fontWeight: "500"
                                        },
                                        children: "Status:"
                                    }), t.jsx("span", {
                                        style: {
                                            fontSize: "14px",
                                            color: E,
                                            fontWeight: "500"
                                        },
                                        children: v.status === "ACTIVE" ? "LIVE" : v.status === "PREP" ? "PREPARING" : v.status === "ENDING" ? "FINAL ROUND" : v.status === "SCHEDULED" ? "SCHEDULED" : v.status === "COMPLETED" ? "CONCLUDED" : "INACTIVE"
                                    })]
                                }), v.status !== "ENDING" && v.status !== "COMPLETED" && t.jsxs("div", {
                                    style: {
                                        display: "flex",
                                        justifyContent: "space-between",
                                        alignItems: "center"
                                    },
                                    children: [t.jsx("span", {
                                        style: {
                                            fontSize: "14px",
                                            fontWeight: "500"
                                        },
                                        children: "Time:"
                                    }), t.jsx("span", {
                                        style: {
                                            fontSize: "14px",
                                            color: E,
                                            fontWeight: "500"
                                        },
                                        children: D() ? "CONCLUDED" : l
                                    })]
                                }), v.currentEvent && t.jsxs("div", {
                                    style: {
                                        display: "flex",
                                        justifyContent: "space-between",
                                        alignItems: "center"
                                    },
                                    children: [t.jsx("span", {
                                        style: {
                                            fontSize: "14px",
                                            fontWeight: "500"
                                        },
                                        children: "Schedule:"
                                    }), t.jsx("span", {
                                        style: {
                                            fontSize: "14px",
                                            color: "#CCCCCC",
                                            fontWeight: "500"
                                        },
                                        children: (() => {
                                            const z = new Date(v.currentEvent.startTime),
                                                U = new Date(v.currentEvent.endTime),
                                                V = {
                                                    hour: "numeric",
                                                    minute: z.getMinutes() !== 0 || U.getMinutes() !== 0 ? "2-digit" : void 0,
                                                    hour12: !0
                                                },
                                                W = z.toLocaleTimeString(void 0, V),
                                                q = U.toLocaleTimeString(void 0, V);
                                            return `${W} - ${q}`
                                        })()
                                    })]
                                }), t.jsxs("div", {
                                    style: {
                                        display: "flex",
                                        justifyContent: "space-between",
                                        alignItems: "center"
                                    },
                                    children: [t.jsx("span", {
                                        style: {
                                            fontSize: "14px",
                                            fontWeight: "500"
                                        },
                                        children: "Your Rank:"
                                    }), t.jsx("span", {
                                        style: {
                                            fontSize: "14px",
                                            fontWeight: "600"
                                        },
                                        children: k ? `#${k}` : "Not Ranked"
                                    })]
                                }), t.jsxs("div", {
                                    style: {
                                        display: "flex",
                                        justifyContent: "space-between",
                                        alignItems: "center"
                                    },
                                    children: [t.jsx("span", {
                                        style: {
                                            fontSize: "14px",
                                            fontWeight: "500"
                                        },
                                        children: "Your Balance:"
                                    }), t.jsxs("span", {
                                        style: {
                                            fontSize: "14px",
                                            fontWeight: "600",
                                            display: "flex",
                                            alignItems: "center"
                                        },
                                        children: [_.toFixed(2), t.jsx(B, {})]
                                    })]
                                })]
                            }), t.jsxs("div", {
                                children: [t.jsx("h4", {
                                    style: {
                                        margin: "0 0 8px 0",
                                        fontSize: "16px"
                                    },
                                    children: "Leaderboard"
                                }), t.jsx("div", {
                                    style: {
                                        display: "flex",
                                        flexDirection: "column",
                                        gap: "6px",
                                        maxHeight: e ? "300px" : "400px",
                                        overflowY: "auto",
                                        padding: "4px"
                                    },
                                    children: (() => {
                                        if (!v.leaderboard || v.leaderboard.length === 0) return t.jsx("div", {
                                            style: {
                                                padding: "12px",
                                                textAlign: "center",
                                                color: "#AAAAAA",
                                                fontSize: "14px"
                                            },
                                            children: "No players ranked yet"
                                        });
                                        const z = [...v.leaderboard];
                                        let U = null;
                                        if (v.playerPosition && (C != null && C.id)) {
                                            const V = z.findIndex(W => W.playerId === C.id);
                                            V !== -1 ? (U = z[V], V !== 0 ? z.splice(V, 1) : z.splice(0, 1)) : v.playerPosition.rank > 10 && (U = {
                                                rank: v.playerPosition.rank,
                                                username: v.playerPosition.username || C.username,
                                                balance: v.playerPosition.balance,
                                                playerId: C.id,
                                                level: 1
                                            })
                                        }
                                        return t.jsxs(t.Fragment, {
                                            children: [U && t.jsxs(t.Fragment, {
                                                children: [t.jsxs("div", {
                                                    style: {
                                                        display: "flex",
                                                        justifyContent: "space-between",
                                                        alignItems: "center",
                                                        padding: "6px 8px",
                                                        backgroundColor: E + "20",
                                                        border: `1px solid ${E}`,
                                                        borderRadius: "4px"
                                                    },
                                                    children: [t.jsxs("div", {
                                                        style: {
                                                            display: "flex",
                                                            alignItems: "center",
                                                            gap: "8px"
                                                        },
                                                        children: [t.jsxs("span", {
                                                            style: {
                                                                minWidth: "30px",
                                                                fontWeight: "600",
                                                                fontSize: "14px",
                                                                color: E
                                                            },
                                                            children: ["#", U.rank]
                                                        }), t.jsxs("span", {
                                                            style: {
                                                                fontSize: "14px",
                                                                fontWeight: "600",
                                                                color: E
                                                            },
                                                            children: [U.username, " (You)"]
                                                        })]
                                                    }), t.jsxs("span", {
                                                        style: {
                                                            fontWeight: "600",
                                                            fontSize: "14px",
                                                            color: E,
                                                            display: "flex",
                                                            alignItems: "center"
                                                        },
                                                        children: [U.balance.toFixed(2), t.jsx(B, {})]
                                                    })]
                                                }, `player-${U.playerId}`), z.length > 0 && t.jsx("div", {
                                                    style: {
                                                        height: "1px",
                                                        backgroundColor: "#27272A",
                                                        margin: "4px 0"
                                                    }
                                                })]
                                            }), z.map(V => t.jsxs("div", {
                                                style: {
                                                    display: "flex",
                                                    justifyContent: "space-between",
                                                    alignItems: "center",
                                                    padding: "6px 8px",
                                                    backgroundColor: V.rank <= 3 ? "#2A2A2A" : "transparent",
                                                    borderRadius: "4px",
                                                    borderLeft: V.rank <= 3 ? "3px solid " + (V.rank === 1 ? "#FFD700" : V.rank === 2 ? "#C0C0C0" : "#CD7F32") : "none"
                                                },
                                                children: [t.jsxs("div", {
                                                    style: {
                                                        display: "flex",
                                                        alignItems: "center",
                                                        gap: "8px"
                                                    },
                                                    children: [t.jsxs("span", {
                                                        style: {
                                                            minWidth: "30px",
                                                            fontWeight: "600",
                                                            fontSize: "14px",
                                                            color: V.rank <= 3 ? V.rank === 1 ? "#FFD700" : V.rank === 2 ? "#C0C0C0" : "#CD7F32" : "#AAAAAA"
                                                        },
                                                        children: ["#", V.rank]
                                                    }), t.jsx("span", {
                                                        style: {
                                                            fontSize: "14px"
                                                        },
                                                        children: V.username || `Player-${V.playerId.substring(0,6)}`
                                                    })]
                                                }), t.jsxs("span", {
                                                    style: {
                                                        fontWeight: "600",
                                                        fontSize: "14px",
                                                        color: V.rank <= 3 ? E : "#FFFFFF",
                                                        display: "flex",
                                                        alignItems: "center"
                                                    },
                                                    children: [V.balance.toFixed(2), t.jsx(B, {})]
                                                })]
                                            }, V.playerId))]
                                        })
                                    })()
                                })]
                            })]
                        });
                    case "prizes":
                        return t.jsxs(t.Fragment, {
                            children: [L.length > 0 && t.jsxs("div", {
                                style: {
                                    marginBottom: "16px",
                                    padding: "10px",
                                    backgroundColor: "#291800",
                                    borderRadius: "4px",
                                    fontSize: "13px"
                                },
                                children: [t.jsxs("div", {
                                    style: {
                                        fontWeight: "600",
                                        marginBottom: "6px",
                                        display: "flex",
                                        alignItems: "center",
                                        color: "#FFD700"
                                    },
                                    children: [t.jsx("span", {
                                        style: {
                                            marginRight: "4px"
                                        },
                                        children: "🏆"
                                    }), "Your Tournament Wins"]
                                }), L.map((z, U) => t.jsxs("div", {
                                    style: {
                                        marginBottom: U < L.length - 1 ? "8px" : 0,
                                        borderBottom: U < L.length - 1 ? "1px solid rgba(255,255,255,0.1)" : "none",
                                        paddingBottom: U < L.length - 1 ? "8px" : 0
                                    },
                                    children: [t.jsxs("div", {
                                        style: {
                                            display: "flex",
                                            justifyContent: "space-between",
                                            marginBottom: "2px",
                                            fontSize: "12px",
                                            color: "#FFFFFF"
                                        },
                                        children: [t.jsx("span", {
                                            children: (() => {
                                                try {
                                                    let V;
                                                    return z.tournamentDay ? V = new Date(z.tournamentDay) : V = new Date, isNaN(V.getTime()) ? "Recent" : V.toLocaleDateString(void 0, {
                                                        month: "short",
                                                        day: "numeric"
                                                    })
                                                } catch (V) {
                                                    return console.error("Error parsing tournament date:", V), "Recent"
                                                }
                                            })()
                                        }), t.jsxs("span", {
                                            style: {
                                                color: z.rank === 1 ? "#FFD700" : z.rank === 2 ? "#C0C0C0" : z.rank === 3 ? "#CD7F32" : "#AAAAAA"
                                            },
                                            children: [z.rank, c0(z.rank), " Place"]
                                        })]
                                    }), t.jsxs("div", {
                                        style: {
                                            display: "flex",
                                            justifyContent: "space-between",
                                            alignItems: "center",
                                            marginTop: "4px"
                                        },
                                        children: [t.jsx("span", {
                                            style: {
                                                fontSize: "12px",
                                                color: "#AAAAAA"
                                            },
                                            children: "Prize sent to your inbox!"
                                        }), z.bonusCode && t.jsx("button", {
                                            onClick: () => X(z.bonusCode),
                                            style: {
                                                backgroundColor: "#09090B",
                                                color: "#FFD700",
                                                border: "1px solid #FFD700",
                                                borderRadius: "4px",
                                                padding: "2px 6px",
                                                fontSize: "10px",
                                                cursor: "pointer"
                                            },
                                            title: "Copy bonus code - Use /claim command in chat to redeem",
                                            children: "COPY CODE"
                                        })]
                                    })]
                                }, U))]
                            }), t.jsxs("div", {
                                style: {
                                    padding: "10px",
                                    backgroundColor: "#1A1A1A",
                                    borderRadius: "4px",
                                    fontSize: "13px"
                                },
                                children: [t.jsx("div", {
                                    style: {
                                        fontWeight: "600",
                                        marginBottom: "6px"
                                    },
                                    children: "Prize Pool"
                                }), (H = v.config) != null && H.prizeTiers ? Object.entries(v.config.prizeTiers).sort(([z], [U]) => parseInt(z) - parseInt(U)).map(([z, U], V) => {
                                    let W = "",
                                        q = "#AAAAAA";
                                    z === "1" ? (W = "🥇", q = "#FFD700") : z === "2" ? (W = "🥈", q = "#C0C0C0") : z === "3" && (W = "🥉", q = "#CD7F32");
                                    const Z = z.includes("-") ? `${W} ${z}th Place:` : `${W} ${z}${c0(parseInt(z))} Place:`;
                                    return t.jsxs("div", {
                                        style: {
                                            display: "flex",
                                            justifyContent: "space-between",
                                            marginBottom: "4px",
                                            fontSize: V < 3 ? "13px" : "12px",
                                            color: V < 3 ? "#FFFFFF" : "#AAAAAA"
                                        },
                                        children: [t.jsx("span", {
                                            children: Z
                                        }), t.jsxs("span", {
                                            style: {
                                                color: q,
                                                display: "flex",
                                                alignItems: "center"
                                            },
                                            children: [U, t.jsx("img", {
                                                src: "/icons/Icon_Solana.png",
                                                alt: "SOL",
                                                style: {
                                                    width: "14px",
                                                    height: "14px",
                                                    marginLeft: "4px",
                                                    filter: "brightness(1.5)"
                                                }
                                            })]
                                        })]
                                    }, z)
                                }) : t.jsx("div", {
                                    style: {
                                        padding: "12px",
                                        textAlign: "center",
                                        color: "#AAAAAA",
                                        fontSize: "14px"
                                    },
                                    children: "Prize information not available"
                                })]
                            })]
                        });
                    case "info":
                        return t.jsxs("div", {
                            style: {
                                padding: "10px",
                                backgroundColor: "#1A1A1A",
                                borderRadius: "4px",
                                fontSize: "13px"
                            },
                            children: [v.currentEvent && t.jsxs("div", {
                                style: {
                                    marginBottom: "16px",
                                    padding: "8px",
                                    backgroundColor: "#2A2A2A",
                                    borderRadius: "4px",
                                    fontSize: "12px"
                                },
                                children: [t.jsx("div", {
                                    style: {
                                        fontWeight: "600",
                                        marginBottom: "6px",
                                        color: "#FFFFFF"
                                    },
                                    children: "Tournament Schedule"
                                }), (() => {
                                    const z = new Date(v.currentEvent.startTime),
                                        U = new Date(v.currentEvent.endTime),
                                        V = {
                                            weekday: "short",
                                            month: "short",
                                            day: "numeric",
                                            hour: "numeric",
                                            minute: "2-digit",
                                            hour12: !0
                                        },
                                        W = z.toLocaleDateString(void 0, V),
                                        q = U.toLocaleDateString(void 0, V);
                                    return t.jsxs("div", {
                                        style: {
                                            color: "#CCCCCC",
                                            lineHeight: "1.4"
                                        },
                                        children: [t.jsxs("div", {
                                            style: {
                                                marginBottom: "4px"
                                            },
                                            children: [t.jsx("strong", {
                                                children: "Starts:"
                                            }), " ", W]
                                        }), t.jsxs("div", {
                                            children: [t.jsx("strong", {
                                                children: "Ends:"
                                            }), " ", q]
                                        })]
                                    })
                                })()]
                            }), t.jsx("p", {
                                style: {
                                    margin: "0 0 8px 0",
                                    fontWeight: "600",
                                    color: "#FFFFFF"
                                },
                                children: "How It Works"
                            }), t.jsxs("ul", {
                                style: {
                                    margin: "0",
                                    paddingLeft: "16px",
                                    lineHeight: "1.4",
                                    fontSize: "12px",
                                    listStyleType: "disc"
                                },
                                children: [t.jsxs("li", {
                                    style: {
                                        marginBottom: "8px"
                                    },
                                    children: ["All players start with ", ((K = v.config) == null ? void 0 : K.startingBalance) || 100, " $FREE tokens"]
                                }), t.jsx("li", {
                                    style: {
                                        marginBottom: "8px"
                                    },
                                    children: "Hold the most $FREE tokens at the end to win SOL rewards!"
                                }), t.jsx("li", {
                                    children: "Must be level 1 (0.1 total SOL bet volume) or higher to be eligible."
                                })]
                            })]
                        });
                    default:
                        return null
                }
            };
        return t.jsxs("div", {
            style: {
                position: "relative",
                display: "flex",
                justifyContent: "center"
            },
            children: [t.jsx("style", {
                children: `
          @keyframes fadeSlideTop {
            0%, 40% { 
              opacity: 1; 
              transform: translateY(0);
            }
            45%, 50% { 
              opacity: 0; 
              transform: translateY(${e?"-5px":"-10px"});
            }
            50%, 90% { 
              opacity: 0; 
              transform: translateY(${e?"5px":"10px"});
            }
            95%, 100% { 
              opacity: 1; 
              transform: translateY(0);
            }
          }
          
          @keyframes fadeSlideBottom {
            0%, 40% { 
              opacity: 0; 
              transform: translateY(${e?"5px":"10px"});
            }
            45%, 50% { 
              opacity: 1; 
              transform: translateY(0);
            }
            50%, 90% { 
              opacity: 1; 
              transform: translateY(0);
            }
            95%, 100% { 
              opacity: 0; 
              transform: translateY(${e?"-5px":"-10px"});
            }
          }
        `
            }), t.jsxs("button", {
                onClick: () => {
                    const H = !a;
                    r(H), s && s(H)
                },
                style: {
                    display: "flex",
                    alignItems: "center",
                    justifyContent: "center",
                    gap: "8px",
                    backgroundColor: E,
                    color: "#09090B",
                    border: "none",
                    borderRadius: "4px",
                    padding: e ? "6px 8px" : "6px 10px",
                    fontSize: e ? "12px" : "14px",
                    fontWeight: "600",
                    cursor: "pointer",
                    height: e ? "28px" : "30px",
                    whiteSpace: "nowrap",
                    position: "relative",
                    overflow: "hidden"
                },
                children: [t.jsxs("div", {
                    style: {
                        display: "flex",
                        alignItems: "center",
                        position: "relative",
                        height: "20px",
                        width: l ? e ? "100px" : "110px" : "auto"
                    },
                    children: [t.jsx("img", {
                        src: "/icons/trophy.svg",
                        alt: "Trophy",
                        style: {
                            width: e ? "14px" : "16px",
                            height: "auto",
                            filter: "brightness(0.2)",
                            marginRight: "4px",
                            zIndex: 1
                        }
                    }), l && !D() && v.status !== "ENDING" && v.status !== "COMPLETED" ? t.jsxs(t.Fragment, {
                        children: [t.jsx("div", {
                            style: {
                                position: "absolute",
                                left: "24px",
                                right: 0,
                                height: "20px",
                                lineHeight: "20px",
                                animation: `fadeSlideTop ${w/1e3}s ease-in-out infinite`,
                                backfaceVisibility: "hidden",
                                whiteSpace: "nowrap",
                                zIndex: 1
                            },
                            children: P
                        }), t.jsx("div", {
                            style: {
                                position: "absolute",
                                left: "24px",
                                right: 0,
                                height: "20px",
                                lineHeight: "20px",
                                animation: `fadeSlideBottom ${w/1e3}s ease-in-out infinite`,
                                backfaceVisibility: "hidden",
                                whiteSpace: "nowrap",
                                zIndex: 1
                            },
                            children: l.includes(":") ? l.split(": ")[1] : l
                        })]
                    }) : l && D() ? t.jsxs(t.Fragment, {
                        children: [t.jsx("div", {
                            style: {
                                position: "absolute",
                                left: "24px",
                                right: 0,
                                height: "20px",
                                lineHeight: "20px",
                                animation: `fadeSlideTop ${w/1e3}s ease-in-out infinite`,
                                backfaceVisibility: "hidden",
                                whiteSpace: "nowrap",
                                zIndex: 1
                            },
                            children: "NEXT ROYALE"
                        }), t.jsx("div", {
                            style: {
                                position: "absolute",
                                left: "24px",
                                right: 0,
                                height: "20px",
                                lineHeight: "20px",
                                animation: `fadeSlideBottom ${w/1e3}s ease-in-out infinite`,
                                backfaceVisibility: "hidden",
                                whiteSpace: "nowrap",
                                zIndex: 1
                            },
                            children: "CONCLUDED"
                        })]
                    }) : t.jsx("span", {
                        children: P
                    })]
                }), t.jsxs("span", {
                    style: {
                        backgroundColor: k ? "#09090B" : "transparent",
                        color: E,
                        borderRadius: "12px",
                        padding: "1px 6px",
                        fontSize: e ? "10px" : "12px",
                        fontWeight: "600",
                        minWidth: "auto",
                        textAlign: "center",
                        visibility: k ? "visible" : "hidden"
                    },
                    children: ["#", k || "0"]
                })]
            }), a && t.jsxs("div", {
                ref: S,
                style: {
                    position: "absolute",
                    top: "100%",
                    left: "50%",
                    transform: "translateX(-50%)",
                    marginTop: "8px",
                    backgroundColor: "#09090B",
                    border: "1px solid #27272A",
                    borderRadius: "8px",
                    padding: "16px",
                    zIndex: 1e3,
                    boxShadow: "0 4px 12px rgba(0, 0, 0, 0.5)",
                    width: e ? "300px" : "340px",
                    maxHeight: "500px",
                    overflowY: "auto",
                    color: "#FFFFFF"
                },
                children: [t.jsxs("div", {
                    style: {
                        display: "flex",
                        alignItems: "center",
                        justifyContent: "space-between",
                        borderBottom: "1px solid #27272A",
                        paddingBottom: "12px",
                        marginBottom: "12px"
                    },
                    children: [t.jsxs("div", {
                        children: [t.jsxs("h3", {
                            style: {
                                margin: "0 0 4px 0",
                                fontSize: "18px",
                                display: "flex",
                                alignItems: "center"
                            },
                            children: ["Rug Royale", t.jsx("img", {
                                src: "/icons/Icon_Free_Solana.png",
                                alt: "$FREE",
                                style: {
                                    width: "20px",
                                    height: "20px",
                                    marginLeft: "8px"
                                }
                            })]
                        }), t.jsx("p", {
                            style: {
                                margin: "0",
                                fontSize: "12px",
                                color: "#AAAAAA"
                            },
                            children: "Hold the most $FREE to win"
                        })]
                    }), t.jsx("div", {
                        style: {
                            backgroundColor: E,
                            color: "#09090B",
                            borderRadius: "4px",
                            padding: "4px 8px",
                            fontSize: "12px",
                            fontWeight: "600"
                        },
                        children: v.status === "ACTIVE" ? "LIVE" : v.status === "PREP" ? "STARTING SOON" : v.status === "ENDING" ? "FINAL ROUND" : v.status === "SCHEDULED" ? "SCHEDULED" : v.status === "COMPLETED" ? "CONCLUDED" : "INACTIVE"
                    })]
                }), t.jsxs("div", {
                    style: {
                        display: "flex",
                        borderBottom: "1px solid #27272A",
                        marginBottom: "16px"
                    },
                    children: [t.jsx("button", {
                        onClick: () => h("main"),
                        style: {
                            flex: 1,
                            backgroundColor: "transparent",
                            border: "none",
                            color: u === "main" ? "#FFFFFF" : "#AAAAAA",
                            fontWeight: u === "main" ? "600" : "400",
                            fontSize: "14px",
                            padding: "8px 0",
                            cursor: "pointer",
                            borderBottom: u === "main" ? `2px solid ${E}` : "2px solid transparent"
                        },
                        children: "Main"
                    }), t.jsx("button", {
                        onClick: () => h("prizes"),
                        style: {
                            flex: 1,
                            backgroundColor: "transparent",
                            border: "none",
                            color: u === "prizes" ? "#FFFFFF" : "#AAAAAA",
                            fontWeight: u === "prizes" ? "600" : "400",
                            fontSize: "14px",
                            padding: "8px 0",
                            cursor: "pointer",
                            borderBottom: u === "prizes" ? `2px solid ${E}` : "2px solid transparent"
                        },
                        children: "Prizes"
                    }), t.jsx("button", {
                        onClick: () => h("info"),
                        style: {
                            flex: 1,
                            backgroundColor: "transparent",
                            border: "none",
                            color: u === "info" ? "#FFFFFF" : "#AAAAAA",
                            fontWeight: u === "info" ? "600" : "400",
                            fontSize: "14px",
                            padding: "8px 0",
                            cursor: "pointer",
                            borderBottom: u === "info" ? `2px solid ${E}` : "2px solid transparent"
                        },
                        children: "Info"
                    })]
                }), F()]
            })]
        })
    },
    Ms = {
        container: {
            gap: {
                desktop: "12px",
                mobile: "10px",
                smallMobile: "8px"
            },
            minHeight: {
                desktop: "34px",
                mobile: "30px",
                smallMobile: "28px"
            },
            width: {
                desktop: "200px",
                mobile: "180px",
                smallMobile: "160px"
            }
        },
        arrows: {
            size: {
                desktop: "32px",
                mobile: "28px",
                smallMobile: "24px"
            },
            fontSize: {
                desktop: "18px",
                mobile: "16px",
                smallMobile: "14px"
            }
        },
        progress: {
            dotSize: {
                desktop: {
                    width: "6px",
                    height: "2px"
                },
                mobile: {
                    width: "5px",
                    height: "2px"
                },
                smallMobile: {
                    width: "4px",
                    height: "1.5px"
                }
            },
            bottom: {
                desktop: "-8px",
                mobile: "-6px",
                smallMobile: "-4px"
            }
        },
        breakpoints: {
            mobile: 768,
            smallMobile: 480
        },
        swipe: {
            minDistance: 50
        }
    };

function ma(e, s) {
    return e[s] || e.desktop
}
const V2 = e => e <= Ms.breakpoints.smallMobile ? "smallMobile" : e <= Ms.breakpoints.mobile ? "mobile" : "desktop",
    d0 = ({
        cycleDuration: e = 4e3,
        forceDisplay: s = null,
        containerStyle: a = {}
    }) => {
        var Fe, tt, dt;
        const [r, l] = m.useState(0), [d, u] = m.useState(!1), [h, f] = m.useState(!1), [p, y] = m.useState(!1), [x, S] = m.useState(!1), [v, C] = m.useState(!1), [w, j] = m.useState(!1), [A, _] = m.useState(!1), [k, D] = m.useState(!1), [E, P] = m.useState(window.innerWidth), I = m.useRef(null), B = m.useRef(null), {
            registerDropdown: X,
            unregisterDropdown: O
        } = kl(), L = pn(oe => oe.rugRoyale), F = pn(oe => oe.goldenHour), Y = pn(oe => oe.battles.battleEventState), [H, K] = m.useState(null), [z, U] = m.useState(null), [V, W] = m.useState(!1), q = E < 450, Z = V2(E), se = () => {
            if (L.status === "INACTIVE") return !1;
            if (L.status === "ACTIVE" || L.status === "PREP" || L.status === "ENDING" || L.status === "COMPLETED") return !0;
            if (L.status === "SCHEDULED" && L.currentEvent) {
                const oe = new Date;
                return new Date(L.currentEvent.startTime).getTime() - oe.getTime() <= 30 * 24 * 60 * 60 * 1e3
            }
            return !!(L.leaderboard && L.leaderboard.length > 0 || L.history && L.history.length > 0)
        }, G = () => {
            if (!Y || Y.status === "NONE_SCHEDULED") return !1;
            const oe = new Date;
            return Y.status === "ACTIVE" || Y.status === "PREP" || Y.status === "ENDING" || Y.status === "COMPLETED" ? !0 : Y.status === "SCHEDULED" && Y.startTime ? new Date(Y.startTime).getTime() - oe.getTime() <= 30 * 24 * 60 * 60 * 1e3 : !!(Y.leaderboard && Y.leaderboard.length > 0)
        }, ie = se(), ne = G(), ee = !!(F.status && F.status !== "INACTIVE" || F.isActive), me = [{
            id: "experience",
            name: "Experience Info"
        }, {
            id: "rugpool",
            name: "Rugpool"
        }, {
            id: "rugpass",
            name: "Rugpass"
        }, ...ne ? [{
            id: "battleevent",
            name: "Battle Event"
        }] : [], ...ie ? [{
            id: "rugroyale",
            name: "Rug Royale"
        }] : [], ...ee ? [{
            id: "goldenhour",
            name: "Golden Hour"
        }] : []], fe = 300;
        m.useEffect(() => {
            const oe = () => P(window.innerWidth);
            return window.addEventListener("resize", oe), () => window.removeEventListener("resize", oe)
        }, []), m.useEffect(() => {
            p ? X("rugpass-modal") : O("rugpass-modal")
        }, [p, X, O]), m.useEffect(() => {
            if (s || p || x || v || w || A || k || h) {
                if (I.current && clearInterval(I.current), s) {
                    const Nt = {
                        experience: 0,
                        rugpool: 1,
                        rugpass: 2,
                        battleevent: 3,
                        rugroyale: 4,
                        goldenhour: 5
                    }[s];
                    Nt !== void 0 && Nt !== r && (u(!0), setTimeout(() => {
                        l(Nt), u(!1)
                    }, fe / 2))
                }
                return
            }
            return (() => {
                I.current = setInterval(() => {
                    u(!0), setTimeout(() => {
                        l(xe => (xe + 1) % me.length), u(!1)
                    }, fe / 2)
                }, e)
            })(), () => {
                I.current && clearInterval(I.current)
            }
        }, [e, s, r, p, x, v, w, A, k, h, me.length]);
        const ge = () => {
                f(!0)
            },
            ke = () => {
                f(!1)
            },
            je = oe => {
                K(oe.targetTouches[0].clientX), U(null), W(!0)
            },
            re = oe => {
                U(oe.targetTouches[0].clientX)
            },
            Ee = () => {
                if (!H || !z) return;
                const oe = Ms.swipe.minDistance,
                    xe = H - z,
                    Nt = xe > oe,
                    J = xe < -oe;
                Nt ? Pe() : J && Ae(), K(null), U(null), W(!1)
            },
            Ae = () => {
                d || (u(!0), setTimeout(() => {
                    l(oe => (oe - 1 + me.length) % me.length), u(!1)
                }, fe / 2))
            },
            Pe = () => {
                d || (u(!0), setTimeout(() => {
                    l(oe => (oe + 1) % me.length), u(!1)
                }, fe / 2))
            },
            be = ma(Ms.container.gap, Z),
            qe = ma(Ms.container.minHeight, Z),
            Re = ma(Ms.container.width, Z),
            le = ma(Ms.arrows.size, Z),
            Ce = ma(Ms.arrows.fontSize, Z),
            _e = ma(Ms.progress.dotSize, Z),
            Ne = ma(Ms.progress.bottom, Z);
        return t.jsxs(t.Fragment, {
            children: [t.jsxs(T, {
                ref: B,
                className: "cycling-displays-container",
                sx: {
                    position: "relative",
                    display: "flex",
                    alignItems: "center",
                    justifyContent: "center",
                    minHeight: qe,
                    width: Re,
                    gap: be,
                    cursor: {
                        xs: "grab",
                        sm: "default"
                    },
                    userSelect: "none",
                    ...a
                },
                onMouseEnter: ge,
                onMouseLeave: ke,
                onTouchStart: je,
                onTouchMove: re,
                onTouchEnd: Ee,
                children: [t.jsx(T, {
                    sx: {
                        position: "absolute",
                        bottom: Ne,
                        left: "50%",
                        transform: "translateX(-50%)",
                        display: "flex",
                        gap: "4px",
                        zIndex: 10
                    },
                    children: me.map((oe, xe) => t.jsx(T, {
                        sx: {
                            width: _e.width,
                            height: _e.height,
                            borderRadius: "1px",
                            backgroundColor: xe === r ? "#4a9af5" : "rgba(255, 255, 255, 0.3)",
                            transition: "all 0.3s ease"
                        }
                    }, xe))
                }), t.jsx(Cx, { in: !0,
                    children: t.jsx(Rt, {
                        onClick: Ae,
                        disabled: d,
                        sx: {
                            left: "0",
                            width: le,
                            height: le,
                            backgroundColor: "transparent",
                            color: "white",
                            fontSize: Ce,
                            flexShrink: 0,
                            zIndex: 5,
                            opacity: {
                                xs: .6,
                                sm: h ? 1 : 0
                            },
                            transition: "opacity 0.3s ease",
                            "&:hover": {
                                opacity: .8
                            },
                            "&:disabled": {
                                opacity: .5
                            }
                        },
                        children: t.jsx(iy, {})
                    })
                }), t.jsxs(T, {
                    sx: {
                        flex: 1,
                        display: "flex",
                        alignItems: "center",
                        justifyContent: "center",
                        opacity: d ? 0 : 1,
                        transform: V ? "scale(0.98)" : d ? "translateY(10px)" : "translateY(0)",
                        transition: V ? "none" : `all ${fe}ms cubic-bezier(0.4, 0.0, 0.2, 1)`,
                        minWidth: 0,
                        filter: V ? "brightness(0.8)" : "none"
                    },
                    children: [r === 0 && t.jsx(j2, {
                        compact: q,
                        showProgress: !0,
                        onExpandedChange: C
                    }), r === 1 && t.jsx(G2, {
                        isMobile: q,
                        onExpandedChange: S
                    }), r === 2 && t.jsx(z2, {
                        onOpenModal: () => y(!0),
                        externalModalControl: !0
                    }), ((Fe = me[r]) == null ? void 0 : Fe.id) === "battleevent" && t.jsx(A2, {
                        onExpandedChange: D
                    }), ((tt = me[r]) == null ? void 0 : tt.id) === "rugroyale" && t.jsx(Y2, {
                        onExpandedChange: j
                    }), ((dt = me[r]) == null ? void 0 : dt.id) === "goldenhour" && t.jsx(R2, {
                        onExpandedChange: _
                    })]
                }), t.jsx(Cx, { in: !0,
                    children: t.jsx(Rt, {
                        onClick: Pe,
                        disabled: d,
                        sx: {
                            right: "0",
                            width: le,
                            height: le,
                            backgroundColor: "transparent",
                            color: "white",
                            fontSize: Ce,
                            flexShrink: 0,
                            zIndex: 5,
                            opacity: {
                                xs: .6,
                                sm: h ? 1 : 0
                            },
                            transition: "opacity 0.3s ease",
                            "&:hover": {
                                opacity: .8
                            },
                            "&:disabled": {
                                opacity: .5
                            }
                        },
                        children: t.jsx(ay, {})
                    })
                })]
            }), p && _r.createPortal(t.jsx(cy, {
                onClose: () => y(!1)
            }), document.body)]
        })
    };

function dy({
    onClick: e,
    actionText: s,
    loadingText: a = "PROCESSING...",
    disabled: r = !1,
    isLoading: l = !1
}) {
    return t.jsx(Te, {
        onClick: e,
        disabled: r || l,
        className: "dw-action-button",
        variant: "contained",
        fullWidth: !0,
        sx: {
            textTransform: "none",
            fontWeight: "bold"
        },
        children: l ? a : s
    })
}

function uy({
    amount: e,
    onAmountChange: s,
    selectedCoin: a,
    balance: r = 0,
    maxAmount: l = 0,
    onMaxClick: d,
    onIncrementClick: u
}) {
    const [h, f] = m.useState(0), [p, y] = m.useState({
        code: "USD",
        rate: 1,
        symbol: "$"
    });
    m.useEffect(() => {
        l > 0 && (!e || e === "0" || e === "0.25") && s("0.25")
    }, [l, s]), m.useEffect(() => {
        const A = async () => {
            try {
                const D = await (await fetch("https://api.coingecko.com/api/v3/simple/price?ids=solana&vs_currencies=usd")).json();
                D.solana && D.solana.usd && f(D.solana.usd)
            } catch (k) {
                console.error("Error fetching SOL price:", k), f(150)
            }
        };
        A();
        const _ = setInterval(A, 3e4);
        return () => clearInterval(_)
    }, []), m.useEffect(() => {
        (async () => {
            try {
                const _ = navigator.language || "en-US",
                    k = {
                        "en-US": {
                            code: "USD",
                            symbol: "$"
                        },
                        "en-GB": {
                            code: "GBP",
                            symbol: "£"
                        },
                        "de-DE": {
                            code: "EUR",
                            symbol: "€"
                        },
                        "fr-FR": {
                            code: "EUR",
                            symbol: "€"
                        },
                        "ja-JP": {
                            code: "JPY",
                            symbol: "¥"
                        },
                        "ko-KR": {
                            code: "KRW",
                            symbol: "₩"
                        }
                    },
                    D = k[_] || k["en-US"];
                y({
                    code: D.code,
                    rate: 1,
                    symbol: "$"
                })
            } catch (_) {
                console.error("Error getting user currency:", _)
            }
        })()
    }, []);
    const x = A => {
            if (!A || !h) return "$0.00";
            const _ = A * h * p.rate;
            return p.code === "JPY" || p.code === "KRW" ? `${p.symbol}${Math.round(_)}` : `${p.symbol}${_.toFixed(2)}`
        },
        S = A => A == null || isNaN(A) ? "0.000" : A < .001 ? "< 0.001" : A.toFixed(3),
        v = A => {
            const _ = A.target.value;
            (_ === "" || /^\d*\.?\d*$/.test(_)) && s(_)
        },
        C = () => {
            if (e === "") s("0");
            else {
                if (e === "0") return; {
                    const A = parseFloat(e);
                    isNaN(A) ? s("0") : A < .001 && A > 0 && s("0.001")
                }
            }
        },
        w = (a == null ? void 0 : a.id) === "sol",
        j = parseFloat(e) || 0;
    return t.jsxs(T, {
        className: "dw-amount-input-section",
        children: [t.jsxs(T, {
            sx: {
                display: "flex",
                justifyContent: "space-between",
                alignItems: "center",
                mb: 1
            },
            children: [t.jsx($, {
                variant: "body2",
                sx: {
                    fontWeight: "medium"
                },
                children: "Amount"
            }), t.jsxs(T, {
                sx: {
                    textAlign: "right"
                },
                children: [t.jsxs($, {
                    variant: "caption",
                    sx: {
                        color: "text.secondary"
                    },
                    children: ["≈ ", x(r), " ", p.code]
                }), t.jsxs($, {
                    variant: "caption",
                    sx: {
                        display: "block",
                        color: "text.secondary"
                    },
                    children: ["Balance: ", S(r), " ", (a == null ? void 0 : a.shortName) ? ? "UNKNOWN"]
                })]
            })]
        }), t.jsxs(T, {
            sx: {
                display: "flex",
                alignItems: "center",
                gap: 1,
                border: "1px solid",
                borderColor: "divider",
                borderRadius: 1,
                padding: 1,
                backgroundColor: "background.paper"
            },
            children: [t.jsx(et, {
                type: "text",
                value: e,
                onChange: v,
                onBlur: C,
                placeholder: "0.000",
                variant: "standard",
                InputProps: {
                    disableUnderline: !0
                },
                sx: {
                    flexGrow: 1,
                    "& .MuiInputBase-input": {
                        padding: 0,
                        fontSize: "1rem"
                    }
                }
            }), j > 0 && t.jsxs($, {
                variant: "body2",
                sx: {
                    color: "text.secondary",
                    mr: 1
                },
                children: ["= ", x(j)]
            }), t.jsx(Te, {
                onClick: u,
                variant: "outlined",
                size: "small",
                sx: {
                    minWidth: "auto",
                    px: 1,
                    py: .5,
                    fontSize: "0.75rem"
                },
                children: "+0.1"
            }), t.jsx(T, {
                sx: {
                    display: "flex",
                    alignItems: "center",
                    ml: 1
                },
                children: w ? t.jsx(P0, {
                    sx: {
                        width: 24,
                        height: 24
                    },
                    src: "/icons/Icon_Solana.png",
                    alt: "SOL"
                }) : t.jsx($, {
                    variant: "body2",
                    sx: {
                        fontWeight: "bold"
                    },
                    children: (a == null ? void 0 : a.shortName) ? ? "UNKNOWN"
                })
            })]
        })]
    })
}

function hy() {
    const e = Se(Ge.selectCurrent),
        [s, a] = m.useState(!1),
        r = (e == null ? void 0 : e.bonusBalance) || 0,
        l = (e == null ? void 0 : e.bonusWagerReq) || 0,
        d = (e == null ? void 0 : e.bonusWagered) || 0,
        u = l > 0 ? Math.min(100, d / l * 100) : 0;
    return t.jsxs(T, {
        sx: h => ({
            margin: "15px 0",
            padding: 2,
            backgroundColor: h.palette.background.paper,
            borderRadius: 1,
            border: `1px solid ${h.palette.divider}`
        }),
        children: [t.jsxs(T, {
            sx: {
                display: "flex",
                alignItems: "center",
                justifyContent: "center",
                marginBottom: 2,
                gap: .5
            },
            children: [t.jsxs($, {
                variant: "h6",
                sx: h => ({
                    margin: 0,
                    fontSize: "14px",
                    color: h.palette.warning.main,
                    fontWeight: "bold"
                }),
                children: ["Bonus SOL Progress ", d.toFixed(2), "/", l.toFixed(2)]
            }), t.jsx(L0, {
                title: "Hold a trade for 5 seconds for it to count towards the wager requirement",
                open: s,
                onClose: () => a(!1),
                onOpen: () => a(!0),
                slotProps: {
                    tooltip: {
                        sx: {
                            backgroundColor: "#15161d !important",
                            color: "#ffffff",
                            fontSize: "12px",
                            textAlign: "center"
                        }
                    }
                },
                children: t.jsx(u2, {
                    onClick: () => a(!s),
                    style: {
                        fontSize: "14px",
                        color: "#888",
                        cursor: "help"
                    }
                })
            })]
        }), t.jsx(T, {
            sx: {
                marginBottom: 2
            },
            children: t.jsx(kf, {
                variant: "determinate",
                value: u,
                sx: h => ({
                    height: 10,
                    borderRadius: 5,
                    backgroundColor: h.palette.action.disabled,
                    "& .MuiLinearProgress-bar": {
                        backgroundColor: u >= 100 ? h.palette.success.main : h.palette.warning.main,
                        borderRadius: 5
                    }
                })
            })
        }), t.jsx(T, {
            sx: h => ({
                fontSize: "12px",
                padding: 1.5,
                backgroundColor: h.palette.action.hover,
                borderRadius: 1,
                color: h.palette.text.secondary,
                textAlign: "center"
            }),
            children: u >= 100 ? t.jsxs($, {
                variant: "body2",
                sx: h => ({
                    color: h.palette.success.main,
                    fontWeight: "bold"
                }),
                children: ["✅ Wagering requirement completed! You can now withdraw ", t.jsx(T, {
                    component: "span",
                    sx: {
                        color: "#FFC107",
                        fontWeight: "bold"
                    },
                    children: r.toFixed(3)
                }), " Bonus SOL"]
            }) : t.jsxs($, {
                variant: "body2",
                children: ["Hit the wager requirement to be able to withdraw ", t.jsx(T, {
                    component: "span",
                    sx: {
                        color: "#FFC107",
                        fontWeight: "bold"
                    },
                    children: r.toFixed(3)
                }), " Bonus SOL"]
            })
        })]
    })
}

function fy() {
    return t.jsx($, {
        variant: "body2",
        className: "dw-fee-notice",
        sx: e => ({
            color: e.palette.success.main,
            textAlign: "center",
            fontWeight: "medium"
        }),
        children: "Enjoy 0% fees on SOL deposits & withdrawals!"
    })
}

function py({
    onApplyPromoCode: e
}) {
    const s = bt(),
        a = jn(),
        r = Se(Ge.selectPromoCode),
        [l, d] = m.useState(!1),
        [u, h] = m.useState("");
    m.useEffect(() => {
        r.success && (h(""), setTimeout(() => {
            d(!1), s(Me.resetPromoCodeStatus())
        }, 3e3))
    }, [r.success, s]);
    const f = async () => {
        !u.trim() || u.length < 3 || a.claimBonusCode(u.trim().toUpperCase())
    };
    return t.jsx(T, {
        children: l ? t.jsxs(T, {
            children: [t.jsxs(T, {
                sx: {
                    display: "flex",
                    gap: 1,
                    alignItems: "center",
                    mb: 1
                },
                children: [t.jsx(et, {
                    type: "text",
                    value: u,
                    onChange: p => h(p.target.value.toUpperCase()),
                    placeholder: "Enter Promo Code",
                    disabled: r.isLoading,
                    variant: "outlined",
                    size: "small",
                    sx: {
                        flexGrow: 1
                    }
                }), t.jsx(Te, {
                    onClick: f,
                    disabled: r.isLoading || !u.trim(),
                    variant: "contained",
                    size: "small",
                    sx: {
                        minWidth: "auto",
                        px: 2,
                        textTransform: "none",
                        fontWeight: "bold"
                    },
                    children: r.isLoading ? "APPLYING..." : "APPLY"
                })]
            }), (r.success || r.error) && t.jsx(it, {
                severity: r.success ? "success" : "error",
                sx: {
                    mb: 1,
                    fontSize: "0.875rem"
                },
                children: r.success ? r.message : r.error
            }), t.jsx($, {
                variant: "body2",
                sx: p => ({
                    textAlign: "center",
                    color: p.palette.text.secondary,
                    fontSize: "0.75rem"
                }),
                children: "Follow us to get promo codes!"
            })]
        }) : t.jsxs($, {
            onClick: () => d(!0),
            className: "dw-promo-code-trigger",
            sx: p => ({
                cursor: "pointer",
                textAlign: "center",
                fontSize: "0.875rem",
                color: p.palette.text.secondary,
                "&:hover": {
                    color: p.palette.primary.main
                }
            }),
            children: ["Have a promo code?", " ", t.jsx(T, {
                component: "span",
                sx: p => ({
                    color: p.palette.primary.main,
                    textDecoration: "underline"
                }),
                children: "Click here"
            })]
        })
    })
}

function gy() {
    return t.jsxs(T, {
        className: "dw-social-links",
        sx: {
            display: "flex",
            justifyContent: "center",
            gap: 2,
            alignItems: "center"
        },
        children: [t.jsx(Rt, {
            onClick: () => window.open("https://discord.gg/RugsDotFun", "_blank"),
            sx: e => ({
                color: e.palette.text.secondary,
                animation: "pulse-discord 2s infinite",
                "&:hover": {
                    color: "#7289da"
                },
                "@keyframes pulse-discord": {
                    "0%": {
                        boxShadow: "0 0 0 0 rgba(114, 137, 218, 0.7)"
                    },
                    "70%": {
                        boxShadow: "0 0 0 4px rgba(114, 137, 218, 0)"
                    },
                    "100%": {
                        boxShadow: "0 0 0 0 rgba(114, 137, 218, 0)"
                    }
                }
            }),
            children: t.jsx(Sl, {
                size: 16
            })
        }), t.jsx(Rt, {
            onClick: () => window.open("https://x.com/RugsDotFunX", "_blank"),
            sx: e => ({
                color: e.palette.text.secondary,
                "&:hover": {
                    color: "#1da1f2"
                }
            }),
            children: t.jsx(Bw, {
                size: 16
            })
        }), t.jsx(Rt, {
            onClick: () => window.open("https://t.me/RugsDotFun", "_blank"),
            sx: e => ({
                color: e.palette.text.secondary,
                "&:hover": {
                    color: "#0088cc"
                }
            }),
            children: t.jsx(sy, {
                size: 16
            })
        })]
    })
}

function Ar({
    coin: e,
    isSelected: s,
    onClick: a
}) {
    const r = e.id === "sol",
        l = e.id === "free";
    return t.jsxs(T, {
        sx: {
            position: "relative",
            cursor: "pointer"
        },
        onClick: () => a(e),
        children: [t.jsx(P0, {
            sx: d => ({
                width: 40,
                height: 40,
                border: s ? `2px solid ${d.palette.primary.main}` : "none",
                backgroundColor: d.palette.background.paper,
                color: d.palette.text.primary,
                fontSize: "12px",
                fontWeight: "bold",
                transition: "all 0.2s ease",
                "&:hover": {
                    backgroundColor: d.palette.action.hover
                }
            }),
            children: r ? t.jsx(T, {
                component: "img",
                src: "/icons/Icon_Solana.png",
                alt: "SOL",
                sx: {
                    width: "70%",
                    height: "70%",
                    objectFit: "contain"
                }
            }) : l ? t.jsx($, {
                variant: "caption",
                sx: d => ({
                    color: d.palette.primary.main,
                    fontSize: "10px",
                    fontWeight: "bold"
                }),
                children: "FREE"
            }) : t.jsx($, {
                variant: "caption",
                sx: {
                    fontSize: "8px",
                    fontWeight: "bold"
                },
                children: e.shortName
            })
        }), s && t.jsx(T, {
            sx: d => ({
                position: "absolute",
                bottom: -4,
                left: "50%",
                transform: "translateX(-50%)",
                width: 8,
                height: 8,
                borderRadius: "50%",
                backgroundColor: d.palette.primary.main
            })
        })]
    })
}

function my({
    onClose: e
}) {
    const s = bt(),
        {
            authenticated: a,
            getAccessToken: r
        } = Gi(),
        {
            wallets: l
        } = B0(),
        [d, u] = m.useState(null),
        [h, f] = m.useState(0),
        p = m.useRef(!1),
        y = m.useRef(null),
        x = Nr(),
        S = Fs(x.breakpoints.down("md")),
        v = m.useCallback(ee => {
            p.current = !1, u(ee)
        }, [u, p]),
        {
            connectWallet: C
        } = z0({
            onSuccess: ee => v(ee.wallet),
            onError: () => {
                p.current = !1, e()
            }
        });
    m.useEffect(() => {
        function ee(me) {
            y.current && !y.current.contains(me.target) && !p.current && e()
        }
        return document.addEventListener("mousedown", ee), () => document.removeEventListener("mousedown", ee)
    }, [e]), m.useEffect(() => {
        function ee(me) {
            me.key === "Escape" && e()
        }
        return document.addEventListener("keydown", ee), () => document.removeEventListener("keydown", ee)
    }, [e]);
    const w = Se(G0.selectAll),
        j = Se(Ge.selectCurrent),
        A = Se(X0.selectDeposit),
        _ = w.find(ee => ee.id === "sol") ? ? w[0],
        [k, D] = m.useState(_),
        [E, P] = m.useState("0"),
        [I, B] = m.useState(!1),
        [X, O] = m.useState(!1),
        [L, F] = m.useState(null),
        Y = m.useCallback(async () => {
            var ee, me;
            if (await ((ee = l[0]) == null ? void 0 : ee.isConnected())) {
                v(l[0]);
                return
            } else u(null);
            p.current = !0, C({
                suggestedAddress: (me = l[0]) == null ? void 0 : me.address,
                walletChainType: "solana-only"
            })
        }, [C, l]),
        H = m.useCallback(async () => {
            if (d) try {
                Ye("[DepositDropdown] Fetching wallet balance once for:", d.address);
                const me = await new Tx("https://rpc.rugs.fun").getBalance(new Qc(d.address)),
                    fe = me / jx;
                Ye("[DepositDropdown] Wallet balance:", me, fe), f(fe)
            } catch (ee) {
                f(0), console.error("Error fetching wallet balance:", ee)
            }
        }, [d]);
    m.useEffect(() => {
        A && A.txnStatus === "completed" && (Ye("[DepositDropdown] Deposit completed", A), s(Ui.resetDeposit()))
    }, [A, s]), m.useEffect(() => {
        p.current || Y(), !p.current && d && H()
    }, [l, d, C, H, Y]), m.useEffect(() => {
        if (h > 0 && (k == null ? void 0 : k.id) === "sol" && !X) {
            O(!0);
            const ee = .001,
                me = Math.floor(h * 1e3) / 1e3,
                fe = Math.max(0, me - ee);
            fe > .25 ? P("0.25") : fe > 0 ? P(fe.toFixed(3)) : P("0"), Ye("[DepositDropdown] Setting initial deposit amount:", {
                walletBalance: h,
                maxSendable: fe,
                finalAmount: fe > .25 ? "0.25" : fe.toFixed(3)
            })
        }
    }, [h, k, X]);
    const K = m.useCallback(async () => {
            const ee = "https://backend.rugs.fun/api/hot-wallet";
            B(!0);
            const me = await sf.get(ee);
            return B(!1), me.data && me.data.address ? me.data.address : (F("Unable to retrieve deposit address"), null)
        }, []),
        z = m.useCallback(async () => {
            if (!a) return F("You are not authenticated"), null;
            const ee = await r();
            if (!ee) return F("You are not authenticated"), null;
            const me = "https://backend.rugs.fun/api";
            B(!0);
            const fe = await sf.post(`${me}/deposit/reference-code`, {}, {
                headers: {
                    Authorization: `Bearer ${ee}`,
                    "Content-Type": "application/json"
                }
            }).then(ge => ({
                success: !0,
                ...ge.data
            })).catch(ge => ({
                success: !1,
                error: ge.response.data.error
            }));
            return B(!1), fe.success && "referenceCode" in fe ? fe.referenceCode : (F(`Unable to retrieve reference code: ${"error"in fe?fe.error:"Unknown error"}`), null)
        }, [a, r]),
        U = m.useCallback(async () => {
            if (I || A || !k || !E || parseFloat(E) <= 0) return;
            if (k.id === "free") {
                F("FREE is a practice token. No real deposits can be made with practice tokens.");
                return
            }
            const ee = parseFloat(E);
            if (ee < .001) {
                F("Minimum deposit amount is 0.001");
                return
            }
            if (!a) {
                F("Please login to deposit funds");
                return
            }
            if (!d) return;
            F(null);
            const me = await K();
            if (!me) return;
            const fe = await z();
            if (fe) {
                s(Ui.startDeposit({
                    referenceCode: fe,
                    amount: ee,
                    timestamp: Date.now()
                }));
                try {
                    const ge = d,
                        ke = new Tx("https://rpc.rugs.fun"),
                        je = Math.round(ee * jx),
                        re = new nf,
                        Ee = `ref:${fe}`;
                    re.add(gv.transfer({
                        fromPubkey: new Qc(ge.address),
                        toPubkey: new Qc(me),
                        lamports: je
                    })), re.add(mv(Ee));
                    const Ae = await d.sendTransaction(re, ke);
                    Ye("[DepositDropdown] Deposit transaction sent successfully:", Ae), s(Ui.successDeposit({
                        referenceCode: fe,
                        amount: ee,
                        timestamp: Date.now(),
                        txnHash: Ae
                    })), s(Bt.addSuccessToast({
                        message: "Deposit transaction submitted successfully. Waiting for confirmation..."
                    }))
                } catch (ge) {
                    Ye("[DepositDropdown] Deposit transaction error:", ge);
                    let ke = "Transaction failed";
                    ge instanceof Error && (ge.message.includes("User rejected") ? ke = "Transaction was cancelled by user" : ge.message.includes("insufficient") ? ke = "Insufficient balance to cover transaction and fees" : ke = ge.message), F(ke), s(Ui.errorDeposit())
                }
            }
        }, [a, d, j, k, E, z, s]),
        V = w.find(ee => ee.id === "sol"),
        W = w.filter(ee => ee.id !== "sol"),
        q = W.slice(0, 4),
        Z = W.slice(4, 8),
        se = m.useCallback(ee => {
            D(ee), O(!1), P("0")
        }, []),
        G = ee => !k || !ee ? !1 : k.id === ee.id,
        ie = m.useCallback(() => (k == null ? void 0 : k.id) === "free", [k]),
        ne = m.useCallback(() => {
            const me = (parseFloat(E) || 0) + .1;
            P(me.toFixed(2))
        }, [E]);
    return t.jsxs(t.Fragment, {
        children: [S && t.jsx(T, {
            sx: {
                position: "fixed",
                top: 0,
                left: 0,
                right: 0,
                bottom: 0,
                backgroundColor: "rgba(0, 0, 0, 0.5)",
                zIndex: 999
            },
            onClick: e
        }), t.jsxs(T, {
            ref: y,
            className: `dw-dropdown deposit ${S?"mobile":""}`,
            sx: {
                position: S ? "fixed" : "absolute",
                top: S ? "60px" : "100%",
                right: S ? "auto" : 0,
                left: S ? "50%" : "auto",
                transform: S ? "translateX(-50%)" : "none",
                marginTop: S ? 0 : "4px",
                width: S ? "90vw" : "300px",
                maxWidth: S ? "400px" : "none",
                maxHeight: S ? "calc(90vh - 60px)" : "80vh",
                backgroundColor: ee => ee.palette.background.paper,
                borderRadius: "8px",
                boxShadow: "0 4px 20px rgba(0, 0, 0, 0.5)",
                border: "1px solid #2A2A2A",
                zIndex: S ? 1e3 : 100,
                color: ee => ee.palette.text.primary,
                overflow: "hidden",
                display: "flex",
                flexDirection: "column"
            },
            children: [t.jsxs(T, {
                className: "dw-dropdown-header",
                sx: {
                    display: "flex",
                    justifyContent: "space-between",
                    alignItems: "center",
                    padding: "16px",
                    borderBottom: "1px solid #2A2A2A",
                    flexShrink: 0
                },
                children: [t.jsx($, {
                    variant: "h6",
                    component: "h2",
                    sx: {
                        margin: 0,
                        fontSize: "18px",
                        fontWeight: "bold"
                    },
                    children: "Deposit"
                }), t.jsx(Rt, {
                    onClick: e,
                    size: "small",
                    className: "dw-dropdown-close",
                    children: t.jsx(Lr, {})
                })]
            }), t.jsxs(T, {
                className: "dw-dropdown-content",
                sx: {
                    padding: "12px 16px",
                    overflowY: "auto",
                    flex: 1
                },
                children: [t.jsxs(T, {
                    sx: {
                        mb: 2
                    },
                    children: [t.jsx($, {
                        variant: "body2",
                        sx: {
                            mb: 1,
                            fontWeight: "medium"
                        },
                        children: "Tokens"
                    }), t.jsxs(T, {
                        sx: {
                            display: "flex",
                            flexWrap: "wrap",
                            gap: 1,
                            mb: 2
                        },
                        children: [V && t.jsx(Ar, {
                            coin: V,
                            isSelected: G(V),
                            onClick: se
                        }), q.map(ee => t.jsx(Ar, {
                            coin: ee,
                            isSelected: G(ee),
                            onClick: se
                        }, ee.id)), Z.map(ee => t.jsx(Ar, {
                            coin: ee,
                            isSelected: G(ee),
                            onClick: se
                        }, ee.id))]
                    })]
                }), ie() ? t.jsx(it, {
                    severity: "info",
                    sx: {
                        mb: 2
                    },
                    children: "FREE is not a real token, it is just for practicing!"
                }) : d ? t.jsxs(T, {
                    children: [t.jsx(uy, {
                        amount: E,
                        onAmountChange: P,
                        selectedCoin: k,
                        balance: h,
                        onIncrementClick: ne
                    }), t.jsx(T, {
                        sx: {
                            my: 2
                        },
                        children: t.jsx(fy, {})
                    }), L && t.jsx(it, {
                        severity: "error",
                        sx: {
                            mb: 2
                        },
                        children: L
                    }), (A == null ? void 0 : A.txnStatus) === "processing" && t.jsxs(it, {
                        severity: "info",
                        sx: {
                            mb: 2,
                            display: "flex",
                            alignItems: "center",
                            gap: 1
                        },
                        children: [t.jsx(ws, {
                            size: 16
                        }), "Processing deposit..."]
                    }), t.jsx(dy, {
                        actionText: "DEPOSIT NOW",
                        loadingText: (A == null ? void 0 : A.txnStatus) === "processing" ? "Depositing..." : (A == null ? void 0 : A.txnStatus) === "pending_confirmation" ? "Confirming..." : "...",
                        onClick: U,
                        isLoading: I || (A == null ? void 0 : A.txnStatus) === "processing" || (A == null ? void 0 : A.txnStatus) === "pending_confirmation",
                        disabled: !k || !E || parseFloat(E) <= 0 || A !== null
                    }), t.jsx(T, {
                        sx: {
                            mt: "10px"
                        },
                        children: ((j == null ? void 0 : j.bonusBalance) || 0) > 0 ? t.jsx(hy, {}) : t.jsx(py, {})
                    })]
                }) : t.jsx(it, {
                    severity: "info",
                    sx: {
                        mb: 2
                    },
                    children: "Connecting wallet..."
                }), t.jsx(T, {
                    sx: {
                        mt: 2
                    },
                    children: t.jsx(gy, {})
                })]
            })]
        })]
    })
}

function q2({}) {
    const [e, s] = m.useState(!1), a = m.useCallback(() => {
        s(!1)
    }, []), r = m.useCallback(() => {
        s(!0)
    }, []);
    return t.jsxs(T, {
        className: "dw-button-container",
        sx: {
            position: "relative"
        },
        children: [t.jsx(Te, {
            onClick: r,
            variant: "contained",
            color: "deposit",
            children: "DEPOSIT"
        }), e && t.jsx(my, {
            onClose: a
        })]
    })
}
const X2 = [{
        id: "q1",
        question: "How does the game work?",
        answer: `rugs.fun is similar to the popular game "Crash", except you can buy and sell any amount at any time. Just don't get rugged! Hold positions for longer periods to earn industry-leading rakebacks via crates. Charts are randomized with a provably fair system and cannot be influenced by buys or sells.`
    }, {
        id: "q2",
        question: "How does Bonus SOL work?",
        answer: "Earn Bonus SOL by entering a code at the bottom of the deposit page. Bonus SOL codes have wager requirements attached to them. Earn progress towards the requirement by placing Valid Bets. Once you hit the wager requirement, your ENTIRE remaining bonus balance converts into instantly-withdrawable SOL (meaning there is no cap on the amount you can earn from a code)!"
    }, {
        id: "q3",
        question: "What are crates and keys? What are 'Valid Bets'?",
        answer: 'Crates are our way of giving SOL back to you at an industry-leading RTP rate. Earn XP to level up and receive crate keys; you earn 1 XP for every Valid Bet of 0.001 SOL. A "Valid Bet" is a position held for at least 20 game ticks (5 seconds), or a position that was rugged (after any amount of time). XP automatically multiplies the longer you hold.'
    }, {
        id: "q4",
        question: "Is this a skill-based game?",
        answer: "Contrary to popular belief, there actually are strategies you can use on rugs.fun to increase your chances of winning over the long run. You can't beat the house, but you *can* trade smarter than most."
    }, {
        id: "q5",
        question: "What's the house edge?",
        answer: "Every game tick (250ms) has a very small house edge built in - roughly 0.05%."
    }, {
        id: "q6",
        question: "How do I know the game is fair?",
        answer: "We use a provably fair system that allows you to verify that game outcomes cannot be manipulated. Check out our Fairness page for details on how this works and how you can verify the fairness of any game round."
    }],
    xy = ({
        onClose: e
    }) => {
        const [s, a] = m.useState(!1), [r, l] = m.useState(!1), [d, u] = m.useState(0), [h, f] = m.useState(85), [p, y] = m.useState(!1), x = m.useRef(null);
        m.useEffect(() => {
            f(85), l(!1), a(!1), y(!1)
        }, []);
        const S = m.useCallback(j => {
                y(p === j ? !1 : j)
            }, [p]),
            v = j => {
                l(!0);
                const A = "touches" in j ? j.touches[0].clientY : j.clientY;
                u(A)
            },
            C = j => {
                if (!r) return;
                const A = "touches" in j ? j.touches[0].clientY : j.clientY,
                    _ = d - A,
                    k = window.innerHeight,
                    E = _ * .3 / k * 100;
                let P = h + E;
                P = Math.max(20, Math.min(98, P)), f(P)
            },
            w = () => {
                if (r) {
                    if (l(!1), h < 30) {
                        e();
                        return
                    }
                    h > 75 ? (a(!0), f(98)) : (a(!1), f(85))
                }
            };
        return m.useEffect(() => {
            if (r) {
                const j = _ => C(_),
                    A = () => w();
                return document.addEventListener("touchmove", j, {
                    passive: !1
                }), document.addEventListener("mousemove", j), document.addEventListener("touchend", A), document.addEventListener("mouseup", A), () => {
                    document.removeEventListener("touchmove", j), document.removeEventListener("mousemove", j), document.removeEventListener("touchend", A), document.removeEventListener("mouseup", A)
                }
            }
        }, [r, d, h]), _r.createPortal(t.jsxs(t.Fragment, {
            children: [t.jsx(T, {
                sx: {
                    position: "fixed",
                    top: 0,
                    left: 0,
                    right: 0,
                    bottom: 0,
                    width: "100vw",
                    height: "100vh",
                    backgroundColor: "rgba(0, 0, 0, 0.5)",
                    backdropFilter: "blur(4px)",
                    zIndex: 99999
                },
                onClick: e
            }), t.jsxs(T, {
                ref: x,
                className: `faq-bottom-sheet ${r?"dragging":""}`,
                sx: {
                    position: "fixed",
                    bottom: 0,
                    left: 0,
                    right: 0,
                    width: "100vw !important",
                    maxWidth: "100vw !important",
                    minWidth: "100vw",
                    borderTop: "1px solid var(--color-border)",
                    borderTopLeftRadius: h >= 98 ? "0px" : "20px",
                    borderTopRightRadius: h >= 98 ? "0px" : "20px",
                    paddingBottom: "env(safe-area-inset-bottom)",
                    paddingTop: h >= 98 ? "env(safe-area-inset-top)" : "0px",
                    backgroundColor: "var(--color-background)",
                    zIndex: 1e5,
                    maxHeight: `${h}vh`,
                    height: `${h}vh`,
                    boxShadow: "0 -4px 20px rgba(0, 0, 0, 0.3)",
                    overflow: "hidden",
                    display: "flex",
                    flexDirection: "column",
                    margin: 0,
                    transform: "translateZ(0)"
                },
                children: [t.jsx(T, {
                    className: "drag-handle",
                    sx: {
                        display: "flex",
                        justifyContent: "center",
                        alignItems: "center",
                        padding: "12px 0 8px 0",
                        cursor: "grab",
                        "&:active": {
                            cursor: "grabbing"
                        }
                    },
                    onTouchStart: v,
                    onMouseDown: v,
                    children: t.jsx(T, {
                        sx: {
                            width: "40px",
                            height: "4px",
                            backgroundColor: "var(--color-muted-foreground)",
                            borderRadius: "2px"
                        }
                    })
                }), t.jsx(T, {
                    sx: {
                        padding: "0 20px 16px 20px",
                        borderBottom: "1px solid rgba(255, 255, 255, 0.1)",
                        flexShrink: 0
                    },
                    children: t.jsx($, {
                        variant: "h5",
                        sx: {
                            color: "var(--color-card-foreground)",
                            fontWeight: "bold",
                            fontSize: "20px",
                            fontFamily: "'DynaPuff', sans-serif",
                            textAlign: "center"
                        },
                        children: "Frequently Asked Questions"
                    })
                }), t.jsxs(T, {
                    sx: {
                        flex: 1,
                        overflow: "auto",
                        padding: "16px 20px"
                    },
                    children: [X2.map((j, A) => t.jsxs(Ef, {
                        expanded: p === j.id,
                        onChange: () => S(j.id),
                        sx: {
                            backgroundColor: "var(--color-card)",
                            border: "1px solid var(--color-border)",
                            borderRadius: "8px !important",
                            marginBottom: "12px",
                            "&:before": {
                                display: "none"
                            },
                            "&.Mui-expanded": {
                                margin: "0 0 12px 0"
                            }
                        },
                        children: [t.jsx(Af, {
                            expandIcon: t.jsx("span", {
                                style: {
                                    color: "var(--color-muted-foreground)",
                                    fontSize: "1.25rem"
                                },
                                children: "▼"
                            }),
                            sx: {
                                backgroundColor: "var(--color-card)",
                                "&.Mui-expanded": {
                                    backgroundColor: "var(--color-muted)"
                                },
                                "& .MuiAccordionSummary-content": {
                                    margin: "16px 0"
                                },
                                "& .MuiAccordionSummary-expandIconWrapper": {
                                    transition: "transform 0.3s ease",
                                    "&.Mui-expanded": {
                                        transform: "rotate(180deg)"
                                    }
                                }
                            },
                            children: t.jsx($, {
                                variant: "h6",
                                sx: {
                                    color: "var(--color-card-foreground)",
                                    fontWeight: "bold",
                                    fontSize: "16px",
                                    fontFamily: "'DynaPuff', sans-serif"
                                },
                                children: j.question
                            })
                        }), t.jsx(Rf, {
                            sx: {
                                backgroundColor: "var(--color-card)",
                                borderTop: "1px solid var(--color-border)",
                                padding: "16px"
                            },
                            children: t.jsx($, {
                                sx: {
                                    color: "var(--color-muted-foreground)",
                                    fontSize: "14px",
                                    lineHeight: 1.6,
                                    fontFamily: "'Inter', sans-serif"
                                },
                                children: j.answer
                            })
                        })]
                    }, A)), t.jsxs($, {
                        variant: "h6",
                        sx: {
                            marginTop: "24px",
                            marginBottom: "24px",
                            fontSize: "18px",
                            lineHeight: "1.5",
                            fontWeight: "normal",
                            textAlign: "center",
                            color: "var(--color-card-foreground)",
                            fontFamily: "'DynaPuff', sans-serif",
                            paddingX: {
                                xs: 0,
                                md: "20px"
                            }
                        },
                        children: ["If you have any additional questions, please feel free to reach out to us on", " ", t.jsx(js, {
                            href: "https://x.com/RugsDotFunX",
                            target: "_blank",
                            rel: "noopener noreferrer",
                            sx: {
                                color: "#4e67f7",
                                textDecoration: "none",
                                fontWeight: "bold",
                                "&:hover": {
                                    color: "#6e87ff"
                                }
                            },
                            children: "X"
                        }), ",", " ", t.jsx(js, {
                            href: "https://discord.gg/RugsDotFun",
                            target: "_blank",
                            rel: "noopener noreferrer",
                            sx: {
                                color: "#4e67f7",
                                textDecoration: "none",
                                fontWeight: "bold",
                                "&:hover": {
                                    color: "#6e87ff"
                                }
                            },
                            children: "Discord"
                        }), ",", " ", t.jsx(js, {
                            href: "https://t.me/RugsDotfun",
                            target: "_blank",
                            rel: "noopener noreferrer",
                            sx: {
                                color: "#4e67f7",
                                textDecoration: "none",
                                fontWeight: "bold",
                                "&:hover": {
                                    color: "#6e87ff"
                                }
                            },
                            children: "Telegram"
                        }), ", or via email at", " ", t.jsx(js, {
                            href: "mailto:hello@rugs.fun",
                            sx: {
                                color: "#4e67f7",
                                textDecoration: "none",
                                fontWeight: "bold",
                                "&:hover": {
                                    color: "#6e87ff"
                                }
                            },
                            children: "hello@rugs.fun"
                        }), "."]
                    })]
                })]
            })]
        }), document.body)
    };

function yy({
    classes: e = "",
    children: s
}) {
    return t.jsx(T, {
        className: `${e?e+" ":""}sticky-container`,
        sx: {
            position: "sticky"
        },
        children: s
    })
}
const Q2 = Ln(Da)(({
        theme: e,
        $maxWidth: s
    }) => ({
        "& .MuiDialog-paper": {
            width: "90%",
            maxWidth: s || "800px",
            maxHeight: "90vh",
            backgroundColor: "rgb(19, 19, 19)",
            borderRadius: "8px",
            border: `1px solid ${e.palette.divider}`,
            boxShadow: "0 10px 40px rgba(0, 0, 0, 0.5)"
        },
        "& .MuiBackdrop-root": {
            backgroundColor: "rgba(0, 0, 0, 0.7)"
        }
    })),
    K2 = Ln(Tl)({
        display: "flex",
        justifyContent: "space-between",
        alignItems: "center",
        padding: "16px 20px",
        borderBottom: "1px solid #333",
        color: "#FFFFFF",
        fontFamily: "'DynaPuff', sans-serif",
        fontWeight: "bold",
        fontSize: "1.25rem",
        margin: 0
    }),
    Z2 = Ln(Na)({
        padding: "0px",
        minHeight: "200px",
        overflow: "auto",
        color: "#FFFFFF"
    }),
    J2 = Ln(Rt)({
        color: "#777",
        padding: "4px",
        width: "32px",
        height: "32px",
        borderRadius: "50%",
        "&:hover": {
            color: "#FFFFFF",
            backgroundColor: "rgba(255, 255, 255, 0.1)",
            borderRadius: "50%"
        }
    });
Ln(T)({
    boxShadow: "0px -2px 10px 0px grey",
    display: "flex",
    padding: "8px",
    justifyContent: "center"
});

function Dr({
    setOpen: e,
    title: s,
    children: a,
    maxWidth: r = "800px"
}) {
    const l = () => {
        e(!1)
    };
    return t.jsxs(Q2, {
        open: !0,
        onClose: l,
        maxWidth: !1,
        fullWidth: !1,
        $maxWidth: r,
        children: [t.jsxs(K2, {
            children: [s, t.jsx(J2, {
                onClick: l,
                "aria-label": "close",
                children: "×"
            })]
        }), t.jsx(Z2, {
            children: a
        })]
    })
}

function by() {
    return t.jsxs(t.Fragment, {
        children: [t.jsxs("div", {
            style: {
                display: "flex",
                flexDirection: "column",
                alignItems: "center",
                justifyContent: "center",
                padding: "48px"
            },
            children: [t.jsx("div", {
                style: {
                    width: "48px",
                    height: "48px",
                    border: "4px solid rgba(255, 255, 255, 0.1)",
                    borderRadius: "50%",
                    borderTop: "4px solid #00f5d4",
                    animation: "spin 1s linear infinite",
                    marginBottom: "16px"
                }
            }), t.jsx("p", {
                children: "Loading profile data..."
            })]
        }), t.jsx("style", {
            children: `@keyframes spin {
    0% { transform: rotate(0deg); }
    100% { transform: rotate(360deg); }
  }
  
  @keyframes borderGlow {
    0% { background-position: 0% 50%; }
    50% { background-position: 100% 50%; }
    100% { background-position: 0% 50%; }
  }
  
  @keyframes borderPulse {
    0% { opacity: 0.8; }
    50% { opacity: 1; }
    100% { opacity: 0.8; }
  }
`
        })]
    })
}
const eT = ({
        onConfirm: e,
        onCancel: s
    }) => t.jsx("div", {
        className: "disconnect-modal-backdrop",
        children: t.jsxs("div", {
            className: "disconnect-modal-container",
            children: [t.jsxs("div", {
                className: "disconnect-modal-header",
                children: [t.jsx(Ff, {
                    className: "disconnect-modal-icon"
                }), t.jsx("h3", {
                    className: "disconnect-modal-title",
                    children: "Disconnect Discord Account?"
                })]
            }), t.jsx("p", {
                className: "disconnect-modal-text",
                children: "Are you sure you want to disconnect your Discord account? You'll need to reconnect to access Discord-linked features."
            }), t.jsxs("div", {
                className: "disconnect-modal-actions",
                children: [t.jsx("button", {
                    onClick: s,
                    className: "disconnect-modal-cancel",
                    children: "Cancel"
                }), t.jsx("button", {
                    onClick: e,
                    className: "disconnect-modal-confirm",
                    children: "Disconnect"
                })]
            })]
        })
    }),
    tT = ({
        discordUser: e,
        onConnect: s,
        onDisconnect: a,
        isAdmin: r = !1,
        userId: l = null,
        viewingOwnProfile: d = !1
    }) => {
        var x;
        const [u, h] = m.useState(!1), f = () => {
            h(!0)
        }, p = () => {
            h(!1), a()
        }, y = () => {
            h(!1)
        };
        return t.jsxs(t.Fragment, {
            children: [t.jsxs("div", {
                className: "connect-discord-card",
                children: [t.jsxs("div", {
                    className: "connect-discord-header",
                    children: [t.jsxs("div", {
                        className: "connect-discord-info",
                        children: [t.jsx("div", {
                            className: "connect-discord-icon",
                            children: t.jsx(Sl, {})
                        }), t.jsx("h3", {
                            className: "connect-discord-name",
                            children: "Discord"
                        })]
                    }), t.jsx("div", {
                        className: `connect-discord-status ${e?"connected":"not-connected"}`,
                        children: e ? "Connected" : "Not Connected"
                    })]
                }), e ? t.jsxs("div", {
                    children: [t.jsxs("div", {
                        className: "connect-discord-user-info",
                        children: [e.avatar ? t.jsx("img", {
                            src: `https://cdn.discordapp.com/avatars/${e.id}/${e.avatar}.png`,
                            alt: "Discord Avatar",
                            className: "connect-discord-avatar"
                        }) : t.jsx("div", {
                            className: "connect-discord-avatar-placeholder",
                            children: ((x = e.username) == null ? void 0 : x.charAt(0).toUpperCase()) || "D"
                        }), t.jsxs("div", {
                            className: "connect-discord-user-details",
                            children: [t.jsxs("div", {
                                className: "connect-discord-username",
                                children: [e.username, e.discriminator !== "0" && t.jsxs("span", {
                                    className: "connect-discord-discriminator",
                                    children: ["#", e.discriminator]
                                })]
                            }), e.connectedAt && t.jsxs("div", {
                                className: "connect-discord-connected-date",
                                children: ["Connected on ", new Date(e.connectedAt).toLocaleDateString()]
                            })]
                        })]
                    }), t.jsxs("button", {
                        onClick: f,
                        disabled: !!(r && l && d),
                        className: "connect-discord-disconnect",
                        children: [t.jsx(m2, {}), r && l && d ? "Admin View Only" : "Disconnect Discord Account"]
                    })]
                }) : t.jsxs("div", {
                    children: [t.jsx("p", {
                        className: "connect-discord-description",
                        children: "Connect your Discord account to participate in WUMPUS WEEKEND and all Daily Drop events!"
                    }), t.jsxs("button", {
                        onClick: s,
                        className: "connect-discord-button",
                        children: [t.jsx(Sl, {}), "Connect with Discord"]
                    })]
                })]
            }), u && t.jsx(eT, {
                onConfirm: p,
                onCancel: y
            })]
        })
    },
    nT = () => t.jsx("div", {
        className: "connect-discord-reminder",
        children: t.jsxs("p", {
            className: "connect-discord-reminder-text",
            children: ["Make sure to join our official", " ", t.jsx("a", {
                href: "https://discord.gg/RugsDotFun",
                target: "_blank",
                rel: "noopener noreferrer",
                className: "connect-discord-server-link",
                children: "Discord server"
            }), " ", "after linking to be eligible for Daily Drops!"]
        })
    }),
    sT = ({
        discordUser: e,
        onConnectDiscord: s,
        onDisconnectDiscord: a,
        isAdmin: r = !1,
        userId: l = null,
        viewingOwnProfile: d = !1
    }) => t.jsxs("div", {
        className: "connect-accounts-section",
        children: [t.jsx("h2", {
            className: "connect-accounts-title",
            children: "Connected Accounts"
        }), t.jsx(tT, {
            discordUser: e,
            onConnect: s,
            onDisconnect: a,
            isAdmin: r,
            userId: l,
            viewingOwnProfile: d
        }), t.jsx(nT, {})]
    }),
    vy = ({
        userProfile: e,
        currentProfile: s,
        effectiveUsername: a,
        isAdminSearchLoading: r,
        adminSearchError: l,
        onResetToOwnProfile: d,
        onAdminSearch: u
    }) => {
        const h = bt(),
            f = jn(),
            p = Se(Ge.selectDiscord),
            [y, x] = m.useState(null),
            [S, v] = m.useState(!1),
            j = `https://discord.com/api/oauth2/authorize?client_id=1370560935189811310&redirect_uri=${encodeURIComponent("https://rugs.fun/discord-callback")}&response_type=code&scope=identify`,
            {
                isLoading: A,
                error: _,
                isConnected: k,
                user: D
            } = p,
            E = (e == null ? void 0 : e.role) === "admin",
            P = (e == null ? void 0 : e.id) !== (s == null ? void 0 : s.id),
            I = () => {
                x({
                    type: "pending",
                    message: "Redirecting to Discord..."
                }), window.location.href = j
            },
            B = async F => {
                try {
                    const Y = new URL(window.location.href);
                    Y.searchParams.delete("code"), window.history.replaceState({}, "", Y.toString()), x({
                        type: "pending",
                        message: "Connecting to Discord..."
                    }), f.connectDiscord({
                        code: F
                    })
                } catch (Y) {
                    console.error("Error handling Discord callback:", Y), x({
                        type: "error",
                        message: "Failed to connect Discord account. Please try again."
                    })
                }
            },
            X = () => {
                v(!0)
            },
            O = () => {
                v(!1)
            },
            L = async () => {
                try {
                    v(!1), f.disconnectDiscord()
                } catch (F) {
                    console.error("Error disconnecting Discord:", F), x({
                        type: "error",
                        message: "Failed to disconnect Discord account. Please try again."
                    })
                }
            };
        return m.useEffect(() => {
            const Y = new URLSearchParams(window.location.search).get("code");
            Y && B(Y)
        }, []), m.useEffect(() => {
            const F = new URLSearchParams(window.location.search),
                Y = F.get("discord_success"),
                H = F.get("discord_error");
            if (Y) {
                x({
                    type: "success",
                    message: "Discord account connected successfully!"
                });
                const K = new URL(window.location.href);
                K.searchParams.delete("discord_success"), window.history.replaceState({}, "", K.toString()), setTimeout(() => x(null), 5e3)
            } else if (H) {
                x({
                    type: "error",
                    message: `Discord connection failed: ${decodeURIComponent(H)}`
                });
                const K = new URL(window.location.href);
                K.searchParams.delete("discord_error"), window.history.replaceState({}, "", K.toString()), setTimeout(() => x(null), 5e3)
            }
        }, []), m.useEffect(() => {
            f.getDiscordConnection()
        }, [h]), m.useEffect(() => {
            _ && !y && (x({
                type: "error",
                message: _
            }), setTimeout(() => x(null), 5e3))
        }, [_, y]), m.useEffect(() => {
            k && D && !y && (x({
                type: "success",
                message: "Discord account connected successfully!"
            }), setTimeout(() => x(null), 5e3))
        }, [k, D, y]), A && !y ? t.jsxs("div", {
            className: "connect-loading",
            children: [t.jsx("div", {
                className: "connect-loading-spinner"
            }), t.jsx("div", {
                children: "Loading connection info..."
            })]
        }) : t.jsxs("div", {
            className: "connect-tab-container",
            children: [y && t.jsxs("div", {
                className: `connect-notification ${y.type}`,
                children: [t.jsxs("div", {
                    className: "connect-notification-content",
                    children: [y.type === "pending" && t.jsx(p2, {
                        style: {
                            animation: "spin 1s linear infinite"
                        }
                    }), y.type === "success" && "✓", y.type === "error" && "!", t.jsx("span", {
                        children: y.message
                    })]
                }), t.jsx("button", {
                    className: "connect-notification-close",
                    onClick: () => x(null),
                    children: "×"
                })]
            }), S && t.jsx("div", {
                className: "disconnect-modal-backdrop",
                children: t.jsxs("div", {
                    className: "disconnect-modal-container",
                    children: [t.jsxs("div", {
                        className: "disconnect-modal-header",
                        children: [t.jsx(Ff, {
                            className: "disconnect-modal-icon"
                        }), t.jsx("h3", {
                            className: "disconnect-modal-title",
                            children: "Disconnect Discord Account?"
                        })]
                    }), t.jsx("p", {
                        className: "disconnect-modal-text",
                        children: "Are you sure you want to disconnect your Discord account? You'll need to reconnect to access Discord-linked features."
                    }), t.jsxs("div", {
                        className: "disconnect-modal-actions",
                        children: [t.jsx("button", {
                            onClick: O,
                            className: "disconnect-modal-cancel",
                            children: "Cancel"
                        }), t.jsx("button", {
                            onClick: L,
                            className: "disconnect-modal-confirm",
                            children: "Disconnect"
                        })]
                    })]
                })
            }), _ && !y && t.jsxs("div", {
                className: "connect-error",
                children: [t.jsx("div", {
                    children: _
                }), t.jsx("button", {
                    className: "connect-error-close",
                    onClick: () => f.getDiscordConnection(),
                    children: "Retry"
                })]
            }), t.jsx(sT, {
                discordUser: D,
                onConnectDiscord: I,
                onDisconnectDiscord: X,
                isAdmin: E,
                userId: e == null ? void 0 : e.id,
                viewingOwnProfile: !P
            })]
        })
    },
    Sy = ({
        userProfile: e,
        currentProfile: s,
        effectiveUsername: a,
        isAdminSearchLoading: r,
        adminSearchError: l,
        onResetToOwnProfile: d,
        onAdminSearch: u
    }) => {
        const h = jl(),
            f = nn(),
            p = jn(),
            y = (e == null ? void 0 : e.role) === "admin",
            x = (e == null ? void 0 : e.id) !== (s == null ? void 0 : s.id),
            [S, v] = m.useState([]),
            [C, w] = m.useState(0),
            [j, A] = m.useState(!1),
            _ = pn(Ge.selectPromoCode),
            [k, D] = m.useState(null),
            [E, P] = m.useState([]),
            [I, B] = m.useState(null),
            [X, O] = m.useState(null),
            [L, F] = m.useState(!1),
            [Y, H] = m.useState(null),
            [K, z] = m.useState(!1),
            [U, V] = m.useState(!1),
            [W, q] = m.useState(!1),
            [Z, se] = m.useState(!1),
            [G, ie] = m.useState(!1),
            [ne, ee] = m.useState({
                visible: !1,
                action: "delete",
                messageId: "",
                messageTitle: ""
            }),
            me = ["refund", "giveaway", "event", "kol", "testing"];

        function fe() {
            const J = new Date,
                ze = String(J.getUTCHours()).padStart(2, "0"),
                Ue = String(J.getUTCMinutes()).padStart(2, "0");
            return `${ze}:${Ue}`
        }
        const [ge, ke] = m.useState({
            scheduleId: "",
            bonusAmount: 1,
            bonusWagerMultiReq: 20,
            executionType: "immediate",
            executionTime: fe(),
            isRecurring: !1,
            frequency: 1,
            timeUnit: "days",
            maxExecutions: 0,
            targetPlayer: "",
            message: "",
            includeBonus: !1,
            startImmediately: !1,
            maxConversionAmount: -1,
            maxConversionPercent: 100,
            tag: "kol"
        }), [je, re] = m.useState({
            targetPlayer: "",
            title: "",
            message: "",
            includeBonus: !1,
            bonusAmount: 1,
            bonusWagerMultiReq: 20,
            maxConversionAmount: -1,
            maxConversionPercent: 100,
            tag: "kol"
        }), Ee = () => {
            A(!0), console.log("Fetching inbox..."), y && x ? (console.log("Fetching inbox for other player..."), f.getPlayerInbox(s == null ? void 0 : s.id, J => {
                A(!1), J.success && (v(J.inbox.messages), w(J.inbox.unreadCount))
            }), f.getPlayerCodeFaucets(s == null ? void 0 : s.id, J => {
                F(!1), J.success && P(J.schedules)
            })) : (console.log("Fetching inbox for self..."), p.getInbox(J => {
                A(!1), console.log("Inbox payload:", J), J.success && (v(J.messages), w(J.unreadCount))
            }))
        };
        m.useEffect(() => {
            a && Ee()
        }, [h, a]);
        const Ae = async (J, ze) => {
                try {
                    h(Me.resetPromoCodeStatus()), D(ze), p.claimBonusCode(J), p.markMessageRead({
                        messageId: ze
                    }, () => {
                        Ee()
                    })
                } catch (Ue) {
                    console.error("Error claiming bonus code:", Ue)
                }
                setTimeout(() => {
                    D(null), h(Me.resetPromoCodeStatus())
                }, 3e3)
            },
            Pe = J => {
                p.deleteMessage({
                    messageId: J
                }, () => {
                    Ee()
                })
            },
            be = J => {
                p.markMessageRead({
                    messageId: J
                }, () => {
                    Ee()
                })
            },
            qe = (J, ze) => {
                window.innerWidth <= 768 && ee({
                    visible: !0,
                    action: "markRead",
                    messageId: J,
                    messageTitle: ze
                })
            },
            Re = () => {
                ee({
                    visible: !1,
                    action: "delete",
                    messageId: "",
                    messageTitle: ""
                })
            },
            le = () => {
                ne.messageId && ne.action === "markRead" && (be(ne.messageId), Re()), ne.messageId && ne.action === "delete" && (Pe(ne.messageId), Re())
            },
            Ce = J => {
                const {
                    name: ze,
                    value: Ue,
                    type: Oe
                } = J.target, zt = J.target.checked;
                ke(Xt => ({ ...Xt,
                    [ze]: Oe === "checkbox" ? zt : Ue
                })), ze === "executionType" && Ue === "scheduled" && ke(Xt => ({ ...Xt,
                    executionTime: fe()
                }))
            },
            _e = J => {
                const {
                    name: ze,
                    value: Ue,
                    type: Oe
                } = J.target, zt = J.target.checked;
                re(Xt => ({ ...Xt,
                    [ze]: Oe === "checkbox" ? zt : Ue
                }))
            },
            Ne = () => {
                const J = new Date,
                    [ze, Ue] = ge.executionTime.split(":").map(Number),
                    Oe = new Date(J);
                Oe.setUTCHours(ze, Ue, 0, 0), Oe <= J && Oe.setDate(Oe.getDate() + 1);
                const zt = parseInt(ge.frequency.toString());
                switch (ge.timeUnit) {
                    case "minutes":
                        Oe.setMinutes(Oe.getMinutes() + zt);
                        break;
                    case "hours":
                        Oe.setHours(Oe.getHours() + zt);
                        break;
                    case "days":
                        Oe.setDate(Oe.getDate() + zt);
                        break;
                    case "weeks":
                        Oe.setDate(Oe.getDate() + zt * 7);
                        break;
                    default:
                        Oe.setDate(Oe.getDate() + zt)
                }
                return Oe
            },
            Fe = () => {
                const J = new Date;
                return J.setSeconds(J.getSeconds() + 10), J
            },
            tt = () => {
                const J = ge.startImmediately || ge.executionType === "immediate" ? Fe() : Ne(),
                    ze = {
                        amount: parseFloat(ge.maxConversionAmount.toString()),
                        percent: parseFloat(ge.maxConversionPercent.toString())
                    },
                    Ue = {
                        name: `${ge.bonusAmount} SOL to ${ge.targetPlayer} every ${ge.frequency} ${ge.timeUnit} at ${ge.executionTime} UTC`,
                        bonusAmount: parseFloat(ge.bonusAmount.toString()),
                        wagerRequirement: parseInt(ge.bonusWagerMultiReq.toString()),
                        executeAt: J.toISOString(),
                        targetPlayerId: ge.targetPlayer.trim(),
                        recurring: ge.isRecurring,
                        generateBonusCode: !0,
                        maxExecutions: ge.maxExecutions > 0 ? parseInt(ge.maxExecutions.toString()) : void 0,
                        recurrencePattern: {
                            frequency: parseInt(ge.frequency.toString()),
                            timeUnit: ge.timeUnit,
                            timeOfDay: ge.executionTime
                        },
                        maxConversion: ze.amount !== -1 || ze.percent !== 100 ? ze : void 0,
                        tag: ge.tag
                    };
                V(!1), f.createCodeFaucetSchedule(Ue, () => {
                    ke({
                        scheduleId: "",
                        bonusAmount: 1,
                        bonusWagerMultiReq: 20,
                        executionType: "immediate",
                        executionTime: fe(),
                        isRecurring: !1,
                        frequency: 1,
                        timeUnit: "days",
                        maxExecutions: 0,
                        targetPlayer: "",
                        message: "",
                        includeBonus: !1,
                        startImmediately: !1,
                        maxConversionAmount: -1,
                        maxConversionPercent: 100,
                        tag: "kol"
                    })
                })
            },
            dt = () => {
                if (!(!je.targetPlayer || !je.title || !je.message))
                    if (je.includeBonus) {
                        const J = {
                                amount: parseFloat(je.maxConversionAmount.toString()),
                                percent: parseFloat(je.maxConversionPercent.toString())
                            },
                            ze = {
                                playerId: je.targetPlayer,
                                bonusAmount: parseFloat(je.bonusAmount.toString()),
                                bonusWagerMultiReq: parseInt(je.bonusWagerMultiReq.toString()),
                                maxConversion: J.amount !== -1 || J.percent !== 100 ? J : void 0,
                                tag: je.tag
                            };
                        ie(!0), f.sendBonusCodeToPlayer(ze, () => {
                            ie(!1), re({
                                targetPlayer: "",
                                title: "",
                                message: "",
                                includeBonus: !1,
                                bonusAmount: 1,
                                bonusWagerMultiReq: 20,
                                maxConversionAmount: -1,
                                maxConversionPercent: 100,
                                tag: "kol"
                            }), q(!1)
                        })
                    } else {
                        const J = {
                            playerId: je.targetPlayer,
                            message: {
                                title: je.title,
                                content: je.message
                            }
                        };
                        ie(!0), f.sendPlayerMessage(J, () => {
                            re({
                                targetPlayer: "",
                                title: "",
                                message: "",
                                includeBonus: !1,
                                bonusAmount: 1,
                                bonusWagerMultiReq: 20,
                                maxConversionAmount: -1,
                                maxConversionPercent: 100,
                                tag: "kol"
                            }), q(!1), ie(!1)
                        })
                    }
            },
            oe = J => {
                window.confirm("Are you sure you want to cancel this scheduled bonus code?") && f.deleteCodeFaucetSchedule(J, () => {
                    xe()
                })
            },
            xe = () => {
                console.log("Fetching all schedules..."), F(!0), H(null), f.getCodeFaucetSchedules({}, J => {
                    F(!1), J.success ? (P(J.schedules || []), console.log("Successfully fetched schedules:", J.schedules)) : (H(J.message || "Failed to fetch schedules"), P([]))
                })
            },
            Nt = J => new Date(J).toLocaleString();
        return t.jsx("div", {
            className: "inbox-tab-container",
            children: j ? t.jsx("div", {
                className: "inbox-loading",
                children: "Loading inbox..."
            }) : t.jsxs(t.Fragment, {
                children: [t.jsx("div", {
                    className: "inbox-header",
                    children: y && t.jsxs("div", {
                        className: "admin-action-buttons",
                        children: [t.jsxs("button", {
                            onClick: J => {
                                J.stopPropagation(), V(!U), q(!1)
                            },
                            className: `admin-action-btn ${U?"active":""}`,
                            children: [t.jsx(jr, {
                                size: 12
                            }), " Schedule"]
                        }), t.jsxs("button", {
                            onClick: J => {
                                J.stopPropagation(), q(!W), V(!1)
                            },
                            className: `admin-action-btn ${W?"active":""}`,
                            children: [t.jsx(h2, {
                                size: 12
                            }), " Send"]
                        }), t.jsxs("button", {
                            onClick: J => {
                                J.stopPropagation(), se(!Z), Z || xe()
                            },
                            className: `admin-action-btn ${Z?"active":""}`,
                            children: [t.jsx(c2, {
                                size: 12
                            }), " View All"]
                        })]
                    })
                }), y && U && t.jsxs("div", {
                    className: "admin-form-section",
                    children: [t.jsx("h4", {
                        className: "admin-form-title",
                        children: "Schedule Bonus Code"
                    }), t.jsxs("div", {
                        className: "admin-form-grid",
                        children: [t.jsxs("div", {
                            className: "form-group",
                            children: [t.jsx("label", {
                                className: "form-label",
                                children: "Target Player ID:"
                            }), t.jsx("input", {
                                type: "text",
                                name: "targetPlayer",
                                value: ge.targetPlayer,
                                onChange: Ce,
                                placeholder: "Player ID",
                                className: "form-input"
                            })]
                        }), t.jsxs("div", {
                            className: "form-group",
                            children: [t.jsx("label", {
                                className: "form-label",
                                children: "SOL Amount:"
                            }), t.jsx("input", {
                                type: "number",
                                name: "bonusAmount",
                                value: ge.bonusAmount,
                                onChange: Ce,
                                placeholder: "Bonus Amount",
                                className: "form-input"
                            })]
                        }), t.jsxs("div", {
                            className: "form-group",
                            children: [t.jsx("label", {
                                className: "form-label",
                                children: "Wager Requirement:"
                            }), t.jsx("input", {
                                type: "number",
                                name: "bonusWagerMultiReq",
                                value: ge.bonusWagerMultiReq,
                                onChange: Ce,
                                placeholder: "Wager Multiplier",
                                className: "form-input"
                            })]
                        }), t.jsxs("div", {
                            className: "form-group",
                            children: [t.jsx("label", {
                                className: "form-label",
                                children: "Execution Type:"
                            }), t.jsxs("select", {
                                name: "executionType",
                                value: ge.executionType,
                                onChange: Ce,
                                className: "form-select",
                                children: [t.jsx("option", {
                                    value: "immediate",
                                    children: "Immediate"
                                }), t.jsx("option", {
                                    value: "scheduled",
                                    children: "Scheduled"
                                })]
                            })]
                        }), ge.executionType === "scheduled" && t.jsxs(t.Fragment, {
                            children: [t.jsxs("div", {
                                className: "form-group",
                                children: [t.jsx("label", {
                                    className: "form-label",
                                    children: "Execution Time (UTC):"
                                }), t.jsx("input", {
                                    type: "time",
                                    name: "executionTime",
                                    value: ge.executionTime,
                                    onChange: Ce,
                                    className: "form-input"
                                })]
                            }), t.jsxs("div", {
                                className: "form-checkbox",
                                children: [t.jsx("input", {
                                    type: "checkbox",
                                    id: "isRecurring",
                                    name: "isRecurring",
                                    checked: ge.isRecurring,
                                    onChange: Ce
                                }), t.jsx("label", {
                                    htmlFor: "isRecurring",
                                    children: "Recurring Schedule"
                                })]
                            }), ge.isRecurring && t.jsxs(t.Fragment, {
                                children: [t.jsxs("div", {
                                    className: "form-group",
                                    children: [t.jsx("label", {
                                        className: "form-label",
                                        children: "Frequency:"
                                    }), t.jsx("input", {
                                        type: "number",
                                        name: "frequency",
                                        value: ge.frequency,
                                        onChange: Ce,
                                        placeholder: "Frequency",
                                        className: "form-input"
                                    })]
                                }), t.jsxs("div", {
                                    className: "form-group",
                                    children: [t.jsx("label", {
                                        className: "form-label",
                                        children: "Time Unit:"
                                    }), t.jsxs("select", {
                                        name: "timeUnit",
                                        value: ge.timeUnit,
                                        onChange: Ce,
                                        className: "form-select",
                                        children: [t.jsx("option", {
                                            value: "minutes",
                                            children: "Minutes"
                                        }), t.jsx("option", {
                                            value: "hours",
                                            children: "Hours"
                                        }), t.jsx("option", {
                                            value: "days",
                                            children: "Days"
                                        }), t.jsx("option", {
                                            value: "weeks",
                                            children: "Weeks"
                                        })]
                                    })]
                                }), t.jsxs("div", {
                                    className: "form-group",
                                    children: [t.jsx("label", {
                                        className: "form-label",
                                        children: "Max Executions (0 = unlimited):"
                                    }), t.jsx("input", {
                                        type: "number",
                                        name: "maxExecutions",
                                        value: ge.maxExecutions,
                                        onChange: Ce,
                                        placeholder: "Max Executions",
                                        className: "form-input"
                                    })]
                                })]
                            })]
                        }), t.jsxs("div", {
                            className: "form-group",
                            children: [t.jsx("label", {
                                className: "form-label",
                                children: "Tag:"
                            }), t.jsx("select", {
                                name: "tag",
                                value: ge.tag,
                                onChange: Ce,
                                className: "form-select",
                                children: me.map(J => t.jsx("option", {
                                    value: J,
                                    children: J
                                }, J))
                            })]
                        }), t.jsxs("div", {
                            className: "form-group",
                            children: [t.jsx("label", {
                                className: "form-label",
                                children: "Max Conversion Amount (-1 = no limit):"
                            }), t.jsx("input", {
                                type: "number",
                                name: "maxConversionAmount",
                                value: ge.maxConversionAmount,
                                onChange: Ce,
                                placeholder: "Max Conversion Amount",
                                className: "form-input"
                            })]
                        }), t.jsxs("div", {
                            className: "form-group",
                            children: [t.jsx("label", {
                                className: "form-label",
                                children: "Max Conversion Percent:"
                            }), t.jsx("input", {
                                type: "number",
                                name: "maxConversionPercent",
                                value: ge.maxConversionPercent,
                                onChange: Ce,
                                placeholder: "Max Conversion Percent",
                                className: "form-input"
                            })]
                        }), ge.executionType === "scheduled" && t.jsxs("div", {
                            className: "form-checkbox",
                            children: [t.jsx("input", {
                                type: "checkbox",
                                id: "startImmediately",
                                name: "startImmediately",
                                checked: ge.startImmediately,
                                onChange: Ce
                            }), t.jsx("label", {
                                htmlFor: "startImmediately",
                                children: "Send first code immediately"
                            })]
                        }), t.jsx("button", {
                            onClick: tt,
                            className: "form-submit-btn",
                            children: "Create Schedule"
                        }), t.jsxs("div", {
                            className: "schedule-preview",
                            children: [t.jsx("p", {
                                className: "text-gray-400 text-xs text-center",
                                children: `Schedule: ${ge.bonusAmount} SOL to ${ge.targetPlayer||"player"} every ${ge.frequency} ${ge.timeUnit} at ${ge.executionTime} UTC${ge.maxExecutions>0?` (max ${ge.maxExecutions} times)`:""}`
                            }), (ge.maxConversionAmount !== -1 || ge.maxConversionPercent !== 100) && t.jsxs("p", {
                                className: "text-yellow-400 text-xs text-center mt-1",
                                children: ["With conversion limits:", ge.maxConversionAmount !== -1 ? ` ${ge.maxConversionAmount} SOL max` : "", ge.maxConversionAmount !== -1 && ge.maxConversionPercent !== 100 ? " or " : "", ge.maxConversionPercent !== 100 ? ` ${ge.maxConversionPercent}% of bonus` : ""]
                            }), t.jsx("p", {
                                className: "text-yellow-400 text-xs text-center mt-1",
                                children: ge.startImmediately ? "First code will be sent immediately, then on schedule" : `First code will be sent at ${ge.executionTime} UTC`
                            })]
                        })]
                    })]
                }), y && W && t.jsxs("div", {
                    className: "admin-form-section",
                    children: [t.jsx("h4", {
                        className: "admin-form-title",
                        children: "Send Player Message"
                    }), t.jsxs("div", {
                        className: "admin-form-grid",
                        children: [t.jsxs("div", {
                            className: "form-group",
                            children: [t.jsx("label", {
                                className: "form-label",
                                children: "Target Player ID:"
                            }), t.jsx("input", {
                                type: "text",
                                name: "targetPlayer",
                                value: je.targetPlayer,
                                onChange: _e,
                                placeholder: "Player ID",
                                className: "form-input"
                            })]
                        }), t.jsxs("div", {
                            className: "form-group",
                            children: [t.jsx("label", {
                                className: "form-label",
                                children: "Title:"
                            }), t.jsx("input", {
                                type: "text",
                                name: "title",
                                value: je.title,
                                onChange: _e,
                                placeholder: "Title",
                                className: "form-input"
                            })]
                        }), t.jsxs("div", {
                            className: "form-group",
                            children: [t.jsx("label", {
                                className: "form-label",
                                children: "Message Content:"
                            }), t.jsx("textarea", {
                                name: "message",
                                value: je.message,
                                onChange: _e,
                                placeholder: "Message Content",
                                className: "form-textarea"
                            })]
                        }), t.jsxs("div", {
                            className: "form-checkbox",
                            children: [t.jsx("input", {
                                type: "checkbox",
                                id: "includeBonus",
                                name: "includeBonus",
                                checked: je.includeBonus,
                                onChange: _e
                            }), t.jsx("label", {
                                htmlFor: "includeBonus",
                                children: "Include Bonus Code"
                            })]
                        }), je.includeBonus && t.jsxs("div", {
                            className: "bonus-section",
                            children: [t.jsxs("div", {
                                className: "form-group",
                                children: [t.jsx("label", {
                                    className: "form-label",
                                    children: "SOL Amount:"
                                }), t.jsx("input", {
                                    type: "number",
                                    name: "bonusAmount",
                                    value: je.bonusAmount,
                                    onChange: _e,
                                    placeholder: "Bonus Amount",
                                    className: "form-input"
                                })]
                            }), t.jsxs("div", {
                                className: "form-group",
                                children: [t.jsx("label", {
                                    className: "form-label",
                                    children: "Wager Requirement:"
                                }), t.jsx("input", {
                                    type: "number",
                                    name: "bonusWagerMultiReq",
                                    value: je.bonusWagerMultiReq,
                                    onChange: _e,
                                    placeholder: "Wager Multiplier",
                                    className: "form-input"
                                })]
                            }), t.jsxs("div", {
                                className: "form-group",
                                children: [t.jsx("label", {
                                    className: "form-label",
                                    children: "Tag:"
                                }), t.jsx("select", {
                                    name: "tag",
                                    value: je.tag,
                                    onChange: _e,
                                    className: "form-select",
                                    children: me.map(J => t.jsx("option", {
                                        value: J,
                                        children: J
                                    }, J))
                                })]
                            }), t.jsxs("div", {
                                className: "form-group",
                                children: [t.jsx("label", {
                                    className: "form-label",
                                    children: "Max Conversion Amount (-1 = no limit):"
                                }), t.jsx("input", {
                                    type: "number",
                                    name: "maxConversionAmount",
                                    value: je.maxConversionAmount,
                                    onChange: _e,
                                    placeholder: "Max Conversion Amount",
                                    className: "form-input"
                                })]
                            }), t.jsxs("div", {
                                className: "form-group",
                                children: [t.jsx("label", {
                                    className: "form-label",
                                    children: "Max Conversion Percent:"
                                }), t.jsx("input", {
                                    type: "number",
                                    name: "maxConversionPercent",
                                    value: je.maxConversionPercent,
                                    onChange: _e,
                                    placeholder: "Max Conversion Percent",
                                    className: "form-input"
                                })]
                            })]
                        }), t.jsx("button", {
                            onClick: dt,
                            disabled: G,
                            className: "form-submit-btn",
                            children: "Send Message"
                        })]
                    })]
                }), y && Z && t.jsxs("div", {
                    className: "admin-form-section",
                    children: [t.jsx("h4", {
                        className: "admin-form-title",
                        children: "All Active Schedules"
                    }), L ? t.jsx("div", {
                        className: "inbox-loading",
                        children: "Loading schedules..."
                    }) : Y ? t.jsxs("div", {
                        className: "inbox-error",
                        children: ["Error: ", Y]
                    }) : E.length > 0 ? t.jsx("div", {
                        className: "schedules-list",
                        children: E.map(J => t.jsxs("div", {
                            className: "schedule-item",
                            children: [t.jsxs("div", {
                                className: "schedule-header",
                                children: [t.jsx("h5", {
                                    children: J.name
                                }), t.jsx("button", {
                                    onClick: () => oe(J.id),
                                    className: "cancel-btn",
                                    title: "Cancel Schedule",
                                    children: t.jsx(Lr, {})
                                })]
                            }), t.jsxs("div", {
                                className: "schedule-details",
                                children: [t.jsxs("p", {
                                    children: [t.jsx("strong", {
                                        children: "Amount:"
                                    }), " ", J.bonusAmount, " SOL"]
                                }), t.jsxs("p", {
                                    children: [t.jsx("strong", {
                                        children: "Wager Req:"
                                    }), " ", J.wagerRequirement, "x"]
                                }), t.jsxs("p", {
                                    children: [t.jsx("strong", {
                                        children: "Target:"
                                    }), " ", J.targetPlayerId]
                                }), t.jsxs("p", {
                                    children: [t.jsx("strong", {
                                        children: "Next Execution:"
                                    }), " ", Nt(new Date(J.executeAt).getTime())]
                                }), t.jsxs("p", {
                                    children: [t.jsx("strong", {
                                        children: "Status:"
                                    }), " ", J.active ? "Active" : "Inactive"]
                                }), J.executionCount !== void 0 && t.jsxs("p", {
                                    children: [t.jsx("strong", {
                                        children: "Executions:"
                                    }), " ", J.executionCount, "/", J.maxExecutions || "∞"]
                                }), J.tag && t.jsxs("p", {
                                    children: [t.jsx("strong", {
                                        children: "Tag:"
                                    }), " ", J.tag]
                                })]
                            })]
                        }, J.id))
                    }) : t.jsx("div", {
                        className: "inbox-empty",
                        children: "No active schedules found."
                    })]
                }), t.jsx("div", {
                    className: "inbox-messages",
                    children: S.length > 0 ? S.map(J => t.jsxs("div", {
                        className: `inbox-message ${J.read?"":"unread"}`,
                        onClick: () => qe(J.id, J.title),
                        children: [t.jsxs("div", {
                            className: "message-main",
                            children: [t.jsxs("div", {
                                className: "message-header",
                                children: [t.jsx("h3", {
                                    className: "message-title",
                                    children: J.title
                                }), t.jsx("div", {
                                    className: "message-time muted",
                                    children: t.jsx("span", {
                                        children: J.timestamp ? Nt(J.timestamp) : "No date"
                                    })
                                }), !J.read && t.jsx("button", {
                                    onClick: ze => {
                                        ze.stopPropagation(), be(J.id)
                                    },
                                    className: "mark-read-btn",
                                    title: "Mark as read",
                                    children: t.jsx(Cl, {})
                                }), (!J.bonusCode || J.claimed) && t.jsx("button", {
                                    onClick: ze => {
                                        ze.stopPropagation(), Pe(J.id)
                                    },
                                    className: "delete-btn",
                                    title: "Delete message",
                                    children: t.jsx(o0, {})
                                })]
                            }), t.jsx("div", {
                                className: "message-content",
                                children: t.jsx("p", {
                                    children: J.content
                                })
                            }), _.success && k === J.id && t.jsxs("div", {
                                className: "promo-feedback success",
                                children: ["✓ ", _.success]
                            }), _.error && k === J.id && t.jsxs("div", {
                                className: "promo-feedback error",
                                children: ["✗ ", _.error]
                            }), J.claimed && t.jsx("div", {
                                className: "claimed-status",
                                children: "✓ Bonus claimed"
                            }), J.bonusCode && t.jsx("div", {
                                className: "bonus-code-section compact",
                                children: t.jsxs("div", {
                                    className: "bonus-code-compact-container",
                                    children: [J.bonusAmount && t.jsxs("span", {
                                        className: "bonus-code-label",
                                        children: [J.bonusAmount, " SOL"]
                                    }), t.jsxs("div", {
                                        className: "bonus-code-with-copy fill-width",
                                        children: [t.jsx("span", {
                                            className: "bonus-code-text",
                                            children: J.bonusCode
                                        }), t.jsx("button", {
                                            onClick: ze => {
                                                ze.stopPropagation(), navigator.clipboard.writeText(J.bonusCode)
                                            },
                                            className: "copy-code-btn compact",
                                            title: "Copy code",
                                            children: t.jsx(Cd, {})
                                        })]
                                    }), !J.claimed && t.jsx("button", {
                                        onClick: ze => {
                                            ze.stopPropagation(), Ae(J.bonusCode, J.id)
                                        },
                                        className: "claim-btn compact green",
                                        disabled: _.isLoading,
                                        children: _.isLoading ? "Claiming..." : "Claim"
                                    })]
                                })
                            })]
                        }), t.jsx("div", {
                            className: "message-actions"
                        })]
                    }, J.id)) : t.jsx("div", {
                        className: "inbox-empty",
                        children: t.jsxs("div", {
                            className: "empty-state",
                            children: [t.jsx(d2, {
                                size: 48
                            }), t.jsx("h3", {
                                children: "No Messages"
                            }), t.jsx("p", {
                                children: "Your inbox is empty. Check back later for new messages!"
                            })]
                        })
                    })
                }), ne.visible && t.jsx("div", {
                    className: "mobile-confirmation-backdrop",
                    children: t.jsxs("div", {
                        className: "mobile-confirmation-dialog",
                        children: [t.jsx("div", {
                            className: "mobile-confirmation-header",
                            children: t.jsx("h3", {
                                children: ne.action === "markRead" ? "Mark as Read" : "Delete"
                            })
                        }), t.jsx("div", {
                            className: "mobile-confirmation-content",
                            children: t.jsx("p", {
                                children: ne.action === "markRead" ? `Mark "${ne.messageTitle}" as read?` : `Delete "${ne.messageTitle}"?`
                            })
                        }), t.jsxs("div", {
                            className: "mobile-confirmation-actions",
                            children: [t.jsx("button", {
                                className: "mobile-confirmation-cancel",
                                onClick: Re,
                                children: "Cancel"
                            }), t.jsx("button", {
                                className: "mobile-confirmation-confirm",
                                onClick: le,
                                children: ne.action === "markRead" ? t.jsxs(t.Fragment, {
                                    children: [t.jsx(Cl, {}), " Mark as Read"]
                                }) : t.jsxs(t.Fragment, {
                                    children: [t.jsx(o0, {}), " Delete"]
                                })
                            })]
                        })]
                    })
                })]
            })
        })
    },
    iT = /(ipad|tablet|(android(?!.*mobile))|(windows(?!.*phone)(.*touch))|kindle|playbook|silk|(puffin(?!.*(IP|AP|WP))))/;

function aT() {
    const [e, s] = m.useState();
    return m.useEffect(() => {
        const a = () => {
            const r = navigator.userAgent.toLowerCase(),
                l = iT.test(r);
            s(l)
        };
        return a(), window.addEventListener("resize", a, !0), () => window.removeEventListener("resize", a, !0)
    }, []), e
}

function Cy() {
    const e = Nr(),
        s = Fs(e.breakpoints.down("sm")),
        a = Fs(e.breakpoints.up("sm")),
        r = Fs(e.breakpoints.up("md")),
        l = Fs(e.breakpoints.up("lg")),
        d = aT();
    switch (!0) {
        case s:
            return "xs";
        case d:
            return "tablet";
        case l:
            return "lg";
        case r:
            return "md";
        case a:
            return "sm";
        default:
            return "md"
    }
}

function rT({
    itemGap: e = 16,
    itemsPerPage: s,
    maxContainerWidth: a = 960,
    defaultItemWidthMobile: r = 230,
    defaultContainerPaddingMobile: l = 16,
    defaultTotalPadding: d = 48,
    defaultTotalPaddingMobile: u = 24
}) {
    const h = Cy(),
        [f, p] = m.useState(0),
        [y, x] = m.useState(293),
        [S, v] = m.useState(),
        C = s[h],
        w = m.useCallback(k => () => {
            p(D => k === "prev" ? D - 1 : D + 1)
        }, []),
        j = m.useCallback(() => {
            if (h === "xs") return x(r), r;
            const {
                clientWidth: k
            } = window.document.documentElement, D = d;
            let E = k - D;
            a && k > a && (E = a - D);
            const P = (E - (C - 1) * e) / C;
            return x(P), P
        }, [h, C, e, r, d, u]),
        A = m.useCallback(k => {
            const {
                clientWidth: D
            } = window.document.documentElement;
            if (h === "xs") {
                v(D - l);
                return
            }
            v(k * C + e * (C - 1))
        }, [h, C, e, l]),
        _ = m.useCallback(() => {
            const k = j();
            k && A(k)
        }, [j, A]);
    return m.useEffect(() => (_(), window.addEventListener("resize", _), () => window.removeEventListener("resize", _)), [h]), {
        currentItemIndex: f,
        itemWidth: y,
        maxWidth: S,
        switchSlide: w,
        updateCurrentItemIndex: p
    }
}
const qh = ({
    sx: e,
    children: s
}) => t.jsx(Je, {
    elevation: 0,
    sx: e,
    children: s
});

function oT({
    title: e,
    items: s,
    itemGap: a = 16,
    itemsPerPage: r = {
        xs: 2,
        sm: 3,
        tablet: 3,
        md: 4,
        lg: 5,
        xl: 6
    },
    itemRenderer: l,
    itemKeyer: d,
    customPrevButton: u,
    customNextButton: h,
    ...f
}) {
    const p = Cy(),
        {
            currentItemIndex: y,
            itemWidth: x,
            maxWidth: S,
            switchSlide: v
        } = rT({
            itemGap: a,
            itemsPerPage: r,
            ...f
        }),
        C = p === "xs",
        w = r[p],
        j = y < s.length - w,
        A = y > 0;
    return t.jsxs(qh, {
        sx: {
            position: "relative",
            maxWidth: S
        },
        children: [t.jsxs(Yn, {
            direction: "row",
            justifyContent: "space-between",
            alignItems: "center",
            mb: 1,
            children: [t.jsx($, {
                variant: "h6",
                children: e
            }), t.jsxs(Yn, {
                direction: "row",
                justifyContent: "end",
                alignItems: "center",
                children: [t.jsx(Rt, {
                    sx: {
                        left: -17
                    },
                    onClick: v("prev"),
                    disabled: !A,
                    children: t.jsx(iy, {})
                }), t.jsx(Rt, {
                    sx: {
                        right: -17
                    },
                    onClick: v("next"),
                    disabled: !j,
                    children: t.jsx(ay, {})
                })]
            })]
        }), t.jsx(qh, {
            sx: {
                overflow: C ? "auto" : "hidden",
                maxWidth: "100%",
                msOverflowStyle: "none",
                scrollbarWidth: "none",
                "&::-webkit-scrollbar": {
                    display: "none"
                }
            },
            children: t.jsx(qh, {
                sx: {
                    width: s.length * x + (s.length - 1) * a,
                    display: "grid",
                    gridAutoFlow: "column",
                    gridColumnGap: a,
                    position: "relative",
                    left: `-${y*x+y*a}px`,
                    transition: "left 200ms ease-in-out"
                },
                children: s.map(_ => t.jsx(T, {
                    width: x,
                    children: l(_)
                }, d(_)))
            })
        })]
    })
}

function u0(e) {
    switch (e) {
        case "24h":
            return "1d";
        case "weekly":
            return "7d";
        case "monthly":
            return "30d";
        default:
            return "1d"
    }
}

function lT() {
    const e = bt(),
        s = oi(),
        a = m.useCallback(l => {
            e(bl.fetchRequest()), s.emit("getLeaderboard", {
                period: u0(l)
            })
        }, [s, e]),
        r = m.useCallback((l, d) => {
            s.emit("getPlayerLeaderboardPosition", {
                playerId: l,
                period: u0(d)
            })
        }, [s]);
    return m.useMemo(() => ({
        fetchLeaderboard: a,
        getPlayerLeaderboardPosition: r
    }), [a, r])
}
const cT = [{
        period: "24h",
        label: "24 Hours"
    }, {
        period: "weekly",
        label: "7 Days"
    }, {
        period: "monthly",
        label: "30 Days"
    }],
    wy = () => {
        const e = bt(),
            s = lT(),
            [, a] = m.useState(new Date),
            [r, l] = m.useState(() => {
                const L = new Date,
                    F = new Date;
                return F.setUTCDate(L.getUTCDate() + 1), F.setUTCHours(0, 0, 0, 0), F
            }),
            {
                byPeriod: d,
                selectedPeriod: u,
                isLoading: h,
                error: f,
                currentUserPosition: p
            } = Se(L => L.leaderboard),
            y = Se(Ge.selectCurrent),
            x = (y == null ? void 0 : y.role) === "admin",
            [S, v] = m.useState(!1),
            C = m.useRef({}),
            w = m.useMemo(() => d[u] || [], [d, u]),
            j = w && w.length > 0,
            A = h && !j,
            _ = m.useCallback((L, F = !1) => {
                const Y = Date.now(),
                    H = `leaderboard_${L}`,
                    K = C.current[H] || 0,
                    z = Y - K;
                if (!F && z < 5e3) {
                    console.log(`Leaderboard request throttled for ${L}. Last request was ${z}ms ago.`);
                    return
                }
                C.current[H] = Y, s.fetchLeaderboard(L)
            }, [s]),
            k = m.useCallback((L, F, Y = !1) => {
                const H = Date.now(),
                    K = `position_${L}_${F}`,
                    z = C.current[K] || 0,
                    U = H - z;
                if (!Y && U < 5e3) {
                    console.log(`User position request throttled for ${L} in ${F}. Last request was ${U}ms ago.`);
                    return
                }
                C.current[K] = H, s.getPlayerLeaderboardPosition(L, F)
            }, [s]);
        m.useEffect(() => {
            if (u !== "24h") return;
            const L = setInterval(() => {
                a(new Date)
            }, 1e3);
            return () => clearInterval(L)
        }, [u]), m.useEffect(() => {
            u && _(u)
        }, [u, _]), m.useEffect(() => {
            y != null && y.id && u && k(y.id, u)
        }, [y == null ? void 0 : y.id, u, k]);
        const D = m.useCallback(L => {
                e(bl.setPeriod(L))
            }, [e]),
            E = m.useCallback(() => {
                u && _(u, !0), y != null && y.id && u && k(y.id, u, !0)
            }, [u, y == null ? void 0 : y.id, _, k]),
            P = m.useCallback(() => {
                if (!w || w.length === 0) return [];
                let L = w;
                return (u === "weekly" || u === "monthly") && (L = w.filter(F => F.totalPnl > 0)), S ? [...L].reverse() : L
            }, [w, u, S]),
            I = m.useMemo(() => P(), [P]);
        m.useEffect(() => {
            if (!h) return;
            const L = setTimeout(() => {
                e(bl[ka.FETCH_LEADERBOARD_FAILURE]({
                    error: "Connection timeout - please refresh the page"
                }))
            }, 15e3);
            return () => clearTimeout(L)
        }, [h, e]);
        const B = m.useCallback(() => {
                const L = new Date,
                    F = r.getTime() - L.getTime();
                if (F <= 0) {
                    const z = new Date;
                    return z.setUTCDate(L.getUTCDate() + 1), z.setUTCHours(0, 0, 0, 0), l(z), {
                        hours: "24",
                        minutes: "00",
                        seconds: "00"
                    }
                }
                const Y = Math.floor(F / (1e3 * 60 * 60)),
                    H = Math.floor(F % (1e3 * 60 * 60) / (1e3 * 60)),
                    K = Math.floor(F % (1e3 * 60) / 1e3);
                return {
                    hours: Y.toString().padStart(2, "0"),
                    minutes: H.toString().padStart(2, "0"),
                    seconds: K.toString().padStart(2, "0")
                }
            }, [r]),
            X = m.useCallback(() => {
                const L = new Date,
                    F = r.getTime() - L.getTime();
                return Math.floor(F / (1e3 * 60)) <= 30
            }, [r]),
            O = m.useCallback(() => {
                const L = new Date,
                    F = r.getTime() - L.getTime(),
                    Y = Math.floor(F / (1e3 * 60 * 60)),
                    H = Math.floor(F % (1e3 * 60 * 60) / (1e3 * 60));
                return Y >= 23 && H >= 50
            }, [r]);
        return A ? t.jsx(T, {
            className: "leaderboard-container",
            children: t.jsx("div", {
                className: "loading-spinner-container",
                children: t.jsx("div", {
                    className: "loading-spinner"
                })
            })
        }) : f && !j ? t.jsx(T, {
            className: "leaderboard-container",
            children: t.jsxs("div", {
                className: "leaderboard-message error-message",
                children: ["Error: ", f]
            })
        }) : t.jsxs(T, {
            className: "leaderboard-new-container",
            children: [t.jsxs("div", {
                className: "leaderboard-header",
                children: [t.jsx("div", {
                    className: "leaderboard-title-section",
                    children: t.jsxs("div", {
                        className: "leaderboard-title-with-icon",
                        children: [t.jsx("h1", {
                            className: "leaderboard-title",
                            children: "LEADERBOARD"
                        }), t.jsx("div", {
                            className: "leaderboard-date",
                            children: new Date().toLocaleDateString("en-US", {
                                month: "short",
                                day: "numeric",
                                year: "numeric"
                            })
                        }), t.jsxs("div", {
                            className: "info-icon",
                            children: [t.jsxs("svg", {
                                width: "16",
                                height: "16",
                                viewBox: "0 0 16 16",
                                fill: "none",
                                children: [t.jsx("circle", {
                                    cx: "8",
                                    cy: "8",
                                    r: "7",
                                    stroke: "#888",
                                    strokeWidth: "1"
                                }), t.jsx("path", {
                                    d: "M8 12V8M8 4V4.5",
                                    stroke: "#888",
                                    strokeWidth: "1",
                                    strokeLinecap: "round"
                                })]
                            }), t.jsx("div", {
                                className: "info-tooltip",
                                children: "Updates every 5 minutes"
                            })]
                        }), t.jsx("button", {
                            onClick: E,
                            className: "refresh-button",
                            disabled: h,
                            title: "Refresh leaderboard data",
                            children: t.jsx("svg", {
                                width: "16",
                                height: "16",
                                viewBox: "0 0 16 16",
                                fill: "none",
                                className: h ? "spinning" : "",
                                children: t.jsx("path", {
                                    d: "M13.65 2.35a8 8 0 1 0 0 11.3M8 0v4m0 8v4m-4-8H0m12 0h4",
                                    stroke: "currentColor",
                                    strokeWidth: "1.5",
                                    strokeLinecap: "round"
                                })
                            })
                        })]
                    })
                }), t.jsxs("div", {
                    className: "time-period-filter",
                    children: [t.jsx("div", {
                        className: "time-period-buttons",
                        children: cT.map(({
                            period: L,
                            label: F
                        }) => t.jsx("button", {
                            className: `time-period-button ${u===L?"active":""}`,
                            onClick: () => D(L),
                            children: F
                        }, L))
                    }), x && t.jsx("button", {
                        onClick: () => v(!S),
                        className: `admin-reverse-btn ${S?"active":""}`,
                        title: S ? "Sort by highest PnL first" : "Sort by lowest PnL first",
                        children: S ? "↑" : "↓"
                    })]
                })]
            }), u === "24h" && t.jsx("div", {
                className: "timer-container",
                children: t.jsx("div", {
                    className: `leaderboard-time ${X()?"critical":O()?"fresh":""}`,
                    children: (() => {
                        const L = B();
                        return t.jsxs("div", {
                            className: "time-segments",
                            children: [t.jsxs("div", {
                                className: "time-segment",
                                children: [t.jsx("div", {
                                    className: "time-value",
                                    children: L.hours
                                }), t.jsx("div", {
                                    className: "time-label",
                                    children: "H"
                                })]
                            }), t.jsxs("div", {
                                className: "time-segment",
                                children: [t.jsx("div", {
                                    className: "time-value",
                                    children: L.minutes
                                }), t.jsx("div", {
                                    className: "time-label",
                                    children: "M"
                                })]
                            }), t.jsxs("div", {
                                className: "time-segment",
                                children: [t.jsx("div", {
                                    className: "time-value",
                                    children: L.seconds
                                }), t.jsx("div", {
                                    className: "time-label",
                                    children: "S"
                                })]
                            })]
                        })
                    })()
                })
            }), t.jsxs("div", {
                className: "leaderboard-content",
                children: [t.jsx("div", {
                    className: "podium-with-arrow",
                    children: t.jsx("div", {
                        className: `podium-container ${u==="weekly"||u==="monthly"?"extended-padding":""}`,
                        children: (() => {
                            const L = I.slice(0, 3);
                            return [1, 0, 2].map(Y => {
                                const H = Y + 1,
                                    K = H === 1 ? "first-place" : H === 2 ? "second-place" : "third-place";
                                if (!L[Y]) return t.jsxs("div", {
                                    className: `podium-card ${K} placeholder`,
                                    children: [t.jsx("div", {
                                        className: "podium-position",
                                        children: H === 1 ? "1st Place" : H === 2 ? "2nd Place" : "3rd Place"
                                    }), t.jsx("div", {
                                        className: "podium-pnl placeholder-pnl",
                                        children: t.jsx("span", {
                                            className: "placeholder-text",
                                            children: "-"
                                        })
                                    }), t.jsx("div", {
                                        className: "podium-label",
                                        children: "PnL"
                                    }), t.jsxs("div", {
                                        className: "podium-player",
                                        children: [t.jsx("div", {
                                            className: "player-level placeholder-level",
                                            children: t.jsx("div", {
                                                className: "placeholder-badge"
                                            })
                                        }), t.jsx("div", {
                                            className: "player-name placeholder-name",
                                            children: "No Player"
                                        })]
                                    })]
                                }, `placeholder-${H}`);
                                const z = L[Y];
                                return t.jsxs("div", {
                                    className: `podium-card ${K}`,
                                    children: [t.jsx("div", {
                                        className: "podium-position",
                                        children: H === 1 ? "1st Place" : H === 2 ? "2nd Place" : "3rd Place"
                                    }), t.jsxs("div", {
                                        className: "podium-pnl",
                                        children: [t.jsx("img", {
                                            src: "/icons/Icon_Solana_Transparent.png",
                                            alt: "SOL",
                                            className: "sol-icon"
                                        }), Math.abs(parseFloat(z.totalPnl.toString())).toFixed(2)]
                                    }), t.jsx("div", {
                                        className: "podium-label",
                                        children: "PnL"
                                    }), t.jsxs("div", {
                                        className: "podium-player",
                                        children: [t.jsx("div", {
                                            className: "player-level",
                                            children: t.jsx(ds, {
                                                level: z.level || 1,
                                                size: "small",
                                                badgeOnly: !0,
                                                leaderboard: !0
                                            })
                                        }), t.jsx("div", {
                                            className: "player-name",
                                            children: z.username || "Anon"
                                        })]
                                    })]
                                }, z.playerId)
                            })
                        })()
                    })
                }), t.jsx("div", {
                    className: "leaderboard-table-container",
                    children: t.jsxs("table", {
                        className: "leaderboard-table",
                        children: [t.jsx("thead", {
                            children: t.jsxs("tr", {
                                children: [t.jsx("th", {
                                    children: "Rank"
                                }), t.jsx("th", {
                                    children: "Player"
                                }), t.jsx("th", {
                                    children: "PnL"
                                })]
                            })
                        }), t.jsx("tbody", {
                            children: (() => {
                                var Y, H, K, z, U, V, W;
                                const L = I.slice(3, 20),
                                    F = p && p.rank > 20 && (y == null ? void 0 : y.id) && !I.find(q => q.playerId === y.id) && !(u === "monthly" && ((Y = p.playerEntry) == null ? void 0 : Y.pnl) < 0);
                                return t.jsxs(t.Fragment, {
                                    children: [L.length > 0 ? L.map((q, Z) => {
                                        const se = Z + 4,
                                            G = (y == null ? void 0 : y.id) && q.playerId === (y == null ? void 0 : y.id);
                                        return t.jsxs("tr", {
                                            className: G ? "current-user" : "",
                                            children: [t.jsxs("td", {
                                                children: ["#", se]
                                            }), t.jsx("td", {
                                                children: t.jsxs("div", {
                                                    className: "player-info",
                                                    children: [t.jsx("div", {
                                                        className: "player-level-badge",
                                                        children: t.jsx(ds, {
                                                            level: q.level || 1,
                                                            size: "small",
                                                            badgeOnly: !0,
                                                            leaderboard: !0
                                                        })
                                                    }), t.jsx("span", {
                                                        className: "player-name",
                                                        children: q.username || "Anon"
                                                    })]
                                                })
                                            }), t.jsx("td", {
                                                children: t.jsxs("div", {
                                                    className: "pnl-display",
                                                    children: [t.jsx("img", {
                                                        src: "/icons/Icon_Solana_Transparent.png",
                                                        alt: "SOL",
                                                        className: "sol-icon"
                                                    }), t.jsxs("span", {
                                                        className: q.totalPnl >= 0 ? "positive" : "negative",
                                                        children: [q.totalPnl >= 0 ? "+" : "", parseFloat(q.totalPnl.toString()).toFixed(3)]
                                                    })]
                                                })
                                            })]
                                        }, q.playerId)
                                    }) : t.jsx("tr", {
                                        className: "no-player-row",
                                        children: t.jsx("td", {
                                            colSpan: 3,
                                            children: "No Player"
                                        })
                                    }), F && p && t.jsxs("tr", {
                                        className: "current-user current-user-bottom",
                                        children: [t.jsxs("td", {
                                            children: ["#", p.rank]
                                        }), t.jsx("td", {
                                            children: t.jsxs("div", {
                                                className: "player-info",
                                                children: [t.jsx("div", {
                                                    className: "player-level-badge",
                                                    children: t.jsx(ds, {
                                                        level: ((H = y == null ? void 0 : y.levelInfo) == null ? void 0 : H.level) || 1,
                                                        size: "small",
                                                        badgeOnly: !0,
                                                        leaderboard: !0
                                                    })
                                                }), t.jsx("span", {
                                                    className: "player-name",
                                                    children: ((K = p.playerEntry) == null ? void 0 : K.username) || (y == null ? void 0 : y.username) || "You"
                                                })]
                                            })
                                        }), t.jsx("td", {
                                            children: t.jsxs("div", {
                                                className: "pnl-display",
                                                children: [t.jsx("img", {
                                                    src: "/icons/Icon_Solana_Transparent.png",
                                                    alt: "SOL",
                                                    className: "sol-icon"
                                                }), t.jsxs("span", {
                                                    className: ((z = p.playerEntry) == null ? void 0 : z.pnl) >= 0 ? "positive" : "negative",
                                                    children: [((U = p.playerEntry) == null ? void 0 : U.pnl) >= 0 ? "+" : "", parseFloat(((W = (V = p.playerEntry) == null ? void 0 : V.pnl) == null ? void 0 : W.toString()) || "0").toFixed(3)]
                                                })]
                                            })
                                        })]
                                    })]
                                })
                            })()
                        })]
                    })
                })]
            })]
        })
    };

function wd(e) {
    return e === "sol" ? "solana" : e
}

function Td(e) {
    return Es[wd(e)] ? ? Es.free
}

function dT(e) {
    return Object.values(Es).find(s => s.address === e) ? ? Es.free
}
const Es = {
    free: {
        displayName: "Free",
        shortName: "Free",
        slug: "free",
        image: "/coins/free.png",
        address: "0xPractice"
    },
    solana: {
        displayName: "Solana",
        shortName: "SOL",
        slug: "solana",
        image: "/coins/solana.png",
        address: "So11111111111111111111111111111111111111112"
    }
};

function Mr(...e) {
    const s = [...new Set(e.filter(a => a !== void 0).flatMap(a => a.trim().split(" ")).filter(a => a !== ""))];
    if (s.length !== 0) return s.join(" ")
}
const Sa = class Sa {
    constructor() {
        R(this, "imageRequests");
        R(this, "imagePromises");
        R(this, "queue");
        R(this, "renderer");
        R(this, "running");
        R(this, "renderedImages", 0);
        this.imageRequests = new Map, this.imagePromises = new Map, this.queue = [], this.running = !1, this.renderer = null, this.renderedImages = 0, Ye()
    }
    static getInstance() {
        return Sa.instance || (Sa.instance = new Sa), Sa.instance
    }
    async setup() {
        this.renderer || (this.renderer = await O0({
            antialias: !0,
            backgroundAlpha: 0,
            autoDensity: !0,
            preference: "webgl",
            resolution: 4
        }))
    }
    async run() {
        if (this.running) return;
        this.running = !0, await this.setup();
        const s = performance.now();
        this.queue.length, this.renderedImages;
        const a = [];
        for (; this.queue.length > 0;) {
            const r = this.queue.shift();
            if (r === void 0) break;
            if (!this.imageRequests.has(r)) continue;
            const l = this.imageRequests.get(r),
                d = new Promise(async (u, h) => {
                    try {
                        const f = await this.renderImageRequest(l);
                        if (this.renderedImages++, !l.ref.current) {
                            u();
                            return
                        }
                        l.ref.current.src = f, u()
                    } catch (f) {
                        Ye(`[ImageRenderer] Error rendering image: ${f instanceof Error?f.message:String(f)}`), u()
                    }
                });
            this.imagePromises.set(r, d.then(() => "")), a.push(d)
        }
        await Promise.all(a), performance.now() - s, this.imagePromises.clear(), this.running = !1
    }
    async renderImageRequest({
        builder: s,
        data: a,
        resizeTo: r,
        width: l,
        height: d
    }) {
        var x, S;
        const u = s.build(),
            h = l ? ? ((x = r.current) == null ? void 0 : x.clientWidth) ? ? 0,
            f = d ? ? ((S = r.current) == null ? void 0 : S.clientHeight) ? ? 0;
        u.setup(a, {
            width: h,
            height: f
        });
        const p = await this.renderToImage(u),
            y = p.src;
        return u.destroy(), p.remove(), y
    }
    async renderToImage(s) {
        if (!this.renderer) throw new Error("Renderer is not set");
        if (!s.stage) throw new Error("Stage is not set");
        return this.renderer.resize(s.layout.width, s.layout.height), await this.renderer.extract.image({
            target: s.stage,
            format: "png",
            width: s.layout.width,
            height: s.layout.height,
            resolution: 4,
            antialias: !0,
            frame: new ai(0, 0, s.layout.width, s.layout.height)
        })
    }
    async renderToDownload(s, a) {
        if (!this.renderer) throw new Error("Renderer is not set");
        if (!s.stage) throw new Error("Stage is not set");
        return await this.renderer.extract.download({
            target: s.stage,
            filename: a,
            width: s.layout.width,
            height: s.layout.height,
            resolution: 4,
            antialias: !0,
            frame: new ai(0, 0, s.layout.width, s.layout.height)
        })
    }
    requestImage(s) {
        const a = `${Date.now()}-${Math.random().toString(36).substring(2,15)}`;
        return this.imageRequests.set(a, s), this.queue.push(a), this.run(), () => {
            this.imageRequests.delete(a)
        }
    }
};
R(Sa, "instance", null);
let hd = Sa;

function jd(e) {
    const s = m.useRef(null),
        a = m.useRef(null),
        r = m.useRef(() => {}),
        l = Se(Pf.selectNonce),
        d = m.useCallback(() => {
            var u;
            (u = r.current) == null || u.call(r), r.current = hd.getInstance().requestImage({
                ref: s,
                data: e.data,
                builder: e.builder,
                resizeTo: e.resizeTo,
                width: e.width,
                height: e.height
            })
        }, [r, e.width, e.height]);
    return m.useEffect(() => {
        if (e.resizeTo.current && !e.width && !e.height) return a.current = new ResizeObserver(() => {
            d()
        }), a.current.observe(e.resizeTo.current), () => {
            var u;
            (u = a.current) == null || u.disconnect()
        }
    }, [e.resizeTo, e.width, e.height, d]), m.useEffect(() => (d(), () => {
        r.current()
    }), [l]), s
}

function Ra(e, {
    min: s,
    max: a
}) {
    return (e - s) / (a - s)
}

function wl({
    min: e,
    max: s,
    sticky: a = !0
}) {
    let r = a ? Math.min(.5, e * .9) : Math.max(0, e * .9),
        l = a ? Math.max(2, s * 1.1) : s * 1.1;
    if (l - r < .1) {
        const d = (r + l) / 2;
        r = Math.max(0, d - .1), l = d + .1
    }
    return {
        min: r,
        max: l
    }
}

function Ty(e, s) {
    const r = (s - e) / 5,
        l = Math.floor(Math.log10(r)),
        d = r / Math.pow(10, l);
    let u;
    return d < 1.5 ? u = 1 : d < 3 ? u = 2 : d < 7 ? u = 5 : u = 10, u * Math.pow(10, l)
}

function ri(e, s = 30, a = 5) {
    if (e.length < 1) return [];
    const r = Math.ceil(e.length / a),
        l = Math.ceil(r / s),
        d = Math.ceil(e.length / (l * a)),
        u = [];
    for (let h = 0; h < d; h++) u.push({
        startTick: h * l * a,
        endTick: (h + 1) * l * a,
        ...uT(e.slice(h * l * a, (h + 1) * l * a + 1))
    });
    return u
}

function uT(e) {
    return {
        open: e[0],
        close: e[e.length - 1],
        high: Math.max(...e),
        low: Math.min(...e)
    }
}

function hT({
    min: e,
    max: s,
    candleCount: a = 16
}) {
    const r = a <= 6 ? .005 : .02;
    let l = e * (1 - r),
        d = s * (1 + r);
    const u = a <= 6 ? .008 : .02;
    if (d - l < u) {
        const h = (l + d) / 2;
        l = h - u / 2, d = h + u / 2
    }
    return {
        min: Math.max(0, l),
        max: d
    }
}

function fT(e, s) {
    if (!e || e.length === 0) return {
        min: 1,
        max: 1,
        current: 1
    };
    const a = Math.min(...e),
        r = Math.max(...e),
        l = e[e.length - 1];
    return { ...hT({
            min: a,
            max: r,
            candleCount: s
        }),
        priceMin: a,
        priceMax: r,
        current: l
    }
}
const fd = 56,
    jy = (e, s = !0) => {
        if (!e) return {
            min: 1,
            max: 1,
            current: 1
        };
        const a = {
            min: e.length > 0 ? Math.min(...e) : 1,
            max: e.length > 0 ? Math.max(...e) : 1,
            current: e.length > 0 ? e[e.length - 1] : 1
        };
        return { ...wl({ ...a,
                sticky: s
            }),
            priceMin: a.min,
            priceMax: a.max,
            current: a.current
        }
    };

function pT(e) {
    return jy(e.map(s => s.price))
}
const ky = e => e >= 1024 ? 16 : e >= 768 ? 12 : 8,
    Ey = e => e >= 1440 ? 24 : e >= 1366 ? 16 : e >= 1024 ? 14 : e >= 768 ? 10 : 5,
    gT = e => e >= 1440 ? {
        user: {
            inner: 18,
            logo: 16,
            outer: 22
        },
        other: {
            inner: 16,
            logo: 14,
            outer: 16
        }
    } : e >= 1366 ? {
        user: {
            inner: 16,
            logo: 14,
            outer: 20
        },
        other: {
            inner: 14,
            logo: 12,
            outer: 14
        }
    } : e >= 1024 ? {
        user: {
            inner: 14,
            logo: 12,
            outer: 18
        },
        other: {
            inner: 12,
            logo: 10,
            outer: 12
        }
    } : e >= 768 ? {
        user: {
            inner: 12,
            logo: 10,
            outer: 16
        },
        other: {
            inner: 10,
            logo: 8,
            outer: 10
        }
    } : {
        user: {
            inner: 10,
            logo: 8,
            outer: 14
        },
        other: {
            inner: 8,
            logo: 6,
            outer: 8
        }
    },
    mT = e => {
        const l = e >= 1024 ? 12 : e >= 768 ? 11 : 10,
            d = e >= 1024 ? 20 : e >= 768 ? 18 : 16,
            u = l * .6,
            h = 12,
            f = 4,
            p = 6,
            y = d + 4 + h * u,
            x = f * u + 4 + p * u,
            S = Math.max(y, x),
            v = l * 1.2,
            C = Math.max(d, v) + 2 + v,
            w = S + 5 * 2,
            j = C + 5 * 2,
            A = {
                x: 5,
                y: 5 + Math.max(d, v) + 2
            },
            _ = {
                x: 5 + d + 4,
                y: 5
            },
            k = {
                x: 5,
                y: 5
            };
        return {
            boxWidth: Math.max(w, 0),
            boxHeight: Math.max(j, 0),
            badgeSize: d,
            textPosition: A,
            usernamePosition: _,
            badgePosition: k
        }
    },
    xT = e => e >= 1440 ? {
        user: {
            inner: 18,
            logo: 16,
            outer: 22
        },
        other: {
            inner: 16,
            logo: 14,
            outer: 0
        }
    } : e >= 1366 ? {
        user: {
            inner: 16,
            logo: 14,
            outer: 20
        },
        other: {
            inner: 14,
            logo: 12,
            outer: 0
        }
    } : e >= 1024 ? {
        user: {
            inner: 14,
            logo: 12,
            outer: 18
        },
        other: {
            inner: 12,
            logo: 10,
            outer: 0
        }
    } : e >= 768 ? {
        user: {
            inner: 12,
            logo: 10,
            outer: 16
        },
        other: {
            inner: 10,
            logo: 8,
            outer: 0
        }
    } : {
        user: {
            inner: 10,
            logo: 8,
            outer: 14
        },
        other: {
            inner: 8,
            logo: 6,
            outer: 0
        }
    },
    yT = e => {
        const l = e >= 1024 ? 12 : e >= 768 ? 11 : 10,
            d = e >= 1024 ? 20 : e >= 768 ? 18 : 16,
            u = l * .6,
            h = 12,
            f = 4,
            p = 6,
            y = d + 4 + h * u,
            x = f * u + 4 + p * u,
            S = Math.max(y, x),
            v = l * 1.2,
            C = Math.max(d, v) + 2 + v,
            w = S + 5 * 2,
            j = C + 5 * 2,
            A = {
                x: 5,
                y: 5 + Math.max(d, v) + 2
            },
            _ = {
                x: 5 + d + 4,
                y: 5
            },
            k = {
                x: 5,
                y: 5
            };
        return {
            boxWidth: Math.max(w, 0),
            boxHeight: Math.max(j, 0),
            badgeSize: d,
            textPosition: A,
            usernamePosition: _,
            badgePosition: k
        }
    },
    Ay = e => e >= 1440 ? 36 : e >= 1366 ? 32 : e >= 1024 ? 28 : e >= 768 ? 24 : 20,
    Ry = e => e >= 1440 ? {
        boxWidth: 280,
        boxHeight: 32,
        text: 16,
        rankIcon: 28,
        corner: 8,
        gap: 8
    } : e >= 1366 ? {
        boxWidth: 280,
        boxHeight: 32,
        text: 14,
        rankIcon: 24,
        corner: 8,
        gap: 8
    } : e >= 1024 ? {
        boxWidth: 280,
        boxHeight: 28,
        text: 12,
        rankIcon: 20,
        corner: 4,
        gap: 8
    } : e >= 768 ? {
        boxWidth: 280,
        boxHeight: 28,
        text: 12,
        rankIcon: 20,
        corner: 4,
        gap: 4
    } : {
        boxWidth: 280,
        boxHeight: 24,
        text: 10,
        rankIcon: 16,
        corner: 4,
        gap: 4
    },
    Dy = e => {
        const s = (w, j = !1) => j ? w < 400 ? {
                width: 200,
                height: 34
            } : w < 768 ? {
                width: 220,
                height: 36
            } : {
                width: 260,
                height: 38
            } : w < 400 ? {
                width: 240,
                height: 36
            } : w < 768 ? {
                width: 260,
                height: 38
            } : {
                width: 320,
                height: 40
            },
            {
                width: a,
                height: r
            } = s(e, !1),
            l = 16,
            d = Math.round(l * 1.75),
            u = Math.round(l * 1),
            h = 8,
            f = 8,
            p = Math.round(a * .45),
            y = Math.round(a * .22),
            x = Math.round(a * .15),
            S = Math.round(a * .08),
            v = Math.round(a * .01),
            C = 12;
        return {
            boxWidth: a,
            boxHeight: r,
            fontSize: l,
            badgeSize: d,
            cornerRadius: f,
            gap: h,
            coinSize: u,
            amountPosition: a - C,
            amountPercentPosition: a - C - 8 - 5 * u,
            positionBadgeGap: h,
            usernameBadgeGap: h,
            leftContainerGap: 10,
            minSpaceBetweenUsernameAndPnl: S,
            maxUsernameWidth: p,
            usernameEllipsis: "...",
            maxPnlWidth: y,
            maxPercentageWidth: x,
            minSpaceBetweenPnlElements: v,
            pnlEllipsis: "..."
        }
    },
    kd = e => e < 400 ? e * .45 : e < 900 ? e * .35 : e * .3,
    bT = (e, s, a) => ({
        standardCountdown: {
            timePosition: {
                x: e / 2,
                y: s / 2 + 26
            },
            roundPosition: {
                x: e / 2,
                y: s / 2 - 26
            },
            pausedPosition: {
                x: e / 2,
                y: s / 2
            },
            pausedFontSize: 24,
            fontSize: 52,
            nextRoundFontSize: 24
        }
    }),
    vT = (e, s, a) => ({
        presale: {
            x: a.left,
            y: a.top,
            width: 400,
            height: 100
        }
    }),
    ST = (e, s, a) => ({
        rugged: {
            x: 0,
            y: 0,
            width: e,
            height: s
        }
    }),
    CT = (e, s, a) => {
        const r = e - a.left - a.right,
            l = s - a.top - a.bottom,
            d = kd(e),
            u = r - fd - d,
            h = Ey(e);
        return {
            candleArea: {
                x: a.left + fd,
                y: a.top,
                width: Math.max(u, 0),
                height: Math.max(l, 0)
            },
            candles: {
                candleWidth: h,
                wickWidth: h / 5,
                candleGap: h / 5,
                maxCandles: 30
            }
        }
    },
    Ny = (e, s, a) => {
        const r = gT(e),
            l = mT(e);
        return {
            trademarkers: {
                user: {
                    inner: r.user.inner,
                    logo: r.user.logo,
                    outer: r.user.outer
                },
                other: {
                    inner: r.other.inner,
                    logo: r.other.logo,
                    outer: r.other.outer
                },
                detailsWidth: l.boxWidth,
                detailsHeight: l.boxHeight,
                detailsBadgeSize: l.badgeSize,
                detailsTextPosition: l.textPosition,
                detailsUsernamePosition: l.usernamePosition,
                detailsBadgePosition: l.badgePosition
            }
        }
    },
    wT = (e, s, a) => {
        const r = xT(e),
            l = yT(e);
        return {
            sidebets: {
                user: {
                    inner: r.user.inner,
                    logo: r.user.logo,
                    outer: r.user.outer
                },
                other: {
                    inner: r.other.inner,
                    logo: r.other.logo,
                    outer: r.other.outer
                },
                detailsWidth: l.boxWidth,
                detailsHeight: l.boxHeight,
                detailsBadgeSize: l.badgeSize,
                detailsTextPosition: l.textPosition,
                detailsUsernamePosition: l.usernamePosition,
                detailsBadgePosition: l.badgePosition
            }
        }
    },
    TT = (e, s, a) => {
        const r = e - a.left - a.right,
            l = s - a.top - a.bottom,
            d = kd(e),
            u = Dy(e);
        return {
            standardScoreboardArea: {
                x: r - u.boxWidth,
                y: a.top,
                width: Math.max(d, 0),
                height: Math.max(l, 0)
            },
            standardScoreboard: u
        }
    },
    jT = (e, s, a) => {
        const r = e - a.left - a.right,
            l = s - a.top - a.bottom;
        return {
            priceAxis: {
                pricesX: 0,
                x: a.left,
                y: a.top,
                width: r,
                height: l
            }
        }
    },
    kT = (e, s, a) => {
        const r = e - a.left - a.right,
            l = s - a.top - a.bottom,
            d = Ay(e);
        let u;
        return e < 400 ? u = e * .65 - a.left : e < 900 ? u = e * .67 - a.left : u = e * .69 - a.left, {
            priceTracker: {
                priceX: u,
                x: a.left,
                y: a.top,
                width: r,
                height: l,
                priceScale: .8,
                fontSize: d
            }
        }
    },
    ET = (e, s, a) => ({
        shareButton: {
            x: e - a.right,
            y: s - a.bottom,
            width: 220,
            height: 46
        }
    }),
    _y = (e, s, a) => {
        const r = e - a.left - a.right,
            l = s - a.top - a.bottom;
        let d;
        return e < 400 ? d = e * .65 - a.left : e < 900 ? d = e * .67 - a.left : d = e * .69 - a.left, {
            averageEntry: {
                textX: d,
                x: a.left,
                y: a.top,
                width: r,
                height: l,
                textScale: .8
            }
        }
    },
    AT = (e, s, a) => ({
        goldenHourOverlay: {
            x: 0,
            y: 0,
            width: e,
            height: s
        }
    }),
    RT = (e, s) => {
        const a = ky(e),
            r = {
                top: a,
                right: a,
                bottom: a,
                left: a
            };
        return {
            width: e,
            height: s,
            ...bT(e, s),
            ...vT(e, s, r),
            ...ST(e, s),
            ...TT(e, s, r),
            ...CT(e, s, r),
            ...Ny(e),
            ...wT(e),
            ...jT(e, s, r),
            ...kT(e, s, r),
            ...ET(e, s, r),
            ..._y(e, s, r),
            ...AT(e, s)
        }
    },
    DT = (e, s, a) => ({
        battleCountdown: {
            timePosition: {
                x: e / 2,
                y: s / 2 + 26
            },
            roundPosition: {
                x: e / 2,
                y: s / 2 - 26
            },
            fontSize: 52,
            nextRoundFontSize: 24
        }
    }),
    NT = (e, s, a) => {
        const r = e - a.left - a.right,
            l = s - a.top - a.bottom,
            d = kd(e),
            u = r - fd - d,
            h = Ey(e);
        return {
            candleArea: {
                x: a.left + fd,
                y: a.top,
                width: Math.max(u, 0),
                height: Math.max(l, 0)
            },
            candles: {
                candleWidth: h,
                wickWidth: h / 5,
                candleGap: h / 5,
                maxCandles: 30
            }
        }
    },
    _T = (e, s, a) => {
        const r = s - a.top - a.bottom,
            l = kd(e),
            d = Dy(e);
        let u;
        return e >= 1200 || e >= 768 ? u = 16 : u = 8, {
            battleScoreboardArea: {
                x: e - l - u,
                y: a.top,
                width: Math.max(l, 0),
                height: Math.max(r, 0)
            },
            battleScoreboard: d
        }
    },
    PT = (e, s, a) => {
        const r = e - a.left - a.right,
            l = s - a.top - a.bottom;
        return {
            priceAxis: {
                pricesX: 0,
                x: a.left,
                y: a.top,
                width: r,
                height: l
            }
        }
    },
    LT = (e, s, a) => {
        const r = e - a.left - a.right,
            l = s - a.top - a.bottom,
            d = Ay(e);
        let u;
        return e < 400 ? u = e * .5 - a.left : e < 900 ? u = e * .6 - a.left : u = e * .68 - a.left, {
            priceTracker: {
                priceX: u,
                x: a.left,
                y: a.top,
                width: r,
                height: l,
                priceScale: .8,
                fontSize: d
            }
        }
    },
    MT = (e, s, a) => {
        const r = e - a.left - a.right,
            l = s - a.top - a.bottom,
            d = Ry(e);
        return {
            battleEndArea: {
                x: a.left,
                y: a.top,
                width: r,
                height: l
            },
            battleEndLeaderboard: d
        }
    },
    BT = (e, s, a) => {
        const r = e - a.left - a.right,
            l = s - a.top - a.bottom,
            d = Ry(e);
        return {
            battleRoundEndArea: {
                x: a.left,
                y: a.top,
                width: r,
                height: l
            },
            battleRoundEndLeaderboard: d
        }
    },
    zT = (e, s) => {
        const a = ky(e),
            r = {
                top: a,
                right: a,
                bottom: a,
                left: a
            };
        return {
            width: e,
            height: s,
            ...DT(e, s),
            ..._T(e, s, r),
            ...NT(e, s, r),
            ...Ny(e),
            ...PT(e, s, r),
            ...LT(e, s, r),
            ...MT(e, s, r),
            ...BT(e, s, r),
            ..._y(e, s, r)
        }
    },
    La = {
        grid: jy,
        tickGrid: pT,
        standardLayout: RT,
        battleLayout: zT
    };

function bs(e, s) {
    return Object.defineProperty(s, "getHandle", {
        value: () => e
    }), Object.defineProperty(s, "return", {
        value: () => e.return(s)
    }), s
}
const xd = class xd {
    constructor(s) {
        R(this, "id");
        R(this, "pool");
        R(this, "released", !1);
        R(this, "trackedObjects");
        this.id = `handle_${++xd.nextId}`, this.pool = s, this.trackedObjects = {
            graphics: new Set,
            sprites: new Set,
            texts: new Set,
            bitmapTexts: new Set,
            containers: new Set,
            colors: new Set,
            textStyles: new Set,
            blurFilters: new Set,
            rectangles: new Set,
            graphicsContexts: new Set,
            tickers: new Set,
            fillGradients: new Set
        }
    }
    getId() {
        return this.id
    }
    getGraphics() {
        if (this.released) throw new Error(`Cannot get graphics from released handle ${this.id}`);
        const s = this.pool.getGraphics();
        return this.trackedObjects.graphics.add(s), bs(this, s)
    }
    getSprite(s) {
        if (this.released) throw new Error(`Cannot get sprite from released handle ${this.id}`);
        const a = this.pool.getSprite(s);
        return this.trackedObjects.sprites.add(a), bs(this, a)
    }
    getText(s = "", a) {
        if (this.released) throw new Error(`Cannot get text from released handle ${this.id}`);
        const r = this.pool.getText(s, a);
        return this.trackedObjects.texts.add(r), bs(this, r)
    }
    getBitmapText(s = "", a) {
        if (this.released) throw new Error(`Cannot get bitmap text from released handle ${this.id}`);
        const r = this.pool.getBitmapText(s, a);
        return this.trackedObjects.bitmapTexts.add(r), bs(this, r)
    }
    getContainer() {
        if (this.released) throw new Error(`Cannot get container from released handle ${this.id}`);
        const s = this.pool.getContainer();
        return this.trackedObjects.containers.add(s), bs(this, s)
    }
    getColor(s) {
        if (this.released) throw new Error(`Cannot get color from released handle ${this.id}`);
        const a = this.pool.getColor(s);
        return this.trackedObjects.colors.add(a), bs(this, a)
    }
    getTextStyle(s) {
        if (this.released) throw new Error(`Cannot get text style from released handle ${this.id}`);
        const a = this.pool.getTextStyle(s);
        return this.trackedObjects.textStyles.add(a), bs(this, a)
    }
    getBlurFilter(s) {
        if (this.released) throw new Error(`Cannot get blur filter from released handle ${this.id}`);
        const a = this.pool.getBlurFilter(s);
        return this.trackedObjects.blurFilters.add(a), bs(this, a)
    }
    getRectangle(s, a, r, l) {
        if (this.released) throw new Error(`Cannot get rectangle from released handle ${this.id}`);
        const d = this.pool.getRectangle(s, a, r, l);
        return this.trackedObjects.rectangles.add(d), bs(this, d)
    }
    getGraphicsContext() {
        if (this.released) throw new Error(`Cannot get graphics context from released handle ${this.id}`);
        const s = this.pool.getGraphicsContext();
        return this.trackedObjects.graphicsContexts.add(s), bs(this, s)
    }
    getFillGradient(s) {
        if (this.released) throw new Error(`Cannot get fill gradient from released handle ${this.id}`);
        const a = this.pool.getFillGradient(s);
        return this.trackedObjects.fillGradients.add(a), bs(this, a)
    }
    return (s) {
        if (this.released) throw new Error(`Cannot return object to pool from released handle ${this.id}`);
        if (Array.isArray(s)) {
            s.forEach(a => this.return(a));
            return
        }
        s.getHandle() === this && (this.trackedObjects.graphics.delete(s), this.trackedObjects.sprites.delete(s), this.trackedObjects.texts.delete(s), this.trackedObjects.bitmapTexts.delete(s), this.trackedObjects.containers.delete(s), this.trackedObjects.colors.delete(s), this.trackedObjects.textStyles.delete(s), this.trackedObjects.blurFilters.delete(s), this.trackedObjects.rectangles.delete(s), this.trackedObjects.graphicsContexts.delete(s), this.trackedObjects.fillGradients.delete(s), this.pool.return(s))
    }
    release() {
        this.released || (this.trackedObjects.graphics.forEach(s => this.pool.returnGraphics(s)), this.trackedObjects.sprites.forEach(s => this.pool.returnSprite(s)), this.trackedObjects.texts.forEach(s => this.pool.returnText(s)), this.trackedObjects.bitmapTexts.forEach(s => this.pool.returnBitmapText(s)), this.trackedObjects.containers.forEach(s => this.pool.returnContainer(s)), this.trackedObjects.colors.forEach(s => this.pool.returnColor(s)), this.trackedObjects.textStyles.forEach(s => this.pool.returnTextStyle(s)), this.trackedObjects.blurFilters.forEach(s => this.pool.returnBlurFilter(s)), this.trackedObjects.rectangles.forEach(s => this.pool.returnRectangle(s)), this.trackedObjects.graphicsContexts.forEach(s => this.pool.returnGraphicsContext(s)), this.trackedObjects.fillGradients.forEach(s => this.pool.returnFillGradient(s)), this.trackedObjects.graphics.clear(), this.trackedObjects.sprites.clear(), this.trackedObjects.texts.clear(), this.trackedObjects.bitmapTexts.clear(), this.trackedObjects.containers.clear(), this.trackedObjects.colors.clear(), this.trackedObjects.textStyles.clear(), this.trackedObjects.blurFilters.clear(), this.trackedObjects.rectangles.clear(), this.trackedObjects.graphicsContexts.clear(), this.trackedObjects.tickers.clear(), this.trackedObjects.fillGradients.clear(), this.released = !0)
    }
    isReleased() {
        return this.released
    }
};
R(xd, "nextId", 0);
let pd = xd;
class FT {
    constructor() {
        R(this, "bitmapTextPool", []);
        R(this, "textPool", []);
        R(this, "spritePool", []);
        R(this, "graphicsPool", []);
        R(this, "containerPool", []);
        R(this, "colorPool", []);
        R(this, "textStylePool", []);
        R(this, "blurFilterPool", []);
        R(this, "rectanglePool", []);
        R(this, "graphicsContextPool", []);
        R(this, "fillGradientPool", []);
        R(this, "MAX_POOL_SIZE", 50);
        R(this, "ENABLE_RESET_VALIDATION", !1)
    }
    createHandle() {
        return new pd(this)
    }
    getValidObjectFromPool(s) {
        for (; s.length > 0;) {
            const a = s.pop();
            if (a && !a.destroyed) return a
        }
    }
    getValidSimpleFromPool(s) {
        for (; s.length > 0;) {
            const a = s.pop();
            if (a) return a
        }
    }
    safeReturnToPool(s, a) {
        return !s || s.destroyed ? !1 : a.length >= this.MAX_POOL_SIZE ? (console.warn("Pool is full, returning object to pool failed"), !1) : a.includes(s) ? (console.warn("Attempted to return object already in pool"), !1) : (a.push(s), !0)
    }
    safeReturnSimpleToPool(s, a) {
        return s ? a.length >= this.MAX_POOL_SIZE ? (console.warn("Pool is full, returning object to pool failed"), !1) : a.includes(s) ? (console.warn("Attempted to return object already in pool"), !1) : (a.push(s), !0) : !1
    }
    getBitmapText(s = "", a) {
        let r = this.getValidObjectFromPool(this.bitmapTextPool);
        return r ? (r.text = s, a && Object.assign(r.style, a)) : r = new wa({
            text: s,
            style: a
        }), this.resetDisplayObject(r), r
    }
    returnBitmapText(s) {
        s && (this.resetBitmapTextObject(s), this.cleanupDisplayObject(s), this.safeReturnToPool(s, this.bitmapTextPool) || s.destroy())
    }
    getText(s = "", a) {
        let r = this.getValidObjectFromPool(this.textPool);
        return r ? (r.text = s, a && (r.style = this.getTextStyle(a)), r.resolution = 1) : r = new Is({
            text: s,
            style: a
        }), this.resetDisplayObject(r), r
    }
    returnText(s) {
        s && (this.resetTextObject(s), this.cleanupDisplayObject(s), this.safeReturnToPool(s, this.textPool) || s.destroy())
    }
    getSprite(s) {
        let a = this.getValidObjectFromPool(this.spritePool);
        return a ? a.texture = s || Kc.EMPTY : a = new zi(s), this.resetDisplayObject(a), a
    }
    returnSprite(s) {
        s && (this.resetSpriteObject(s), this.cleanupDisplayObject(s), this.safeReturnToPool(s, this.spritePool) || s.destroy())
    }
    getGraphics() {
        let s = this.getValidObjectFromPool(this.graphicsPool);
        return s ? s.clear() : s = new Ss, this.resetDisplayObject(s), s
    }
    returnGraphics(s) {
        s && (this.resetGraphicsObject(s), this.cleanupDisplayObject(s), this.safeReturnToPool(s, this.graphicsPool) || s.destroy())
    }
    getContainer() {
        let s = this.getValidObjectFromPool(this.containerPool);
        return s || (s = new cs), this.resetDisplayObject(s), s
    }
    returnContainer(s) {
        s && (this.returnContainerChildren(s), s.removeChildren(), s.children.length > 0 && (console.warn(`Container still has ${s.children.length} children after cleanup. Force removing.`), s.removeChildren()), this.cleanupDisplayObject(s), this.resetDisplayObject(s), this.validateObjectReset(s), this.safeReturnToPool(s, this.containerPool) || s.destroy({
            children: !0
        }))
    }
    returnContainerChildren(s) {
        if (!s || s.destroyed) return;
        const a = [...s.children];
        for (const r of a)
            if (!(!r || r.destroyed)) try {
                r instanceof wa ? this.returnBitmapText(r) : r instanceof Is ? this.returnText(r) : r instanceof zi ? this.returnSprite(r) : r instanceof Ss ? this.returnGraphics(r) : r instanceof cs && this.returnContainer(r)
            } catch (l) {
                console.warn("Error returning child to pool:", l)
            }
    }
    resetDisplayObject(s) {
        var a;
        !s || s.destroyed || (s.alpha = 1, s.visible = !0, s.renderable = !0, s.scale && s.scale.set(1), s.position && s.position.set(0, 0), (a = s.pivot) == null || a.set(0, 0), s.rotation = 0, s.skew && s.skew.set(0, 0), s.label = "", s.filters && (s.filters = []), "tint" in s && (s.tint = 16777215), "blendMode" in s && (s.blendMode = "normal"), s.mask = null, s.cullable = !1, s.eventMode = "auto", s.interactiveChildren = !0, s.hitArea = null, s.cursor = null, s.removeAllListeners(), "zIndex" in s && (s.zIndex = 0), "anchor" in s && s.anchor && s.anchor.set(0, 0), s instanceof cs && (s.sortableChildren = !1, s.sortDirty = !1, s.children.length > 0 && console.warn("Container still has children during reset - this should not happen")), s instanceof Ss ? this.resetGraphicsObject(s) : s instanceof Is ? this.resetTextObject(s) : s instanceof wa ? this.resetBitmapTextObject(s) : s instanceof zi && this.resetSpriteObject(s))
    }
    resetBitmapTextObject(s) {
        s.roundPixels = !1, s.text = "", s.style = this.getTextStyle(), s.style.reset(), s.anchor && s.anchor.set(0, 0)
    }
    resetTextObject(s) {
        s.resolution = 1, s.roundPixels = !1, s.text = "", s.style = this.getTextStyle(), s.style.reset(), s.anchor && s.anchor.set(0, 0)
    }
    resetSpriteObject(s) {
        s.anchor.set(0, 0), s.tint = 16777215, s.roundPixels = !1, s.texture = Kc.EMPTY, s.width = 0, s.height = 0, "frame" in s && s.frame && (s.frame = new ai(0, 0, 0, 0)), "textureTransform" in s && s.textureTransform && (s.textureTransform = null)
    }
    resetGraphicsObject(s) {
        s.clear(), s.tint = 16777215, s.renderable = !0, s.setStrokeStyle(16777215), s.context = this.getGraphicsContext(), s.resetTransform()
    }
    cleanupDisplayObject(s) {
        s.parent && s.parent.removeChild(s)
    }
    validateObjectReset(s) {
        if (!(!this.ENABLE_RESET_VALIDATION || !s)) try {
            const a = [];
            if (s.alpha !== 1 && a.push(`alpha: ${s.alpha} !== 1`), s.visible || a.push(`visible: ${s.visible} !== true`), s.rotation !== 0 && a.push(`rotation: ${s.rotation} !== 0`), (s.position.x !== 0 || s.position.y !== 0) && a.push(`position: (${s.position.x}, ${s.position.y}) !== (0, 0)`), (s.scale.x !== 1 || s.scale.y !== 1) && a.push(`scale: (${s.scale.x}, ${s.scale.y}) !== (1, 1)`), s.filters && (!Array.isArray(s.filters) || s.filters.length > 0)) {
                const r = Array.isArray(s.filters) ? s.filters.length : 1;
                a.push(`filters: length ${r} !== 0`)
            }
            if (s.mask != null && a.push(`mask: ${s.mask} !== null`), s.parent != null && a.push(`parent: ${s.parent} !== null`), s instanceof Ss && s._geometry && s._geometry.graphicsData && s._geometry.graphicsData.length > 0 && a.push("graphics still has drawing data"), "text" in s && s.text !== "" && a.push(`text content: "${s.text}" !== ""`), "style" in s && s.style) {
                const r = s.style;
                r.fontSize !== Bi.defaultTextStyle.fontSize && a.push(`text style fontSize: ${r.fontSize} !== ${Bi.defaultTextStyle.fontSize}`), r.fill !== Bi.defaultTextStyle.fill && a.push(`text style fill: ${r.fill} !== ${Bi.defaultTextStyle.fill}`)
            }
            s instanceof zi && s.texture !== Kc.EMPTY && a.push(`sprite texture: ${s.texture} !== EMPTY`), s instanceof cs && s.children.length > 0 && a.push(`container children: ${s.children.length} !== 0`), a.length > 0 && console.warn(`Object reset validation failed for ${s.constructor.name}:`, a)
        } catch (a) {
            console.warn("Error during object reset validation:", a)
        }
    }
    getColor(s) {
        let a = this.colorPool.pop();
        return a ? s !== void 0 ? a.setValue(s) : a.setValue(16777215) : a = new Ii(s ? ? 16777215), a
    }
    returnColor(s) {
        s && (s.setValue(16777215), this.safeReturnSimpleToPool(s, this.colorPool))
    }
    getTextStyle(s) {
        let a = this.getValidSimpleFromPool(this.textStylePool);
        return a ? s ? Object.assign(a, s) : a.reset() : a = new Bi(s), a
    }
    returnTextStyle(s) {
        s && (s.reset(), this.safeReturnSimpleToPool(s, this.textStylePool) || s.destroy())
    }
    getBlurFilter(s) {
        let a = this.getValidSimpleFromPool(this.blurFilterPool);
        return a ? (a.blur = s ? ? 2, a.quality = 4, a.resolution = 1) : (a = new rd, s !== void 0 && (a.blur = s)), a
    }
    returnBlurFilter(s) {
        s && (s.blur = 2, s.quality = 4, s.resolution = 1, this.safeReturnSimpleToPool(s, this.blurFilterPool) || s.destroy())
    }
    getRectangle(s, a, r, l) {
        let d = this.rectanglePool.pop();
        return d ? (d.x = s ? ? 0, d.y = a ? ? 0, d.width = r ? ? 0, d.height = l ? ? 0) : d = new ai(s ? ? 0, a ? ? 0, r ? ? 0, l ? ? 0), d
    }
    returnRectangle(s) {
        s && (s.x = 0, s.y = 0, s.width = 0, s.height = 0, this.safeReturnSimpleToPool(s, this.rectanglePool))
    }
    getGraphicsContext() {
        let s = this.getValidSimpleFromPool(this.graphicsContextPool);
        return s ? s.clear() : s = new od, s
    }
    returnGraphicsContext(s) {
        s && (s.clear(), this.safeReturnSimpleToPool(s, this.graphicsContextPool) || s.destroy())
    }
    getFillGradient(s) {
        let a = this.getValidSimpleFromPool(this.fillGradientPool);
        if (a) s && (a.type = s.type ? ? "linear", a.start = s.start ? ? {
            x: 0,
            y: 0
        }, a.end = s.end ? ? {
            x: 0,
            y: 1
        }, a.textureSpace = s.textureSpace ? ? "local", a.colorStops = s.colorStops ? ? [{
            color: 16777215,
            offset: 0
        }, {
            color: 0,
            offset: 1
        }]);
        else {
            const r = {
                type: (s == null ? void 0 : s.type) ? ? "linear",
                start: (s == null ? void 0 : s.start) ? ? {
                    x: 0,
                    y: 0
                },
                end: (s == null ? void 0 : s.end) ? ? {
                    x: 0,
                    y: 1
                },
                textureSpace: (s == null ? void 0 : s.textureSpace) ? ? "local",
                colorStops: (s == null ? void 0 : s.colorStops) ? ? [{
                    color: 16777215,
                    offset: 0
                }, {
                    color: 0,
                    offset: 1
                }]
            };
            a = new ld(r)
        }
        return a
    }
    returnFillGradient(s) {
        s && (s.type = "linear", s.start = {
            x: 0,
            y: 0
        }, s.end = {
            x: 0,
            y: 1
        }, s.textureSpace = "local", s.colorStops = [{
            color: 16777215,
            offset: 0
        }, {
            color: 0,
            offset: 1
        }], this.safeReturnSimpleToPool(s, this.fillGradientPool) || s.destroy())
    }
    return (s) {
        if (Array.isArray(s)) {
            s.forEach(a => this.return(a));
            return
        }
        s instanceof cs ? this.returnContainer(s) : s instanceof wa ? this.returnBitmapText(s) : s instanceof Is ? this.returnText(s) : s instanceof zi ? this.returnSprite(s) : s instanceof Ss ? this.returnGraphics(s) : s instanceof od ? this.returnGraphicsContext(s) : s instanceof ld ? this.returnFillGradient(s) : s instanceof rd ? this.returnBlurFilter(s) : s instanceof ai ? this.returnRectangle(s) : s instanceof Bi ? this.returnTextStyle(s) : s instanceof Ii ? this.returnColor(s) : console.warn("StandardPool: Unknown object type", s)
    }
    cleanupDestroyedObjects() {
        this.bitmapTextPool = this.bitmapTextPool.filter(s => s && !s.destroyed), this.textPool = this.textPool.filter(s => s && !s.destroyed), this.spritePool = this.spritePool.filter(s => s && !s.destroyed), this.graphicsPool = this.graphicsPool.filter(s => s && !s.destroyed), this.containerPool = this.containerPool.filter(s => s && !s.destroyed), this.textStylePool = this.textStylePool.filter(s => {
            if (!s) return !1;
            try {
                return typeof s.reset == "function"
            } catch {
                return !1
            }
        }), this.blurFilterPool = this.blurFilterPool.filter(s => {
            if (!s) return !1;
            try {
                return typeof s.blur == "number"
            } catch {
                return !1
            }
        }), this.graphicsContextPool = this.graphicsContextPool.filter(s => {
            if (!s) return !1;
            try {
                return typeof s.clear == "function"
            } catch {
                return !1
            }
        }), this.fillGradientPool = this.fillGradientPool.filter(s => {
            if (!s) return !1;
            try {
                return typeof s.destroy == "function"
            } catch {
                return !1
            }
        }), this.colorPool = this.colorPool.filter(s => s != null), this.rectanglePool = this.rectanglePool.filter(s => s != null)
    }
    getPoolStats() {
        return {
            bitmapText: this.bitmapTextPool.length,
            text: this.textPool.length,
            sprite: this.spritePool.length,
            graphics: this.graphicsPool.length,
            container: this.containerPool.length,
            color: this.colorPool.length,
            textStyle: this.textStylePool.length,
            blurFilter: this.blurFilterPool.length,
            rectangle: this.rectanglePool.length,
            graphicsContext: this.graphicsContextPool.length,
            fillGradient: this.fillGradientPool.length
        }
    }
    destroy() {
        [...this.bitmapTextPool, ...this.textPool, ...this.spritePool, ...this.graphicsPool, ...this.containerPool].forEach(s => s && s.destroy()), [...this.textStylePool, ...this.blurFilterPool, ...this.graphicsContextPool, ...this.fillGradientPool].forEach(s => s && s.destroy()), this.bitmapTextPool = [], this.textPool = [], this.spritePool = [], this.graphicsPool = [], this.containerPool = [], this.colorPool = [], this.textStylePool = [], this.blurFilterPool = [], this.rectanglePool = [], this.graphicsContextPool = [], this.fillGradientPool = []
    }
}
class IT {
    createHandle() {
        return new pd(this)
    }
    getBitmapText(s = "", a) {
        return new wa({
            text: s,
            style: a
        })
    }
    returnBitmapText(s) {
        s.parent && s.parent.removeChild(s), s.destroy()
    }
    getText(s = "", a) {
        return new Is({
            text: s,
            style: a
        })
    }
    returnText(s) {
        s.parent && s.parent.removeChild(s), s.destroy()
    }
    getSprite(s) {
        return new zi(s)
    }
    returnSprite(s) {
        s.parent && s.parent.removeChild(s), s.destroy()
    }
    getGraphics() {
        return new Ss
    }
    returnGraphics(s) {
        s.parent && s.parent.removeChild(s), s.destroy()
    }
    getContainer() {
        return new cs
    }
    returnContainer(s) {
        this.destroyContainerChildren(s), s.parent && s.parent.removeChild(s), s.destroy({
            children: !0
        })
    }
    destroyContainerChildren(s) {
        for (const a of s.children) a instanceof wa ? this.returnBitmapText(a) : a instanceof Is ? this.returnText(a) : a instanceof zi ? this.returnSprite(a) : a instanceof Ss ? this.returnGraphics(a) : a instanceof cs && this.returnContainer(a)
    }
    getColor(s) {
        return new Ii(s ? ? 16777215)
    }
    returnColor(s) {}
    getTextStyle(s) {
        return new Bi(s)
    }
    returnTextStyle(s) {
        s.destroy()
    }
    getBlurFilter(s) {
        const a = new rd;
        return s !== void 0 && (a.blur = s), a
    }
    returnBlurFilter(s) {
        s.destroy()
    }
    getRectangle(s, a, r, l) {
        return new ai(s ? ? 0, a ? ? 0, r ? ? 0, l ? ? 0)
    }
    returnRectangle(s) {}
    getGraphicsContext() {
        return new od
    }
    returnGraphicsContext(s) {
        s.destroy()
    }
    getFillGradient(s) {
        const a = {
            type: (s == null ? void 0 : s.type) ? ? "linear",
            start: (s == null ? void 0 : s.start) ? ? {
                x: 0,
                y: 0
            },
            end: (s == null ? void 0 : s.end) ? ? {
                x: 0,
                y: 1
            },
            textureSpace: (s == null ? void 0 : s.textureSpace) ? ? "local",
            colorStops: (s == null ? void 0 : s.colorStops) ? ? [{
                color: 16777215,
                offset: 0
            }, {
                color: 0,
                offset: 1
            }]
        };
        return new ld(a)
    }
    returnFillGradient(s) {
        s.destroy()
    }
    return (s) {
        if (Array.isArray(s)) {
            s.forEach(a => this.return(a));
            return
        }
        s instanceof cs ? this.returnContainer(s) : s instanceof wa ? this.returnBitmapText(s) : s instanceof Is ? this.returnText(s) : s instanceof zi ? this.returnSprite(s) : s instanceof Ss ? this.returnGraphics(s) : s instanceof od ? this.returnGraphicsContext(s) : s instanceof ld ? this.returnFillGradient(s) : s instanceof rd ? this.returnBlurFilter(s) : s instanceof ai ? this.returnRectangle(s) : s instanceof Bi ? this.returnTextStyle(s) : s instanceof Ii ? this.returnColor(s) : console.warn("PassthroughPool: Unknown object type", s)
    }
    destroy() {}
}
const gt = class gt {
    static getInstance() {
        return gt.instance || (gt.instance = gt.createPool(gt.currentType), gt.currentType === "standard" && gt.startPeriodicCleanup()), gt.instance
    }
    static setPoolType(s) {
        gt.currentType !== s && (gt.instance && gt.instance.destroy(), gt.currentType = s, gt.instance = gt.createPool(s))
    }
    static getCurrentType() {
        return gt.currentType
    }
    static createPool(s) {
        switch (s) {
            case "standard":
                return new FT;
            case "passthrough":
                return new IT;
            default:
                throw new Error(`Unknown pool type: ${s}`)
        }
    }
    static startPeriodicCleanup(s = 3e4) {
        gt.cleanupInterval && clearInterval(gt.cleanupInterval), gt.cleanupInterval = setInterval(() => {
            const a = gt.getInstance();
            a.cleanupDestroyedObjects && a.cleanupDestroyedObjects()
        }, s)
    }
    static stopPeriodicCleanup() {
        gt.cleanupInterval && (clearInterval(gt.cleanupInterval), gt.cleanupInterval = null)
    }
    static getPoolStats() {
        const s = gt.getInstance();
        return s.getPoolStats ? s.getPoolStats() : {}
    }
    static reset() {
        gt.stopPeriodicCleanup(), gt.instance && gt.instance.destroy(), gt.instance = null, gt.currentType = "standard"
    }
};
R(gt, "instance"), R(gt, "currentType", "passthrough"), R(gt, "cleanupInterval", null);
let $i = gt;
class Bn {
    constructor(s, a) {
        R(this, "_config");
        R(this, "width");
        R(this, "height");
        R(this, "layout");
        R(this, "container");
        R(this, "pool");
        this._config = a, this._resize(s.width, s.height), this.pool = $i.getInstance().createHandle(), this.container = this.pool.getContainer()
    }
    get size() {
        return {
            width: this.width,
            height: this.height
        }
    }
    isAnimated() {
        return !1
    }
    isDynamic() {
        return !1
    }
    isResizable() {
        return !0
    }
    isDrawable() {
        return !1
    }
    isTransition() {
        return !1
    }
    isHandler() {
        return !1
    }
    isEvents() {
        return !1
    }
    _resize(s, a) {
        this.width = s, this.height = a
    }
    resize(s) {
        this.layout = s, this._resize(s.width, s.height)
    }
    destroy() {
        try {
            this.pool && !this.pool.isReleased() && this.pool.release()
        } catch (s) {
            throw console.warn("Error destroying layer container:", s), s
        }
    }
}
class kn extends Bn {
    constructor() {
        super(...arguments);
        R(this, "ticker", null);
        R(this, "animations", new Set);
        R(this, "animationsOnNext", new Set)
    }
    isAnimated() {
        return !0
    }
    runTickers(...a) {
        if (!(this.animations.size === 0 && this.animationsOnNext.size === 0)) {
            for (const r of this.animationsOnNext) r.apply(this, a), this.animationsOnNext.delete(r);
            for (const r of this.animations) r.apply(this, a)
        }
    }
    addAnimation(a) {
        return this.animations.add(a), this
    }
    addAnimationOnNextTick(a) {
        return this.animationsOnNext.add(a), this
    }
    removeAnimation(a) {
        return this.animations.delete(a), this.animationsOnNext.delete(a), this
    }
}
class Ws extends Bn {
    constructor(a, r) {
        super(a, r);
        R(this, "ticker", null);
        R(this, "_transitions", {})
    }
    get transitions() {
        return Object.keys(this._transitions)
    }
    transition(a, r) {
        var l, d;
        (d = (l = this._transitions)[a]) == null || d.call(l, r)
    }
    isTransition() {
        return !0
    }
    addTransition(a, r) {
        return this._transitions[a] = r, this
    }
}
class OT extends Bn {
    constructor(a, r) {
        super(a, { ...r
        });
        R(this, "sprite", null);
        R(this, "gfx", null);
        this.draw()
    }
    isDrawable() {
        return !0
    }
    resize(a) {
        super.resize(a), this.draw()
    }
    draw() {
        "gfxFill" in this._config && this._drawGfx(this._config.gfxFill), "image" in this._config && this._drawImage(this._config.image), "color" in this._config && this._drawColor(this._config.color)
    }
    _drawGfx(a) {
        this.gfx || (this.gfx = this.pool.getGraphics(), this.container.addChild(this.gfx)), this.gfx.clear().rect(0, 0, this.width, this.height).fill(a)
    }
    _drawImage(a) {
        if (!this.sprite) {
            const r = ft.get(a);
            this.sprite = this.pool.getSprite(r), this.container.addChild(this.sprite)
        }
        this.sprite.setSize(this.size)
    }
    _drawColor(a) {
        this.sprite || (this.sprite = this.pool.getSprite(Kc.WHITE), this.container.addChild(this.sprite)), this.sprite.setSize(this.size), this.sprite.tint = a
    }
}
const WT = () => ({
    profitSprite: "linear-gradient-green",
    lossSprite: "linear-gradient-red",
    alpha: .2,
    transitionDuration: .6
});
class UT extends kn {
    constructor(a, r) {
        super(a, { ...WT(),
            ...r
        });
        R(this, "selectors", ["positionQty", "isPreRound", "profitState"]);
        R(this, "sprite");
        R(this, "data", {
            positionQty: 0,
            isPreRound: !1,
            profitState: "neutral"
        });
        R(this, "dirty", !1);
        const l = ft.get(this._config.profitSprite);
        this.sprite = this.pool.getSprite(l), this.container.addChild(this.sprite), this.sprite.alpha = this._config.alpha
    }
    isDynamic() {
        return !0
    }
    isDrawable() {
        return !0
    }
    draw() {
        if (this.dirty = !1, this.data.positionQty > 0) {
            const r = this.data.isPreRound || this.data.profitState === "profit" ? this._config.profitSprite : this._config.lossSprite,
                l = ft.get(r);
            this.sprite.texture = l, this.sprite.setSize(this.width, this.height), this.sprite.visible = !0
        } else this.sprite.visible = !1
    }
    resize(a) {
        super.resize(a), this.setDirty()
    }
    update({
        positionQty: a,
        isPreRound: r,
        profitState: l
    }) {
        typeof a == "number" && this.data.positionQty !== a && (this.data.positionQty = a, this.setDirty()), typeof r == "boolean" && this.data.isPreRound !== r && (this.data.isPreRound = r, this.setDirty()), typeof l == "string" && this.data.profitState !== l && (this.data.profitState = l, this.setDirty())
    }
    setDirty() {
        this.dirty || (this.dirty = !0, this.addAnimationOnNextTick(this.draw))
    }
}
class HT extends Bn {
    constructor(a, r = {}) {
        super(a, { ...r
        });
        R(this, "gradientGraphics");
        R(this, "textSprite");
        R(this, "gradient");
        R(this, "dirty", !1);
        this.gradientGraphics = this.pool.getGraphics(), this.textSprite = this.pool.getText("Rugged!", {}), this.gradient = this.pool.getFillGradient({
            type: "linear",
            start: {
                x: 0,
                y: 0
            },
            end: {
                x: 0,
                y: 1
            },
            textureSpace: "local",
            colorStops: [{
                color: this.pool.getColor("#EF4444").setAlpha(0),
                offset: 0
            }, {
                color: this.pool.getColor("#EF4444").setAlpha(.1),
                offset: 1
            }]
        }), this.textSprite.anchor.set(.5), this.textSprite.angle = -3, this.textSprite.style.fontWeight = "600", this.textSprite.style.fontFamily = "DynaPuff, Arial, sans-serif", this.textSprite.style.fill = "#DC2626", this.textSprite.style.stroke = "#DC2626", this.textSprite.alpha = .2, this.container.addChild(this.gradientGraphics), this.container.addChild(this.textSprite), this.setDirty()
    }
    isDrawable() {
        return !0
    }
    calculateScaleFactor(a) {
        return a >= 1366 ? 1 : a >= 1200 ? .95 : a >= 1e3 ? .9 : a >= 768 ? .85 : .8
    }
    draw() {
        this.dirty = !1, this.gradientGraphics.clear(), this.gradientGraphics.rect(0, 0, this.width, this.height), this.gradientGraphics.fill(this.gradient), this.textSprite.x = this.width / 2, this.textSprite.y = this.height / 2;
        const a = window.innerWidth;
        let r = 80;
        a >= 480 && (r = 88), a >= 768 && (r = 96), a >= 1e3 && (r = 128), a >= 1200 && (r = 136), a >= 1366 && (r = 144), this.textSprite.style.fontSize = r;
        const l = this.calculateScaleFactor(a);
        this.textSprite.scale.set(l)
    }
    resize(a) {
        super.resize(a), this.setDirty()
    }
    setDirty() {
        this.dirty || (this.dirty = !0, this.draw())
    }
}
const $T = () => ({
    coin: "free"
});
class GT extends kn {
    constructor(a, r) {
        super(a, { ...$T,
            ...r
        });
        R(this, "selectors", ["currentRound"]);
        R(this, "background", null);
        R(this, "ratio", 0);
        R(this, "baseScale", 1);
        R(this, "data", {
            currentRound: 1
        });
        R(this, "dirtyCurrentRound", !0);
        R(this, "backgroundAnimation", {
            isAnimating: !1,
            startTime: 0,
            hasAnimated: !1
        });
        const l = ft.get(YT(this._config.coin));
        this.background = this.pool.getSprite(l), this.ratio = this.background.texture.orig.height / this.background.texture.orig.width, this.background.anchor.set(.5), this.background.position.set(this.width / 2, this.height / 2), this._scaleToCover(), this.container.addChild(this.background), this.addAnimation(this.animate)
    }
    isDynamic() {
        return !0
    }
    resize(a) {
        super.resize(a), this.background && (this.background.position.set(this.width / 2, this.height / 2), this._scaleToCover())
    }
    _scaleToCover() {
        if (!this.background) return;
        const a = this.background.texture.orig.width,
            r = this.background.texture.orig.height,
            l = this.width / a,
            d = this.height / r;
        this.width < 768 ? this.baseScale = l : this.baseScale = Math.max(l, d), this.background.scale.set(this.baseScale)
    }
    animate() {
        !this.dirtyCurrentRound && !this.backgroundAnimation.isAnimating || (this.dirtyCurrentRound && (this._triggerBackgroundAnimation(), this.dirtyCurrentRound = !1), this.backgroundAnimation.isAnimating && this._animateBackground())
    }
    _triggerBackgroundAnimation() {
        this.backgroundAnimation.isAnimating = !0, this.backgroundAnimation.startTime = Date.now(), this.backgroundAnimation.hasAnimated = !1, this.background && this.background.scale.set(this.baseScale * .95)
    }
    _animateBackground() {
        if (!this.background) return;
        const r = Date.now() - this.backgroundAnimation.startTime,
            l = 400;
        if (r >= 0) {
            const d = Math.min(r / l, 1),
                h = .95 + .05 * (1 - Math.pow(1 - d, 4));
            this.background.scale.set(this.baseScale * h), d >= 1 && (this.background.scale.set(this.baseScale), this.backgroundAnimation.hasAnimated = !0, this.backgroundAnimation.isAnimating = !1)
        }
    }
    update({
        currentRound: a
    }) {
        a != null && this.data.currentRound != a && (this.data.currentRound = a, this.dirtyCurrentRound = !0)
    }
}
const YT = e => `battle-background-${e}`,
    VT = () => ({
        countdownAccuracy: 1,
        countdownStyle: {
            fill: {
                color: de.colorForeground
            },
            stroke: {
                color: "#282425",
                width: 9,
                alignment: .8
            },
            dropShadow: {
                color: de.colorPrimary,
                alpha: 1,
                distance: 3,
                blur: 0,
                angle: Math.PI / 4
            },
            fontFamily: "DynapuffCustom, DynaPuff, Arial, sans-serif",
            fontWeight: "700",
            fontSize: 52,
            letterSpacing: 4
        },
        nextRoundStyle: {
            fill: {
                color: de.colorForeground
            },
            fontFamily: "DynapuffCustom, DynaPuff, Arial, sans-serif",
            fontWeight: "400",
            fontSize: 12,
            letterSpacing: -.02
        },
        layout: {
            timePosition: {
                x: .5,
                y: .5
            },
            roundPosition: {
                x: .5,
                y: .5
            },
            fontSize: 24,
            nextRoundFontSize: 12
        }
    });
class qT extends Ws {
    constructor(a, r) {
        super(a, { ...VT(),
            ...r
        });
        R(this, "selectors", ["currentRound"]);
        R(this, "timeText");
        R(this, "roundText");
        this.timeText = this.pool.getBitmapText("0.00s", this._config.countdownStyle), this.timeText.anchor.set(.5, .5), this.roundText = this.pool.getBitmapText("Round 1 starting in...", this._config.nextRoundStyle), this.roundText.anchor.set(.5, .5), this.container.addChild(this.timeText), this.container.addChild(this.roundText), this.addTransition("countdown", this.transitionCountdown.bind(this))
    }
    isDynamic() {
        return !0
    }
    transitionCountdown(a) {
        const r = a.get();
        if (r !== null) {
            const d = (r / 1e3).toFixed(this._config.countdownAccuracy) + "s";
            this.timeText.text = d
        }
    }
    resize(a) {
        super.resize(a), this._config.layout = a.battleCountdown, this.timeText.x = a.battleCountdown.timePosition.x, this.timeText.y = a.battleCountdown.timePosition.y, this.timeText.style.fontSize = a.battleCountdown.fontSize, this.roundText.x = a.battleCountdown.roundPosition.x, this.roundText.y = a.battleCountdown.roundPosition.y, this.roundText.style.fontSize = a.battleCountdown.nextRoundFontSize
    }
    update(a) {
        this.roundText.text = `Round ${a.currentRound} starting in...`
    }
}
const XT = () => ({
    color: "purple",
    defaultColor: de.colorCard,
    firstColor: "#FACC15",
    secondColor: "#BFDBFE",
    thirdColor: "#A16207",
    selfColor: "#FDC700"
});
class QT extends kn {
    constructor(a, r) {
        super(a, { ...XT(),
            ...r
        });
        R(this, "selectors", ["pointScoreboard", "currentUser", "prizePot", "users"]);
        R(this, "userEntries", new Map);
        R(this, "entryContainer");
        R(this, "text");
        R(this, "data", {
            pointScoreboard: [],
            currentUser: "",
            prizePot: void 0,
            users: {}
        });
        R(this, "usersCount", 0);
        R(this, "dirtyScoreboard", !0);
        R(this, "dirtyHeader", !0);
        R(this, "animationStartTime", 0);
        R(this, "isAnimating", !1);
        R(this, "animationData", new Map);
        R(this, "headerAnimation", {
            isAnimating: !1,
            startTime: 0,
            finalY: 0,
            hasAnimated: !1
        });
        R(this, "hasAnimatedCurrentScoreboard", !1);
        this.entryContainer = this.pool.getContainer(), this.container.addChild(this.entryContainer), this.text = this.pool.getText("Winners", {
            fill: {
                color: de.colorForeground
            },
            fontFamily: "DynaPuff",
            fontWeight: "600",
            fontSize: 28
        }), this.text.anchor.set(.5), this.container.addChild(this.text), this.dirtyScoreboard = !0, this.addAnimation(this.animate)
    }
    isDynamic() {
        return !0
    }
    _calculatePositions(a) {
        const r = [...a].sort((h, f) => f.points - h.points),
            l = [];
        let d = 1,
            u = null;
        for (let h = 0; h < r.length; h++) {
            const f = r[h];
            u !== null && f.points !== u && (d = h + 1), l.push({
                entry: f,
                position: d
            }), u = f.points
        }
        return l
    }
    resize(a) {
        super.resize(a), this.container.position.x = a.battleEndArea.x, this.container.position.y = a.battleEndArea.y, this.text.x = .5 * a.battleEndArea.width, this.text.y = .2 * a.battleEndArea.height, this.entryContainer.x = .5 * a.battleEndArea.width - .5 * a.battleEndLeaderboard.boxWidth, this.entryContainer.y = .2 * a.battleEndArea.height
    }
    get dirty() {
        return this.dirtyScoreboard || this.dirtyHeader
    }
    animate() {
        !this.dirty && !this.isAnimating || (this.dirtyHeader && (this._updateHeaderText(), this.dirtyHeader = !1), this.dirtyScoreboard && (this._updateScoreboard(), this.dirtyScoreboard = !1), this.headerAnimation.isAnimating && this._animateHeaderText(), this.isAnimating && this._animateEntries())
    }
    _animateEntries() {
        const r = Date.now() - this.animationStartTime;
        let l = !0;
        this.entryContainer.children.forEach(d => {
            const u = d,
                h = this.animationData.get(u);
            if (!h || h.hasAnimated) return;
            const f = h.animationDelay,
                p = 500;
            if (r >= f) {
                const y = Math.min((r - f) / p, 1),
                    x = 1 - Math.pow(1 - y, 4);
                u.y = h.finalY + 10 * (1 - x), u.alpha = x;
                const S = .8 + .2 * x;
                u.scale.set(S), y >= 1 ? (u.y = h.finalY, u.alpha = 1, u.scale.set(1), h.hasAnimated = !0) : l = !1
            } else l = !1
        }), l && (this.isAnimating = !1)
    }
    _animateHeaderText() {
        const r = Date.now() - this.headerAnimation.startTime,
            l = 400;
        if (r >= 0) {
            const d = Math.min(r / l, 1),
                u = 1 - Math.pow(1 - d, 4);
            this.text.y = this.headerAnimation.finalY + 15 * (1 - u), this.text.alpha = u, d >= 1 && (this.text.y = this.headerAnimation.finalY, this.text.alpha = 1, this.headerAnimation.hasAnimated = !0, this.headerAnimation.isAnimating = !1)
        }
    }
    _updateHeaderText() {
        const a = [...this.data.pointScoreboard].sort((d, u) => u.points - d.points);
        if (a.length === 0) {
            this.text.text = "Winners";
            return
        }
        const r = a[0].points,
            l = a.filter(d => d.points === r);
        if (l.length === 1) {
            const d = l[0].username || "Anon";
            if (this.data.prizePot) {
                const u = vt(this.data.prizePot, 3, !1);
                this.text.text = `${d} wins ${u}`
            } else this.text.text = `${d} wins!`
        } else if (this.data.prizePot) {
            const d = vt(this.data.prizePot, 3, !1);
            this.text.text = `${l.length}-way tie! ${d} split`
        } else this.text.text = `${l.length}-way tie!`
    }
    _updateScoreboard() {
        const a = this._calculatePositions(this.data.pointScoreboard);
        if (this.isAnimating || this.headerAnimation.isAnimating) {
            const r = this.entryContainer.children.length,
                l = Math.min(a.length, r);
            for (let d = 0; d < l; d++) {
                const {
                    entry: u,
                    position: h
                } = a[d], f = this.entryContainer.children[d];
                this._updateUserEntryData(h, u, f)
            }
            if (a.length > r)
                for (let d = r; d < a.length; d++) {
                    const {
                        entry: u,
                        position: h
                    } = a[d], f = this._updateUserEntry(h, u), p = (this.layout.battleEndLeaderboard.boxHeight + this.layout.battleEndLeaderboard.gap) * (d + 1);
                    f.y = p + this.layout.battleEndLeaderboard.boxHeight / 2, f.x = this.layout.battleEndLeaderboard.boxWidth / 2, f.alpha = 1, this.entryContainer.addChild(f)
                }
            return
        }
        if (this.hasAnimatedCurrentScoreboard) {
            const r = this.entryContainer.children.length,
                l = Math.min(a.length, r);
            for (let d = 0; d < l; d++) {
                const {
                    entry: u,
                    position: h
                } = a[d], f = this.entryContainer.children[d];
                this._updateUserEntryData(h, u, f)
            }
            if (a.length > r)
                for (let d = r; d < a.length; d++) {
                    const {
                        entry: u,
                        position: h
                    } = a[d], f = this._updateUserEntry(h, u), p = (this.layout.battleEndLeaderboard.boxHeight + this.layout.battleEndLeaderboard.gap) * (d + 1);
                    f.y = p + this.layout.battleEndLeaderboard.boxHeight / 2, f.x = this.layout.battleEndLeaderboard.boxWidth / 2, f.alpha = 1, this.entryContainer.addChild(f)
                }
            return
        }
        this.entryContainer.removeChildren(), this.animationData.clear(), this.headerAnimation.isAnimating = !0, this.headerAnimation.startTime = Date.now(), this.headerAnimation.finalY = this.text.y, this.headerAnimation.hasAnimated = !1, this.text.y = this.headerAnimation.finalY + 15, this.text.alpha = 0, this.isAnimating = !0, this.animationStartTime = Date.now(), this.hasAnimatedCurrentScoreboard = !0;
        for (let r = 0; r < a.length; r++) {
            const {
                entry: l,
                position: d
            } = a[r], u = this._updateUserEntry(d, l), h = (this.layout.battleEndLeaderboard.boxHeight + this.layout.battleEndLeaderboard.gap) * (r + 1);
            u.y = h + 10 + this.layout.battleEndLeaderboard.boxHeight / 2, u.x = this.layout.battleEndLeaderboard.boxWidth / 2, u.alpha = 0, this.animationData.set(u, {
                finalY: h + this.layout.battleEndLeaderboard.boxHeight / 2,
                animationIndex: r,
                animationDelay: 600 + r * 150,
                hasAnimated: !1
            }), this.entryContainer.addChild(u)
        }
    }
    _getOrCreateUserEntry(a, r) {
        if (!this.userEntries.has(r.id)) {
            const l = this._drawUserEntry(a, r);
            this.userEntries.set(r.id, l), this._updateUserEntry(a, r)
        }
        return this.userEntries.get(r.id)
    }
    _drawUserEntry(a, r) {
        var D, E;
        const l = this._getCurrentUserId(),
            d = r.id === l,
            u = this.pool.getContainer();
        u.pivot.set(this.layout.battleEndLeaderboard.boxWidth / 2, this.layout.battleEndLeaderboard.boxHeight / 2);
        const h = this._getColor(a),
            f = this.pool.getGraphics();
        f.label = "gfx", u.addChild(f);
        const p = h === this._config.defaultColor ? de.colorMutedForeground : h,
            y = this.pool.getText(`#${a}`, {
                fill: {
                    color: p
                },
                fontSize: this.layout.battleEndLeaderboard.text,
                fontFamily: "DynaPuff",
                fontWeight: "400",
                letterSpacing: -.02
            });
        y.label = "position", y.anchor.set(0, .5), y.position.set(this.layout.battleEndLeaderboard.gap, this.layout.battleEndLeaderboard.boxHeight / 2), u.addChild(y);
        const x = ((E = (D = this.data.users[r.id]) == null ? void 0 : D.levelInfo) == null ? void 0 : E.level) ? ? r.level ? ? 0,
            S = ks(x),
            v = ft.get(`badge-${S}`),
            C = this.pool.getSprite(v);
        C.label = "badge", C.anchor.set(0, .5), C.setSize(this.layout.battleEndLeaderboard.rankIcon), C.position.set(2 * this.layout.battleEndLeaderboard.gap + y.width, this.layout.battleEndLeaderboard.boxHeight / 2), u.addChild(C);
        const w = d ? "YOU" : r.username ? ? "Anon",
            j = w.length > 10 ? w.substring(0, 10) + "..." : w,
            A = this.pool.getText(j, {
                fill: {
                    color: de.colorForeground
                },
                fontSize: this.layout.battleEndLeaderboard.text,
                fontFamily: "DynaPuff",
                fontWeight: "400",
                letterSpacing: -.02
            });
        A.anchor.set(0, .5), A.label = "username", A.position.set(2 * this.layout.battleEndLeaderboard.gap + y.width + this.layout.battleEndLeaderboard.rankIcon + this.layout.battleEndLeaderboard.gap, this.layout.battleEndLeaderboard.boxHeight / 2), u.addChild(A);
        const _ = h === this._config.defaultColor ? de.colorMutedForeground : h,
            k = this.pool.getText(`${Math.round(r.points)} PTS`, {
                fill: {
                    color: _
                },
                fontSize: this.layout.battleEndLeaderboard.text,
                fontFamily: "DynaPuff",
                fontWeight: "400",
                letterSpacing: -.02
            });
        return k.label = "points", k.anchor.set(1, .5), k.position.set(this.layout.battleEndLeaderboard.boxWidth - 25, this.layout.battleEndLeaderboard.boxHeight / 2), u.addChild(k), u
    }
    _updateUserEntry(a, r) {
        var v, C;
        const l = this._getOrCreateUserEntry(a, r),
            d = this._getColor(a),
            u = l.getChildByLabel("gfx");
        u.clear();
        const h = this._getCurrentUserId();
        if (r.id === h) {
            console.log("selfColor", this._config.selfColor);
            const w = this.pool.getColor(this._config.selfColor).setAlpha(.1);
            u.roundRect(0, 0, this.layout.battleEndLeaderboard.boxWidth, this.layout.battleEndLeaderboard.boxHeight, this.layout.battleEndLeaderboard.corner).fill(w).stroke({
                width: 1,
                color: this.pool.getColor("#F5AF00").setAlpha(.2)
            })
        } else {
            const w = d === this._config.defaultColor ? this.pool.getColor(d) : this.pool.getColor(d).setAlpha(.05);
            u.roundRect(0, 0, this.layout.battleEndLeaderboard.boxWidth, this.layout.battleEndLeaderboard.boxHeight, this.layout.battleEndLeaderboard.corner).fill(w).stroke({
                width: 1,
                color: de.colorMuted
            })
        }
        const f = l.getChildByLabel("position");
        f.text = `#${a}`;
        const p = d === this._config.defaultColor ? de.colorMutedForeground : d;
        f.style.fill = {
            color: p
        };
        const y = l.getChildByLabel("badge");
        if (y) {
            const w = ((C = (v = this.data.users[r.id]) == null ? void 0 : v.levelInfo) == null ? void 0 : C.level) ? ? r.level ? ? 0,
                j = ks(w),
                A = ft.get(`badge-${j}`);
            y.texture = A, y.setSize(this.layout.battleEndLeaderboard.rankIcon)
        }
        const x = l.getChildByLabel("points");
        x.text = `${Math.round(r.points)} PTS`;
        const S = d === this._config.defaultColor ? de.colorMutedForeground : d;
        return x.style.fill = {
            color: S
        }, x.position.set(this.layout.battleEndLeaderboard.boxWidth - 25, this.layout.battleEndLeaderboard.boxHeight / 2), l
    }
    _updateUserEntryData(a, r, l) {
        const d = this._getColor(a),
            u = l.getChildByLabel("position");
        u.text = `#${a}`;
        const h = d === this._config.defaultColor ? de.colorMutedForeground : d;
        u.style.fill = {
            color: h
        };
        const f = l.getChildByLabel("points");
        f.text = `${Math.round(r.points)} PTS`;
        const p = d === this._config.defaultColor ? de.colorMutedForeground : d;
        f.style.fill = {
            color: p
        };
        const y = l.getChildByLabel("gfx");
        if (y.clear(), r.id === this.data.currentUser) {
            const x = new Ii(this._config.selfColor).setAlpha(.1);
            y.roundRect(0, 0, this.layout.battleEndLeaderboard.boxWidth, this.layout.battleEndLeaderboard.boxHeight, this.layout.battleEndLeaderboard.corner).fill(x).stroke({
                width: 1,
                color: new Ii("#F5AF00").setAlpha(.2)
            })
        } else {
            const x = d === this._config.defaultColor ? new Ii(d) : new Ii(d).setAlpha(.05);
            y.roundRect(0, 0, this.layout.battleEndLeaderboard.boxWidth, this.layout.battleEndLeaderboard.boxHeight, this.layout.battleEndLeaderboard.corner).fill(x).stroke({
                width: 1,
                color: de.colorMuted
            })
        }
    }
    _getCurrentUserId() {
        const a = this.data.currentUser;
        return a ? typeof a == "string" ? a : a.id ? ? "" : ""
    }
    _getColor(a) {
        return this._config[this._getPositionColorKey(a)]
    }
    _getPositionColorKey(a) {
        switch (a) {
            case 1:
                return "firstColor";
            case 2:
                return "secondColor";
            case 3:
                return "thirdColor"
        }
        return "defaultColor"
    }
    hasUsersChanged(a) {
        var d, u;
        if (this.data.users === a) return !1;
        const r = Object.keys(a).length;
        if (this.usersCount !== r) return !0;
        const l = new Set(this.data.pointScoreboard.map(h => h.id));
        for (const h of l) {
            const f = this.data.users[h],
                p = a[h];
            if (!f || !p || ((d = f.levelInfo) == null ? void 0 : d.level) !== ((u = p.levelInfo) == null ? void 0 : u.level) || f.username !== p.username) return !0
        }
        return !1
    }
    update({
        pointScoreboard: a,
        currentUser: r,
        prizePot: l,
        users: d
    }) {
        a != null && this.data.pointScoreboard != a && (this.data.pointScoreboard = a, this.dirtyScoreboard = !0, this.dirtyHeader = !0), r != null && this.data.currentUser != r && (this.data.currentUser = r), l != null && this.data.prizePot != l && (this.data.prizePot = l, this.dirtyHeader = !0), d && this.hasUsersChanged(d) && (this.data.users = d, this.usersCount = Object.keys(d).length, this.dirtyScoreboard = !0)
    }
}
const KT = () => ({
    color: "purple",
    defaultColor: de.colorCard,
    firstColor: "#FACC15",
    secondColor: "#BFDBFE",
    thirdColor: "#A16207",
    selfColor: "#FACC15"
});
class ZT extends kn {
    constructor(a, r) {
        super(a, { ...KT(),
            ...r
        });
        R(this, "selectors", ["pointScoreboard", "currentRound", "configRounds", "currentUser", "users"]);
        R(this, "userEntries", new Map);
        R(this, "entryContainer");
        R(this, "text");
        R(this, "data", {
            pointScoreboard: [],
            currentRound: 1,
            configRounds: 1,
            currentUser: "",
            users: {}
        });
        R(this, "dirtyScoreboard", !0);
        R(this, "dirtyCurrentRound", !0);
        R(this, "dirtyConfigRounds", !0);
        R(this, "animationStartTime", 0);
        R(this, "isAnimating", !1);
        R(this, "animationData", new Map);
        R(this, "headerAnimation", {
            isAnimating: !1,
            startTime: 0,
            finalY: 0,
            hasAnimated: !1
        });
        R(this, "hasAnimatedCurrentScoreboard", !1);
        R(this, "usersCount", 0);
        this.entryContainer = this.pool.getContainer(), this.container.addChild(this.entryContainer), this.text = this.pool.getText("Round 1/1", {
            fill: {
                color: de.colorForeground
            },
            fontFamily: "DynaPuff",
            fontWeight: "400",
            fontSize: 24
        }), this.text.anchor.set(.5), this.container.addChild(this.text), this.dirtyScoreboard = !0, this.dirtyCurrentRound = !0, this.dirtyConfigRounds = !0, this.addAnimation(this.animate)
    }
    isDynamic() {
        return !0
    }
    _calculatePositions(a) {
        const r = [...a].sort((h, f) => f.points - h.points),
            l = [];
        let d = 1,
            u = null;
        for (let h = 0; h < r.length; h++) {
            const f = r[h];
            u !== null && f.points !== u && (d = h + 1), l.push({
                entry: f,
                position: d
            }), u = f.points
        }
        return l
    }
    resize(a) {
        super.resize(a), this.text.x = .5 * a.battleRoundEndArea.width, this.text.y = .15 * a.battleRoundEndArea.height, this.entryContainer.x = .5 * a.battleRoundEndArea.width - .5 * a.battleRoundEndLeaderboard.boxWidth, this.entryContainer.y = .25 * a.battleRoundEndArea.height
    }
    get dirty() {
        return this.dirtyScoreboard || this.dirtyCurrentRound || this.dirtyConfigRounds
    }
    animate() {
        !this.dirty && !this.isAnimating || ((this.dirtyCurrentRound || this.dirtyConfigRounds) && (this.text.text = `Round ${this.data.currentRound}/${this.data.configRounds}`, this.text.alpha = 1, this.dirtyCurrentRound = !1, this.dirtyConfigRounds = !1), this.dirtyScoreboard && (this._updateScoreboard(), this.dirtyScoreboard = !1), this.headerAnimation.isAnimating && this._animateHeaderText(), this.isAnimating && this._animateEntries())
    }
    _animateEntries() {
        const r = Date.now() - this.animationStartTime;
        let l = !0;
        this.entryContainer.children.forEach(d => {
            const u = d,
                h = this.animationData.get(u);
            if (!h || h.hasAnimated) return;
            const f = h.animationDelay,
                p = 500;
            if (r >= f) {
                const y = Math.min((r - f) / p, 1),
                    x = 1 - Math.pow(1 - y, 4);
                u.y = h.finalY + 10 * (1 - x), u.alpha = x;
                const S = .8 + .2 * x;
                u.scale.set(S), y >= 1 ? (u.y = h.finalY, u.alpha = 1, u.scale.set(1), h.hasAnimated = !0) : l = !1
            } else l = !1
        }), l && (this.isAnimating = !1)
    }
    _animateHeaderText() {
        const r = Date.now() - this.headerAnimation.startTime,
            l = 400;
        if (r >= 0) {
            const d = Math.min(r / l, 1),
                u = 1 - Math.pow(1 - d, 4);
            this.text.y = this.headerAnimation.finalY + 15 * (1 - u), this.text.alpha = u, d >= 1 && (this.text.y = this.headerAnimation.finalY, this.text.alpha = 1, this.headerAnimation.hasAnimated = !0, this.headerAnimation.isAnimating = !1)
        }
    }
    _updateScoreboard() {
        const a = this._calculatePositions(this.data.pointScoreboard);
        if (this.isAnimating || this.headerAnimation.isAnimating) {
            const r = this.entryContainer.children.length,
                l = Math.min(a.length, r);
            for (let d = 0; d < l; d++) {
                const {
                    entry: u,
                    position: h
                } = a[d], f = this.entryContainer.children[d];
                this._updateUserEntryData(h, u, f)
            }
            if (a.length > r)
                for (let d = r; d < a.length; d++) {
                    const {
                        entry: u,
                        position: h
                    } = a[d], f = this._updateUserEntry(h, u), p = (this.layout.battleRoundEndLeaderboard.boxHeight + this.layout.battleRoundEndLeaderboard.gap) * (d + 1);
                    f.y = p + this.layout.battleRoundEndLeaderboard.boxHeight / 2, f.x = this.layout.battleRoundEndLeaderboard.boxWidth / 2, f.alpha = 1, this.entryContainer.addChild(f)
                }
            return
        }
        if (this.hasAnimatedCurrentScoreboard) {
            const r = this.entryContainer.children.length,
                l = Math.min(a.length, r);
            for (let d = 0; d < l; d++) {
                const {
                    entry: u,
                    position: h
                } = a[d], f = this.entryContainer.children[d];
                this._updateUserEntryData(h, u, f)
            }
            if (a.length > r)
                for (let d = r; d < a.length; d++) {
                    const {
                        entry: u,
                        position: h
                    } = a[d], f = this._updateUserEntry(h, u), p = (this.layout.battleRoundEndLeaderboard.boxHeight + this.layout.battleRoundEndLeaderboard.gap) * (d + 1);
                    f.y = p + this.layout.battleRoundEndLeaderboard.boxHeight / 2, f.x = this.layout.battleRoundEndLeaderboard.boxWidth / 2, f.alpha = 1, this.entryContainer.addChild(f)
                }
            return
        }
        this.entryContainer.removeChildren(), this.animationData.clear(), this.headerAnimation.isAnimating = !0, this.headerAnimation.startTime = Date.now(), this.headerAnimation.finalY = this.text.y, this.headerAnimation.hasAnimated = !1, this.text.y = this.headerAnimation.finalY + 15, this.text.alpha = 0, this.isAnimating = !0, this.animationStartTime = Date.now(), this.hasAnimatedCurrentScoreboard = !0;
        for (let r = 0; r < a.length; r++) {
            const {
                entry: l,
                position: d
            } = a[r], u = this._updateUserEntry(d, l), h = (this.layout.battleRoundEndLeaderboard.boxHeight + this.layout.battleRoundEndLeaderboard.gap) * (r + 1);
            u.y = h + 10 + this.layout.battleRoundEndLeaderboard.boxHeight / 2, u.x = this.layout.battleRoundEndLeaderboard.boxWidth / 2, u.alpha = 0, this.animationData.set(u, {
                finalY: h + this.layout.battleRoundEndLeaderboard.boxHeight / 2,
                animationIndex: r,
                animationDelay: 600 + r * 150,
                hasAnimated: !1
            }), this.entryContainer.addChild(u)
        }
    }
    hasUsersChanged(a) {
        var d, u;
        if (this.data.users === a) return !1;
        const r = Object.keys(a).length;
        if (this.usersCount !== r) return !0;
        const l = new Set(this.data.pointScoreboard.map(h => h.id));
        for (const h of l) {
            const f = this.data.users[h],
                p = a[h];
            if (!f || !p || ((d = f.levelInfo) == null ? void 0 : d.level) !== ((u = p.levelInfo) == null ? void 0 : u.level) || f.username !== p.username) return !0
        }
        return !1
    }
    _getOrCreateUserEntry(a, r) {
        if (!this.userEntries.has(r.id)) {
            const l = this._drawUserEntry(a, r);
            this.userEntries.set(r.id, l), this._updateUserEntry(a, r)
        }
        return this.userEntries.get(r.id)
    }
    _drawUserEntry(a, r) {
        var _, k;
        const l = this.pool.getContainer();
        l.pivot.set(this.layout.battleRoundEndLeaderboard.boxWidth / 2, this.layout.battleRoundEndLeaderboard.boxHeight / 2);
        const d = this._getColor(a),
            u = this.pool.getGraphics();
        u.label = "gfx", l.addChild(u);
        const h = d === this._config.defaultColor ? de.colorMutedForeground : d,
            f = this.pool.getText(`#${a}`, {
                fill: {
                    color: h
                },
                fontSize: this.layout.battleRoundEndLeaderboard.text,
                fontFamily: "DynaPuff",
                fontWeight: "400",
                letterSpacing: -.02
            });
        f.label = "position", f.anchor.set(0, .5), f.position.set(this.layout.battleRoundEndLeaderboard.gap, this.layout.battleRoundEndLeaderboard.boxHeight / 2), l.addChild(f);
        const p = ((k = (_ = this.data.users[r.id]) == null ? void 0 : _.levelInfo) == null ? void 0 : k.level) ? ? r.level ? ? 0,
            y = ks(p),
            x = ft.get(`badge-${y}`),
            S = this.pool.getSprite(x);
        S.label = "badge", S.anchor.set(0, .5), S.setSize(this.layout.battleRoundEndLeaderboard.rankIcon), S.position.set(2 * this.layout.battleRoundEndLeaderboard.gap + f.width, this.layout.battleRoundEndLeaderboard.boxHeight / 2), l.addChild(S);
        const v = r.username ? ? "Anon",
            C = v.length > 10 ? v.substring(0, 10) + "..." : v,
            w = this.pool.getText(C, {
                fill: {
                    color: de.colorForeground
                },
                fontSize: this.layout.battleRoundEndLeaderboard.text,
                fontFamily: "DynaPuff",
                fontWeight: "400",
                letterSpacing: -.02
            });
        w.anchor.set(0, .5), w.label = "username", w.position.set(2 * this.layout.battleRoundEndLeaderboard.gap + f.width + this.layout.battleRoundEndLeaderboard.rankIcon + this.layout.battleRoundEndLeaderboard.gap, this.layout.battleRoundEndLeaderboard.boxHeight / 2), l.addChild(w);
        const j = d === this._config.defaultColor ? de.colorMutedForeground : d,
            A = this.pool.getText(`${Math.round(r.points)} PTS`, {
                fill: {
                    color: j
                },
                fontSize: this.layout.battleRoundEndLeaderboard.text,
                fontFamily: "DynaPuff",
                fontWeight: "400",
                letterSpacing: -.02
            });
        return A.label = "points", A.anchor.set(1, .5), A.position.set(this.layout.battleRoundEndLeaderboard.boxWidth - 25, this.layout.battleRoundEndLeaderboard.boxHeight / 2), l.addChild(A), l
    }
    _updateUserEntry(a, r) {
        var S, v;
        const l = this._getOrCreateUserEntry(a, r),
            d = this._getColor(a),
            u = l.getChildByLabel("gfx");
        if (u.clear(), r.id === this.data.currentUser) {
            console.log("selfColor", this._config.selfColor);
            const C = this.pool.getColor(this._config.selfColor).setAlpha(.1);
            u.roundRect(0, 0, this.layout.battleRoundEndLeaderboard.boxWidth, this.layout.battleRoundEndLeaderboard.boxHeight, this.layout.battleRoundEndLeaderboard.corner).fill(C).stroke({
                width: 1,
                color: this._config.selfColor
            })
        } else {
            const C = d === this._config.defaultColor ? this.pool.getColor(d) : this.pool.getColor(d).setAlpha(.05);
            u.roundRect(0, 0, this.layout.battleRoundEndLeaderboard.boxWidth, this.layout.battleRoundEndLeaderboard.boxHeight, this.layout.battleRoundEndLeaderboard.corner).fill(C).stroke({
                width: 1,
                color: de.colorMuted
            })
        }
        const h = l.getChildByLabel("position");
        h.text = `#${a}`;
        const f = d === this._config.defaultColor ? de.colorMutedForeground : d;
        h.style.fill = {
            color: f
        };
        const p = l.getChildByLabel("points");
        p.text = `${Math.round(r.points)} PTS`;
        const y = d === this._config.defaultColor ? de.colorMutedForeground : d;
        p.style.fill = {
            color: y
        }, p.position.set(this.layout.battleRoundEndLeaderboard.boxWidth - 25, this.layout.battleRoundEndLeaderboard.boxHeight / 2);
        const x = l.getChildByLabel("badge");
        if (x) {
            const C = ((v = (S = this.data.users[r.id]) == null ? void 0 : S.levelInfo) == null ? void 0 : v.level) ? ? r.level ? ? 0,
                w = ks(C),
                j = ft.get(`badge-${w}`);
            x.texture = j, x.setSize(this.layout.battleRoundEndLeaderboard.rankIcon)
        }
        return l
    }
    _updateUserEntryData(a, r, l) {
        const d = this._getColor(a),
            u = l.getChildByLabel("position");
        u.text = `#${a}`;
        const h = d === this._config.defaultColor ? de.colorMutedForeground : d;
        u.style.fill = {
            color: h
        };
        const f = l.getChildByLabel("points");
        f.text = `${Math.round(r.points)} PTS`;
        const p = d === this._config.defaultColor ? de.colorMutedForeground : d;
        f.style.fill = {
            color: p
        };
        const y = l.getChildByLabel("gfx");
        if (y.clear(), r.id === this.data.currentUser) {
            const x = this.pool.getColor(this._config.selfColor).setAlpha(.1);
            y.roundRect(0, 0, this.layout.battleRoundEndLeaderboard.boxWidth, this.layout.battleRoundEndLeaderboard.boxHeight, this.layout.battleRoundEndLeaderboard.corner).fill(x).stroke({
                width: 1,
                color: this._config.selfColor
            })
        } else {
            const x = d === this._config.defaultColor ? this.pool.getColor(d) : this.pool.getColor(d).setAlpha(.05);
            y.roundRect(0, 0, this.layout.battleRoundEndLeaderboard.boxWidth, this.layout.battleRoundEndLeaderboard.boxHeight, this.layout.battleRoundEndLeaderboard.corner).fill(x).stroke({
                width: 1,
                color: de.colorMuted
            })
        }
    }
    _getColor(a) {
        return this._config[this._getPositionColorKey(a)]
    }
    _getPositionColorKey(a) {
        switch (a) {
            case 1:
                return "firstColor";
            case 2:
                return "secondColor";
            case 3:
                return "thirdColor"
        }
        return "defaultColor"
    }
    update({
        pointScoreboard: a,
        currentRound: r,
        configRounds: l,
        currentUser: d,
        users: u
    }) {
        a != null && this.data.pointScoreboard != a && (this.data.pointScoreboard = a, this.dirtyScoreboard = !0), r != null && this.data.currentRound != r && (this.data.currentRound = r, this.dirtyCurrentRound = !0, this.hasAnimatedCurrentScoreboard = !1), l != null && this.data.configRounds != l && (this.data.configRounds = l, this.dirtyConfigRounds = !0), d != null && this.data.currentUser != d && (this.data.currentUser = d), u && this.hasUsersChanged(u) && (this.data.users = u, this.usersCount = Object.keys(u).length, this.dirtyScoreboard = !0)
    }
}
class h0 {
    constructor(s, a, r, l, d) {
        R(this, "container");
        R(this, "pool");
        R(this, "isDestroyed", !1);
        R(this, "config");
        R(this, "layout");
        R(this, "isPreRound");
        R(this, "creditBagTexture");
        if (this.pool = $i.getInstance().createHandle(), this.container = this.pool.getContainer(), this.container.label = `battle-scoreboard-entry-${s.id}`, this.config = l, this.layout = d, this.isPreRound = r, this.creditBagTexture = ft.get("icon-credit"), this.container.pivot.set(d.width / 2, d.height / 2), this.config.isSelf) {
            const A = this.pool.getGraphics();
            A.label = "background", this.container.addChild(A)
        }
        const u = l.positionStyle || {
                fill: {
                    color: this.getColor(a)
                },
                fontSize: d.fontSize,
                fontFamily: "DynaPuff",
                fontWeight: "400"
            },
            h = this.pool.getText(`#${a}`, u);
        if (h.label = "positionText", h.anchor.set(0, .5), this.container.addChild(h), this.config.isSelf && l.usernameGlowStyle) {
            const A = "You",
                _ = A.length > 10 ? A.substring(0, 10) + "..." : A,
                k = this.pool.getText(_, l.usernameGlowStyle);
            k.label = "usernameGlow", k.anchor.set(0, .5);
            const D = this.pool.getBlurFilter(6);
            k.filters = [D], this.container.addChild(k)
        }
        const f = this.config.isSelf ? "You" : s.username ? ? "Anonymous",
            p = f.length > 10 ? f.substring(0, 10) + "..." : f,
            y = this.config.isSelf && l.usernameSelfStyle ? l.usernameSelfStyle : l.usernameStyle || {
                fill: {
                    color: this.getColor(a)
                },
                fontSize: d.fontSize,
                fontFamily: "DynaPuff",
                fontWeight: "400"
            },
            x = this.pool.getText(p, y);
        x.label = "usernameText", x.anchor.set(0, .5), this.container.addChild(x);
        const S = this.pool.getSprite(this.creditBagTexture);
        S.label = "creditBagSprite", S.anchor.set(.5, .5), S.tint = 16762624, S.width = 16, S.height = 16, this.container.addChild(S);
        const v = {
                fill: {
                    color: this.getColor(a)
                },
                fontSize: d.fontSize,
                fontFamily: "DynaPuff",
                fontWeight: "400"
            },
            C = this.pool.getText("", v);
        C.label = "amountText", C.anchor.set(1, .5), this.container.addChild(C);
        const w = {
                fontSize: d.fontSize * .9,
                fontFamily: "DynaPuff",
                fontWeight: "400"
            },
            j = this.pool.getText("", w);
        j.label = "percentText", j.anchor.set(1, .5), this.container.addChild(j), this.updateValues(s, a, this.isPreRound), this.updateLayout(this.layout)
    }
    getColor(s) {
        switch (s) {
            case 1:
                return this.config.firstColor;
            case 2:
                return this.config.secondColor;
            case 3:
                return this.config.thirdColor;
            default:
                return this.config.defaultColor
        }
    }
    updateLayout(s) {
        this.layout = s;
        const a = s.width,
            r = s.height;
        if (this.config.isSelf) {
            const p = this.container.getChildByLabel("background");
            p && p.clear().roundRect(0, 0, a, r, s.cornerRadius).fill({
                color: "#FDC700",
                alpha: .2
            }).stroke({
                color: "#FDC700",
                width: 1,
                alpha: .8
            })
        }
        const l = this.container.getChildByLabel("positionText");
        l && l.position.set(10, r / 2);
        const d = this.container.getChildByLabel("usernameText");
        d && d.position.set(50, r / 2);
        const u = this.container.getChildByLabel("creditBagSprite"),
            h = this.container.getChildByLabel("amountText"),
            f = this.container.getChildByLabel("percentText");
        this.isPreRound ? (u && u.position.set(a - 15, r / 2), h && h.position.set(a - 25, r / 2), f && (f.visible = !1)) : (u && u.position.set(a - 70, r / 2), h && h.position.set(a - 80, r / 2), f && (f.visible = !0, f.position.set(a - 10, r / 2)))
    }
    updateValues(s, a, r) {
        if (this.isDestroyed) return;
        this.isPreRound = r;
        const l = (s.positionQty || 0) > 0;
        this.container.alpha = l ? .5 : 1;
        const d = this.getColor(a),
            u = this.container.getChildByLabel("positionText");
        u && (u.text = `#${a}`, this.config.positionStyle ? Object.assign(u.style, this.config.positionStyle) : u.style.fill = {
            color: d
        });
        const h = this.container.getChildByLabel("usernameGlow");
        if (h && this.config.isSelf) {
            const x = "You",
                S = x.length > 10 ? x.substring(0, 10) + "..." : x;
            h.text = S, this.config.usernameGlowStyle && Object.assign(h.style, this.config.usernameGlowStyle)
        }
        const f = this.container.getChildByLabel("usernameText");
        if (f) {
            const x = this.config.isSelf ? "You" : s.username ? ? "Anonymous",
                S = x.length > 10 ? x.substring(0, 10) + "..." : x;
            f.text = S, this.config.isSelf && this.config.usernameSelfStyle ? Object.assign(f.style, this.config.usernameSelfStyle) : this.config.usernameStyle ? Object.assign(f.style, this.config.usernameStyle) : f.style.fill = {
                color: d
            }
        }
        const p = this.container.getChildByLabel("amountText"),
            y = this.container.getChildByLabel("percentText");
        if (this.isPreRound) {
            const x = s.totalInvested || 0;
            p && (p.text = x.toFixed(0), this.config.preroundPnlStyle ? Object.assign(p.style, this.config.preroundPnlStyle) : p.style.fill = {
                color: d
            })
        } else {
            const S = s.amount - 1e3,
                v = S / 1e3 * 100,
                C = S >= 0,
                w = (s.positionQty || 0) > 0;
            if (p) {
                p.text = S >= 0 ? `+${S.toFixed(0)}` : S.toFixed(0);
                let j;
                if (C ? j = w ? this.config.positiveMutedPnlStyle : this.config.positivePnlStyle : j = w ? this.config.negativeMutedPnlStyle : this.config.negativePnlStyle, j) Object.assign(p.style, j);
                else {
                    const A = S >= 0 ? "#22C55E" : "#EF4444";
                    p.style.fill = {
                        color: A
                    }
                }
            }
            if (y) {
                y.text = v >= 0 ? `+${v.toFixed(1)}%` : `${v.toFixed(1)}%`;
                let j;
                if (C ? j = w ? this.config.positiveMutedPercentStyle : this.config.positivePercentStyle : j = w ? this.config.negativeMutedPercentStyle : this.config.negativePercentStyle, j) Object.assign(y.style, j);
                else {
                    const A = v >= 0 ? "#22C55E" : "#EF4444";
                    y.style.fill = {
                        color: A
                    }
                }
            }
        }
        r !== this.isPreRound && this.updateLayout(this.layout)
    }
    getContainer() {
        return this.container
    }
    destroy() {
        if (this.isDestroyed) {
            console.warn("BattleScoreboardEntryComponent already destroyed");
            return
        }
        this.isDestroyed = !0, this.pool.release()
    }
}
const JT = () => ({
    defaultColor: "#A1A5BA",
    firstColor: "#FACC15",
    secondColor: "#BFDBFE",
    thirdColor: "#A16207",
    positionStyle: {
        fontSize: 16,
        fontFamily: "DynaPuff",
        fontWeight: "400",
        fill: de.colorForeground,
        letterSpacing: -.02
    },
    usernameGlowStyle: {
        fontSize: 16,
        fontFamily: "DynaPuff",
        fontWeight: "400",
        fill: {
            color: "#FDC700",
            alpha: 1
        },
        letterSpacing: -.02
    },
    usernameStyle: {
        fontSize: 16,
        fontFamily: "DynaPuff",
        fontWeight: "400",
        fill: de.colorForeground,
        letterSpacing: -.02
    },
    usernameSelfStyle: {
        fontSize: 16,
        fontFamily: "DynaPuff",
        fontWeight: "400",
        fill: de.colorPrimary,
        letterSpacing: -.02
    },
    positivePnlStyle: {
        fontSize: 16,
        fontFamily: "DynaPuff",
        fontWeight: "600",
        fill: {
            color: de.colorSuccess,
            alpha: 1
        },
        letterSpacing: -.02
    },
    negativePnlStyle: {
        fontSize: 16,
        fontFamily: "DynaPuff",
        fontWeight: "600",
        fill: {
            color: de.colorDestructive,
            alpha: 1
        },
        letterSpacing: -.02
    },
    positiveMutedPnlStyle: {
        fontSize: 16,
        fontFamily: "DynaPuff",
        fontWeight: "600",
        fill: {
            color: de.colorCandlestickUp,
            alpha: .7
        },
        letterSpacing: -.02
    },
    negativeMutedPnlStyle: {
        fontSize: 16,
        fontFamily: "DynaPuff",
        fontWeight: "600",
        fill: {
            color: de.colorCandlestickDown,
            alpha: .7
        },
        letterSpacing: -.02
    },
    preroundPnlStyle: {
        fontSize: 16,
        fontFamily: "DynaPuff",
        fontWeight: "600",
        fill: {
            color: "#FFA500",
            alpha: .8
        },
        letterSpacing: -.02
    },
    positivePercentStyle: {
        fontSize: 14,
        fontFamily: "DynaPuff",
        fontWeight: "600",
        fill: {
            color: de.colorSuccess,
            alpha: 1
        },
        letterSpacing: -.02
    },
    negativePercentStyle: {
        fontSize: 14,
        fontFamily: "DynaPuff",
        fontWeight: "600",
        fill: {
            color: de.colorDestructive,
            alpha: 1
        },
        letterSpacing: -.02
    },
    positiveMutedPercentStyle: {
        fontSize: 14,
        fontFamily: "DynaPuff",
        fontWeight: "600",
        fill: {
            color: de.colorCandlestickUp,
            alpha: .7
        },
        letterSpacing: -.02
    },
    negativeMutedPercentStyle: {
        fontSize: 14,
        fontFamily: "DynaPuff",
        fontWeight: "600",
        fill: {
            color: de.colorCandlestickDown,
            alpha: .7
        },
        letterSpacing: -.02
    },
    backgroundStyle: {
        color: 0,
        alpha: 0
    },
    backgroundSelfStyle: {
        color: de.colorPrimary,
        alpha: .2
    },
    backgroundSelfStrokeStyle: {
        color: de.colorPrimary,
        width: 1
    },
    borderStyle: {
        color: 3355443,
        width: 1,
        alpha: .5
    }
});
class ej extends kn {
    constructor(a, r) {
        super(a, { ...JT(),
            ...r
        });
        R(this, "selectors", ["scoreboard", "pointScoreboard", "currentUser", "isPreRound"]);
        R(this, "entryComponents", new Map);
        R(this, "playerEntryComponent");
        R(this, "currentLayout");
        R(this, "activeEntryIds", new Set);
        R(this, "data", {
            scoreboard: [],
            pointScoreboard: [],
            currentUser: null,
            isPreRound: !0
        });
        R(this, "dirty", !0);
        R(this, "entryConfigStyles");
        this.entryConfigStyles = {
            defaultColor: this._config.defaultColor,
            firstColor: this._config.firstColor,
            secondColor: this._config.secondColor,
            thirdColor: this._config.thirdColor,
            positionStyle: this._config.positionStyle,
            usernameGlowStyle: this._config.usernameGlowStyle,
            usernameStyle: this._config.usernameStyle,
            usernameSelfStyle: this._config.usernameSelfStyle,
            positivePnlStyle: this._config.positivePnlStyle,
            negativePnlStyle: this._config.negativePnlStyle,
            positiveMutedPnlStyle: this._config.positiveMutedPnlStyle,
            negativeMutedPnlStyle: this._config.negativeMutedPnlStyle,
            preroundPnlStyle: this._config.preroundPnlStyle,
            positivePercentStyle: this._config.positivePercentStyle,
            negativePercentStyle: this._config.negativePercentStyle,
            positiveMutedPercentStyle: this._config.positiveMutedPercentStyle,
            negativeMutedPercentStyle: this._config.negativeMutedPercentStyle,
            backgroundStyle: this._config.backgroundStyle,
            backgroundSelfStyle: this._config.backgroundSelfStyle,
            backgroundSelfStrokeStyle: this._config.backgroundSelfStrokeStyle,
            borderStyle: this._config.borderStyle
        }, this.addAnimation(this.animate)
    }
    isDynamic() {
        return !0
    }
    _calculatePointPositions(a, r) {
        const l = new Map;
        for (const y of r) l.set(y.id, y.amount);
        const u = a.map(y => {
                const x = l.get(y.id) || 0;
                return {
                    id: y.id,
                    combinedScore: y.points + x
                }
            }).sort((y, x) => x.combinedScore - y.combinedScore),
            h = new Map;
        let f = 1,
            p = null;
        for (let y = 0; y < u.length; y++) {
            const x = u[y];
            p !== null && x.combinedScore !== p && (f = y + 1), h.set(x.id, f), p = x.combinedScore
        }
        return h
    }
    calculateScaleFactor(a) {
        return a >= 1366 ? 1 : a >= 1200 ? .9 : a >= 1e3 ? .7 : a >= 768 ? .6 : .5
    }
    resize(a) {
        var u;
        super.resize(a), this.currentLayout = a;
        const r = window.innerWidth,
            l = this.calculateScaleFactor(r);
        this.container.scale.set(l), this.container.pivot.set(a.battleScoreboardArea.width, 0), this.container.x = a.battleScoreboardArea.x + a.battleScoreboardArea.width, this.container.y = a.battleScoreboardArea.y;
        const d = this.createEntryLayout(a.battleScoreboard);
        this.entryComponents.forEach(h => {
            h.updateLayout(d)
        }), (u = this.playerEntryComponent) == null || u.updateLayout(d), this.dirty = !0
    }
    createEntryLayout(a) {
        const r = window.innerWidth,
            l = this.calculateScaleFactor(r),
            d = window.innerWidth <= 768;
        return {
            scaleFactor: l,
            width: a.boxWidth,
            height: a.boxHeight,
            fontSize: a.fontSize,
            isCompact: d,
            badgeSize: a.badgeSize,
            gap: a.gap,
            cornerRadius: a.cornerRadius,
            amountPosition: a.amountPosition,
            amountPercentPosition: a.amountPercentPosition
        }
    }
    createEntryConfig(a) {
        return {
            isSelf: a,
            ...this.entryConfigStyles
        }
    }
    animate() {
        this.dirty && (this.dirty = !1, this.updateScoreboard())
    }
    updateScoreboard() {
        if (!this.currentLayout) return;
        const a = this.currentLayout.battleScoreboard,
            r = this._calculatePointPositions(this.data.pointScoreboard, this.data.scoreboard);
        this.updatePlayerEntry(a, r), this.updateRegularEntries(a, r), this.cleanupUnusedEntries()
    }
    updatePlayerEntry(a, r) {
        const l = this.data.scoreboard.find(d => {
            var u;
            return d.id === ((u = this.data.currentUser) == null ? void 0 : u.id)
        });
        if (l) {
            const d = r.get(l.id) || 1,
                u = this.createEntryConfig(!0),
                h = this.createEntryLayout(a);
            this.playerEntryComponent ? this.playerEntryComponent.updateValues(l, d, this.data.isPreRound) : (this.playerEntryComponent = new h0(l, d, this.data.isPreRound, u, h), this.container.addChild(this.playerEntryComponent.getContainer()));
            const f = this.currentLayout ? this.currentLayout.battleScoreboardArea.width - this.currentLayout.battleScoreboard.boxWidth / 2 : a.boxWidth / 2,
                p = this.playerEntryComponent.getContainer();
            p.x = f, p.y = a.boxHeight / 2, p.visible = !0
        } else this.playerEntryComponent && (this.container.removeChild(this.playerEntryComponent.getContainer()), this.playerEntryComponent.destroy(), this.playerEntryComponent = void 0)
    }
    updateRegularEntries(a, r) {
        var y;
        const l = (y = this.data.currentUser) == null ? void 0 : y.id,
            d = this.data.scoreboard.filter(x => x.id !== l),
            u = new Set(d.map(x => x.id));
        this.entryComponents.forEach((x, S) => {
            u.has(S) || (this.container.removeChild(x.getContainer()), x.destroy(), this.entryComponents.delete(S), this.activeEntryIds.delete(S))
        });
        const h = this.currentLayout ? this.currentLayout.battleScoreboardArea.width - this.currentLayout.battleScoreboard.boxWidth / 2 : a.boxWidth / 2,
            f = a.boxHeight;
        let p = f / 2;
        this.playerEntryComponent && (p += f);
        for (const x of d) {
            const S = r.get(x.id) || 1;
            let v = this.entryComponents.get(x.id);
            const C = this.createEntryConfig(!1),
                w = this.createEntryLayout(a);
            v ? v.updateValues(x, S, this.data.isPreRound) : (v = new h0(x, S, this.data.isPreRound, C, w), this.entryComponents.set(x.id, v), this.activeEntryIds.add(x.id), this.container.addChild(v.getContainer()));
            const j = v.getContainer();
            j.x = h, j.y = p, j.visible = !0, p += f
        }
    }
    cleanupUnusedEntries() {}
    destroy() {
        this.playerEntryComponent && this.playerEntryComponent.destroy();
        for (const a of this.entryComponents.values()) a.destroy();
        this.entryComponents.clear(), this.activeEntryIds.clear(), super.destroy()
    }
    update({
        scoreboard: a,
        pointScoreboard: r,
        currentUser: l,
        isPreRound: d
    }) {
        (this.data.scoreboard !== a || this.data.pointScoreboard !== r || this.data.currentUser !== l || this.data.isPreRound !== d) && (this.data.scoreboard = a, this.data.pointScoreboard = r, this.data.currentUser = l, this.data.isPreRound = d, this.dirty = !0)
    }
}
class Py {
    constructor(s, a, r, l) {
        R(this, "container");
        R(this, "pool");
        R(this, "layout");
        R(this, "config");
        R(this, "amountStyle");
        R(this, "borderStyle");
        R(this, "backgroundStyle");
        R(this, "animationState", null);
        R(this, "isDestroyed", !1);
        this.pool = $i.getInstance().createHandle(), this.container = this.pool.getContainer(), this.config = r, this.layout = l, this.amountStyle = s.type === "buy" ? this.config.positiveAmountStyle : this.config.negativeAmountStyle, this.borderStyle = s.type === "buy" ? this.config.positiveBorderStyle : this.config.negativeBorderStyle, this.backgroundStyle = s.type === "buy" ? this.config.positiveBackgroundStyle : this.config.negativeBackgroundStyle;
        const d = this.pool.getContainer();
        d.label = "trademarker";
        const u = ft.get(s.type === "buy" ? "trademarker_buy" : "trademarker_sell"),
            h = this.pool.getSprite(u);
        h.label = "background", h.anchor.set(.5, .5);
        const f = ft.get("icon-credit"),
            p = this.pool.getSprite(f);
        if (p.label = "coin", p.tint = 16762624, p.anchor.set(.5, .5), d.addChild(h), d.addChild(p), this.container.addChild(d), r.trademarkerDetails) {
            const y = this.pool.getContainer();
            y.label = "details";
            const x = this.pool.getText(s.username ? ? "Anonymous", this.config.usernameStyle);
            x.label = "username";
            const S = ks(s.level ? ? 0),
                v = ft.get(`badge-${S}`),
                C = this.pool.getSprite(v);
            C.label = "levelBadge";
            const w = this.pool.getText(s.type === "buy" ? "Buy" : "Sell", this.config.typeStyle);
            w.label = "type";
            const j = s.type === "sell" ? -(s.proceeds || 0) : s.cost || 0,
                A = this.pool.getText(vt(j, this.config.trademarkerAmountPrecision), this.amountStyle);
            A.label = "amount";
            const _ = this.pool.getGraphics();
            _.label = "detailsGfx", y.addChild(_), y.addChild(C), y.addChild(x), y.addChild(w), y.addChild(A), this.container.addChild(y)
        }
        this.updateLayout(l), this.updateTickPosition(a.x, a.y), this.startAnimation()
    }
    startAnimation() {
        this.config.animationType === "fade" ? (this.animationState = {
            phase: "fadeIn",
            startTime: Date.now(),
            totalDuration: this.config.animationFadeInDuration + this.config.animationVisibleDuration + this.config.animationFadeOutDuration
        }, this.container.alpha = 0) : this.config.animationType === "none" && (this.container.alpha = 1, this.animationState = null)
    }
    updateAnimation() {
        if (!this.animationState || this.isDestroyed) return !1;
        const s = Date.now(),
            a = s - this.animationState.startTime;
        switch (this.animationState.phase) {
            case "fadeIn":
                {
                    const r = Math.min(a / this.config.animationFadeInDuration, 1);
                    return this.container.alpha = r,
                    r >= 1 && (this.animationState.phase = "visible", this.animationState.startTime = s),
                    !0
                }
            case "visible":
                return this.container.alpha = 1, a >= this.config.animationVisibleDuration && (this.animationState.phase = "fadeOut", this.animationState.startTime = s), !0;
            case "fadeOut":
                {
                    const r = Math.min(a / this.config.animationFadeOutDuration, 1);
                    return this.container.alpha = 1 - r,
                    r >= 1 && (this.animationState.phase = "completed", this.container.alpha = 1),
                    !0
                }
            case "completed":
            default:
                return this.container.alpha = 1, !1
        }
    }
    isAnimationComplete() {
        return this.config.animationType === "none" ? !1 : !this.animationState || this.animationState.phase === "completed"
    }
    animate(s) {
        this.container.alpha = s
    }
    updateLayout(s) {
        this.layout = s;
        const a = this.layout[this.config.layoutKey],
            r = this.container.getChildByLabel("trademarker");
        if (!r) {
            console.warn("BattleTrademarker container not found");
            return
        }
        const l = r.getChildByLabel("coin");
        if (!l) {
            console.warn("BattleTrademarker coin sprite not found");
            return
        }
        l.setSize(a.logo), l.position.set(0, 0);
        const d = r.getChildByLabel("background");
        if (!d) {
            console.warn("BattleTrademarker sprite not found");
            return
        }
        if (d.setSize(a.outer * 2), d.position.set(0, 0), this.config.trademarkerDetails) {
            const u = this.container.getChildByLabel("details");
            if (!u) {
                console.warn("BattleTrademarker details container not found");
                return
            }
            const h = u.getChildByLabel("username");
            if (!h) {
                console.warn("BattleTrademarker details username text not found");
                return
            }
            const f = u.getChildByLabel("levelBadge");
            if (!f) {
                console.warn("BattleTrademarker details user level not found");
                return
            }
            const p = u.getChildByLabel("type");
            if (!p) {
                console.warn("BattleTrademarker details type text not found");
                return
            }
            const y = u.getChildByLabel("amount");
            if (!y) {
                console.warn("BattleTrademarker details amount text not found");
                return
            }
            const x = u.getChildByLabel("detailsGfx");
            if (!x) {
                console.warn("BattleTrademarker details gfx not found");
                return
            }
            const S = 8,
                v = 4,
                C = 2,
                w = 4,
                j = 16;
            f.setSize(this.layout.detailsBadgeSize), f.position.set(S, S), h.position.set(S + f.width + v, S + (f.height - h.height) / 2);
            const A = Math.max(f.height, h.height);
            p.position.set(S, S + A + C), y.position.set(S + p.width + w, S + A + C);
            const _ = Math.max(f.width + v + h.width, p.width + w + y.width),
                k = A + C + Math.max(p.height, y.height),
                D = _ + S * 2,
                E = k + S * 2,
                P = -(D + a.outer + j),
                I = -E / 2;
            x.clear().roundRect(0, 0, D, E, 5).fill(this.backgroundStyle).stroke(this.borderStyle), u.position.set(P, I)
        }
    }
    updateTickPosition(s, a) {
        this.container.position.set(s, a)
    }
    getContainer() {
        return this.container
    }
    destroy() {
        this.isDestroyed = !0, this.animationState = null, this.pool.release()
    }
}

function f0(e) {
    return `${e.playerId}:${e.tickIndex}:${e.timestamp}:${e.type}`
}
const tj = () => ({
        tradesKey: "trades",
        layoutKey: "user",
        usernameStyle: {
            fontFamily: "DynaPuff",
            fill: {
                color: "white"
            },
            fontSize: 12
        },
        positiveAmountStyle: {
            fontFamily: "DynaPuff",
            fill: {
                color: "#22C55E"
            },
            fontSize: 12
        },
        negativeAmountStyle: {
            fontFamily: "DynaPuff",
            fill: {
                color: "#EF4444"
            },
            fontSize: 12
        },
        positiveBorderStyle: {
            width: 1,
            color: 2278750,
            alpha: 1
        },
        positiveBackgroundStyle: {
            color: 1974314,
            alpha: .8
        },
        negativeBorderStyle: {
            width: 1,
            color: 15138827,
            alpha: 1
        },
        negativeBackgroundStyle: {
            color: 1974314,
            alpha: .8
        },
        typeStyle: {
            fontFamily: "DynaPuff",
            fill: {
                color: "white"
            },
            fontSize: 12
        },
        trademarkerDetails: !0,
        trademarkerAmountPrecision: 3,
        animationType: "fade",
        animationFadeInDuration: 150,
        animationVisibleDuration: 1e3,
        animationFadeOutDuration: 300,
        inheritCandlesFromLayout: !0,
        inheritTrademarkersFromLayout: !0,
        layout: {
            candles: {
                candleWidth: 10,
                candleGap: 2,
                wickWidth: 2,
                maxCandles: 30
            },
            trademarkers: {
                user: {
                    outer: 10,
                    inner: 5,
                    logo: 10
                },
                other: {
                    outer: 10,
                    inner: 5,
                    logo: 10
                },
                detailsWidth: 100,
                detailsHeight: 100,
                detailsBadgeSize: 100,
                detailsTextPosition: {
                    x: 0,
                    y: 0
                },
                detailsUsernamePosition: {
                    x: 0,
                    y: 0
                },
                detailsBadgePosition: {
                    x: 0,
                    y: 0
                }
            }
        }
    }),
    ml = class ml extends Ws {
        constructor(a, r) {
            super(a, { ...tj(),
                ...r
            });
            R(this, "animations", new Set);
            R(this, "animationsOnNext", new Set);
            R(this, "selectors");
            R(this, "innerContainer");
            R(this, "data", {
                trades: [],
                currentUser: null,
                grid: {
                    min: 0,
                    max: 0
                }
            });
            R(this, "activeTrademarkers", new Map);
            R(this, "trademarkerMap", new Map);
            R(this, "lastGameId", null);
            R(this, "completedTrades", new Set);
            R(this, "fadeAnimations", new Map);
            R(this, "fadeOutTimers", new Map);
            this.selectors = [], this.selectors.push(this._config.tradesKey), this._config.trademarkerDetails, this.selectors.push("currentUser"), this.addTransition("displayData", this.transitionDisplayData.bind(this)), this.innerContainer = this.pool.getContainer(), this.container.addChild(this.innerContainer), this.addAnimation(this.updateAnimations.bind(this))
        }
        isAnimated() {
            return !0
        }
        isDynamic() {
            return !0
        }
        get availableWidth() {
            return this.layout.candleArea.width ? ? this.width
        }
        get availableHeight() {
            return this.layout.candleArea.height ? ? this.height
        }
        addAnimation(a) {
            return this.animations.add(a), this
        }
        addAnimationOnNextTick(a) {
            return this.animationsOnNext.add(a), this
        }
        removeAnimation(a) {
            return this.animations.delete(a), this
        }
        cancelTradeAnimations(a) {
            this.fadeAnimations.delete(a);
            const r = this.fadeOutTimers.get(a);
            r && (clearTimeout(r), this.fadeOutTimers.delete(a))
        }
        startFadeAnimation(a, r, l, d = !1) {
            const u = Date.now();
            if (this.fadeAnimations.set(a, {
                    startTime: u,
                    duration: l,
                    phase: "fadeIn"
                }), r.alpha = 0, !d) {
                const h = this._config.animationVisibleDuration + l,
                    f = setTimeout(() => {
                        const p = this.fadeAnimations.get(a);
                        p && (p.phase = "fadeOut", p.startTime = Date.now(), p.duration = this._config.animationFadeOutDuration), this.fadeOutTimers.delete(a)
                    }, h);
                this.fadeOutTimers.set(a, f)
            }
        }
        runTickers(...a) {
            if (!(this.animations.size === 0 && this.animationsOnNext.size === 0)) {
                for (const r of this.animationsOnNext) r.apply(this, a), this.animationsOnNext.delete(r);
                for (const r of this.animations) r.apply(this, a)
            }
        }
        _isOwnTrade(a) {
            var l;
            const r = (l = this.data.currentUser) == null ? void 0 : l.id;
            return !!(r && a.playerId === r)
        }
        resize(a) {
            super.resize(a), this.container.y = this.layout.candleArea.y, this.container.x = this.layout.candleArea.x, this.container.boundsArea = this.pool.getRectangle(this.layout.candleArea.x, this.layout.candleArea.y, this.layout.candleArea.width, this.layout.candleArea.height), this._config.inheritCandlesFromLayout && (this._config.layout.candles = this.layout.candles), this._config.inheritTrademarkersFromLayout && (this._config.layout.trademarkers = this.layout.trademarkers)
        }
        transitionDisplayData(a) {
            const r = a.get();
            if (!r) return;
            const l = r.candles || [],
                d = this._calculateCandlePositions(l);
            this.data.grid.min = r.displayMin, this.data.grid.max = r.displayMax, this._updateTrademarkers(this.data.trades, d)
        }
        updateAnimations() {
            const a = Date.now(),
                r = [];
            for (const [l, d] of this.fadeAnimations.entries()) {
                const u = a - d.startTime,
                    h = Math.min(u / d.duration, 1),
                    f = this.trademarkerMap.get(l);
                if (!f) {
                    r.push(l);
                    continue
                }
                d.phase === "fadeIn" ? (f.alpha = h, h >= 1 && (d.phase = "visible", d.startTime = a, d.duration = this._config.animationVisibleDuration)) : d.phase === "visible" ? f.alpha = 1 : d.phase === "fadeOut" && (f.alpha = 1 - h, h >= 1 && r.push(l))
            }
            for (const l of this.activeTrademarkers.values()) l.updateAnimation();
            r.forEach(l => {
                this.cancelTradeAnimations(l);
                const d = this.activeTrademarkers.get(l);
                d && (this.innerContainer.removeChild(d.getContainer()), d.destroy(), this.activeTrademarkers.delete(l), this.trademarkerMap.delete(l)), this.completedTrades.add(l)
            })
        }
        static clearGraphicsCache() {
            ml.graphicsContextCache.forEach(a => {
                a.destroy()
            }), ml.graphicsContextCache.clear()
        }
        _calculateCandlePositions(a) {
            const r = new Map;
            let l = 0;
            for (const h of a) {
                const f = l + this._config.layout.candles.candleWidth / 2;
                for (let p = h.startTick; p < h.endTick; p++) r.set(p, f);
                l += this._config.layout.candles.candleWidth + this._config.layout.candles.candleGap
            }
            const d = l + this._config.layout.candles.candleGap,
                u = this.availableWidth - d;
            return this.innerContainer.x = u / 2, r
        }
        _updateTrademarkers(a, r) {
            const l = a.length > 0 ? a[0].lobbyId : null;
            l && l !== this.lastGameId && (this.clearAllTrademarkers(), this.lastGameId = l);
            const d = new Set(a.map(u => f0(u)));
            this.activeTrademarkers.forEach((u, h) => {
                d.has(h) || (this.cancelTradeAnimations(h), this.innerContainer.removeChild(u.getContainer()), u.destroy(), this.activeTrademarkers.delete(h), this.trademarkerMap.delete(h))
            }), this._updateTrademarkerPositions(a, r)
        }
        _updateTrademarkerPositions(a, r) {
            for (const l of a) {
                if (l.tickIndex === 0) continue;
                const d = r.get(l.tickIndex);
                if (!d) continue;
                const u = this.availableHeight - this.availableHeight * nj(l.price, this.data.grid),
                    h = this._createOrGetTrademarker(l, f0(l), d, u);
                h && h.updateTickPosition(d, u)
            }
        }
        _createOrGetTrademarker(a, r, l, d) {
            if (this.completedTrades.has(r)) return null;
            if (this.activeTrademarkers.has(r)) return this.activeTrademarkers.get(r);
            const u = {
                    layoutKey: this._isOwnTrade(a) ? "user" : "other",
                    usernameStyle: this._config.usernameStyle,
                    positiveAmountStyle: this._config.positiveAmountStyle,
                    negativeAmountStyle: this._config.negativeAmountStyle,
                    positiveBorderStyle: this._config.positiveBorderStyle,
                    positiveBackgroundStyle: this._config.positiveBackgroundStyle,
                    negativeBorderStyle: this._config.negativeBorderStyle,
                    negativeBackgroundStyle: this._config.negativeBackgroundStyle,
                    typeStyle: this._config.typeStyle,
                    trademarkerDetails: this._config.trademarkerDetails,
                    trademarkerAmountPrecision: this._config.trademarkerAmountPrecision,
                    animationType: this._config.animationType,
                    animationFadeInDuration: this._config.animationFadeInDuration,
                    animationVisibleDuration: this._config.animationVisibleDuration,
                    animationFadeOutDuration: this._config.animationFadeOutDuration
                },
                h = new Py(a, {
                    x: l,
                    y: d
                }, u, this.layout.trademarkers);
            this.activeTrademarkers.set(r, h), this.trademarkerMap.set(r, h.getContainer()), this.innerContainer.addChild(h.getContainer());
            const f = this._isOwnTrade(a);
            return this.startFadeAnimation(r, h.getContainer(), 150, f), h
        }
        update(a) {
            a[this._config.tradesKey] !== void 0 && (this.data.trades = a[this._config.tradesKey]), Object.prototype.hasOwnProperty.call(a, "currentUser") && (this.data.currentUser = a.currentUser ? ? null)
        }
        clearAllTrademarkers() {
            this.fadeOutTimers.forEach(a => clearTimeout(a)), this.fadeOutTimers.clear(), this.fadeAnimations.clear(), this.completedTrades.clear(), this.activeTrademarkers.forEach(a => {
                this.innerContainer.removeChild(a.getContainer()), a.destroy()
            }), this.activeTrademarkers.clear(), this.trademarkerMap.clear()
        }
        destroy() {
            this.animations.clear(), this.animationsOnNext.clear(), this.clearAllTrademarkers(), super.destroy()
        }
    };
R(ml, "graphicsContextCache", new Map);
let xf = ml;

function nj(e, {
    min: s,
    max: a
}) {
    return (e - s) / (a - s)
}
const sj = () => ({
    tradesKey: "trades",
    layoutKey: "user",
    usernameStyle: {
        fontFamily: "DynaPuff",
        fill: {
            color: "white"
        },
        fontSize: 12
    },
    positiveAmountStyle: {
        fontFamily: "DynaPuff",
        fill: {
            color: "#22C55E"
        },
        fontSize: 12
    },
    negativeAmountStyle: {
        fontFamily: "DynaPuff",
        fill: {
            color: "#EF4444"
        },
        fontSize: 12
    },
    positiveBorderStyle: {
        width: 1,
        color: 2278750,
        alpha: 1
    },
    positiveBackgroundStyle: {
        color: 1974314,
        alpha: .8
    },
    negativeBorderStyle: {
        width: 1,
        color: 15138827,
        alpha: 1
    },
    negativeBackgroundStyle: {
        color: 1974314,
        alpha: .8
    },
    typeStyle: {
        fontFamily: "DynaPuff",
        fill: {
            color: "white"
        },
        fontSize: 12
    },
    trademarkerDetails: !0,
    trademarkerAmountPrecision: 3,
    animationType: "fade",
    animationFadeInDuration: 500,
    animationVisibleDuration: 1e3,
    animationFadeOutDuration: 500,
    inheritCandlesFromLayout: !0,
    inheritTrademarkersFromLayout: !0,
    layout: {
        candles: {
            candleWidth: 10,
            candleGap: 2,
            wickWidth: 2,
            maxCandles: 30
        },
        trademarkers: {
            user: {
                outer: 10,
                inner: 5,
                logo: 10
            },
            other: {
                outer: 10,
                inner: 5,
                logo: 10
            },
            detailsWidth: 100,
            detailsHeight: 100,
            detailsBadgeSize: 100,
            detailsTextPosition: {
                x: 0,
                y: 0
            },
            detailsUsernamePosition: {
                x: 0,
                y: 0
            },
            detailsBadgePosition: {
                x: 0,
                y: 0
            }
        }
    }
});
class ij extends Ws {
    constructor(a, r) {
        super(a, { ...sj(),
            ...r
        });
        R(this, "selectors");
        R(this, "innerContainer");
        R(this, "data", {
            trades: [],
            grid: {
                min: 0,
                max: 0
            }
        });
        R(this, "activeTrademarkers", new Map);
        R(this, "trademarkerMap", new Map);
        R(this, "lastGameId", null);
        R(this, "lastCandlePositions", new Map);
        this.selectors = [], this.selectors.push(this._config.tradesKey), this._config.trademarkerDetails, this.innerContainer = this.pool.getContainer(), this.container.addChild(this.innerContainer), this.addTransition("displayData", this.transitionDisplayData.bind(this)), this.addTransition(this._config.tradesKey, this.transitionTrades.bind(this))
    }
    isAnimated() {
        return !0
    }
    addAnimation(a) {
        return this
    }
    addAnimationOnNextTick(a) {
        return this
    }
    removeAnimation(a) {
        return this
    }
    get availableWidth() {
        return this.layout.candleArea.width ? ? this.width
    }
    get availableHeight() {
        return this.layout.candleArea.height ? ? this.height
    }
    resize(a) {
        super.resize(a), this.container.y = this.layout.candleArea.y, this.container.x = this.layout.candleArea.x, this.container.boundsArea = this.pool.getRectangle(this.layout.candleArea.x, this.layout.candleArea.y, this.layout.candleArea.width, this.layout.candleArea.height), this._config.inheritCandlesFromLayout && (this._config.layout.candles = this.layout.candles), this._config.inheritTrademarkersFromLayout && (this._config.layout.trademarkers = this.layout.trademarkers)
    }
    transitionDisplayData(a) {
        const r = a.get();
        if (!r) return;
        const l = r.candles || [],
            d = this._calculateCandlePositions(l);
        this.lastCandlePositions = d, this.data.grid.min = r.displayMin, this.data.grid.max = r.displayMax, this._updateTrademarkerPositions(this.data.trades, d)
    }
    transitionTrades(a) {
        this.data.trades = a.get() ? ? [], this._updateTrademarkers(this.data.trades, this.lastCandlePositions)
    }
    runTickers(a) {
        this.updateAnimations()
    }
    updateAnimations() {
        const a = [];
        this.activeTrademarkers.forEach((r, l) => {
            r.updateAnimation(), r.isAnimationComplete() && a.push(l)
        }), a.forEach(r => {
            const l = this.activeTrademarkers.get(r);
            l && (this.innerContainer.removeChild(l.getContainer()), l.destroy(), this.activeTrademarkers.delete(r), this.trademarkerMap.delete(r))
        })
    }
    _calculateCandlePositions(a) {
        const r = new Map;
        let l = 0;
        for (const h of a) {
            const f = l + this._config.layout.candles.candleWidth / 2;
            for (let p = h.startTick; p < h.endTick; p++) r.set(p, f);
            l += this._config.layout.candles.candleWidth + this._config.layout.candles.candleGap
        }
        const d = l + this._config.layout.candles.candleGap,
            u = this.availableWidth - d;
        return this.innerContainer.x = u / 2, r
    }
    _updateTrademarkers(a, r) {
        const l = a.length > 0 ? a[0].lobbyId : null;
        l && l !== this.lastGameId && (this.clearAllTrademarkers(), this.lastGameId = l);
        const d = new Set(a.map((u, h) => (h + 1).toString()));
        this.activeTrademarkers.forEach((u, h) => {
            d.has(h) || (this.innerContainer.removeChild(u.getContainer()), u.destroy(), this.activeTrademarkers.delete(h), this.trademarkerMap.delete(h))
        }), this._updateTrademarkerPositions(a, r)
    }
    _updateTrademarkerPositions(a, r) {
        let l = 1;
        for (const d of a) {
            if (d.tickIndex === 0) continue;
            const u = r.get(d.tickIndex);
            if (!u) continue;
            const h = this.availableHeight - this.availableHeight * aj(d.price, this.data.grid),
                f = this._createOrGetTrademarker(d, l.toString(), u, h);
            f && (f.updateTickPosition(u, h), l++)
        }
    }
    _createOrGetTrademarker(a, r, l, d) {
        if (this.activeTrademarkers.has(r)) return this.activeTrademarkers.get(r);
        const u = {
                layoutKey: this._config.layoutKey,
                usernameStyle: this._config.usernameStyle,
                positiveAmountStyle: this._config.positiveAmountStyle,
                negativeAmountStyle: this._config.negativeAmountStyle,
                positiveBorderStyle: this._config.positiveBorderStyle,
                positiveBackgroundStyle: this._config.positiveBackgroundStyle,
                negativeBorderStyle: this._config.negativeBorderStyle,
                negativeBackgroundStyle: this._config.negativeBackgroundStyle,
                typeStyle: this._config.typeStyle,
                trademarkerDetails: this._config.trademarkerDetails,
                trademarkerAmountPrecision: this._config.trademarkerAmountPrecision,
                animationType: this._config.layoutKey === "other" ? this._config.animationType : "none",
                animationFadeInDuration: this._config.animationFadeInDuration,
                animationVisibleDuration: this._config.animationVisibleDuration,
                animationFadeOutDuration: this._config.animationFadeOutDuration
            },
            h = new Py(a, {
                x: l,
                y: d
            }, u, this.layout.trademarkers);
        return this.activeTrademarkers.set(r, h), this.trademarkerMap.set(r, h.getContainer()), this.innerContainer.addChild(h.getContainer()), h
    }
    clearAllTrademarkers() {
        this.activeTrademarkers.forEach(a => {
            this.innerContainer.removeChild(a.getContainer()), a.destroy()
        }), this.activeTrademarkers.clear(), this.trademarkerMap.clear()
    }
    destroy() {
        this.clearAllTrademarkers(), super.destroy()
    }
}

function aj(e, {
    min: s,
    max: a
}) {
    return (e - s) / (a - s)
}
const rj = () => ({
    onLeaveMatch() {},
    color: "#00dc64"
});
class oj extends kn {
    constructor(a, r) {
        super(a, { ...rj(),
            ...r
        });
        R(this, "selectors", ["players", "config", "isEventLobby"]);
        R(this, "onLeaveMatch");
        R(this, "ready", !1);
        R(this, "dirty", !0);
        R(this, "backgroundSprite", null);
        R(this, "prizeTitle");
        R(this, "prizeAmount");
        R(this, "prizeAmountGlow");
        R(this, "playerIconsContainer");
        R(this, "leaveButton");
        R(this, "leaveButtonText");
        R(this, "data", {
            players: [],
            config: null,
            isEventLobby: !1
        });
        R(this, "REFERENCE_WIDTH", 1920);
        R(this, "REFERENCE_HEIGHT", 1080);
        R(this, "REFERENCE_CANVAS_HEIGHT", 600);
        this.container.cullable = !1, this.container.mask = null, this.dirty = !0, this.ready = !1, this.onLeaveMatch = (r == null ? void 0 : r.onLeaveMatch) ? ? (() => {}), this.setup(), this.addAnimation(this.animate)
    }
    isDynamic() {
        return !0
    }
    getScaleFactor() {
        const r = this.height / this.REFERENCE_CANVAS_HEIGHT;
        return Math.max(.5, Math.min(2, r))
    }
    getScaledFontSize(a) {
        const r = Math.round(a * this.getScaleFactor());
        return Math.max(r, 14)
    }
    getScaledSpacing(a) {
        return Math.round(a * this.getScaleFactor())
    }
    recalculateResponsiveElements() {
        this.ready && (this.prizeTitle && (this.prizeTitle.style.fontSize = this.getScaledFontSize(28)), this.prizeAmount && (this.prizeAmount.style.fontSize = this.getScaledFontSize(48), this.prizeAmount.style.stroke = {
            color: 2278750,
            width: this.getScaledSpacing(2)
        }), this.leaveButtonText && (this.leaveButtonText.style.fontSize = this.getScaledFontSize(20)), this.dirty = !0)
    }
    createBackground() {
        var d;
        this.backgroundSprite && (this.backgroundSprite.destroy(), this.backgroundSprite = null);
        const a = (d = this.data.config) == null ? void 0 : d.token;
        let r;
        a === "So11111111111111111111111111111111111111112" ? r = "battle-background-sol" : r = "battle-background-free";
        const l = ft.get(r);
        l && (this.backgroundSprite = this.pool.getSprite(l), this.backgroundSprite.anchor.set(.5), this.backgroundSprite.position.set(this.width / 2, this.height / 2), this._scaleToCover(), this.container.addChildAt(this.backgroundSprite, 0))
    }
    _scaleToCover() {
        if (!this.backgroundSprite) return;
        const a = this.backgroundSprite.texture.orig.width,
            r = this.backgroundSprite.texture.orig.height,
            l = this.width / a,
            d = this.height / r;
        let u;
        this.width < 768 ? u = l : u = Math.max(l, d), this.backgroundSprite.scale.set(u)
    }
    createUIElements() {
        this.prizeTitle = this.pool.getText("Prize Pot", {
            fontFamily: "DynaPuff",
            fontSize: this.getScaledFontSize(28),
            fill: 16777215,
            fontWeight: "bold",
            align: "center"
        }), this.prizeTitle.anchor.set(.5, .5), this.prizeAmountGlow = this.pool.getGraphics();
        const a = this.getScaledSpacing(100);
        this.prizeAmountGlow.circle(0, this.getScaledSpacing(10), a), this.prizeAmountGlow.fill({
            color: 2278750,
            alpha: .2
        });
        const r = this.pool.getBlurFilter();
        r.blur = this.getScaledSpacing(200), r.quality = 10, this.prizeAmountGlow.filters = [r], this.prizeAmount = this.pool.getText("30 $FREE!", {
            fontFamily: "DynaPuff",
            fontSize: this.getScaledFontSize(48),
            fill: 16777215,
            fontWeight: "bold",
            align: "center",
            stroke: {
                color: 2278750,
                width: this.getScaledSpacing(2)
            }
        }), this.prizeAmount.anchor.set(.5, .5), this.prizeAmount.cullable = !1, this.prizeAmount.mask = null, this.playerIconsContainer = this.pool.getContainer(), this.leaveButton = this.pool.getContainer(), this.leaveButton.eventMode = "static", this.leaveButton.cursor = "pointer", this.leaveButtonText = this.pool.getText("Leave Match", {
            fontFamily: "DynaPuff",
            fontSize: this.getScaledFontSize(20),
            fill: 10593722,
            fontWeight: "bold",
            align: "center"
        }), this.leaveButtonText.anchor.set(.5, .5), this.leaveButton.addChild(this.leaveButtonText), this.leaveButton.on("click", this.onLeaveMatch), this.container.addChild(this.prizeTitle), this.container.addChild(this.prizeAmountGlow), this.container.addChild(this.prizeAmount), this.container.addChild(this.playerIconsContainer), this.data.isEventLobby || this.container.addChild(this.leaveButton)
    }
    createPlayerIcons() {
        var l;
        this.playerIconsContainer.children.forEach(d => {
            d.destroy(!0)
        }), this.playerIconsContainer.removeChildren();
        const a = ((l = this.data.config) == null ? void 0 : l.maxPlayers) || 3,
            r = this.data.players || [];
        this.createPlayerList(r, a)
    }
    createPlayerList(a, r) {
        const l = r > 5,
            d = l ? Math.ceil(r / 2) : r,
            u = this.pool.getContainer();
        this.getScaleFactor();
        const h = this.width < 768,
            f = h ? this.getScaledSpacing(12) : this.getScaledSpacing(24),
            y = Math.min(this.getScaledSpacing(180), (this.width - f * 2 - this.getScaledSpacing(h ? 20 : 40)) / 2),
            x = h ? this.getScaledSpacing(20) : this.getScaledSpacing(40),
            S = h ? this.getScaledSpacing(28) : this.getScaledSpacing(36),
            v = this.getScaledFontSize(16),
            C = l ? y * 2 + x : y,
            w = this.getScaledSpacing(24);
        this.height - w * 2 - this.getScaledSpacing(200), u.x = -C / 2;
        const j = [],
            A = [];
        for (let k = 0; k < (l ? 2 : 1); k++) j[k] = 0, A[k] = 0;
        for (let k = 0; k < r; k++) {
            const D = l ? Math.floor(k / d) : 0,
                E = D * (y + x),
                P = this.pool.getContainer();
            P.x = E, P.y = A[D];
            const I = a[k],
                B = this.pool.getGraphics();
            S - this.getScaledSpacing(6);
            const X = h ? this.getScaledSpacing(6) : this.getScaledSpacing(10),
                O = h ? this.getScaledSpacing(6) : this.getScaledSpacing(8);
            if (I) {
                const L = this.pool.getText(I.username || `Player ${k+1}`, {
                        fontFamily: "DynaPuff",
                        fontSize: v,
                        fill: 2278750,
                        fontWeight: "500",
                        align: "center"
                    }),
                    F = L.height,
                    Y = L.width,
                    H = this.getScaledSpacing(8),
                    K = h ? this.getScaledSpacing(20) : this.getScaledSpacing(24),
                    z = h ? this.getScaledSpacing(32) : this.getScaledSpacing(40),
                    U = Math.max(K, Math.min(z, F + H * 2)),
                    V = Math.max(Y + H * 2, y - X);
                B.beginFill(2278750, .15), B.drawRoundedRect(0, -U / 2, V, U, O), B.endFill(), L.x = V / 2, L.anchor.set(.5, .5), L.y = 0, P.addChild(B), P.addChild(L);
                const W = h ? this.getScaledSpacing(4) : this.getScaledSpacing(6);
                A[D] += U + W, j[D] = A[D]
            } else {
                const L = this.pool.getText("Waiting...", {
                        fontFamily: "DynaPuff",
                        fontSize: v,
                        fill: 6710886,
                        fontWeight: "400",
                        fontStyle: "italic",
                        align: "center"
                    }),
                    F = L.height,
                    Y = L.width,
                    H = this.getScaledSpacing(8),
                    K = h ? this.getScaledSpacing(20) : this.getScaledSpacing(24),
                    z = h ? this.getScaledSpacing(32) : this.getScaledSpacing(40),
                    U = Math.max(K, Math.min(z, F + H * 2)),
                    V = Math.max(Y + H * 2, y - X);
                B.beginFill(6710886, .08), B.drawRoundedRect(0, -U / 2, V, U, O), B.endFill(), L.x = V / 2, L.anchor.set(.5, .5), L.y = 0, P.addChild(B), P.addChild(L);
                const W = h ? this.getScaledSpacing(4) : this.getScaledSpacing(6);
                A[D] += U + W, j[D] = A[D]
            }
            u.addChild(P)
        }
        const _ = Math.max(...j);
        u.y = -_ / 2, this.playerIconsContainer.addChild(u)
    }
    updatePrizeAmount() {
        if (!this.data.config) return;
        const a = vt((this.data.config.wagerAmount || 0) * (this.data.config.maxPlayers || 1), 3, !1),
            r = this.data.config.token === "0xPractice" ? "$FREE" : this.data.config.token === "So11111111111111111111111111111111111111112" ? "SOL" : this.data.config.token;
        this.prizeAmount.text = `${a} ${r}!`
    }
    updateLeaveButtonVisibility() {
        this.container.children.includes(this.leaveButton) && this.container.removeChild(this.leaveButton), this.data.isEventLobby || this.container.addChild(this.leaveButton)
    }
    resize(a) {
        super.resize(a), this.backgroundSprite && (this.backgroundSprite.position.set(this.width / 2, this.height / 2), this._scaleToCover()), this.recalculateResponsiveElements(), this.positionElements()
    }
    positionElements() {
        const a = this.width / 2;
        this.height / 2, this.getScaleFactor();
        const r = this.getScaledSpacing(24),
            l = r,
            d = this.height - r;
        this.width - r;
        const u = d - l,
            h = l + u / 2;
        this.getScaledSpacing(60);
        const f = this.getScaledSpacing(40),
            p = this.getScaledSpacing(50);
        this.getScaledSpacing(60), this.getScaledSpacing(180), this.prizeTitle.x = a, this.prizeTitle.y = l + this.getScaledSpacing(80), this.prizeAmountGlow.x = a, this.prizeAmountGlow.y = this.prizeTitle.y + f, this.prizeAmount.x = a, this.prizeAmount.y = this.prizeTitle.y + f, this.playerIconsContainer.x = a, this.playerIconsContainer.y = h + p, this.leaveButton.x = a, this.width < 768 ? this.leaveButton.y = d - this.getScaledSpacing(20) : this.leaveButton.y = d - this.getScaledSpacing(40)
    }
    animate(a) {
        this.ready && this.dirty && (this.createBackground(), this.createPlayerIcons(), this.updatePrizeAmount(), this.updateLeaveButtonVisibility(), this.positionElements(), this.dirty = !1)
    }
    update({
        players: a,
        config: r,
        isEventLobby: l
    }) {
        let d = !1;
        this.data.players !== a && (this.data.players = a, d = !0), (this.data.config !== r || r && this.data.config && this.data.config.token !== r.token) && (this.data.config = r, d = !0), this.data.isEventLobby !== l && (this.data.isEventLobby = l, d = !0), d && (this.dirty = !0)
    }
    async setup() {
        this.createUIElements(), this.createBackground(), this.positionElements(), this.ready = !0
    }
    destroy() {
        this.backgroundSprite && (this.backgroundSprite.destroy(), this.backgroundSprite = null), super.destroy()
    }
}
const lj = () => ({
    opacity: .95,
    blurStrength: 2,
    backgroundColor: "#15161E"
});
class cj extends Bn {
    constructor(a, r) {
        super(a, { ...lj(),
            ...r
        });
        R(this, "selectors", ["isPreRound"]);
        R(this, "overlay");
        R(this, "blurFilter");
        R(this, "data", {
            isPreRound: !1
        });
        this.overlay = this.pool.getGraphics(), this.container.addChild(this.overlay), this.blurFilter = this.pool.getBlurFilter(), this.blurFilter.strength = this._config.blurStrength, this.container.visible = !1
    }
    isDynamic() {
        return !0
    }
    resize(a) {
        super.resize(a), this.overlay.clear(), this.overlay.rect(0, 0, a.width, a.height), this.overlay.fill(this._config.backgroundColor), this.container.alpha = this._config.opacity, this.container.filters = [this.blurFilter]
    }
    update({
        isPreRound: a
    }) {
        a !== void 0 && (this.data.isPreRound = a, this.container.visible = a)
    }
}
const dj = () => ({
    fontFamily: "DynaPuff, sans-serif",
    textColor: "#FFC700",
    finalRoundColor: "#EF4444",
    backgroundColor: {
        r: 0,
        g: 0,
        b: 0,
        a: .75
    },
    borderRadius: 8,
    opacity: 1,
    upperAreaOpacity: .3
});
class uj extends Bn {
    constructor(a, r) {
        super(a, { ...dj(),
            ...r
        });
        R(this, "selectors", ["rugRoyaleIsActive", "rugRoyaleTimeRemaining", "rugRoyaleIsFinalRound", "rugRoyaleIsPriceInUpperArea"]);
        R(this, "background");
        R(this, "text");
        R(this, "data", {
            isActive: !1,
            timeRemaining: "",
            isFinalRound: !1,
            isPriceInUpperArea: !1
        });
        this.background = this.pool.getGraphics(), this.container.addChild(this.background), this.text = this.pool.getText("", {
            fontSize: 14,
            fontFamily: this._config.fontFamily,
            fill: this._config.textColor,
            fontWeight: "bold",
            align: "center"
        }), this.text.anchor.set(.5, .5), this.container.addChild(this.text), this.container.visible = !1
    }
    isDynamic() {
        return !0
    }
    resize(a) {
        super.resize(a);
        const r = a.width >= 768 ? 14 : 12,
            l = a.width >= 768 ? 8 : 6;
        this.text.style.fontSize = r;
        const d = r + l * 2,
            u = a.width / 2,
            h = d / 2;
        this.container.x = u, this.container.y = h, this.updateDisplay()
    }
    updateDisplay() {
        if (!this.data.isActive || !this.data.timeRemaining) {
            this.container.visible = !1;
            return
        }
        if (!this.layout) {
            this.container.visible = !1;
            return
        }
        this.container.visible = !0;
        const a = this.data.isFinalRound ? "🏆 FINAL ROUND" : `🏆 ${this.data.timeRemaining}`;
        this.text.text = a;
        const r = this.data.isFinalRound ? this._config.finalRoundColor : this._config.textColor;
        this.text.style.fill = r;
        const l = this.text.getBounds(),
            d = this.layout.width >= 768 ? 16 : 12,
            u = this.layout.width >= 768 ? 8 : 6,
            h = l.width + d * 2,
            f = l.height + u * 2;
        this.background.clear();
        const p = -h / 2,
            y = -f / 2,
            x = this._config.borderRadius;
        this.background.moveTo(p, y), this.background.lineTo(p + h, y), this.background.lineTo(p + h, y + f - x), this.background.quadraticCurveTo(p + h, y + f, p + h - x, y + f), this.background.lineTo(p + x, y + f), this.background.quadraticCurveTo(p, y + f, p, y + f - x), this.background.lineTo(p, y), this.background.fill(this._config.backgroundColor);
        const S = this.data.isPriceInUpperArea ? this._config.upperAreaOpacity : this._config.opacity;
        this.container.alpha = S, this.text.x = 0, this.text.y = 0
    }
    update({
        rugRoyaleIsActive: a,
        rugRoyaleTimeRemaining: r,
        rugRoyaleIsFinalRound: l,
        rugRoyaleIsPriceInUpperArea: d
    }) {
        let u = !1;
        this.data.isActive !== a && (this.data.isActive = a, u = !0), this.data.timeRemaining !== r && (this.data.timeRemaining = r, u = !0), this.data.isFinalRound !== l && (this.data.isFinalRound = l, u = !0), this.data.isPriceInUpperArea !== d && (this.data.isPriceInUpperArea = d, u = !0), u && this.updateDisplay()
    }
}
const hj = () => ({
    opacity: 1,
    particleCount: 10,
    particleSize: 4,
    particleSpeed: .125,
    gradientOpacity: .15
});
class fj extends kn {
    constructor(a, r) {
        super(a, { ...hj(),
            ...r
        });
        R(this, "selectors", ["goldenHourIsActive"]);
        R(this, "backgroundSprite");
        R(this, "particleContainer");
        R(this, "particles", []);
        R(this, "isActive", !1);
        R(this, "particleGraphicsContext", null);
        R(this, "animateParticles", a => {
            if (!this.container.visible || this.particles.length === 0) return;
            const r = this.width ? ? 0,
                l = this.height ? ? 0;
            for (const d of this.particles) d.x += d.vx * this._config.particleSpeed, d.y += d.vy * this._config.particleSpeed, d.x > r + 10 && (d.x = -10), d.x < -10 && (d.x = r + 10), d.y > l + 10 && (d.y = -10), d.y < -10 && (d.y = l + 10), d.sprite.x = d.x, d.sprite.y = d.y
        });
        const l = ft.get("golden-hour-background");
        this.backgroundSprite = this.pool.getSprite(l), this.backgroundSprite.alpha = this._config.gradientOpacity, this.particleContainer = this.pool.getContainer(), this.container.addChild(this.backgroundSprite), this.container.addChild(this.particleContainer), this.container.alpha = this._config.opacity, this.container.visible = !1, this.addAnimation(this.animateParticles)
    }
    isDynamic() {
        return !0
    }
    update(a) {
        this.container.visible = a.goldenHourIsActive, this.isActive !== a.goldenHourIsActive && (this.isActive = a.goldenHourIsActive), a.goldenHourIsActive ? this.particles.length === 0 && this.createParticles() : this.clearParticles()
    }
    resize(a) {
        super.resize(a), this.container.x = a.goldenHourOverlay.x, this.container.y = a.goldenHourOverlay.y, this.backgroundSprite.width = this.width, this.backgroundSprite.height = this.height
    }
    createParticles() {
        this.clearParticles();
        const a = this.width ? ? 0,
            r = this.height ? ? 0;
        for (let l = 0; l < this._config.particleCount; l++) {
            const d = this._config.particleSize * (.5 + Math.random() * 1),
                u = .2 + Math.random() * .4,
                h = this.pool.getGraphics();
            this.particleGraphicsContext || (this.particleGraphicsContext = this.pool.getGraphicsContext(), this.particleGraphicsContext.circle(0, 0, 1), this.particleGraphicsContext.fill({
                color: 16766720
            })), h.context = this.particleGraphicsContext, h.alpha = u, h.scale.set(d);
            const f = {
                sprite: h,
                x: Math.random() * a,
                y: Math.random() * r,
                vx: (Math.random() - .5) * 2,
                vy: (Math.random() - .5) * 2,
                scale: d,
                alpha: u
            };
            h.x = f.x, h.y = f.y, this.particles.push(f), this.particleContainer.addChild(h)
        }
    }
    clearParticles() {
        this.pool.return(this.particles.map(a => a.sprite)), this.particles = []
    }
    destroy() {
        this.particles = [], super.destroy()
    }
}
const pj = () => ({
    countdownAccuracy: 2,
    countdownStyle: {
        fill: {
            color: de.colorForeground
        },
        stroke: {
            color: "#282425",
            width: 9,
            alignment: .8
        },
        dropShadow: {
            color: de.colorPrimary,
            alpha: 1,
            distance: 3,
            blur: 0,
            angle: Math.PI / 4
        },
        fontFamily: "DynapuffCustom, DynaPuff, Arial, sans-serif",
        fontWeight: "700",
        fontSize: 52,
        letterSpacing: 4
    },
    nextRoundStyle: {
        fill: {
            color: de.colorForeground
        },
        fontFamily: "DynapuffCustom, DynaPuff, Arial, sans-serif",
        fontWeight: "400",
        fontSize: 12,
        letterSpacing: -.02
    },
    pausedStyle: {
        fill: {
            color: de.colorDestructive
        },
        fontFamily: "DynapuffCustom, DynaPuff, Arial, sans-serif",
        fontWeight: "400",
        fontSize: 24,
        letterSpacing: -.02
    },
    layout: {
        timePosition: {
            x: .5,
            y: .5
        },
        roundPosition: {
            x: .5,
            y: .5
        },
        pausedPosition: {
            x: .5,
            y: .5
        },
        fontSize: 24,
        nextRoundFontSize: 12,
        pausedFontSize: 24
    }
});
class p0 extends kn {
    constructor(a, r) {
        super(a, { ...pj(),
            ...r
        });
        R(this, "dirtyTimeLeft", !1);
        R(this, "dirtyCountdownPaused", !1);
        R(this, "dirtyCountdownPausedMessage", !1);
        R(this, "selectors", ["countdown", "countdownPaused", "countdownPausedMessage"]);
        R(this, "timeText");
        R(this, "roundText");
        R(this, "pausedText");
        R(this, "data", {
            timeLeft: 0,
            countdownPaused: !1,
            countdownPausedMessage: ""
        });
        this.timeText = this.pool.getBitmapText("0.00s", this._config.countdownStyle), this.timeText.anchor.set(.5, .5), this.roundText = this.pool.getBitmapText("Next round in...", this._config.nextRoundStyle), this.roundText.anchor.set(.5, .5), this.pausedText = this.pool.getBitmapText("Paused", this._config.pausedStyle), this.pausedText.anchor.set(.5, .5), this.pausedText.visible = !1, this.container.addChild(this.timeText), this.container.addChild(this.roundText), this.container.addChild(this.pausedText), this.dirtyTimeLeft = !0, this.addAnimation(this.animate)
    }
    isDynamic() {
        return !0
    }
    resize(a) {
        super.resize(a), this._config.layout = a.standardCountdown, this.timeText.x = this.layout.standardCountdown.timePosition.x, this.timeText.y = this.layout.standardCountdown.timePosition.y, this.timeText.style.fontSize = this.layout.standardCountdown.fontSize, this.roundText.x = this.layout.standardCountdown.roundPosition.x, this.roundText.y = this.layout.standardCountdown.roundPosition.y, this.roundText.style.fontSize = this.layout.standardCountdown.nextRoundFontSize, this.pausedText.x = this.layout.standardCountdown.pausedPosition.x, this.pausedText.y = this.layout.standardCountdown.pausedPosition.y, this.pausedText.style.fontSize = this.layout.standardCountdown.pausedFontSize
    }
    animate() {
        if (this.dirtyTimeLeft) {
            const r = (this.data.timeLeft / 1e3).toFixed(this._config.countdownAccuracy) + "s";
            this.timeText.text = r, this.dirtyTimeLeft = !1
        }
        this.dirtyCountdownPaused && (this.dirtyCountdownPaused = !1), this.dirtyCountdownPausedMessage && (this.pausedText.text = this.data.countdownPausedMessage, this.dirtyCountdownPausedMessage = !1), this.data.countdownPaused ? (this.pausedText.visible = !0, this.timeText.visible = !1, this.roundText.visible = !1) : (this.pausedText.visible = !1, this.timeText.visible = !0, this.roundText.visible = !0)
    }
    update({
        countdown: a,
        countdownPaused: r,
        countdownPausedMessage: l
    }) {
        this.data.timeLeft != a && (this.data.timeLeft = Math.max(0, a), this.dirtyTimeLeft = !0), typeof r == "boolean" && (this.data.countdownPaused = r, this.dirtyCountdownPaused = !0), typeof l == "string" && (this.data.countdownPausedMessage = l, this.dirtyCountdownPausedMessage = !0)
    }
}
const gj = () => ({
    layout: {
        x: 20,
        y: 20,
        width: 400,
        height: 100
    }
});
class mj extends kn {
    constructor(a, r) {
        super(a, { ...gj(),
            ...r
        });
        R(this, "selectors", ["isPreRound"]);
        R(this, "data", {
            isPreRound: !0
        });
        R(this, "presaleContainer");
        R(this, "presaleTitle");
        R(this, "buyText");
        R(this, "multiplierText");
        R(this, "beforeText");
        this.presaleContainer = this.pool.getContainer(), this.container.addChild(this.presaleContainer), this.presaleTitle = this.pool.getText("PRESALE", {
            fontFamily: "DynaPuff",
            fontSize: 32,
            fill: "#FFFFFF",
            fontWeight: "bold"
        }), this.presaleContainer.addChild(this.presaleTitle), this.buyText = this.pool.getText("Buy a guaranteed position at ", {
            fontFamily: "DynaPuff",
            fontSize: 14,
            fill: de.colorMutedForeground,
            fontWeight: "400"
        }), this.buyText.anchor.set(0, .5), this.presaleContainer.addChild(this.buyText), this.multiplierText = this.pool.getText("1.00X", {
            fontFamily: "DynaPuff",
            fontSize: 14,
            fill: "#00C950",
            fontWeight: "bold"
        }), this.multiplierText.anchor.set(0, .5), this.presaleContainer.addChild(this.multiplierText), this.beforeText = this.pool.getText("before the round starts", {
            fontFamily: "DynaPuff",
            fontSize: 14,
            fill: de.colorMutedForeground,
            fontWeight: "400"
        }), this.beforeText.anchor.set(0, .5), this.presaleContainer.addChild(this.beforeText), this.addAnimation(this.updateDisplay)
    }
    isDynamic() {
        return !0
    }
    resize(a) {
        super.resize(a), this._config.layout = a.presale, this.presaleContainer.x = this._config.layout.x, this.presaleContainer.y = this._config.layout.y;
        const r = a.width < 768,
            l = r ? 20 : 32,
            d = r ? 10 : 14,
            u = r ? 25 : 40,
            h = r ? 40 : 60;
        this.presaleTitle.style.fontSize = l, this.presaleTitle.position.set(0, 0), this.buyText.style.fontSize = d, this.buyText.position.set(0, u), this.multiplierText.style.fontSize = d, this.multiplierText.position.set(this.buyText.width, u), this.beforeText.style.fontSize = d, this.beforeText.position.set(0, h)
    }
    update(a) {
        typeof a.isPreRound == "boolean" && (this.data.isPreRound = a.isPreRound)
    }
    updateDisplay() {
        this.container.visible = this.data.isPreRound
    }
}
const xj = () => ({
    layout: {
        x: 0,
        y: 0,
        width: 400,
        height: 100
    }
});
class yj extends kn {
    constructor(a, r) {
        super(a, { ...xj(),
            ...r
        });
        R(this, "selectors", ["rugged"]);
        R(this, "data", {
            rugged: !1
        });
        R(this, "ruggedContainer");
        R(this, "ruggedText");
        this.ruggedContainer = this.pool.getContainer(), this.container.addChild(this.ruggedContainer), this.ruggedText = this.pool.getText("Thanks for playing 😹🫵", {
            fontFamily: "DynaPuff",
            fontSize: 28,
            fill: "#FFFFFF",
            fontWeight: "400"
        }), this.ruggedText.anchor.set(.5, 1), this.ruggedContainer.addChild(this.ruggedText), this.addAnimation(this.updateDisplay)
    }
    isDynamic() {
        return !0
    }
    calculateScaleFactor(a) {
        return a >= 1366 ? 1 : a >= 1200 ? .9 : a >= 1e3 ? .8 : a >= 768 ? .7 : .6
    }
    resize(a) {
        super.resize(a), this._config.layout = a.rugged;
        const r = window.innerWidth,
            l = this.calculateScaleFactor(r);
        this.ruggedContainer.scale.set(l), this.ruggedContainer.pivot.set(0, 0), this.ruggedContainer.x = a.width / 2, this.ruggedContainer.y = a.height - 64;
        let d = 24;
        r >= 480 && (d = 26), r >= 768 && (d = 28), r >= 1e3 && (d = 30), r >= 1200 && (d = 32), r >= 1366 && (d = 34), this.ruggedText.style.fontSize = d, this.ruggedText.position.set(0, 0)
    }
    update(a) {
        typeof a.rugged == "boolean" && (this.data.rugged = a.rugged)
    }
    updateDisplay() {
        this.container.visible = this.data.rugged
    }
}
class g0 {
    constructor(s, a, r, l) {
        R(this, "container");
        R(this, "pool");
        R(this, "isDestroyed", !1);
        R(this, "config");
        R(this, "layout");
        R(this, "isPreRound");
        var I;
        this.pool = $i.getInstance().createHandle(), this.container = this.pool.getContainer(), this.container.label = `scoreboard-entry-${s.id}`, this.config = r, this.layout = l, this.isPreRound = a;
        const d = this.pool.getGraphics();
        d.label = "background", this.container.addChild(d);
        const u = ks(s.level),
            h = ft.get(`badge-${u}`),
            f = this.pool.getSprite(h);
        f.label = "levelBadge", f.anchor.set(0, .5), this.container.addChild(f);
        const p = ft.get("icon-bear"),
            y = this.pool.getSprite(p);
        if (y.label = "sidebetBadge", y.anchor.set(0, .5), this.container.addChild(y), this.config.isSelf) {
            const X = this.truncateUsername("YOU", l.maxUsernameWidth, l.usernameEllipsis, r.usernameGlowStyle),
                O = this.pool.getText(X, r.usernameGlowStyle);
            O.label = "usernameGlow", O.anchor.set(0, .5);
            const L = this.pool.getBlurFilter(6);
            O.filters = [L], this.container.addChild(O)
        }
        const x = this.config.isSelf ? "YOU" : s.username ? ? "Anonymous",
            S = s.pnl >= 0,
            v = s.positionQty !== 0,
            C = this.isPreRound ? this.config.preroundPnlStyle : S ? v ? this.config.positiveMutedPnlStyle : this.config.positivePnlStyle : v ? this.config.negativeMutedPnlStyle : this.config.negativePnlStyle,
            w = S ? v ? this.config.positiveMutedPercentStyle : this.config.positivePercentStyle : v ? this.config.negativeMutedPercentStyle : this.config.negativePercentStyle,
            j = this.config.isSelf ? this.config.usernameSelfStyle : this.config.usernameStyle,
            A = this.truncateUsername(x, l.maxUsernameWidth, l.usernameEllipsis, j),
            _ = this.pool.getBitmapText(A, j);
        _.label = "usernameText", _.anchor.set(0, .5), this.container.addChild(_);
        const k = this.pool.getBitmapText("", C);
        k.label = "pnlText", k.anchor.set(1, .5), this.container.addChild(k);
        const D = this.pool.getBitmapText("", w);
        D.label = "percentText", D.anchor.set(1, .5), this.container.addChild(D), D.visible = !this.layout.isCompact && !this.isPreRound;
        const E = Td(((I = s.selectedCoin) == null ? void 0 : I.ticker) ? ? "sol"),
            P = ft.get(`coin-${E.slug}`);
        if (P) {
            const B = this.pool.getSprite(P);
            B.label = "coinSprite", B.anchor.set(1, .5), this.container.addChild(B)
        }
        this.updateValues(s, this.isPreRound), this.updateLayout(this.layout)
    }
    truncateUsername(s, a, r, l) {
        let d = null;
        try {
            if (d = this.pool.getBitmapText(s, l), d.width <= a) return s;
            let u = 0,
                h = s.length,
                f = "";
            for (; u <= h;) {
                const p = Math.floor((u + h) / 2),
                    y = s.substring(0, p) + r;
                d.text = y, d.width <= a ? (f = y, u = p + 1) : h = p - 1
            }
            return f || r
        } catch (u) {
            return console.warn("Error during text truncation, using fallback:", u), s.length <= 8 ? s : s.substring(0, 8) + r
        } finally {
            if (d) try {
                this.pool.return(d)
            } catch (u) {
                console.warn("Failed to return temp text to pool:", u)
            }
        }
    }
    updateUsernameText(s) {
        const a = this.container.getChildByLabel("usernameText"),
            r = this.container.getChildByLabel("usernameGlow");
        if (!a) return;
        const l = this.config.isSelf ? "YOU" : s.username ? ? "Anonymous",
            d = this.config.isSelf ? this.config.usernameSelfStyle : this.config.usernameStyle,
            u = this.truncateUsername(l, this.layout.maxUsernameWidth, this.layout.usernameEllipsis, d);
        if (a.text = u, r && this.config.isSelf) {
            const h = this.truncateUsername(l, this.layout.maxUsernameWidth, this.layout.usernameEllipsis, this.config.usernameGlowStyle);
            r.text = h
        }
    }
    updateLayout(s) {
        this.layout = s;
        const a = this.container.getChildByLabel("background");
        if (!a) {
            console.warn("Background not found");
            return
        }
        this.config.isSelf ? a.clear().roundRect(4, 0, s.width - 8, s.height, 8).fill(this.config.backgroundSelfStyle).stroke(this.config.backgroundSelfStrokeStyle) : a.clear().roundRect(4, 0, s.width - 8, s.height, 8).fill(this.config.backgroundStyle);
        const r = s.leftContainerGap,
            l = s.badgeSize;
        let d = r;
        const u = this.container.getChildByLabel("levelBadge");
        u && (u.setSize(l), u.position.set(d, s.height / 2));
        const h = this.container.getChildByLabel("sidebetBadge");
        h && (h.setSize(l), h.position.set(d, s.height / 2)), d += l + s.usernameBadgeGap;
        const f = this.container.getChildByLabel("usernameGlow");
        f && (f.position.set(d, s.height / 2), f.style = this.config.usernameGlowStyle);
        const p = this.container.getChildByLabel("usernameText");
        if (!p) {
            console.warn("Username text not found");
            return
        }
        p.position.set(d, s.height / 2), p.style = this.config.isSelf ? this.config.usernameSelfStyle : this.config.usernameStyle;
        const y = s.coinSize,
            x = this.container.getChildByLabel("coinSprite"),
            S = this.container.getChildByLabel("pnlText"),
            v = this.container.getChildByLabel("percentText");
        if (!S) {
            console.warn("PnL text not found");
            return
        }
        if (this.isPreRound || s.isCompact) {
            x && (x.setSize(y), x.position.set(s.amountPosition, s.height / 2));
            const C = s.amountPosition - y - s.minSpaceBetweenPnlElements;
            S.position.set(C, s.height / 2), v.visible = !1
        } else {
            v.visible = !0, v.position.set(s.amountPosition, s.height / 2);
            const C = r + l + s.usernameBadgeGap + s.maxUsernameWidth,
                j = s.amountPosition - s.maxPercentageWidth - C - s.minSpaceBetweenUsernameAndPnl,
                A = C + s.minSpaceBetweenUsernameAndPnl + j / 2;
            x && (x.setSize(y), x.position.set(A, s.height / 2));
            const _ = A - y - s.minSpaceBetweenPnlElements;
            S.position.set(_, s.height / 2)
        }
    }
    updateValues(s, a) {
        if (this.isDestroyed) return;
        this.updateUsernameText(s);
        const r = s.sidebetActive || s.sidebetPnl != null && s.sidebetPnl !== 0,
            l = this.container.getChildByLabel("levelBadge"),
            d = this.container.getChildByLabel("sidebetBadge");
        l && (l.visible = !r), d && (d.visible = !!r);
        const u = this.container.getChildByLabel("pnlText"),
            h = this.container.getChildByLabel("percentText"),
            f = this.container.getChildByLabel("coinSprite");
        if (!u) return;
        const p = s.positionQty > 0 ? .5 : 1,
            y = s.pnl >= 0,
            x = s.positionQty !== 0;
        a !== this.isPreRound && (this.isPreRound = a, h.visible = !this.layout.isCompact && !this.isPreRound, this.updateLayout(this.layout));
        const S = this.isPreRound ? this.config.preroundPnlStyle : y ? x ? this.config.positiveMutedPnlStyle : this.config.positivePnlStyle : x ? this.config.negativeMutedPnlStyle : this.config.negativePnlStyle,
            v = y ? x ? this.config.positiveMutedPercentStyle : this.config.positivePercentStyle : x ? this.config.negativeMutedPercentStyle : this.config.negativePercentStyle,
            C = this.isPreRound ? s.totalInvested || 0 : s.pnl,
            w = n0(C),
            j = n0(s.pnlPercent) - 1;
        u.text = this.isPreRound ? vt(C, w, !1) : vt(C, w, !0), u.style = S, u.alpha = p, h.text = vt(s.pnlPercent, j, !0) + "%", h.style = v, h.alpha = p, f.alpha = p
    }
    getContainer() {
        return this.container
    }
    destroy() {
        if (this.isDestroyed) {
            console.warn("ScoreboardEntry already destroyed");
            return
        }
        this.isDestroyed = !0;
        try {
            this.pool.release()
        } catch (s) {
            console.warn("Error during ScoreboardEntry cleanup:", s)
        }
        this.container = null
    }
}
class bj {
    constructor(s = {}) {
        R(this, "x");
        R(this, "ax");
        R(this, "dx");
        R(this, "tx");
        R(this, "_options");
        this.x = 0, this.ax = 0, this.dx = 0, this.tx = 0, this._options = s, this._options.max = s.max || 160, this._options.damp = s.damp || .8, this._options.springiness = s.springiness || .1
    }
    update() {
        this.ax = (this.tx - this.x) * this._options.springiness, this.dx += this.ax, this.dx *= this._options.damp, this.dx < -this._options.max ? this.dx = -this._options.max : this.dx > this._options.max && (this.dx = this._options.max), this.x += this.dx
    }
    reset() {
        this.x = 0, this.ax = 0, this.dx = 0, this.tx = 0
    }
    get max() {
        return this._options.max
    }
    set max(s) {
        this._options.max = s
    }
    get damp() {
        return this._options.damp
    }
    set damp(s) {
        this._options.damp = s
    }
    get springiness() {
        return this._options.springiness
    }
    set springiness(s) {
        this._options.springiness = s
    }
}
class vj {
    constructor() {
        R(this, "done");
        R(this, "to");
        R(this, "_spring");
        R(this, "_pos");
        R(this, "_speed");
        R(this, "_correctSpeed");
        this._spring = new bj, this._pos = 0, this.to = 0
    }
    start(s, a, r) {
        this._speed = s, this._pos = a, this.to = r, this.done = !1, this._spring.x = this._pos, this._spring.tx = this.to;
        const l = this.to - this._pos,
            d = Math.abs(l) / l,
            u = Math.abs(this._speed) / this._speed;
        d !== u ? this._correctSpeed = !0 : this._correctSpeed = !1
    }
    update() {
        if (this._correctSpeed) this._speed *= .6, Math.abs(this._speed) < 2 && (this._correctSpeed = !1), this._pos += this._speed, this._spring.x = this._pos;
        else {
            const s = this.to - this._pos;
            Math.abs(s) < .05 ? (this._pos = this.to, this.done = !0) : (this._spring.tx = this.to, this._spring.update(), this._pos = this._spring.x)
        }
        return this._pos
    }
    cancel() {}
}
class m0 {
    constructor(s = {}) {
        R(this, "position", 0);
        R(this, "constrain", !0);
        R(this, "min", 0);
        R(this, "max", 0);
        R(this, "maxSpeed", 400);
        R(this, "_ease");
        R(this, "_offset", 0);
        R(this, "_prev", 0);
        R(this, "_speed", 0);
        R(this, "_hasStopped");
        R(this, "_targetSpeed", 0);
        R(this, "_speedChecker", 0);
        R(this, "_grab", 0);
        R(this, "_activeEase");
        this.constrain = s.constrain ? ? !0, this.maxSpeed = s.maxSpeed ? ? 400, this._ease = s.ease ? ? new vj
    }
    set value(s) {
        this._speed = 0, this.position = s
    }
    get value() {
        return this.position
    }
    grab(s) {
        this._grab = s, this._offset = this.position - s, this._speedChecker = 0, this._targetSpeed = this._speed = 0, this._hasStopped = !1
    }
    hold(s) {
        this._speedChecker++, this.position = s + this._offset, this._speedChecker > 1 && (this._targetSpeed = this.position - this._prev), this._speed += (this._targetSpeed - this._speed) / 2, this._speed > this.maxSpeed ? this._speed = this.maxSpeed : this._speed < -this.maxSpeed && (this._speed = -this.maxSpeed), this._prev = this.position, this.constrain && (this._activeEase = null, this.position > this.min ? this.position -= (this.position - this.min) / 1.5 : this.position < this.max && (this.position += (this.max - this.position) / 1.5))
    }
    slide(s = !1) {
        this._hasStopped || (this.constrain ? this._updateConstrain(s) : this._updateDefault())
    }
    get moveAmount() {
        return -(this.position - this._offset - this._grab)
    }
    _updateDefault() {
        this._speed *= .9, this.position += this._speed, (this._speed < 0 ? this._speed * -1 : this._speed) < .01 && (this._hasStopped = !0)
    }
    _updateConstrain(s = !1) {
        const a = this.max;
        s ? (this.value > 0 && (this.value = 0), this.value > 0 && (this.value = 0), this.value < this.max && (this.value = this.max), this.value < this.max && (this.value = this.max)) : this.position > this.min || this.position < a || this._activeEase ? (this._activeEase || (this._activeEase = this._ease, this.position > this.min ? this._activeEase.start(this._speed, this.position, this.min) : this._activeEase.start(this._speed, this.position, a)), this.position = this._activeEase.update(), this._activeEase.done && (this.position = this._activeEase.to, this._speed = 0, this._activeEase = null)) : this._updateDefault()
    }
}
class Sj {
    constructor(s) {
        R(this, "xAxis");
        R(this, "yAxis");
        R(this, "_isDown");
        R(this, "_globalPosition");
        R(this, "_frame");
        R(this, "_bounds");
        R(this, "_dirty");
        R(this, "disableEasing", !1);
        this.xAxis = new m0({
            ease: s.xEase,
            maxSpeed: s.maxSpeed,
            constrain: s.constrain
        }), this.yAxis = new m0({
            ease: s.yEase,
            maxSpeed: s.maxSpeed,
            constrain: s.constrain
        }), this.disableEasing = s.disableEasing ? ? !1, this._frame = new ai, this._bounds = new ai, this._globalPosition = new Pv
    }
    pointerDown(s) {
        this._globalPosition = s, this.xAxis.grab(s.x), this.yAxis.grab(s.y), this._isDown = !0
    }
    pointerUp() {
        this._isDown = !1
    }
    pointerMove(s) {
        this._globalPosition = s
    }
    update() {
        this._dirty && (this._dirty = !1, this.xAxis.min = this._bounds.left, this.xAxis.min = this._bounds.right - this._frame.width, this.xAxis.min = this._bounds.top, this.xAxis.min = this._bounds.bottom - this._frame.height), this._isDown ? (this.xAxis.hold(this._globalPosition.x), this.yAxis.hold(this._globalPosition.y)) : (this.xAxis.slide(this.disableEasing), this.yAxis.slide(this.disableEasing))
    }
    resize(s, a) {
        this._frame.x = 0, this._frame.width = s, this._frame.y = 0, this._frame.height = a, this._dirty = !0
    }
    setBounds(s, a, r, l) {
        this._bounds.x = s, this._bounds.width = a - s, this._bounds.y = r, this._bounds.height = l - r, this._dirty = !0
    }
    get x() {
        return this.xAxis.value
    }
    get y() {
        return this.yAxis.value
    }
}
class Cj extends cs {
    constructor(a) {
        super();
        R(this, "background");
        R(this, "borderMask");
        R(this, "lastWidth");
        R(this, "lastHeight");
        R(this, "_width", 0);
        R(this, "_height", 0);
        R(this, "_dimensionChanged", !1);
        R(this, "list");
        R(this, "_trackpad");
        R(this, "isDragging", 0);
        R(this, "interactiveStorage", []);
        R(this, "visibleItems", []);
        R(this, "pressedChild", null);
        R(this, "ticker", af.shared);
        R(this, "options");
        R(this, "stopRenderHiddenItemsTimeout", null);
        R(this, "onMouseScrollBinding", this.onMouseScroll.bind(this));
        R(this, "dragStarTouchPoint");
        R(this, "isOver", !1);
        R(this, "proximityRange");
        R(this, "proximityStatusCache", []);
        R(this, "lastScrollX");
        R(this, "lastScrollY");
        R(this, "proximityCheckFrameCounter", 0);
        R(this, "onProximityChange", new Ex.Signal);
        R(this, "onScroll", new Ex.Signal);
        a && this.init(a), this.ticker.add(this.update, this)
    }
    init(a) {
        this.options = a, this.setBackground(a.background), this._width = a.width | this.background.width, this._height = a.height | this.background.height, this.proximityRange = a.proximityRange ? ? 0, this.list || (this.list = new Lv, super.addChild(this.list)), this.list.init({
            type: a.type,
            elementsMargin: a.elementsMargin,
            padding: a.padding,
            vertPadding: a.vertPadding,
            horPadding: a.horPadding,
            topPadding: a.topPadding,
            bottomPadding: a.bottomPadding,
            leftPadding: a.leftPadding,
            rightPadding: a.rightPadding
        }), a.items && this.addItems(a.items), this.hasBounds && (this.addMask(), this.makeScrollable()), this._trackpad.xAxis.value = 0, this._trackpad.yAxis.value = 0, this.options.globalScroll = a.globalScroll ? ? !0, this.options.shiftScroll = a.shiftScroll ? ? !1, this.resize()
    }
    get hasBounds() {
        return !!this._width || !!this._height
    }
    addItems(a) {
        a != null && a.length && a.forEach(r => this.addItem(r))
    }
    removeItems() {
        this.proximityStatusCache.length = 0, this.list.removeChildren()
    }
    addItem(...a) {
        if (a.length > 1) a.forEach(r => this.addItem(r));
        else {
            const r = a[0];
            if (!r || r.destroyed) return console.error("ScrollBox: Cannot add null, undefined, or destroyed item"), a[0];
            (!r.width || !r.height) && console.error("ScrollBox item should have size"), r.eventMode = "static", this.list.addChild(r), this.proximityStatusCache.push(!1), this.options.disableDynamicRendering || (r.renderable = this.isItemVisible(r))
        }
        return this.resize(), a[0]
    }
    removeItem(a) {
        this.list.removeItem(a), this.proximityStatusCache.splice(a, 1), this.resize()
    }
    isItemVisible(a, r = 0) {
        let l = !1;
        const d = this.list;
        if (this.isVertical || this.isBidirectional) {
            const u = a.y + d.y;
            u + a.height >= -r && u <= this.options.height + r && (l = !0)
        }
        if (this.isHorizontal || this.isBidirectional) {
            const u = a.x + d.x;
            u + a.width >= -r && u <= this.options.width + r && (l = !0)
        }
        return l
    }
    get items() {
        var a;
        return ((a = this.list) == null ? void 0 : a.children) ? ? []
    }
    setBackground(a) {
        this.background && this.removeChild(this.background), this.options.background = a, this.background = new Ss, this.addChildAt(this.background, 0), this.resize()
    }
    addMask() {
        this.borderMask || (this.borderMask = new Ss, super.addChild(this.borderMask), this.mask = this.borderMask), this.resize()
    }
    makeScrollable() {
        this._trackpad || (this._trackpad = new Sj({
            disableEasing: this.options.disableEasing
        }))
    }
    setInteractive(a) {
        this.eventMode = a ? "static" : "auto"
    }
    get listHeight() {
        return this.list.height + this.list.topPadding + this.list.bottomPadding
    }
    get listWidth() {
        return this.list.width + this.list.leftPadding + this.list.rightPadding
    }
    resize(a = !1) {
        if (this.hasBounds) {
            if (this.renderAllItems(), this.borderMask && (a || this._dimensionChanged || this.lastWidth !== this.listWidth || this.lastHeight !== this.listHeight)) {
                this.options.width || (this._width += this.listWidth), this.options.height || (this._height += this.listHeight), this.borderMask.clear().roundRect(0, 0, this._width, this._height, this.options.radius ? ? 0).fill(16711935).stroke(0), this.borderMask.eventMode = "none";
                const r = this.options.background;
                this.background.clear().roundRect(0, 0, this._width, this._height, this.options.radius ? ? 0).fill({
                    color: r ? ? 0,
                    alpha: r ? 1 : 1e-7
                }), this.isBidirectional ? this.setInteractive(this.listWidth > this._width || this.listHeight > this._height) : this.isHorizontal ? this.setInteractive(this.listWidth > this._width) : this.setInteractive(this.listHeight > this._height), this.lastWidth = this.listWidth, this.lastHeight = this.listHeight
            }
            if (this._trackpad) {
                const r = this.borderMask.width - this.list.width - this.list.leftPadding - this.list.rightPadding,
                    l = this.borderMask.height - this.list.height - this.list.topPadding - this.list.bottomPadding;
                this.isBidirectional ? (this._trackpad.yAxis.max = -Math.abs(l), this._trackpad.xAxis.max = -Math.abs(r)) : this.isVertical ? this._trackpad.yAxis.max = -Math.abs(l) : this.isHorizontal && (this._trackpad.xAxis.max = -Math.abs(r))
            }
            this._dimensionChanged ? (this.list.arrangeChildren(), this.stopRenderHiddenItems(), this._dimensionChanged = !1) : (a && this.list.arrangeChildren(), this.updateVisibleItems()), this.lastScrollX = null, this.lastScrollY = null
        }
    }
    onMouseScroll(a) {
        var u, h, f;
        if (!this.isOver && !this.options.globalScroll) return;
        this.renderAllItems();
        const r = !!this.options.shiftScroll,
            l = r ? typeof a.deltaX < "u" || typeof a.deltaY < "u" : typeof a.deltaX < "u",
            d = typeof a.deltaY < "u";
        if ((this.isHorizontal || this.isBidirectional) && l) {
            const p = r || this.isBidirectional ? a.deltaX : a.deltaY,
                y = this.list.x - p;
            if (this.listWidth < this._width) this._trackpad.xAxis.value = 0;
            else {
                const x = this._width - this.listWidth,
                    S = 0;
                this._trackpad.xAxis.value = Math.min(S, Math.max(x, y))
            }
        }
        if ((this.isVertical || this.isBidirectional) && d) {
            const p = this.list.y - a.deltaY;
            if (this.listHeight < this._height) this._trackpad.yAxis.value = 0;
            else {
                const y = this._height - this.listHeight,
                    x = 0;
                this._trackpad.yAxis.value = Math.min(x, Math.max(y, p))
            }
        }
        this.isBidirectional && (l || d) ? (u = this.onScroll) == null || u.emit({
            x: this._trackpad.xAxis.value,
            y: this._trackpad.yAxis.value
        }) : this.isHorizontal && l ? (h = this.onScroll) == null || h.emit(this._trackpad.xAxis.value) : this.isVertical && d && ((f = this.onScroll) == null || f.emit(this._trackpad.yAxis.value)), this.stopRenderHiddenItems()
    }
    scrollBottom() {
        this.interactive ? this.scrollTo(this.list.children.length - 1) : this.scrollTop()
    }
    scrollTop() {
        this.renderAllItems(), this._trackpad.xAxis.value = 0, this._trackpad.yAxis.value = 0, this.stopRenderHiddenItems()
    }
    renderAllItems() {
        this.stopRenderHiddenItemsTimeout && (clearTimeout(this.stopRenderHiddenItemsTimeout), this.stopRenderHiddenItemsTimeout = null), !this.options.disableDynamicRendering && this.items.forEach(a => {
            a.renderable = !0
        })
    }
    stopRenderHiddenItems() {
        this.options.disableDynamicRendering || (this.stopRenderHiddenItemsTimeout && (clearTimeout(this.stopRenderHiddenItemsTimeout), this.stopRenderHiddenItemsTimeout = null), this.stopRenderHiddenItemsTimeout = setTimeout(() => this.updateVisibleItems(), 2e3))
    }
    updateVisibleItems() {
        this.visibleItems.length = 0, this.items.forEach(a => {
            a.renderable = this.isItemVisible(a), this.visibleItems.push(a)
        })
    }
    scrollTo(a) {
        if (!this.interactive) return;
        const r = this.list.children[a];
        r && (this.renderAllItems(), this._trackpad.xAxis.value = this.isHorizontal || this.isBidirectional ? this._width - r.x - r.width - this.list.rightPadding : 0, this._trackpad.yAxis.value = this.isVertical || this.isBidirectional ? this._height - r.y - r.height - this.list.bottomPadding : 0, this.stopRenderHiddenItems())
    }
    scrollToPosition({
        x: a,
        y: r
    }) {
        a === void 0 && r === void 0 || (this.renderAllItems(), a !== void 0 && (this.scrollX = -a), r !== void 0 && (this.scrollY = -r), this.stopRenderHiddenItems())
    }
    get height() {
        return this._height
    }
    set height(a) {
        this._height = a, this._dimensionChanged = !0, this.resize(), this.scrollTop()
    }
    get width() {
        return this._width
    }
    set width(a) {
        this._width = a, this._dimensionChanged = !0, this.resize(), this.scrollTop()
    }
    setSize(a, r) {
        typeof a == "object" ? (r = a.height ? ? a.width, a = a.width) : r = r ? ? a, this._width = a, this._height = r, this._dimensionChanged = !0, this.resize(), this.scrollTop()
    }
    getSize(a) {
        return a = a || {
            width: 0,
            height: 0
        }, a.width = this._width, a.height = this._height, a
    }
    get scrollX() {
        return this._trackpad.xAxis.value
    }
    set scrollX(a) {
        this._trackpad.xAxis.value = a
    }
    get scrollY() {
        return this._trackpad.yAxis.value
    }
    set scrollY(a) {
        this._trackpad.yAxis.value = a
    }
    update() {
        this.list && (this._trackpad.update(), (this.isHorizontal || this.isBidirectional) && this.list.x !== this._trackpad.x && (this.list.x = this._trackpad.x), (this.isVertical || this.isBidirectional) && this.list.y !== this._trackpad.y && (this.list.y = this._trackpad.y), !this.options.disableProximityCheck && (this._trackpad.x !== this.lastScrollX || this._trackpad.y !== this.lastScrollY) && (this.proximityCheckFrameCounter++, this.proximityCheckFrameCounter >= (this.options.proximityDebounce ? ? 10) && (this.items.forEach((a, r) => {
            const l = this.isItemVisible(a, this.proximityRange),
                d = this.proximityStatusCache[r];
            l !== d && (this.proximityStatusCache[r] = l, this.onProximityChange.emit({
                item: a,
                index: r,
                inRange: l
            }))
        }), this.lastScrollX = this._trackpad.x, this.lastScrollY = this._trackpad.y, this.proximityCheckFrameCounter = 0)))
    }
    destroy(a) {
        this.ticker.remove(this.update, this), this.background.destroy(), this.list.destroy(), super.destroy(a)
    }
    restoreItemsInteractivity() {
        this.interactiveStorage.forEach(a => {
            a.item.eventMode = a.eventMode
        }), this.interactiveStorage.length = 0
    }
    revertClick(a) {
        if (a.eventMode !== "auto") {
            const r = {};
            Mv.any ? a.emit("pointerupoutside", r) : a.emit("mouseupoutside", r), this.interactiveStorage.push({
                item: a,
                eventMode: a.eventMode
            }), a.eventMode = "auto"
        }
        a instanceof cs && a.children && a.children.forEach(r => this.revertClick(r))
    }
    get scrollHeight() {
        return this.list.height
    }
    get scrollWidth() {
        return this.list.width
    }
    get isVertical() {
        return (this.options.type ? ? "vertical") === "vertical"
    }
    get isHorizontal() {
        return this.options.type === "horizontal"
    }
    get isBidirectional() {
        return this.options.type === "bidirectional"
    }
}
const wj = () => ({
    inheritFromLayout: !0,
    usernameGlowStyle: {
        fontSize: 42,
        fontFamily: "DynaPuff",
        fontWeight: "400",
        fill: {
            color: "#FDC700",
            alpha: 1
        },
        letterSpacing: -.02
    },
    usernameStyle: {
        fontSize: 42,
        fontFamily: "DynaPuff",
        fontWeight: "400",
        fill: de.colorForeground,
        letterSpacing: -.02
    },
    usernameSelfStyle: {
        fontSize: 42,
        fontFamily: "DynaPuff",
        fontWeight: "400",
        fill: de.colorPrimary,
        letterSpacing: -.02
    },
    positivePnlStyle: {
        fontSize: 42,
        fontFamily: "DynaPuff",
        fontWeight: "600",
        fill: {
            color: de.colorSuccess,
            alpha: 1
        },
        letterSpacing: -.02
    },
    negativePnlStyle: {
        fontSize: 42,
        fontFamily: "DynaPuff",
        fontWeight: "600",
        fill: {
            color: de.colorDestructive,
            alpha: 1
        },
        letterSpacing: -.02
    },
    positiveMutedPnlStyle: {
        fontSize: 42,
        fontFamily: "DynaPuff",
        fontWeight: "600",
        fill: {
            color: de.colorCandlestickUp,
            alpha: .7
        },
        letterSpacing: -.02
    },
    negativeMutedPnlStyle: {
        fontSize: 42,
        fontFamily: "DynaPuff",
        fontWeight: "600",
        fill: {
            color: de.colorCandlestickDown,
            alpha: .7
        },
        letterSpacing: -.02
    },
    preroundPnlStyle: {
        fontSize: 42,
        fontFamily: "DynaPuff",
        fontWeight: "600",
        fill: {
            color: "#FFA500",
            alpha: .8
        },
        letterSpacing: -.02
    },
    positivePercentStyle: {
        fontSize: 42,
        fontFamily: "DynaPuff",
        fontWeight: "600",
        fill: {
            color: de.colorSuccess,
            alpha: 1
        },
        letterSpacing: -.02
    },
    negativePercentStyle: {
        fontSize: 42,
        fontFamily: "DynaPuff",
        fontWeight: "600",
        fill: {
            color: de.colorDestructive,
            alpha: 1
        },
        letterSpacing: -.02
    },
    positiveMutedPercentStyle: {
        fontSize: 42,
        fontFamily: "DynaPuff",
        fontWeight: "600",
        fill: {
            color: de.colorCandlestickUp,
            alpha: .7
        },
        letterSpacing: -.02
    },
    negativeMutedPercentStyle: {
        fontSize: 42,
        fontFamily: "DynaPuff",
        fontWeight: "600",
        fill: {
            color: de.colorCandlestickDown,
            alpha: .7
        },
        letterSpacing: -.02
    },
    backgroundStyle: {
        color: 0,
        alpha: 0
    },
    backgroundSelfStyle: {
        color: de.colorPrimary,
        alpha: .2
    },
    backgroundSelfStrokeStyle: {
        color: de.colorPrimary,
        width: 1
    },
    borderStyle: {
        color: 3355443,
        width: 1,
        alpha: .5
    }
});
class Tj extends kn {
    constructor(a, r) {
        var l;
        super(a, { ...wj(),
            ...r
        });
        R(this, "events", null);
        R(this, "selectors", ["scoreboard", "playerScoreboard", "isPreRound"]);
        R(this, "scrollBox");
        R(this, "playerEntryComponent");
        R(this, "entryComponents", new Map);
        R(this, "activeEntryIds", new Set);
        R(this, "data", {
            scoreboard: [],
            playerScoreboard: null,
            isPreRound: !0
        });
        R(this, "currentLayout");
        R(this, "isDirty", !0);
        R(this, "previousHasPlayerEntry", !1);
        R(this, "scoreboardLength", 0);
        R(this, "playerScoreboardId");
        R(this, "entryConfigStyles");
        this.previousHasPlayerEntry = !!this.data.playerScoreboard, this.scoreboardLength = this.data.scoreboard.length, this.playerScoreboardId = (l = this.data.playerScoreboard) == null ? void 0 : l.id, this.entryConfigStyles = {
            usernameGlowStyle: this._config.usernameGlowStyle,
            usernameStyle: this._config.usernameStyle,
            usernameSelfStyle: this._config.usernameSelfStyle,
            positivePnlStyle: this._config.positivePnlStyle,
            negativePnlStyle: this._config.negativePnlStyle,
            positiveMutedPnlStyle: this._config.positiveMutedPnlStyle,
            negativeMutedPnlStyle: this._config.negativeMutedPnlStyle,
            preroundPnlStyle: this._config.preroundPnlStyle,
            positivePercentStyle: this._config.positivePercentStyle,
            negativePercentStyle: this._config.negativePercentStyle,
            positiveMutedPercentStyle: this._config.positiveMutedPercentStyle,
            negativeMutedPercentStyle: this._config.negativeMutedPercentStyle,
            backgroundStyle: this._config.backgroundStyle,
            backgroundSelfStyle: this._config.backgroundSelfStyle,
            backgroundSelfStrokeStyle: this._config.backgroundSelfStrokeStyle,
            borderStyle: this._config.borderStyle
        }, this.addAnimation(this.render)
    }
    isDynamic() {
        return !0
    }
    isEvents() {
        return !0
    }
    resize(a) {
        var u;
        super.resize(a), this.currentLayout = a;
        const l = a.standardScoreboard.fontSize;
        this.entryConfigStyles.usernameGlowStyle.fontSize = l, this.entryConfigStyles.usernameStyle.fontSize = l, this.entryConfigStyles.usernameSelfStyle.fontSize = l, this.entryConfigStyles.positivePnlStyle.fontSize = l, this.entryConfigStyles.negativePnlStyle.fontSize = l, this.entryConfigStyles.positiveMutedPnlStyle.fontSize = l, this.entryConfigStyles.negativeMutedPnlStyle.fontSize = l, this.entryConfigStyles.preroundPnlStyle.fontSize = l, this.entryConfigStyles.positivePercentStyle.fontSize = l, this.entryConfigStyles.negativePercentStyle.fontSize = l, this.entryConfigStyles.positiveMutedPercentStyle.fontSize = l, this.entryConfigStyles.negativeMutedPercentStyle.fontSize = l, this.previousHasPlayerEntry = !!this.data.playerScoreboard, this.setupContainer(a);
        const d = this.createEntryLayout(a.standardScoreboard);
        this.entryComponents.forEach(h => {
            h.updateLayout(d)
        }), (u = this.playerEntryComponent) == null || u.updateLayout(d), this.isDirty = !0
    }
    calculateScaleFactor(a) {
        return a >= 1366 ? 1 : a >= 1200 ? .9 : a >= 1e3 ? .6 : a >= 768 ? .5 : .55
    }
    createEntryLayout(a) {
        const r = window.innerWidth,
            l = this.calculateScaleFactor(r),
            d = window.innerWidth <= 768;
        return {
            scaleFactor: l,
            width: a.boxWidth,
            height: a.boxHeight,
            fontSize: a.fontSize,
            isCompact: d,
            badgeSize: a.badgeSize,
            coinSize: a.coinSize,
            amountPosition: a.amountPosition,
            amountPercentPosition: a.amountPercentPosition,
            positionBadgeGap: a.positionBadgeGap,
            usernameBadgeGap: a.usernameBadgeGap,
            leftContainerGap: a.leftContainerGap,
            minSpaceBetweenUsernameAndPnl: a.minSpaceBetweenUsernameAndPnl,
            maxUsernameWidth: a.maxUsernameWidth * l,
            usernameEllipsis: a.usernameEllipsis,
            maxPnlWidth: a.maxPnlWidth,
            maxPercentageWidth: a.maxPercentageWidth,
            minSpaceBetweenPnlElements: a.minSpaceBetweenPnlElements,
            pnlEllipsis: a.pnlEllipsis
        }
    }
    createEntryConfig(a) {
        return {
            isSelf: a,
            ...this.entryConfigStyles
        }
    }
    hasScoreboardChanged(a) {
        if (this.scoreboardLength !== a.length) return !0;
        if (this.data.scoreboard === a) return !1;
        for (let r = 0; r < a.length; r++) {
            const l = this.data.scoreboard[r],
                d = a[r];
            if (!l || l.id !== d.id || l.pnl !== d.pnl || l.pnlPercent !== d.pnlPercent || l.position !== d.position || l.totalInvested !== d.totalInvested || l.positionQty !== d.positionQty || l.sidebetActive !== d.sidebetActive || l.sideBet !== d.sideBet || l.sidebetPnl !== d.sidebetPnl) return !0
        }
        return !1
    }
    hasPlayerScoreboardChanged(a) {
        if (this.data.playerScoreboard === a) return !1;
        const r = a == null ? void 0 : a.id;
        return this.playerScoreboardId !== r ? !0 : this.data.playerScoreboard && a ? this.data.playerScoreboard.pnl !== a.pnl || this.data.playerScoreboard.pnlPercent !== a.pnlPercent || this.data.playerScoreboard.position !== a.position || this.data.playerScoreboard.totalInvested !== a.totalInvested || this.data.playerScoreboard.positionQty !== a.positionQty || this.data.playerScoreboard.sidebetActive !== a.sidebetActive || this.data.playerScoreboard.sideBet !== a.sideBet || this.data.playerScoreboard.sidebetPnl !== a.sidebetPnl : !1
    }
    setupContainer(a) {
        const r = window.innerWidth,
            l = this.calculateScaleFactor(r);
        this.container.scale.set(l), this.container.x = this.width - l * this.container.width, this.container.y = 0, this.setupScrollBox(a, l)
    }
    setupScrollBox(a, r) {
        this.scrollBox && (this.container.removeChild(this.scrollBox), this.scrollBox.destroy(), this.scrollBox = void 0);
        const l = !!this.data.playerScoreboard,
            d = a.standardScoreboard,
            u = d.boxHeight,
            h = d.gap,
            f = l ? u + h : 0,
            p = a.standardScoreboard.boxWidth / r,
            y = (a.standardScoreboardArea.height - f) / r,
            x = Math.max(0, d.boxHeight / r / 2),
            S = d.gap,
            v = f * r;
        if (!this.events) {
            console.warn("No events found");
            return
        }
        this.scrollBox = new Cj({
            width: p,
            height: y,
            type: "vertical",
            vertPadding: x,
            elementsMargin: S,
            padding: 0,
            dragTrashHold: .5,
            globalScroll: !0
        }), this.scrollBox.x = 0, this.scrollBox.y = v, this.container.addChild(this.scrollBox)
    }
    render() {
        !this.isDirty || !this.currentLayout || (this.updateScoreboard(), this.isDirty = !1)
    }
    updateScoreboard() {
        if (!this.currentLayout) return;
        const r = this.currentLayout.standardScoreboard;
        this.updatePlayerEntry(r), this.updateRegularEntries(r), this.cleanupUnusedEntries()
    }
    updatePlayerEntry(a) {
        if (this.data.playerScoreboard) {
            const r = this.createEntryConfig(!0),
                l = this.createEntryLayout(a);
            this.playerEntryComponent ? this.playerEntryComponent.updateValues(this.data.playerScoreboard, this.data.isPreRound) : (this.playerEntryComponent = new g0(this.data.playerScoreboard, this.data.isPreRound, r, l), this.container.addChild(this.playerEntryComponent.getContainer()));
            const d = this.playerEntryComponent.getContainer();
            d.x = 0, d.y = a.boxHeight / 2, d.visible = !0
        } else this.playerEntryComponent && (this.container.removeChild(this.playerEntryComponent.getContainer()), this.playerEntryComponent.destroy(), this.playerEntryComponent = void 0)
    }
    updateRegularEntries(a) {
        var u;
        if (!this.scrollBox || !this.currentLayout) return;
        const r = (u = this.data.playerScoreboard) == null ? void 0 : u.id;
        let l = this.data.scoreboard.filter(h => h.id !== r);
        this.data.isPreRound && (l = l.filter(h => {
            const f = h.totalInvested || 0,
                p = h.positionQty || 0,
                y = h.sidebetActive || !1;
            return f > 1e-6 || p > 1e-6 || y
        }));
        const d = new Set(l.map(h => h.id));
        this.scrollBox.removeItems(), this.entryComponents.forEach((h, f) => {
            var p;
            d.has(f) || ((p = h.getContainer()) == null || p.removeFromParent(), h.destroy(), this.entryComponents.delete(f), this.activeEntryIds.delete(f))
        });
        for (let h = 0; h < l.length; h++) {
            const f = l[h];
            let p = this.entryComponents.get(f.id);
            const y = this.createEntryConfig(!1),
                x = this.createEntryLayout(a);
            p ? p.updateValues(f, this.data.isPreRound) : (p = new g0(f, this.data.isPreRound, y, x), this.entryComponents.set(f.id, p), this.activeEntryIds.add(f.id));
            const S = p.getContainer(),
                v = window.innerWidth,
                C = this.calculateScaleFactor(v),
                w = a.boxWidth / C,
                j = this.currentLayout.standardScoreboard.boxWidth / C;
            S.x = j - w / 2, S.y = a.boxHeight / C / 2, S.visible = !0, this.scrollBox.addItem(S)
        }
    }
    cleanupUnusedEntries() {}
    update({
        scoreboard: a,
        playerScoreboard: r,
        isPreRound: l
    }) {
        let d = !1,
            u = !1;
        if (this.hasScoreboardChanged(a) && (this.data.scoreboard = a, this.scoreboardLength = a.length, d = !0), this.hasPlayerScoreboardChanged(r)) {
            const h = !!r;
            this.previousHasPlayerEntry !== h && (u = !0, this.previousHasPlayerEntry = h), this.data.playerScoreboard = r, this.playerScoreboardId = r == null ? void 0 : r.id, d = !0
        }
        this.data.isPreRound !== l && (this.data.isPreRound = l, d = !0, u = !0), u && this.currentLayout && this.setupContainer(this.currentLayout), d && (this.isDirty = !0)
    }
    destroy() {
        this.scrollBox && (this.container.removeChild(this.scrollBox), this.scrollBox.destroy(), this.scrollBox = void 0), this.playerEntryComponent && (this.container.removeChild(this.playerEntryComponent.getContainer()), this.playerEntryComponent.destroy(), this.playerEntryComponent = void 0);
        for (const a of this.entryComponents.values()) a.destroy();
        this.entryComponents.clear(), this.activeEntryIds.clear(), this.events = null, super.destroy()
    }
}
const jj = () => ({
    upColor: de.colorCandlestickUp,
    downColor: de.colorCandlestickDown,
    godCandleColor: de.colorPrimary,
    wickColor: de.colorBorder,
    wickUsesBodyColor: !1,
    fitToMaxCandles: !1,
    useThumbnailCandles: !1,
    minCandleHeight: 1,
    inheritCandlesFromLayout: !0,
    layout: {
        candles: {
            candleWidth: 10,
            candleGap: 2,
            wickWidth: 2,
            maxCandles: 30
        }
    }
});
class kj extends Bn {
    constructor(a, r) {
        super(a, { ...jj(),
            ...r
        });
        R(this, "selectors");
        R(this, "gfx");
        R(this, "actualCandleCount", 0);
        R(this, "data", {
            prices: []
        });
        this.selectors = ["prices"], this.gfx = this.pool.getGraphics(), this.container.addChild(this.gfx)
    }
    isDynamic() {
        return !0
    }
    isDrawable() {
        return !0
    }
    get availableWidth() {
        return this.layout.candleArea.width ? ? this.width
    }
    get availableHeight() {
        return this.layout.candleArea.height ? ? this.height
    }
    resize(a) {
        super.resize(a), this.container.y = this.layout.candleArea.y, this.container.x = this.layout.candleArea.x, this.container.boundsArea = this.pool.getRectangle(this.layout.candleArea.x, this.layout.candleArea.y, this.layout.candleArea.width, this.layout.candleArea.height), this._config.inheritCandlesFromLayout && (this._config.layout.candles = this.layout.candles), this._updateCandleSizing()
    }
    _updateCandleSizing() {
        if (this._config.fitToMaxCandles) {
            const a = this._config.useThumbnailCandles && this.actualCandleCount > 0 ? this.actualCandleCount : this._config.layout.candles.maxCandles,
                r = 5 * a,
                l = a - 1,
                d = r + l,
                u = this.availableWidth / d;
            let h = u * 5,
                f = u;
            this._config.useThumbnailCandles && a <= 5 && h > 5 && (h = 5, f = Math.max(2, h / 8)), this._config.layout.candles.candleWidth = h, this._config.layout.candles.candleGap = f, this._config.layout.candles.wickWidth = Math.max(1, h / 5)
        }
    }
    draw() {
        const a = La.grid(this.data.prices, !1);
        let r;
        if (this._config.useThumbnailCandles) {
            const l = ri(this.data.prices, 999, 5);
            r = l.length <= 16 ? l : ri(this.data.prices, 16, 5)
        } else r = ri(this.data.prices, this._config.layout.candles.maxCandles, 5);
        this._config.useThumbnailCandles && r.length !== this.actualCandleCount && (this.actualCandleCount = r.length), this._updateCandleSizing(), this._drawCandles(r, a)
    }
    _drawCandles(a, r) {
        this.gfx.clear(), this.gfx.updateTransform({
            scaleY: -1,
            y: this.availableHeight
        });
        let l = 0;
        for (const h of a) {
            const f = this.availableHeight * Gc(h.open, r),
                p = this.availableHeight * Gc(h.close, r),
                y = this.availableHeight * Gc(h.high, r),
                x = this.availableHeight * Gc(h.low, r),
                S = Math.min(f, p),
                v = Math.max(f, p),
                C = Math.max(this._config.minCandleHeight, v - S),
                w = h.close >= h.open ? this._config.upColor : this._config.downColor,
                j = this._config.wickUsesBodyColor ? w : this._config.wickColor,
                A = y - x;
            this.gfx.roundRect(l + (this._config.layout.candles.candleWidth - this._config.layout.candles.wickWidth) / 2, x, this._config.layout.candles.wickWidth, A, this._config.layout.candles.wickWidth / 2).fill(j), this.gfx.roundRect(l, S, this._config.layout.candles.candleWidth, C, this._config.layout.candles.candleWidth / 5).fill(w), l += this._config.layout.candles.candleWidth + this._config.layout.candles.candleGap
        }
        const d = l - this._config.layout.candles.candleGap,
            u = this.availableWidth - d;
        this.gfx.x = u / 2
    }
    update({
        prices: a
    }) {
        a !== void 0 && (this.data.prices = a, this.draw())
    }
}

function Gc(e, {
    min: s,
    max: a
}) {
    return (e - s) / (a - s)
}
const rs = {
        red: {
            500: "#ef4444"
        },
        gray: {
            500: "#6b7280"
        },
        green: {
            200: "#bbf7d0",
            300: "#86efac",
            500: "#22c55e",
            bright: {
                400: "#00ff7f",
                500: "#00ff40",
                600: "#00ff00"
            }
        }
    },
    Al = e => {
        if (e === 1) return rs.red[500];
        if (e < 2) {
            const s = Math.min(1, (e - 1) / 1);
            return nl(rs.gray[500], rs.green[200], s)
        } else if (e < 5) {
            const s = Math.min(1, (e - 2) / 3);
            return nl(rs.green[200], rs.green[300], s)
        } else if (e < 10) {
            const s = Math.min(1, (e - 5) / 5);
            return nl(rs.green[300], rs.green[500], s)
        } else if (e < 25) {
            const s = Math.min(1, (e - 10) / 15);
            return nl(rs.green[500], rs.green.bright[400], s)
        } else if (e < 100) {
            const s = Math.min(1, (e - 25) / 75);
            return nl(rs.green.bright[400], rs.green.bright[500], s)
        } else return rs.green.bright[600]
    },
    nl = (e, s, a) => {
        if (a < 0) return e;
        if (a > 1) return s;
        const r = {
                r: parseInt(e.slice(1, 3), 16),
                g: parseInt(e.slice(3, 5), 16),
                b: parseInt(e.slice(5, 7), 16)
            },
            l = {
                r: parseInt(s.slice(1, 3), 16),
                g: parseInt(s.slice(3, 5), 16),
                b: parseInt(s.slice(5, 7), 16)
            },
            d = {
                r: Math.round(r.r + (l.r - r.r) * a),
                g: Math.round(r.g + (l.g - r.g) * a),
                b: Math.round(r.b + (l.b - r.b) * a)
            };
        return `#${d.r.toString(16).padStart(2,"0")}${d.g.toString(16).padStart(2,"0")}${d.b.toString(16).padStart(2,"0")}`
    },
    gd = e => e ? e < 100 ? `${e.toFixed(2)}x` : e < 1e3 ? `${e.toFixed(1)}x` : `${Math.floor(e)}x` : "1.00x",
    Rl = e => e === 1 || e < 5 ? 400 : e < 10 ? 500 : e < 25 ? 600 : 700,
    Ej = () => ({
        textStyle: {
            fill: de.colorForeground,
            fontFamily: "DynaPuff",
            fontWeight: "400",
            fontSize: 24
        },
        fill: e => Al(e),
        fontWeight: e => Rl(e)
    });
class Aj extends Bn {
    constructor(a, r) {
        super(a, { ...Ej(),
            ...r
        });
        R(this, "selectors", ["peakMultiplier"]);
        R(this, "gfx");
        R(this, "priceText");
        R(this, "data", {
            peakMultiplier: 1
        });
        R(this, "dirty", !0);
        this.priceText = this.pool.getText("...", this._config.textStyle), this.priceText.anchor.set(.5, 0), this.container.addChild(this.priceText)
    }
    isDynamic() {
        return !0
    }
    isDrawable() {
        return !0
    }
    draw() {
        if (this.dirty = !1, this.priceText) {
            const a = gd(this.data.peakMultiplier),
                r = this._config.fill(this.data.peakMultiplier);
            this.priceText.text = a, this.priceText.style.fill = r, this.priceText.style.stroke = {
                color: r,
                width: 0
            }, this.priceText.style.fontSize < 20 ? this.priceText.style.letterSpacing = -.01 : this.priceText.style.letterSpacing = -.02
        }
        if (this.priceText) {
            const a = gd(this.data.peakMultiplier),
                r = this._config.fill(this.data.peakMultiplier);
            this.priceText.text = a, this.priceText.style.fill = r, this.priceText.style.stroke = {
                color: r,
                width: 0
            };
            const l = this._config.fontWeight(this.data.peakMultiplier);
            this.priceText.style.fontWeight = l, this.priceText.style.fontSize < 20 ? this.priceText.style.letterSpacing = -.01 : this.priceText.style.letterSpacing = -.02
        }
    }
    update({
        peakMultiplier: a
    }) {
        this.data.peakMultiplier !== a && (this.data.peakMultiplier = a, this.setDirty())
    }
    setDirty() {
        this.dirty || (this.dirty = !0, this.draw())
    }
    resize(a) {
        super.resize(a), this.priceText && (this.layout.multiplierPosition ? (this.priceText.x = this.layout.multiplierPosition.x, this.priceText.y = this.layout.multiplierPosition.y, this.priceText.style.fontSize = this.layout.multiplierPosition.fontSize, this.layout.width < 400 ? this.priceText.anchor.set(.5, 1) : this.priceText.anchor.set(.5, 0)) : (this.priceText.x = this.layout.multiplier.x, this.priceText.y = this.layout.multiplier.y))
    }
}
const Rj = () => ({
    textStyle: {
        fill: de.colorForeground,
        fontFamily: "DynaPuff",
        fontWeight: "400",
        fontSize: 24
    },
    precision: 2,
    fill: e => ({
        color: de.colorForeground
    })
});
class Dj extends Bn {
    constructor(a, r) {
        super(a, { ...Rj(),
            ...r
        });
        R(this, "selectors", ["pnl", "coinSlug"]);
        R(this, "gfx");
        R(this, "priceText");
        R(this, "data", {
            pnl: 1,
            coinSlug: "SOL"
        });
        R(this, "dirty", !0);
        this.priceText = this.pool.getText("+0.00 SOL", this._config.textStyle), this.priceText.style = this.pool.getTextStyle(this._config.textStyle), this.priceText.anchor.set(.5, 1), this.container.addChild(this.priceText)
    }
    isDynamic() {
        return !0
    }
    isDrawable() {
        return !0
    }
    draw() {
        if (this.dirty = !1, this.priceText) {
            const a = vt(this.data.pnl, this._config.precision),
                r = this._config.fill(this.data.pnl);
            this.priceText.text = a + " " + this.data.coinSlug, this.priceText.style.fill = r
        }
    }
    update({
        pnl: a,
        coinSlug: r
    }) {
        this.data.pnl === a && this.data.coinSlug === r || (typeof a == "number" && (this.data.pnl = a), typeof r == "string" && (this.data.coinSlug = r), this.setDirty())
    }
    setDirty() {
        this.dirty || (this.dirty = !0, this.draw())
    }
    resize(a) {
        super.resize(a), this.priceText && (this.priceText.x = this.layout.pnl.x, this.priceText.y = this.layout.pnl.y)
    }
}
const Nj = () => ({
    baseTextStyle: {
        fill: de.colorMutedForeground,
        fontFamily: "DynaPuff",
        fontWeight: "400",
        fontSize: 16
    },
    investedStyle: {
        fill: de.colorPrimary,
        fontFamily: "DynaPuff",
        fontWeight: "600",
        fontSize: 16
    },
    pnlPercentProfitStyle: {
        fill: de.colorCandlestickUp,
        fontFamily: "DynaPuff",
        fontWeight: "600",
        fontSize: 16
    },
    pnlPercentLossStyle: {
        fill: de.colorCandlestickDown,
        fontFamily: "DynaPuff",
        fontWeight: "600",
        fontSize: 16
    },
    pnlProfitStyle: {
        fill: de.colorForeground,
        fontFamily: "DynaPuff",
        fontWeight: "600",
        fontSize: 24,
        stroke: {
            color: de.colorMuted,
            width: 12
        },
        dropShadow: {
            color: de.colorCandlestickUp,
            angle: Math.PI / 4
        }
    },
    pnlLossStyle: {
        fill: de.colorForeground,
        fontFamily: "DynaPuff",
        fontWeight: "600",
        fontSize: 24,
        stroke: {
            color: de.colorMuted,
            width: 12
        },
        dropShadow: {
            color: de.colorCandlestickDown,
            angle: Math.PI / 4
        }
    },
    pnlPrecision: 2,
    pnlPercentPrecision: 2,
    investedPrecision: 2
});
class _j extends kn {
    constructor(a, r) {
        super(a, { ...Nj(),
            ...r
        });
        R(this, "selectors", ["pnl", "pnlPercent", "invested", "coinSlug"]);
        R(this, "gfx");
        R(this, "priceText");
        R(this, "leftStarSprite");
        R(this, "rightStarSprite");
        R(this, "investedText");
        R(this, "investedAmountText");
        R(this, "pnlPercentText");
        R(this, "pnlPercentAmountText");
        R(this, "pnlAmountText");
        R(this, "pnlProfitStyle");
        R(this, "pnlLossStyle");
        R(this, "pnlPercentProfitStyle");
        R(this, "pnlPercentLossStyle");
        R(this, "investedStyle");
        R(this, "baseTextStyle");
        R(this, "data", {
            pnl: 1,
            pnlPercent: 1,
            invested: 1,
            coinSlug: "SOL"
        });
        R(this, "dirty", !1);
        this.pnlProfitStyle = this.pool.getTextStyle(this._config.pnlProfitStyle), this.pnlLossStyle = this.pool.getTextStyle(this._config.pnlLossStyle), this.pnlPercentProfitStyle = this.pool.getTextStyle(this._config.pnlPercentProfitStyle), this.pnlPercentLossStyle = this.pool.getTextStyle(this._config.pnlPercentLossStyle), this.investedStyle = this.pool.getTextStyle(this._config.investedStyle), this.baseTextStyle = this.pool.getTextStyle(this._config.baseTextStyle);
        const l = ft.get("icon-star");
        this.leftStarSprite = this.pool.getSprite(l), this.leftStarSprite.anchor.set(.5, .5), this.container.addChild(this.leftStarSprite), this.rightStarSprite = this.pool.getSprite(l), this.rightStarSprite.anchor.set(.5, .5), this.container.addChild(this.rightStarSprite), this.pnlAmountText = this.pool.getText("+0.00 SOL", this._config.pnlProfitStyle), this.pnlAmountText.anchor.set(.5, .5), this.container.addChild(this.pnlAmountText), this.pnlPercentText = this.pool.getText("Gain", this._config.baseTextStyle), this.pnlPercentText.anchor.set(.5, .5), this.container.addChild(this.pnlPercentText), this.pnlPercentAmountText = this.pool.getText("+0.00%", this._config.pnlPercentProfitStyle), this.pnlPercentAmountText.anchor.set(.5, .5), this.container.addChild(this.pnlPercentAmountText), this.investedText = this.pool.getText("Invested", this._config.baseTextStyle), this.investedText.anchor.set(.5, .5), this.container.addChild(this.investedText), this.investedAmountText = this.pool.getText("0.00 SOL", this._config.investedStyle), this.investedAmountText.anchor.set(.5, .5), this.container.addChild(this.investedAmountText)
    }
    isDynamic() {
        return !0
    }
    isDrawable() {
        return !0
    }
    draw() {
        this.dirty = !1, this.pnlAmountText.text = `${vt(this.data.pnl,this._config.pnlPrecision)} ${this.data.coinSlug}`, this.pnlPercentAmountText.text = `${vt(this.data.pnlPercent,this._config.pnlPercentPrecision)}%`, this.investedAmountText.text = `${vt(this.data.invested,this._config.investedPrecision,!1)} ${this.data.coinSlug}`;
        const a = this.data.pnl >= 0,
            r = a ? this.pnlProfitStyle : this.pnlLossStyle,
            l = a ? this.pnlPercentProfitStyle : this.pnlPercentLossStyle;
        this.pnlAmountText.style = r, this.pnlAmountText.style.fontSize = 60, this.pnlPercentText.style.fontSize = 48, this.pnlPercentAmountText.style = l, this.pnlPercentAmountText.style.fontSize = 56, this.investedText.style.fontSize = 48, this.investedAmountText.style.fontSize = 56, this.pnlAmountText.scale.set(this.layout.stats.pnlAmountScale), this.pnlPercentText.scale.set(this.layout.stats.fontScale), this.pnlPercentAmountText.scale.set(this.layout.stats.pnlPercentScale), this.investedText.scale.set(this.layout.stats.fontScale), this.investedAmountText.scale.set(this.layout.stats.investedScale), this.pnlAmountText.position = {
            x: this.layout.stats.pnlAmountTextPosition.x * this.layout.statsArea.width,
            y: (1 - this.layout.stats.pnlAmountTextPosition.y) * this.layout.statsArea.height
        }, this.pnlPercentText.position = {
            x: this.layout.stats.pnlPercentTextPosition.x * this.layout.statsArea.width,
            y: (1 - this.layout.stats.pnlPercentTextPosition.y) * this.layout.statsArea.height
        }, this.pnlPercentAmountText.position = {
            x: this.layout.stats.pnlPercentAmountTextPosition.x * this.layout.statsArea.width,
            y: (1 - this.layout.stats.pnlPercentAmountTextPosition.y) * this.layout.statsArea.height
        }, this.investedText.position = {
            x: this.layout.stats.investedTextPosition.x * this.layout.statsArea.width,
            y: (1 - this.layout.stats.investedTextPosition.y) * this.layout.statsArea.height
        }, this.investedAmountText.position = {
            x: this.layout.stats.investedAmountTextPosition.x * this.layout.statsArea.width,
            y: (1 - this.layout.stats.investedAmountTextPosition.y) * this.layout.statsArea.height
        }, this.leftStarSprite.position.set(this.layout.stats.leftStarPosition.x * this.layout.statsArea.width, (1 - this.layout.stats.leftStarPosition.y) * this.layout.statsArea.height), this.rightStarSprite.position.set(this.layout.stats.rightStarPosition.x * this.layout.statsArea.width, (1 - this.layout.stats.rightStarPosition.y) * this.layout.statsArea.height), this.container.position.set(this.layout.statsArea.x, this.layout.statsArea.y)
    }
    update({
        pnl: a,
        pnlPercent: r,
        invested: l,
        coinSlug: d
    }) {
        typeof a == "number" && this.data.pnl !== a && (this.data.pnl = a, this.setDirty()), typeof r == "number" && this.data.pnlPercent !== r && (this.data.pnlPercent = r, this.setDirty()), typeof l == "number" && this.data.invested !== l && (this.data.invested = l, this.setDirty()), typeof d == "string" && this.data.coinSlug !== d && (this.data.coinSlug = d, this.setDirty())
    }
    setDirty() {
        this.dirty || (this.dirty = !0, this.addAnimationOnNextTick(this.draw))
    }
    resize(a) {
        var r, l;
        super.resize(a), (r = this.leftStarSprite) == null || r.setSize(this.layout.stats.leftStarScale * this.layout.statsArea.height, this.layout.stats.leftStarScale * this.layout.statsArea.height), (l = this.rightStarSprite) == null || l.setSize(this.layout.stats.rightStarScale * this.layout.statsArea.height, this.layout.stats.rightStarScale * this.layout.statsArea.height), this.setDirty()
    }
}
const Pj = () => ({
    textStyle: {
        fill: de.colorForeground,
        fontFamily: "DynaPuff",
        fontWeight: "400",
        fontSize: 24
    },
    prefix: "@"
});
class Lj extends Bn {
    constructor(a, r) {
        super(a, { ...Pj(),
            ...r
        });
        R(this, "selectors", ["username"]);
        R(this, "usernameText");
        R(this, "data", {
            username: "Anon"
        });
        R(this, "dirty", !0);
        this.usernameText = this.pool.getText("Anon"), this.usernameText.style = this.pool.getTextStyle(this._config.textStyle), this.usernameText.anchor.set(1.2, -1.09), this.container.addChild(this.usernameText)
    }
    isDynamic() {
        return !0
    }
    isDrawable() {
        return !0
    }
    draw() {
        this.dirty = !1, this.usernameText && (this.usernameText.text = this._config.prefix + this.data.username)
    }
    update({
        username: a
    }) {
        this.data.username !== a && (typeof a == "string" && (this.data.username = a), this.setDirty())
    }
    setDirty() {
        this.dirty || (this.dirty = !0, this.draw())
    }
    resize(a) {
        super.resize(a), this.usernameText && (this.layout.usernamePosition ? (this.usernameText.x = this.layout.usernamePosition.x, this.usernameText.y = this.layout.usernamePosition.y, this.usernameText.style.fontSize = this.layout.usernamePosition.fontSize) : (this.usernameText.x = this.layout.username.x, this.usernameText.y = this.layout.username.y))
    }
}
const Mj = () => ({
    lineColor: de.colorMuted,
    markerColor: de.colorForeground,
    linesEnabled: !0,
    markersEnabled: !0,
    markerSuffix: ""
});
class Bj extends Bn {
    constructor(a, r) {
        super(a, { ...Mj(),
            ...r
        });
        R(this, "selectors", ["grid", "isPreRound"]);
        R(this, "gfx");
        R(this, "textContainer");
        R(this, "data", {
            grid: {
                min: .5,
                max: 2,
                current: -1
            },
            isPreRound: !1
        });
        R(this, "dirtyText", !1);
        R(this, "dirtyGfx", !1);
        R(this, "texts", []);
        this.gfx = this.pool.getGraphics(), this.container.addChild(this.gfx), this.textContainer = this.pool.getContainer(), this.container.addChild(this.textContainer);
        for (let l = 0; l < 20; l++) {
            const d = this.pool.getText("", {
                fontSize: 12,
                fill: this._config.markerColor,
                fontFamily: "DynaPuff, Arial, sans-serif"
            });
            d.anchor.set(0, .5), this.texts.push(d), this.textContainer.addChild(d)
        }
    }
    isDynamic() {
        return !0
    }
    isDrawable() {
        return !0
    }
    get availableWidth() {
        return this.layout.priceAxis.width ? ? this.width
    }
    get availableHeight() {
        return this.layout.priceAxis.height ? ? this.height
    }
    resize(a) {
        super.resize(a), this.container.x = this.layout.priceAxis.x, this.container.y = this.layout.priceAxis.y, this.container.boundsArea = this.pool.getRectangle(this.layout.priceAxis.x, this.layout.priceAxis.y, this.layout.priceAxis.width, this.layout.priceAxis.height), this.textContainer.x = this.layout.priceAxis.pricesX, this.setDirty({
            text: this._config.markersEnabled,
            gfx: this._config.linesEnabled
        })
    }
    draw() {
        const a = Ty(this.data.grid.min, this.data.grid.max),
            r = Math.ceil(this.data.grid.min / a) * a;
        if (this._config.linesEnabled && this.dirtyGfx) {
            this.dirtyGfx = !1, this.gfx.clear(), this.gfx.updateTransform({
                scaleX: this.availableWidth,
                scaleY: -1,
                y: this.availableHeight
            });
            for (let l = r; l <= this.data.grid.max; l += a) {
                const d = this.availableHeight * x0(l, this.data.grid);
                this.gfx.rect(0, d + .5, 1, 1)
            }
            this.gfx.fill({
                color: this._config.lineColor
            })
        }
        if (this._config.markersEnabled && this.dirtyText) {
            this.dirtyText = !1;
            for (const d of this.textContainer.children) d.visible = !1;
            let l = 0;
            for (let d = r; d <= this.data.grid.max; d += a) {
                const u = this.texts[l];
                if (!u) continue;
                const h = Math.round(d * 10) / 10,
                    f = this.availableHeight - this.availableHeight * x0(d, this.data.grid);
                u.text = h.toString() + "x", u.x = 4, u.y = f, u.visible = !0, l++
            }
        }
        this.container.alpha = this.data.isPreRound ? .05 : 1
    }
    update(a) {
        (this.data.grid.min !== a.grid.min || this.data.grid.max !== a.grid.max) && (this.data.grid = a.grid, this.setDirty({
            text: this._config.markersEnabled,
            gfx: this._config.linesEnabled
        })), a.isPreRound !== void 0 && (this.data.isPreRound = a.isPreRound)
    }
    setDirty({
        text: a,
        gfx: r
    }) {
        let l = !1;
        a && !this.dirtyText && (this.dirtyText = !0, l = !0), r && !this.dirtyGfx && (this.dirtyGfx = !0, l = !0), l && this.draw()
    }
    destroy() {
        this.texts = [], super.destroy()
    }
}

function x0(e, {
    min: s,
    max: a
}) {
    return (e - s) / (a - s)
}
const zj = () => ({
    profitSprite: "pnl-chart-background-profit",
    lossSprite: "pnl-chart-background-loss"
});
class Fj extends kn {
    constructor(a, r) {
        super(a, { ...zj(),
            ...r
        });
        R(this, "selectors", ["profitState"]);
        R(this, "sprite");
        R(this, "data", {
            profitState: "profit"
        });
        R(this, "dirty", !1);
        const l = ft.get(this._config.profitSprite);
        this.sprite = this.pool.getSprite(l), this.container.addChild(this.sprite)
    }
    isDynamic() {
        return !0
    }
    isDrawable() {
        return !0
    }
    draw() {
        this.dirty = !1;
        const a = this.data.profitState === "profit" ? ft.get(this._config.profitSprite) : ft.get(this._config.lossSprite);
        this.sprite.texture = a, this.sprite.setSize(this.width, this.height)
    }
    resize(a) {
        super.resize(a), this.setDirty()
    }
    update({
        profitState: a
    }) {
        typeof a == "string" && this.data.profitState !== a && (this.data.profitState = a, this.setDirty())
    }
    setDirty() {
        this.dirty || (this.dirty = !0, this.addAnimationOnNextTick(this.draw))
    }
}

function Ly(e, s, a, r, l, d = 16, u = 8, h = "#F8F8FC", f = "#15161E") {
    const p = {
            x: s,
            y: a
        },
        y = {
            toX: Math.abs(r),
            toY: Math.abs(l)
        },
        x = Math.sqrt((r - s) ** 2 + (l - a) ** 2),
        S = w => {
            const j = parseInt(w.slice(1, 3), 16),
                A = parseInt(w.slice(3, 5), 16),
                _ = parseInt(w.slice(5, 7), 16);
            return {
                r: j,
                g: A,
                b: _
            }
        },
        v = S(h),
        C = S(f);
    for (e.moveTo(p.x, p.y); Math.abs(p.x) < y.toX || Math.abs(p.y) < y.toY;) {
        const w = Math.sqrt((p.x - s) ** 2 + (p.y - a) ** 2),
            j = Math.min(1, w / x),
            A = {
                r: Math.round(v.r + (C.r - v.r) * j),
                g: Math.round(v.g + (C.g - v.g) * j),
                b: Math.round(v.b + (C.b - v.b) * j)
            },
            _ = `#${A.r.toString(16).padStart(2,"0")}${A.g.toString(16).padStart(2,"0")}${A.b.toString(16).padStart(2,"0")}`;
        e.setStrokeStyle({
            color: _,
            width: 1
        });
        const k = Math.abs(p.x + d) < y.toX ? p.x + d : r,
            D = Math.abs(p.y + d) < y.toY ? p.y + d : l;
        e.lineTo(k, D), e.stroke(), p.x = Math.abs(p.x + d + u) < y.toX ? p.x + d + u : r, p.y = Math.abs(p.y + d + u) < y.toY ? p.y + d + u : l, e.moveTo(p.x, p.y)
    }
}

function My(e, s, a, r, l, d = 16, u = 8, h = "#C084FC", f = 1, p = 0) {
    const y = {
            x: s,
            y: a
        },
        x = {
            toX: Math.abs(r),
            toY: Math.abs(l)
        },
        S = Math.sqrt((r - s) ** 2 + (l - a) ** 2);
    for ((C => {
            const w = parseInt(C.slice(1, 3), 16),
                j = parseInt(C.slice(3, 5), 16),
                A = parseInt(C.slice(5, 7), 16);
            return {
                r: w,
                g: j,
                b: A
            }
        })(h), e.moveTo(y.x, y.y); Math.abs(y.x) < x.toX || Math.abs(y.y) < x.toY;) {
        const C = Math.sqrt((y.x - s) ** 2 + (y.y - a) ** 2),
            w = Math.min(1, C / S),
            j = f + (p - f) * w,
            A = Math.round(j * 255).toString(16).padStart(2, "0"),
            _ = `${h}${A}`;
        e.setStrokeStyle({
            color: _,
            width: 1
        });
        const k = Math.abs(y.x + d) < x.toX ? y.x + d : r,
            D = Math.abs(y.y + d) < x.toY ? y.y + d : l;
        e.lineTo(k, D), e.stroke(), y.x = Math.abs(y.x + d + u) < x.toX ? y.x + d + u : r, y.y = Math.abs(y.y + d + u) < x.toY ? y.y + d + u : l, e.moveTo(y.x, y.y)
    }
}
const Ij = () => ({
    standardTextEnabled: !0,
    standardTextStyle: {
        fill: de.colorForeground,
        fontFamily: "DynaPuff",
        fontWeight: "400",
        fontSize: 24
    },
    standardAccuracy: 4,
    standardTextSuffix: "x",
    standardDashEnabled: !0,
    standardDashStroke: {
        color: de.colorForeground,
        width: 1
    },
    standardDashLength: 4,
    standardDashGap: 4,
    autobetAccuracy: 4,
    autobetTextSuffix: "x AUTO",
    autobetTextEnabled: !0,
    autobetTextStyle: {
        fill: "#C084FC",
        fontFamily: "DynaPuff",
        fontWeight: "400",
        fontSize: 12
    },
    autobetDashEnabled: !0,
    autobetDashStroke: {
        color: "#C084FC",
        width: 1
    },
    autobetDashLength: 4,
    autobetDashGap: 4
});
class Oj extends Bn {
    constructor(a, r) {
        super(a, { ...Ij(),
            ...r
        });
        R(this, "selectors", ["grid", "isPreRound"]);
        R(this, "standardGfx");
        R(this, "standardText");
        R(this, "autobetGfx");
        R(this, "autobetText");
        R(this, "data", {
            grid: {
                min: .5,
                max: 2,
                current: 1
            },
            autobet: null,
            isPreRound: !1
        });
        R(this, "dirtyResize", !0);
        (this._config.autobetTextEnabled || this._config.autobetDashEnabled) && this.selectors.push("autobet"), this._config.standardDashEnabled && (this.standardGfx = this.pool.getGraphics(), this.container.addChild(this.standardGfx)), this._config.standardTextEnabled && (this.standardText = this.pool.getText("1.0000", this._config.standardTextStyle), this.standardText.anchor.set(.5, 1), this.container.addChild(this.standardText)), this._config.autobetDashEnabled && (this.autobetGfx = this.pool.getGraphics(), this.container.addChild(this.autobetGfx)), this._config.autobetTextEnabled && (this.autobetText = this.pool.getText("1.0000", this._config.autobetTextStyle), this.autobetText.anchor.set(.5, 1), this.container.addChild(this.autobetText))
    }
    isDynamic() {
        return !0
    }
    isDrawable() {
        return !0
    }
    get availableWidth() {
        return this.layout.priceTracker.width ? ? this.width
    }
    get availableHeight() {
        return this.layout.priceTracker.height ? ? this.height
    }
    draw() {
        this._drawStandard(this.data.grid.current, this.data.grid), this._drawAutobet(this.data.autobet, this.data.grid), this.dirtyResize = !1, this.container.alpha = this.data.isPreRound ? .05 : 1
    }
    _drawStandard(a, r) {
        const l = this.availableHeight - this.availableHeight * y0(a, r);
        if (this.dirtyResize) {
            if (!this.standardGfx) {
                console.warn("PriceTrackerLayer: gfx is not initialized, but dashEnabled is true");
                return
            }
            this.standardGfx.clear(), this.standardGfx.updateTransform({
                scaleY: -1,
                y: this.availableHeight
            }), Ly(this.standardGfx, 0, 0, this.availableWidth, 0, this._config.standardDashLength, this._config.standardDashGap, "#F8F8FC", "#15161E")
        }
        if (this.standardGfx && (this.standardGfx.y = l), !this.standardText) {
            console.warn("PriceTrackerLayer: priceText is not initialized, but textEnabled is true");
            return
        }
        this.standardText.text = vt(a, this._config.standardAccuracy, !1) + this._config.standardTextSuffix, this.standardText.y = l, this.standardText.x = this.layout.priceTracker.priceX
    }
    _drawAutobet(a, r) {
        const l = a !== null ? this.availableHeight - this.availableHeight * y0(a, r) : 0;
        if (this.dirtyResize) {
            if (!this.autobetGfx) {
                console.warn("PriceTrackerLayer: autobetGfx is not initialized, but dashEnabled is true");
                return
            }
            a === null ? this.autobetGfx.visible = !1 : (this.autobetGfx.visible = !0, this.autobetGfx.clear(), this.autobetGfx.updateTransform({
                scaleY: -1,
                y: this.availableHeight
            }), My(this.autobetGfx, 0, 0, this.availableWidth, 0, this._config.autobetDashLength, this._config.autobetDashGap, "#C084FC", 1, 0), this.autobetGfx.y = l)
        }
        if (!this.autobetText) {
            console.warn("PriceTrackerLayer: autobetText is not initialized, but textEnabled is true");
            return
        }
        a === null ? this.autobetText.visible = !1 : (this.autobetText.visible = !0, this.autobetText.text = vt(a, this._config.autobetAccuracy, !1) + this._config.autobetTextSuffix, this.autobetText.y = l, this.autobetText.x = this.layout.priceTracker.priceX)
    }
    update({
        grid: a,
        autobet: r,
        isPreRound: l
    }) {
        a !== void 0 && (a.current !== this.data.grid.current || a.min !== this.data.grid.min || a.max !== this.data.grid.max) && (this.data.grid = a), r !== void 0 && (this.data.autobet = r), l !== void 0 && (this.data.isPreRound = l), this.draw()
    }
    resize(a) {
        super.resize(a), this.container.x = this.layout.priceTracker.x, this.container.y = this.layout.priceTracker.y, this.dirtyResize = !0, this.draw()
    }
}

function y0(e, {
    min: s,
    max: a
}) {
    return (e - s) / (a - s)
}
const Wj = () => ({
    baseTextStyle: {
        fill: de.colorMutedForeground,
        fontFamily: "DynaPuff",
        fontWeight: "400",
        fontSize: 16
    },
    investedStyle: {
        fill: de.colorPrimary,
        fontFamily: "DynaPuff",
        fontWeight: "600",
        fontSize: 16
    },
    pnlPercentProfitStyle: {
        fill: de.colorCandlestickUp,
        fontFamily: "DynaPuff",
        fontWeight: "600",
        fontSize: 16
    },
    pnlPercentLossStyle: {
        fill: de.colorCandlestickDown,
        fontFamily: "DynaPuff",
        fontWeight: "600",
        fontSize: 16
    },
    pnlProfitStyle: {
        fill: de.colorForeground,
        fontFamily: "DynaPuff",
        fontWeight: "600",
        fontSize: 24,
        stroke: {
            color: de.colorMuted,
            width: 8
        },
        dropShadow: {
            color: de.colorCandlestickUp,
            angle: Math.PI / 4
        }
    },
    pnlLossStyle: {
        fill: de.colorForeground,
        fontFamily: "DynaPuff",
        fontWeight: "600",
        fontSize: 24,
        stroke: {
            color: de.colorMuted,
            width: 12
        },
        dropShadow: {
            color: de.colorCandlestickDown,
            angle: Math.PI / 4
        }
    },
    pnlPrecision: 2,
    pnlPercentPrecision: 2,
    investedPrecision: 2
});
class Uj extends kn {
    constructor(a, r) {
        super(a, { ...Wj(),
            ...r
        });
        R(this, "selectors", ["pnl", "pnlPercent", "invested", "coinSlug"]);
        R(this, "gfx");
        R(this, "priceText");
        R(this, "leftStarSprite");
        R(this, "rightStarSprite");
        R(this, "investedText");
        R(this, "investedAmountText");
        R(this, "pnlPercentText");
        R(this, "pnlPercentAmountText");
        R(this, "pnlAmountText");
        R(this, "pnlProfitStyle");
        R(this, "pnlLossStyle");
        R(this, "pnlPercentProfitStyle");
        R(this, "pnlPercentLossStyle");
        R(this, "investedStyle");
        R(this, "baseTextStyle");
        R(this, "data", {
            pnl: 1,
            pnlPercent: 1,
            invested: 1,
            coinSlug: "SOL"
        });
        R(this, "dirty", !1);
        const l = ft.get("icon-star");
        this.leftStarSprite = this.pool.getSprite(l), this.leftStarSprite.anchor.set(.5, .5), this.container.addChild(this.leftStarSprite), this.rightStarSprite = this.pool.getSprite(l), this.rightStarSprite.anchor.set(.5, .5), this.container.addChild(this.rightStarSprite), this.pnlProfitStyle = this.pool.getTextStyle(this._config.pnlProfitStyle), this.pnlLossStyle = this.pool.getTextStyle(this._config.pnlLossStyle), this.pnlPercentProfitStyle = this.pool.getTextStyle(this._config.pnlPercentProfitStyle), this.pnlPercentLossStyle = this.pool.getTextStyle(this._config.pnlPercentLossStyle), this.investedStyle = this.pool.getTextStyle(this._config.investedStyle), this.baseTextStyle = this.pool.getTextStyle(this._config.baseTextStyle), this.pnlAmountText = this.pool.getText("+0.00 SOL", this._config.pnlProfitStyle), this.pnlAmountText.anchor.set(.5, .5), this.container.addChild(this.pnlAmountText), this.pnlPercentText = this.pool.getText("Gain", this._config.baseTextStyle), this.pnlPercentText.anchor.set(.5, .5), this.container.addChild(this.pnlPercentText), this.pnlPercentAmountText = this.pool.getText("+0.00%", this._config.pnlPercentProfitStyle), this.pnlPercentAmountText.anchor.set(.5, .5), this.container.addChild(this.pnlPercentAmountText), this.investedText = this.pool.getText("Invested", this._config.baseTextStyle), this.investedText.anchor.set(.5, .5), this.container.addChild(this.investedText), this.investedAmountText = this.pool.getText("0.00 SOL", this._config.investedStyle), this.investedAmountText.anchor.set(.5, .5), this.container.addChild(this.investedAmountText)
    }
    isDynamic() {
        return !0
    }
    isDrawable() {
        return !0
    }
    draw() {
        this.dirty = !1, this.pnlAmountText.text = `${vt(this.data.pnl,this._config.pnlPrecision)} ${this.data.coinSlug}`, this.pnlPercentAmountText.text = `${vt(this.data.pnlPercent,this._config.pnlPercentPrecision)}%`, this.investedAmountText.text = `${vt(this.data.invested,this._config.investedPrecision,!1)} ${this.data.coinSlug}`;
        const a = this.data.pnl >= 0,
            r = a ? this.pnlProfitStyle : this.pnlLossStyle,
            l = a ? this.pnlPercentProfitStyle : this.pnlPercentLossStyle;
        this.pnlAmountText.style = r, this.pnlAmountText.style.fontSize = 36, this.pnlPercentText.style.fontSize = 32, this.pnlPercentAmountText.style = l, this.pnlPercentAmountText.style.fontSize = 36, this.investedText.style.fontSize = 32, this.investedAmountText.style.fontSize = 36, this.pnlPercentText.style.fontWeight = "400", this.investedText.style.fontWeight = "400", this.pnlAmountText.scale.set(this.layout.stats.pnlAmountScale), this.pnlPercentText.scale.set(this.layout.stats.fontScale), this.pnlPercentAmountText.scale.set(this.layout.stats.pnlPercentScale), this.investedText.scale.set(this.layout.stats.fontScale), this.investedAmountText.scale.set(this.layout.stats.investedScale), this.pnlAmountText.position = {
            x: this.layout.stats.pnlAmountTextPosition.x * this.layout.statsArea.width,
            y: (1 - this.layout.stats.pnlAmountTextPosition.y) * this.layout.statsArea.height
        }, this.pnlPercentText.position = {
            x: this.layout.stats.pnlPercentTextPosition.x * this.layout.statsArea.width,
            y: (1 - this.layout.stats.pnlPercentTextPosition.y) * this.layout.statsArea.height
        }, this.pnlPercentAmountText.position = {
            x: this.layout.stats.pnlPercentAmountTextPosition.x * this.layout.statsArea.width,
            y: (1 - this.layout.stats.pnlPercentAmountTextPosition.y) * this.layout.statsArea.height
        }, this.investedText.position = {
            x: this.layout.stats.investedTextPosition.x * this.layout.statsArea.width,
            y: (1 - this.layout.stats.investedTextPosition.y) * this.layout.statsArea.height
        }, this.investedAmountText.position = {
            x: this.layout.stats.investedAmountTextPosition.x * this.layout.statsArea.width,
            y: (1 - this.layout.stats.investedAmountTextPosition.y) * this.layout.statsArea.height
        }, this.leftStarSprite.position.set(this.layout.stats.leftStarPosition.x * this.layout.statsArea.width, (1 - this.layout.stats.leftStarPosition.y) * this.layout.statsArea.height), this.rightStarSprite.position.set(this.layout.stats.rightStarPosition.x * this.layout.statsArea.width, (1 - this.layout.stats.rightStarPosition.y) * this.layout.statsArea.height), this.container.position.set(this.layout.statsArea.x, this.layout.statsArea.y)
    }
    update({
        pnl: a,
        pnlPercent: r,
        invested: l,
        coinSlug: d
    }) {
        typeof a == "number" && this.data.pnl !== a && (this.data.pnl = a, this.setDirty()), typeof r == "number" && this.data.pnlPercent !== r && (this.data.pnlPercent = r, this.setDirty()), typeof l == "number" && this.data.invested !== l && (this.data.invested = l, this.setDirty()), typeof d == "string" && this.data.coinSlug !== d && (this.data.coinSlug = d, this.setDirty())
    }
    setDirty() {
        this.dirty || (this.dirty = !0, this.addAnimationOnNextTick(this.draw))
    }
    resize(a) {
        var r, l;
        super.resize(a), (r = this.leftStarSprite) == null || r.setSize(this.layout.stats.leftStarScale * this.layout.statsArea.height, this.layout.stats.leftStarScale * this.layout.statsArea.height), (l = this.rightStarSprite) == null || l.setSize(this.layout.stats.rightStarScale * this.layout.statsArea.height, this.layout.stats.rightStarScale * this.layout.statsArea.height), this.setDirty()
    }
}
const Hj = () => ({
    textStyle: {
        fill: de.colorForeground,
        fontFamily: "DynaPuff",
        fontWeight: "400",
        fontSize: 24
    },
    format: e => Os((Date.now() - e) / 1e3) + " ago"
});
class $j extends Bn {
    constructor(a, r) {
        super(a, { ...Hj(),
            ...r
        });
        R(this, "selectors", ["timestamp"]);
        R(this, "text");
        R(this, "data", {
            timestamp: Date.now()
        });
        R(this, "dirty", !0);
        this.text = this.pool.getText("+0.00 SOL", this._config.textStyle), this.text.anchor.set(.5, 1), this.container.addChild(this.text)
    }
    isDynamic() {
        return !0
    }
    isDrawable() {
        return !0
    }
    draw() {
        this.dirty = !1;
        const a = this._config.format(this.data.timestamp);
        this.text.text = a
    }
    update({
        timestamp: a
    }) {
        typeof a == "number" && this.data.timestamp !== a && (this.data.timestamp = a, this.setDirty())
    }
    setDirty() {
        this.dirty || (this.dirty = !0, this.draw())
    }
    resize(a) {
        super.resize(a), this.text.x = this.layout.timestamp.x, this.text.y = this.layout.timestamp.y
    }
}
const Gj = () => ({
    tradesKey: "trades",
    layoutKey: "user",
    usernameStyle: {
        fontFamily: "DynaPuff",
        fill: {
            color: "white"
        },
        fontSize: 12
    },
    positiveAmountStyle: {
        fontFamily: "DynaPuff",
        fill: {
            color: "#22C55E"
        },
        fontSize: 12
    },
    negativeAmountStyle: {
        fontFamily: "DynaPuff",
        fill: {
            color: "#EF4444"
        },
        fontSize: 12
    },
    positiveBorderStyle: {
        width: 1,
        color: 2278750,
        alpha: 1
    },
    positiveBackgroundStyle: {
        color: 1974314,
        alpha: .8
    },
    negativeBorderStyle: {
        width: 1,
        color: 15138827,
        alpha: 1
    },
    negativeBackgroundStyle: {
        color: 1974314,
        alpha: .8
    },
    typeStyle: {
        fontFamily: "DynaPuff",
        fill: {
            color: "white"
        },
        fontSize: 12
    },
    trademarkerDetails: !0,
    trademarkerAmountPrecision: 3,
    fitToMaxCandles: !0,
    inheritCandlesFromLayout: !0,
    inheritTrademarkersFromLayout: !0,
    layout: {
        candles: {
            candleWidth: 10,
            candleGap: 2,
            wickWidth: 2,
            maxCandles: 30
        },
        trademarkers: {
            user: {
                outer: 10,
                inner: 5,
                logo: 10
            },
            other: {
                outer: 10,
                inner: 5,
                logo: 10
            },
            detailsWidth: 100,
            detailsHeight: 100,
            detailsBadgeSize: 100,
            detailsTextPosition: {
                x: 0,
                y: 0
            },
            detailsUsernamePosition: {
                x: 0,
                y: 0
            },
            detailsBadgePosition: {
                x: 0,
                y: 0
            }
        }
    }
});
class Yj extends Bn {
    constructor(a, r) {
        super(a, { ...Gj(),
            ...r
        });
        R(this, "selectors");
        R(this, "innerContainer");
        R(this, "data", {
            trades: [],
            users: {},
            prices: []
        });
        R(this, "trademarkerMap", new Map);
        this.selectors = [], this.selectors.push(this._config.tradesKey), this.innerContainer = this.pool.getContainer(), this.container.addChild(this.innerContainer)
    }
    isDrawable() {
        return !0
    }
    isDynamic() {
        return !0
    }
    get availableWidth() {
        return this.layout.candleArea.width ? ? this.width
    }
    get availableHeight() {
        return this.layout.candleArea.height ? ? this.height
    }
    resize(a) {
        if (super.resize(a), this.container.y = this.layout.candleArea.y, this.container.x = this.layout.candleArea.x, this.container.boundsArea = this.pool.getRectangle(this.layout.candleArea.x, this.layout.candleArea.y, this.layout.candleArea.width, this.layout.candleArea.height), this._config.inheritCandlesFromLayout && (this._config.layout.candles = this.layout.candles), this._config.inheritTrademarkersFromLayout && (this._config.layout.trademarkers = this.layout.trademarkers), this._config.fitToMaxCandles) {
            const r = 5 * this._config.layout.candles.maxCandles,
                l = this._config.layout.candles.maxCandles - 1,
                d = r + l,
                u = this.availableWidth / d;
            this._config.layout.candles.candleWidth = u * 5, this._config.layout.candles.candleGap = u, this._config.layout.candles.wickWidth = Math.max(1, this._config.layout.candles.candleWidth / 5)
        }
    }
    draw() {
        const a = La.grid(this.data.prices),
            r = ri(this.data.prices, this._config.layout.candles.maxCandles, 5),
            l = this._calculateTickPositions(this.data.prices, r, a);
        this._updateTrademarkers(this.data.trades, l)
    }
    _calculateTickPositions(a, r, l) {
        const d = new Map;
        for (let p = 0; p < a.length; p++) {
            const y = p,
                x = a[p];
            d.set(y, {
                x: NaN,
                y: this.availableHeight - this.availableHeight * Vj(x, l)
            })
        }
        let u = this._config.layout.candles.candleWidth;
        for (const p of r) {
            const y = u;
            for (let x = p.startTick; x < p.endTick; x++) d.has(x) && (d.get(x).x = y);
            u += this._config.layout.candles.candleWidth + this._config.layout.candles.candleGap
        }
        const h = u,
            f = this.availableWidth - h;
        return this.innerContainer.x = f / 2 - this._config.layout.candles.candleWidth / 2 + this._config.layout.candles.candleGap, d
    }
    _updateTrademarkers(a, r) {
        this.trademarkerMap.forEach((l, d) => {
            a.some(u => u.id === d) || (this.container.removeChild(l), this.trademarkerMap.delete(d), this.pool.return(l))
        });
        for (const l of a) {
            if (l.tickIndex === 0) continue;
            const d = this._createOrGetTradeSprite(l),
                u = r.get(l.tickIndex);
            u && d.position.set(u.x, u.y)
        }
    }
    _createOrGetTradeSprite(a) {
        if (!this.trademarkerMap.has(a.id)) {
            const r = this._drawTrademarker(a);
            this.trademarkerMap.set(a.id, r), this.innerContainer.addChild(r)
        }
        return this.trademarkerMap.get(a.id)
    }
    _drawTrademarker(a) {
        var S;
        const r = this.pool.getContainer(),
            l = Td(a.coin),
            d = this.layout.trademarkers[this._config.layoutKey],
            u = this._config.fitToMaxCandles ? {
                outer: d.outer * this._config.layout.candles.candleWidth,
                inner: d.inner * this._config.layout.candles.candleWidth,
                logo: d.logo * this._config.layout.candles.candleWidth
            } : d,
            h = this.pool.getContainer(),
            f = ft.get(a.type === "buy" ? "trademarker_buy" : "trademarker_sell"),
            p = this.pool.getSprite(f);
        p.anchor.set(.5, .5), p.setSize(u.outer * 2), p.position.set(.5 * u.outer, -.5 * u.outer);
        const y = ft.get(`coin-${l.slug}`),
            x = this.pool.getSprite(y);
        if (x.anchor.set(.5, .5), x.setSize(u.logo), x.position.set(.5 * u.outer, -.5 * u.outer), h.addChild(p), h.addChild(x), r.addChild(h), this._config.trademarkerDetails) {
            const v = this.data.users[a.playerId];
            if (!v) return console.warn("No user found for trade", a), r;
            const C = this.pool.getContainer(),
                w = 8,
                j = 4,
                A = 2,
                _ = 4,
                k = this.pool.getText(v.username ? ? "Anonymous", this._config.usernameStyle),
                D = ks(((S = v.levelInfo) == null ? void 0 : S.level) ? ? 0),
                E = ft.get(`badge-${D}`),
                P = this.pool.getSprite(E);
            P.setSize(this._config.layout.trademarkers.detailsBadgeSize);
            const I = this.pool.getText(a.type === "buy" ? "Buy" : "Sell", this._config.typeStyle),
                B = a.type === "sell" ? -a.amount : a.amount,
                X = a.type === "buy" ? this._config.positiveAmountStyle : this._config.negativeAmountStyle,
                O = this.pool.getText(vt(B, this._config.trademarkerAmountPrecision), X),
                L = this.pool.getContainer();
            P.position.set(0, 0), k.position.set(P.width + j, (P.height - k.height) / 2);
            const F = Math.max(P.height, k.height);
            I.position.set(0, F + A), O.position.set(I.width + _, F + A), L.addChild(P), L.addChild(k), L.addChild(I), L.addChild(O);
            const Y = L.getLocalBounds(),
                H = Y.width + w * 2,
                K = Y.height + w * 2,
                z = -H,
                U = -K / 2,
                V = this.pool.getGraphics();
            V.roundRect(0, 0, H, K, 5).fill(a.type === "buy" ? this._config.positiveBackgroundStyle : this._config.negativeBackgroundStyle).stroke(a.type === "buy" ? this._config.positiveBorderStyle : this._config.negativeBorderStyle), P.position.set(P.x + w, P.y + w), k.position.set(k.x + w, k.y + w), I.position.set(I.x + w, I.y + w), O.position.set(O.x + w, O.y + w), C.addChild(V), C.addChild(P), C.addChild(k), C.addChild(I), C.addChild(O), C.position.set(z, U), this.pool.return(L), r.addChild(C)
        }
        return r
    }
    update(a) {
        a.users !== void 0 && (this.data.users = a.users), a.prices !== void 0 && (this.data.prices = a.prices), a[this._config.tradesKey] !== void 0 && (this.data.trades = a[this._config.tradesKey])
    }
    destroy() {
        super.destroy(), this.trademarkerMap.clear()
    }
}

function Vj(e, {
    min: s,
    max: a
}) {
    return (e - s) / (a - s)
}
const qj = () => ({
    lineEnabled: !0,
    lineStroke: {
        color: de.colorForeground,
        width: 5
    },
    lineDashLength: 6,
    lineDashGap: 4,
    pnlTextEnabled: !0,
    pnlTextStyle: {
        fontFamily: "DynaPuff",
        fontSize: 14,
        fontWeight: "500"
    },
    pnlTextColor: "#888888",
    positionTextEnabled: !0,
    positionTextStyle: {
        fontFamily: "DynaPuff",
        fontSize: 14,
        fontWeight: "600"
    },
    textSpacing: 12,
    accuracy: 4,
    profitLineColor: "#22C55E",
    lossLineColor: "#DC2626",
    neutralLineColor: "#888888",
    profitTextColor: "#22C55E",
    lossTextColor: "#DC2626",
    neutralTextColor: "#888888"
});
class Xj extends Ws {
    constructor(a, r) {
        super(a, { ...qj(),
            ...r
        });
        R(this, "selectors", ["averageEntry", "averageEntryPnl", "averageEntryCurrentValue", "tokenTicker", "averageEntryProfitState"]);
        R(this, "lineGfx");
        R(this, "pnlText");
        R(this, "positionText");
        R(this, "data", {
            averageEntry: null,
            averageEntryPnl: 0,
            averageEntryCurrentValue: 0,
            tokenTicker: "SOL",
            averageEntryProfitState: "neutral"
        });
        R(this, "dirtyResize", !1);
        R(this, "lineDrawn", !1);
        R(this, "previousProfitState", "neutral");
        this._config.lineEnabled && (this.lineGfx = this.pool.getGraphics(), this.container.addChild(this.lineGfx)), this._config.pnlTextEnabled && (this.pnlText = this.pool.getBitmapText("", this._config.pnlTextStyle), this.pnlText.anchor.set(1, 1), this.pnlText.tint = this._config.pnlTextColor, this.container.addChild(this.pnlText)), this._config.positionTextEnabled && (this.positionText = this.pool.getBitmapText("", this._config.positionTextStyle), this.positionText.anchor.set(1, 1), this.container.addChild(this.positionText)), this.addTransition("displayData", this.transitionDisplayData.bind(this))
    }
    isDynamic() {
        return !0
    }
    get availableWidth() {
        return this.layout.averageEntry.width ? ? this.width
    }
    get availableHeight() {
        return this.layout.averageEntry.height ? ? this.height
    }
    getLineColor() {
        switch (this.data.averageEntryProfitState) {
            case "profit":
                return this._config.profitLineColor;
            case "loss":
                return this._config.lossLineColor;
            default:
                return this._config.neutralLineColor
        }
    }
    getPositionTextColor() {
        switch (this.data.averageEntryProfitState) {
            case "profit":
                return this._config.profitTextColor;
            case "loss":
                return this._config.lossTextColor;
            default:
                return this._config.neutralTextColor
        }
    }
    _drawLine(a, r) {
        if (!this.lineGfx || this.data.averageEntryCurrentValue <= 0) {
            this.lineGfx && (this.lineGfx.visible = !1);
            return
        }
        const l = Ra(a, r),
            d = this.availableHeight - (this.availableHeight * l - this.layout.averageEntry.y),
            u = this.data.averageEntryProfitState !== this.previousProfitState;
        if (this.dirtyResize || !this.lineDrawn || u) {
            this.lineGfx.clear(), this.lineDrawn = !0, this.previousProfitState = this.data.averageEntryProfitState;
            const f = this.getLineColor(),
                p = this.availableWidth * .8;
            this.lineGfx.moveTo(0, 0).lineTo(p, 0).stroke({
                width: 2,
                color: f,
                cap: "round"
            });
            const y = this.availableWidth * .2,
                x = 30,
                S = y / x;
            for (let v = 0; v < x; v++) {
                const C = p + v * S,
                    w = C + S,
                    j = 1 - v / x;
                this.lineGfx.moveTo(C, 0).lineTo(w, 0).stroke({
                    width: 2,
                    color: f,
                    alpha: j,
                    cap: "round"
                })
            }
        }
        this.lineGfx.visible = !0, this.lineGfx.y = d
    }
    _drawTexts(a, r) {
        if (this.data.averageEntryCurrentValue <= 0) {
            this.pnlText && (this.pnlText.visible = !1), this.positionText && (this.positionText.visible = !1);
            return
        }
        const l = this.availableHeight - (this.availableHeight * Ra(a, r) - this.layout.averageEntry.y);
        if (this.positionText) {
            const d = parseFloat(this.data.averageEntryCurrentValue.toFixed(3)).toString();
            this.positionText.text = `${d} ${this.data.tokenTicker} Left`, this.positionText.tint = this.getPositionTextColor(), this.positionText.visible = !0, this.positionText.y = l - 5, this.positionText.x = this.layout.averageEntry.textX, this.positionText.scale.set(this.layout.averageEntry.textScale), Math.random() < .01 && console.log(`Position Debug - Raw: ${this.data.averageEntryCurrentValue}, Displayed: ${d}`)
        }
        if (this.pnlText) {
            const d = this.data.averageEntryPnl >= 0 ? "+" : "",
                u = parseFloat(this.data.averageEntryPnl.toFixed(3)).toString();
            this.pnlText.text = `${d}${u} ${this.data.tokenTicker}`, this.pnlText.visible = !0, this.pnlText.y = l - 5;
            const h = this.positionText ? this.positionText.width * this.layout.averageEntry.textScale : 0;
            this.pnlText.x = this.layout.averageEntry.textX - (h + this._config.textSpacing + 15), this.pnlText.scale.set(this.layout.averageEntry.textScale)
        }
    }
    transitionDisplayData(a) {
        const r = a.get();
        if (!r) return;
        const l = {
            min: r.displayMin,
            max: r.displayMax
        };
        if (this.data.averageEntry !== null && this.data.averageEntryCurrentValue > 0 || this.data.averageEntry === null && this.data.averageEntryCurrentValue > 0) {
            const d = this.data.averageEntry !== null ? this.data.averageEntry : 1;
            this._drawLine(d, l), this._drawTexts(d, l)
        } else this.lineGfx && (this.lineGfx.visible = !1), this.pnlText && (this.pnlText.visible = !1), this.positionText && (this.positionText.visible = !1);
        this.dirtyResize = !1
    }
    update(a) {
        Object.assign(this.data, a)
    }
    resize(a) {
        super.resize(a), this.dirtyResize = !0, this.lineDrawn = !1, this.previousProfitState = "neutral"
    }
}
const Qj = () => ({
    upColor: de.colorCandlestickUp,
    downColor: de.colorCandlestickDown,
    godCandleColor: de.colorPrimary,
    wickColor: de.colorBorder,
    wickUsesBodyColor: !1,
    minCandleHeight: 1,
    inheritCandlesFromLayout: !0,
    layout: {
        candles: {
            candleWidth: 10,
            candleGap: 2,
            wickWidth: 2,
            maxCandles: 30
        }
    }
});
class Kj extends Ws {
    constructor(a, r) {
        super(a, { ...Qj(),
            ...r
        });
        R(this, "selectors");
        R(this, "gfx");
        R(this, "dirtyCandles", !1);
        this.selectors = [], this.gfx = this.pool.getGraphics(), this.container.addChild(this.gfx), this.addTransition("displayData", this.transitionDisplayData.bind(this))
    }
    get availableWidth() {
        return this.layout.candleArea.width ? ? this.width
    }
    get availableHeight() {
        return this.layout.candleArea.height ? ? this.height
    }
    resize(a) {
        super.resize(a), this.container.y = this.layout.candleArea.y, this.container.x = this.layout.candleArea.x, this.container.boundsArea = this.pool.getRectangle(this.layout.candleArea.x, this.layout.candleArea.y, this.layout.candleArea.width, this.layout.candleArea.height), this._config.inheritCandlesFromLayout && (this._config.layout.candles = this.layout.candles), this.setDirty({
            candles: !0
        })
    }
    transitionDisplayData(a) {
        const r = a.get();
        if (!r) return;
        const l = {
                min: r.displayMin,
                max: r.displayMax
            },
            d = r.candles || [];
        this._drawCandles(d, l)
    }
    _drawCandles(a, r) {
        this.dirtyCandles = !1, this.gfx.clear(), this.gfx.updateTransform({
            scaleY: -1,
            y: this.availableHeight
        });
        let l = -this._config.layout.candles.candleWidth / 2;
        for (const h of a) {
            const f = this.availableHeight * Yc(h.open, r),
                p = this.availableHeight * Yc(h.close, r),
                y = this.availableHeight * Yc(h.high, r),
                x = this.availableHeight * Yc(h.low, r),
                S = Math.min(f, p),
                v = Math.max(f, p),
                C = Math.max(this._config.minCandleHeight, v - S),
                w = h.close >= h.open ? this._config.upColor : this._config.downColor,
                j = this._config.wickUsesBodyColor ? w : this._config.wickColor,
                A = y - x;
            this.gfx.roundRect(l + (this._config.layout.candles.candleWidth - this._config.layout.candles.wickWidth) / 2, x, this._config.layout.candles.wickWidth, A, this._config.layout.candles.wickWidth / 2).fill(j), this.gfx.roundRect(l, S, this._config.layout.candles.candleWidth, C, this._config.layout.candles.candleWidth / 5).fill(w), l += this._config.layout.candles.candleWidth + this._config.layout.candles.candleGap
        }
        const d = l - this._config.layout.candles.candleGap,
            u = this.availableWidth - d;
        this.gfx.x = u / 2
    }
    setDirty({
        candles: a
    }) {
        a && !this.dirtyCandles && (this.dirtyCandles = !0)
    }
}

function Yc(e, {
    min: s,
    max: a
}) {
    return (e - s) / (a - s)
}
const Zj = () => ({
    lineColor: de.colorMuted,
    markerColor: de.colorForeground,
    linesEnabled: !0,
    markersEnabled: !0,
    transitionDuration: 150
});
class Jj extends Ws {
    constructor(a, r) {
        super(a, { ...Zj(),
            ...r
        });
        R(this, "gfx");
        R(this, "textContainer");
        R(this, "texts", []);
        this.gfx = this.pool.getGraphics(), this.container.addChild(this.gfx), this.textContainer = this.pool.getContainer(), this.container.addChild(this.textContainer);
        for (let l = 0; l < 20; l++) {
            const d = this.pool.getText("", {
                fontSize: 12,
                fill: this._config.markerColor,
                fontFamily: "DynaPuff, Arial, sans-serif"
            });
            d.anchor.set(0, .5), this.texts.push(d), this.textContainer.addChild(d)
        }
        this.addTransition("displayData", this.transitionGrid.bind(this))
    }
    isDrawable() {
        return !0
    }
    get availableWidth() {
        return this.layout.priceAxis.width ? ? this.width
    }
    get availableHeight() {
        return this.layout.priceAxis.height ? ? this.height
    }
    resize(a) {
        super.resize(a), this.container.x = this.layout.priceAxis.x, this.container.y = this.layout.priceAxis.y, this.container.boundsArea = this.pool.getRectangle(this.layout.priceAxis.x, this.layout.priceAxis.y, this.layout.priceAxis.width, this.layout.priceAxis.height), this.textContainer.x = this.layout.priceAxis.pricesX
    }
    transitionGrid(a) {
        const r = a.get();
        if (!r) return;
        const l = {
                min: r.displayMin,
                max: r.displayMax
            },
            d = Ty(l.min, l.max),
            u = Math.ceil(l.min / d) * d;
        if (this._config.linesEnabled) {
            this.gfx.clear(), this.gfx.updateTransform({
                scaleX: this.availableWidth,
                scaleY: -1,
                y: this.availableHeight
            });
            for (let h = u; h <= l.max; h += d) {
                const f = this.availableHeight * b0(h, l);
                this.gfx.rect(0, f + .5, 1, 1)
            }
            this.gfx.fill({
                color: this._config.lineColor
            })
        }
        if (this._config.markersEnabled) {
            for (const f of this.textContainer.children) f.visible = !1;
            let h = 0;
            for (let f = u; f <= l.max; f += d) {
                const p = this.texts[h];
                if (!p) continue;
                const y = Math.round(f * 10) / 10,
                    x = this.availableHeight - this.availableHeight * b0(f, l);
                p.text = y.toString() + "x", p.x = 4, p.y = x, p.visible = !0, h++
            }
        }
    }
    destroy() {
        this.texts = [], super.destroy()
    }
}

function b0(e, {
    min: s,
    max: a
}) {
    return (e - s) / (a - s)
}
const e5 = () => ({
    standardTextEnabled: !0,
    standardTextStyle: {
        fontFamily: "DynaPuff",
        fontSize: 32,
        fontWeight: "600"
    },
    standardTextColor: de.colorForeground,
    standardAccuracy: 4,
    standardTextSuffix: "x",
    standardDashEnabled: !0,
    standardDashStroke: {
        color: de.colorForeground,
        width: 1
    },
    standardDashLength: 4,
    standardDashGap: 4,
    autobetAccuracy: 4,
    autobetTextSuffix: "x AUTO",
    autobetTextEnabled: !0,
    autobetTextStyle: {
        fontFamily: "DynapuffCustom, DynaPuff",
        fontSize: 12
    },
    autobetTextColor: "#C084FC",
    autobetDashEnabled: !0,
    autobetDashStroke: {
        color: "#C084FC",
        width: 1
    },
    autobetDashLength: 4,
    autobetDashGap: 4,
    transitionDuration: 150
});
class t5 extends Ws {
    constructor(a, r) {
        super(a, { ...e5(),
            ...r
        });
        R(this, "selectors", []);
        R(this, "standardGfx");
        R(this, "standardText");
        R(this, "autobetGfx");
        R(this, "autobetText");
        R(this, "data", {
            autobet: null,
            isPreRound: !0
        });
        R(this, "dirtyResize", !1);
        (this._config.autobetTextEnabled || this._config.autobetDashEnabled) && this.selectors.push("autobet"), this.selectors.push("isPreRound"), this._config.standardDashEnabled && (this.standardGfx = this.pool.getGraphics(), this.container.addChild(this.standardGfx)), this._config.standardTextEnabled && (this.standardText = this.pool.getBitmapText("1.0000", this._config.standardTextStyle), this.standardText.anchor.set(1, 1), this.standardText.tint = this._config.standardTextColor, this.container.addChild(this.standardText)), this._config.autobetDashEnabled && (this.autobetGfx = this.pool.getGraphics(), this.container.addChild(this.autobetGfx)), this._config.autobetTextEnabled && (this.autobetText = this.pool.getBitmapText("1.0000", this._config.autobetTextStyle), this.autobetText.anchor.set(.5, 1), this.autobetText.tint = this._config.autobetTextColor, this.container.addChild(this.autobetText)), this.addTransition("displayData", this.transitionPrice.bind(this))
    }
    isDynamic() {
        return !0
    }
    get availableWidth() {
        return this.layout.priceTracker.width ? ? this.width
    }
    get availableHeight() {
        return this.layout.priceTracker.height ? ? this.height
    }
    _drawStandard(a, r) {
        const l = this.availableHeight - (this.availableHeight * v0(a, r) - this.layout.priceTracker.y);
        if (this.dirtyResize) {
            if (!this.standardGfx) {
                console.warn("PriceTrackerLayer: gfx is not initialized, but dashEnabled is true");
                return
            }
            this.standardGfx.clear(), this.standardGfx.updateTransform({
                scaleY: -1,
                y: this.availableHeight
            }), Ly(this.standardGfx, 0, 0, this.availableWidth, 0, this._config.standardDashLength, this._config.standardDashGap, "#F8F8FC", "#15161E")
        }
        if (this.standardGfx && (this.standardGfx.y = l), !this.standardText) {
            console.warn("PriceTrackerLayer: priceText is not initialized, but textEnabled is true");
            return
        }
        if (this.data.isPreRound) {
            this.standardText.visible = !1;
            return
        }
        this.standardText.visible = !0, this.standardText.text = vt(a, this._config.standardAccuracy, !1) + this._config.standardTextSuffix, this.standardText.y = l, this.standardText.x = this.layout.priceTracker.priceX
    }
    _drawAutobet(a, r) {
        const l = a !== null ? this.availableHeight - (this.availableHeight * v0(a, r) - this.layout.priceTracker.y) : 0;
        if (!this.autobetGfx) {
            console.warn("PriceTrackerLayer: autobetGfx is not initialized, but dashEnabled is true");
            return
        }
        if (this.dirtyResize && (this.autobetGfx.clear(), this.autobetGfx.updateTransform({
                scaleY: -1,
                y: this.availableHeight
            }), My(this.autobetGfx, 0, 0, this.availableWidth, 0, this._config.autobetDashLength, this._config.autobetDashGap, "#C084FC", 1, 0)), a === null ? this.autobetGfx.visible = !1 : (this.autobetGfx.visible = !0, this.autobetGfx.y = l), !this.autobetText) {
            console.warn("PriceTrackerLayer: autobetText is not initialized, but textEnabled is true");
            return
        }
        a === null ? this.autobetText.visible = !1 : (this.autobetText.visible = !0, this.autobetText.text = vt(a, this._config.autobetAccuracy, !1) + this._config.autobetTextSuffix, this.autobetText.y = l, this.autobetText.x = this.layout.priceTracker.priceX)
    }
    transitionPrice(a) {
        const r = a.get();
        r && (this._drawStandard(r.current, {
            min: r.displayMin,
            max: r.displayMax
        }), this._drawAutobet(this.data.autobet, {
            min: r.displayMin,
            max: r.displayMax
        }), this.dirtyResize = !1)
    }
    update({
        autobet: a,
        isPreRound: r
    }) {
        a !== void 0 && (this.data.autobet = a), r !== void 0 && (this.data.isPreRound = r)
    }
    resize(a) {
        super.resize(a), this.dirtyResize = !0, this.standardText && (this.standardText.style.fontSize = a.priceTracker.fontSize, this.standardText.scale.set(this.layout.priceTracker.priceScale))
    }
}

function v0(e, {
    min: s,
    max: a
}) {
    return (e - s) / (a - s)
}
const n5 = () => ({
    layout: {
        x: 0,
        y: 0,
        width: 220,
        height: 46
    }
});
class s5 extends kn {
    constructor(a, r) {
        super(a, { ...n5(),
            ...r
        });
        R(this, "handlers", ["openShareButton"]);
        R(this, "_handlers", {
            openShareButton: () => {}
        });
        R(this, "_layoutWidth", 0);
        R(this, "_layoutHeight", 0);
        R(this, "selectors", ["cumulativePnL", "pnlPercent", "rugged", "positionQty", "tokenTicker", "isPreRound", "hasShareData"]);
        R(this, "data", {
            cumulativePnL: 0,
            pnlPercent: 0,
            rugged: !1,
            positionQty: 0,
            tokenTicker: "SOL",
            isPositive: !0
        });
        R(this, "frozenRuggedData", null);
        R(this, "showShareButton", !1);
        R(this, "showPnl", !0);
        R(this, "hadInteraction", !1);
        R(this, "wasRugged", !1);
        R(this, "wasPreRound", !1);
        R(this, "hasShareData", !1);
        R(this, "timeUntilNextUpdate", 3e3);
        R(this, "rainbowTime", 0);
        R(this, "pnlNeedsRedraw", !0);
        R(this, "buttonContainer");
        R(this, "pnlContainer");
        R(this, "rainbowBorder");
        R(this, "animationContainer");
        this.container.eventMode = "static", this.buttonContainer = this.pool.getContainer(), this.pnlContainer = this.pool.getContainer(), this.rainbowBorder = this.pool.getGraphics(), this.animationContainer = this.pool.getContainer(), this.container.addChild(this.rainbowBorder), this.container.addChild(this.buttonContainer), this.container.addChild(this.pnlContainer), this.container.addChild(this.animationContainer), this.container.on("pointertap", l => {
            Ye("[TransitionShareButtonLayer] pointertap openShareButton", this.hasShareData), this.hasShareData && this._handlers.openShareButton()
        }), this.container.on("pointerdown", l => {
            Ye("[TransitionShareButtonLayer] pointerdown openShareButton", this.hasShareData), this.hasShareData && this._handlers.openShareButton()
        }), this.drawShareButton(), this.drawPnlDisplay(), this.addAnimation(this.updateDisplay)
    }
    isDrawable() {
        return !0
    }
    isDynamic() {
        return !0
    }
    isHandler() {
        return !0
    }
    updateHandlers(a) {
        this._handlers = a
    }
    resize(a) {
        super.resize(a), this._config.layout = a.shareButton, this._layoutWidth = a.width, this._layoutHeight = a.height, this.drawShareButton(), this.drawPnlDisplay(), this.updatePosition()
    }
    update(a) {
        typeof a.hasShareData == "boolean" && (this.hasShareData = a.hasShareData), typeof a.rugged == "boolean" && (this.data.rugged = a.rugged), typeof a.isPreRound == "boolean" && this.wasPreRound !== a.isPreRound && (this.wasPreRound === !0 && a.isPreRound === !1 && (this.wasRugged = !1, this.hadInteraction = !1, this.showShareButton = !1, this.showPnl = !0, this.frozenRuggedData = null, this.pnlNeedsRedraw = !0), this.wasPreRound = a.isPreRound), typeof a.cumulativePnL == "number" && (this.frozenRuggedData || (this.data.cumulativePnL !== a.cumulativePnL && (this.pnlNeedsRedraw = !0), this.data.cumulativePnL = a.cumulativePnL, this.data.isPositive = a.cumulativePnL >= 0), a.cumulativePnL !== 0 && (this.hadInteraction = !0)), typeof a.pnlPercent == "number" && (this.frozenRuggedData || (this.data.pnlPercent !== a.pnlPercent && (this.pnlNeedsRedraw = !0), this.data.pnlPercent = a.pnlPercent)), typeof a.positionQty == "number" && (this.data.positionQty = a.positionQty), typeof a.tokenTicker == "string" && (this.frozenRuggedData || (this.data.tokenTicker !== a.tokenTicker && (this.pnlNeedsRedraw = !0), this.data.tokenTicker = a.tokenTicker)), this.data.rugged && this.hadInteraction && (this.wasRugged = !0, this.frozenRuggedData || (this.frozenRuggedData = {
            cumulativePnL: this.data.cumulativePnL,
            pnlPercent: this.data.pnlPercent,
            tokenTicker: this.data.tokenTicker,
            isPositive: this.data.isPositive
        }, this.pnlNeedsRedraw = !0))
    }
    updatePosition() {
        const r = this._layoutWidth < 768,
            l = 30 / 46;
        r ? (this.container.scale.x = l, this.container.scale.y = l, this.container.x = this._layoutWidth - 16 - this._config.layout.width * l, this.container.y = this._config.layout.y - this._config.layout.height * l) : (this.container.scale.x = 1, this.container.scale.y = 1, this.container.x = this._layoutWidth - 16 - this._config.layout.width, this.container.y = this._config.layout.y - this._config.layout.height)
    }
    updateRainbowBorder() {
        const a = this._config.layout.width,
            r = this._config.layout.height,
            l = 25,
            d = this.rainbowTime * 60 % 360,
            u = this.hslToHex(d, 100, 50);
        this.rainbowBorder.clear(), this.rainbowBorder.roundRect(0, 0, a, r, l), this.rainbowBorder.stroke({
            width: 4,
            color: u
        }), this.rainbowBorder.visible = !0
    }
    hslToHex(a, r, l) {
        l /= 100;
        const d = r * Math.min(l, 1 - l) / 100,
            u = y => {
                const x = (y + a / 30) % 12,
                    S = l - d * Math.max(Math.min(x - 3, 9 - x, 1), -1);
                return Math.round(255 * S)
            },
            h = u(0),
            f = u(8),
            p = u(4);
        return h << 16 | f << 8 | p
    }
    toggle() {
        this.wasRugged && this.hadInteraction ? (this.showPnl = !0, this.showShareButton = !1, this.timeUntilNextUpdate = 3e3) : (this.showPnl = !0, this.showShareButton = !1, this.timeUntilNextUpdate = 3e3)
    }
    updateDisplay(a) {
        if (!this.hadInteraction) {
            this.container.visible = !1;
            return
        }
        this.container.visible = !0, this.container.interactive = this.wasRugged && this.hasShareData, this.container.cursor = this.container.interactive ? "pointer" : "default", this.showPnl = !0, this.showShareButton = !1, this.wasRugged && this.hadInteraction ? (this.timeUntilNextUpdate -= a.deltaMS, this.timeUntilNextUpdate <= 0 && this.toggle()) : this.timeUntilNextUpdate = 3e3, this.wasRugged || this.data.positionQty === 0 && this.hadInteraction ? (this.rainbowTime += a.deltaMS * .003, this.updateRainbowBorder()) : this.rainbowBorder.visible = !1, this.buttonContainer.visible = !1, this.showPnl ? (this.pnlContainer.visible = !0, (this.pnlNeedsRedraw || this.pnlContainer.children.length === 0) && (this.drawPnlDisplay(), this.pnlNeedsRedraw = !1)) : this.pnlContainer.visible = !1
    }
    drawShareButton() {
        const a = this.buttonContainer.removeChildren();
        this.pool.return(a);
        const r = this._config.layout.height,
            l = 25,
            d = 20,
            u = 16,
            h = 8,
            f = this.pool.getText("SHARE FOR SOL", {
                fontFamily: "DynaPuff",
                fontSize: 16,
                fill: "#FFD700",
                fontWeight: "bold"
            }),
            p = f.width,
            S = d + h + p + u * 2;
        this.pool.return(f), this._config.layout.width = S;
        const v = this.pool.getGraphics();
        v.label = "innerFill", v.roundRect(2, 2, S - 4, r - 4, l - 2), v.fill(1579035), this.buttonContainer.addChild(v);
        const C = Td("SOL"),
            w = ft.get(`coin-${C.slug}`),
            j = this.pool.getSprite(w);
        j.label = "coinSprite", j.anchor.set(.5, .5), j.setSize(d), j.position.set(u + d / 2, r / 2), this.buttonContainer.addChild(j);
        const A = this.pool.getText("SHARE FOR SOL", {
            fontFamily: "DynaPuff",
            fontSize: 16,
            fill: "#FFD700",
            fontWeight: "bold"
        });
        A.label = "shareText", A.anchor.set(0, .5), A.position.set(u + d + h, r / 2), this.buttonContainer.addChild(A), this.updateShareButton()
    }
    updateShareButton() {
        const a = this.buttonContainer.getChildByLabel("shareText");
        if (a instanceof Is) {
            a.text = "SHARE FOR SOL";
            const r = this.pool.getText("SHARE FOR SOL", {
                    fontFamily: "DynaPuff",
                    fontSize: 16,
                    fill: "#FFD700",
                    fontWeight: "bold"
                }),
                l = r.width,
                d = 20,
                u = 16,
                h = 8,
                p = d + h + l + u * 2;
            this.pool.return(r), this._config.layout.width = p, a.position.set(u + d + h, this._config.layout.height / 2)
        }
    }
    drawPnlDisplay() {
        const a = this.pnlContainer.removeChildren();
        this.pool.return(a);
        const r = this.frozenRuggedData || this.data,
            {
                cumulativePnL: l,
                pnlPercent: d,
                tokenTicker: u,
                isPositive: h
            } = r,
            f = this._config.layout.height,
            p = 25,
            y = 16,
            x = 24,
            S = 16,
            v = 8,
            C = `${h?"+":"-"}${Math.abs(l).toFixed(3)} ${u}`,
            w = `${h?"+":"-"}${Math.abs(d).toFixed(0)}%`,
            j = this.pool.getText(C, {
                fontFamily: "DynaPuffCustom, DynaPuff",
                fontSize: y,
                fill: h ? "#032E15" : "#3D0F0F",
                fontWeight: "bold"
            }),
            A = this.pool.getText(w, {
                fontFamily: "DynaPuffCustom, DynaPuff",
                fontSize: y,
                fill: h ? "#00C950" : "#E53E35",
                fontWeight: "bold"
            }),
            _ = j.width,
            k = A.width,
            D = _ + x * 2,
            E = k + S * 2,
            P = D + v + E;
        this.pool.return(j), this.pool.return(A);
        const I = this._config.layout.width;
        this._config.layout.width = P, I !== P && this.updatePosition();
        const B = this.pool.getGraphics();
        B.label = "mainContainer";
        const X = 0,
            O = 0,
            L = P,
            F = f;
        B.roundRect(X, O, L, F, p), B.fill(1579035), this.pnlContainer.addChild(B);
        const Y = this.pool.getGraphics();
        Y.label = "pnlSection", Y.roundRect(X, O, D + p, F, p), Y.rect(X + D, O, p, F), Y.fill(h ? 51536 : 15023669), this.pnlContainer.addChild(Y);
        const H = this.pool.getText(C, {
            fontFamily: "DynaPuffCustom, DynaPuff",
            fontSize: y,
            fill: h ? "#032E15" : "#3D0F0F",
            fontWeight: "bold"
        });
        H.label = "pnlAmountText", H.anchor.set(.5, .5), H.x = X + D / 2, H.y = O + F / 2, this.pnlContainer.addChild(H);
        const K = X + D + v,
            z = this.pool.getGraphics();
        z.label = "percentSection", z.moveTo(K, O), z.lineTo(K + E - p, O), z.arc(K + E - p, O + p, p, 3 * Math.PI / 2, 0), z.lineTo(K + E, O + F - p), z.arc(K + E - p, O + F - p, p, 0, Math.PI / 2), z.lineTo(K, O + F), z.lineTo(K, O), z.closePath(), z.fill(1579035), this.pnlContainer.addChild(z);
        const U = this.pool.getText(w, {
            fontFamily: "DynaPuffCustom, DynaPuff",
            fontSize: y,
            fill: h ? "#00C950" : "#E53E35",
            fontWeight: "bold"
        });
        U.label = "percentText", U.anchor.set(0, .5), U.x = K + 8, U.y = O + F / 2, this.pnlContainer.addChild(U)
    }
    updatePnlDisplay() {
        const a = this.frozenRuggedData || this.data,
            {
                cumulativePnL: r,
                pnlPercent: l,
                tokenTicker: d,
                isPositive: u
            } = a,
            h = this.pnlContainer.getChildByLabel("pnlSection");
        if (h instanceof Ss) {
            h.clear();
            const y = 0,
                x = 0,
                S = 25,
                v = 24,
                C = `${u?"+":"-"}${Math.abs(r).toFixed(3)} ${d}`,
                w = this.pool.getText(C, {
                    fontFamily: "DynaPuffCustom, DynaPuff",
                    fontSize: 16,
                    fill: u ? "#032E15" : "#3D0F0F",
                    fontWeight: "bold"
                }),
                j = w.width + v * 2;
            this.pool.return(w), h.roundRect(y, x, j + S, this._config.layout.height, S), h.rect(y + j, x, S, this._config.layout.height), h.fill(u ? 51536 : 15023669)
        }
        const f = this.pnlContainer.getChildByLabel("pnlAmountText");
        f instanceof Is && (f.text = `${vt(r,3)} ${d}`, f.style.fill = u ? "#032E15" : "#3D0F0F");
        const p = this.pnlContainer.getChildByLabel("percentText");
        p instanceof Is && (p.text = `${vt(l,2)}%`, p.style.fill = u ? "#00C950" : "#E53E35")
    }
}
class By {
    constructor(s, a, r, l) {
        R(this, "container");
        R(this, "pool");
        R(this, "layout");
        R(this, "config");
        R(this, "amountStyle");
        R(this, "borderStyle");
        R(this, "backgroundStyle");
        R(this, "animationState", null);
        R(this, "isDestroyed", !1);
        this.pool = $i.getInstance().createHandle(), this.container = this.pool.getContainer(), this.config = r, this.layout = l, this.amountStyle = s.type === "buy" ? this.config.positiveAmountStyle : this.config.negativeAmountStyle, this.borderStyle = s.type === "buy" ? this.config.positiveBorderStyle : this.config.negativeBorderStyle, this.backgroundStyle = s.type === "buy" ? this.config.positiveBackgroundStyle : this.config.negativeBackgroundStyle;
        const d = Td(s.coin),
            u = this.pool.getContainer();
        u.label = "trademarker";
        const h = s.type === "buy" ? "trademarker_buy" : "trademarker_sell",
            f = ft.get(h),
            p = this.pool.getSprite(f);
        p.label = "background", p.anchor.set(.5, .5);
        const y = ft.get(`coin-${d.slug}`),
            x = this.pool.getSprite(y);
        if (x.label = "coin", x.anchor.set(.5, .5), u.addChild(p), u.addChild(x), r.trademarkerDetails) {
            const S = this.pool.getContainer();
            S.label = "details";
            const v = this.pool.getText(s.username ? ? "Anonymous", this.config.usernameStyle);
            v.label = "username";
            const C = ks(s.level ? ? 0),
                w = ft.get(`badge-${C}`),
                j = this.pool.getSprite(w);
            j.label = "levelBadge";
            const A = this.pool.getText(s.type === "buy" ? "Buy" : "Sell", this.config.typeStyle);
            A.label = "type";
            const _ = s.type === "sell" ? -s.amount : s.amount,
                k = this.pool.getText(vt(_, this.config.trademarkerAmountPrecision), this.amountStyle);
            k.label = "amount";
            const D = this.pool.getGraphics();
            D.label = "detailsGfx", S.addChild(D), S.addChild(j), S.addChild(v), S.addChild(A), S.addChild(k), this.container.addChild(S)
        }
        this.container.addChild(u), this.updateLayout(l), this.updateTickPosition(a.x, a.y), this.startAnimation()
    }
    startAnimation() {
        this.config.animationType === "fade" ? (this.animationState = {
            phase: "fadeIn",
            startTime: Date.now(),
            totalDuration: this.config.animationFadeInDuration + this.config.animationVisibleDuration + this.config.animationFadeOutDuration
        }, this.container.alpha = 0) : this.config.animationType === "fadeInOnly" ? (this.animationState = {
            phase: "fadeIn",
            startTime: Date.now(),
            totalDuration: this.config.animationFadeInDuration
        }, this.container.alpha = 0) : this.config.animationType === "none" && (this.container.alpha = 1, this.animationState = null)
    }
    updateAnimation() {
        if (!this.animationState || this.isDestroyed) return !1;
        const s = Date.now(),
            a = s - this.animationState.startTime;
        switch (this.animationState.phase) {
            case "fadeIn":
                {
                    const r = Math.min(a / this.config.animationFadeInDuration, 1);
                    return this.container.alpha = r,
                    r >= 1 && (this.config.animationType === "fadeInOnly" ? (this.animationState.phase = "persistent", this.container.alpha = 1) : (this.animationState.phase = "visible", this.animationState.startTime = s)),
                    !0
                }
            case "visible":
                return this.container.alpha = 1, a >= this.config.animationVisibleDuration && (this.animationState.phase = "fadeOut", this.animationState.startTime = s), !0;
            case "fadeOut":
                {
                    const r = Math.min(a / this.config.animationFadeOutDuration, 1);
                    return this.container.alpha = 1 - r,
                    r >= 1 && (this.animationState.phase = "completed", this.container.alpha = 1),
                    !0
                }
            case "persistent":
                return this.container.alpha = 1, !1;
            case "completed":
            default:
                return this.container.alpha = 1, !1
        }
    }
    isAnimationComplete() {
        return this.config.animationType === "none" || this.config.animationType === "fadeInOnly" ? !1 : !this.animationState || this.animationState.phase === "completed"
    }
    animate(s) {
        this.container.alpha = s
    }
    updateLayout(s) {
        this.layout = s;
        const a = this.layout[this.config.layoutKey],
            r = this.container.getChildByLabel("trademarker");
        if (!r) {
            console.warn("Trademarker container not found");
            return
        }
        const l = r.getChildByLabel("coin");
        if (!l) {
            console.warn("Coin sprite not found");
            return
        }
        l.setSize(a.logo), l.position.set(0, 0);
        const d = r.getChildByLabel("background");
        if (!d) {
            console.warn("Trademarker sprite not found");
            return
        }
        if (d.setSize(a.outer * 2), d.position.set(0, 0), this.config.trademarkerDetails) {
            const u = this.container.getChildByLabel("details");
            if (!u) {
                console.warn("Details container not found");
                return
            }
            const h = u.getChildByLabel("username");
            if (!h) {
                console.warn("Details username text not found");
                return
            }
            const f = u.getChildByLabel("levelBadge");
            if (!f) {
                console.warn("Details user level not found");
                return
            }
            const p = u.getChildByLabel("type");
            if (!p) {
                console.warn("Details type text not found");
                return
            }
            const y = u.getChildByLabel("amount");
            if (!y) {
                console.warn("Details amount text not found");
                return
            }
            const x = u.getChildByLabel("detailsGfx");
            if (!x) {
                console.warn("Details gfx not found");
                return
            }
            const S = 8,
                v = 4,
                C = 2,
                w = 4,
                j = 16;
            f.setSize(this.layout.detailsBadgeSize), f.position.set(S, S), h.position.set(S + f.width + v, S + (f.height - h.height) / 2);
            const A = Math.max(f.height, h.height);
            p.position.set(S, S + A + C), y.position.set(S + p.width + w, S + A + C);
            const _ = Math.max(f.width + v + h.width, p.width + w + y.width),
                k = A + C + Math.max(p.height, y.height),
                D = _ + S * 2,
                E = k + S * 2,
                P = -(D + a.outer + j),
                I = -E / 2;
            x.clear().roundRect(0, 0, D, E, 5).fill(this.backgroundStyle).stroke(this.borderStyle), u.position.set(P, I)
        }
    }
    updateTickPosition(s, a) {
        this.container.position.set(s, a)
    }
    getContainer() {
        return this.container
    }
    destroy() {
        this.isDestroyed = !0, this.animationState = null, this.pool.release()
    }
}
const i5 = () => ({
    tradesKey: "trades",
    layoutKey: "user",
    usernameStyle: {
        fontFamily: "DynaPuff",
        fill: {
            color: "white"
        },
        fontSize: 12
    },
    positiveAmountStyle: {
        fontFamily: "DynaPuff",
        fill: {
            color: "#22C55E"
        },
        fontSize: 12
    },
    negativeAmountStyle: {
        fontFamily: "DynaPuff",
        fill: {
            color: "#EF4444"
        },
        fontSize: 12
    },
    positiveBorderStyle: {
        width: 1,
        color: 2278750,
        alpha: 1
    },
    positiveBackgroundStyle: {
        color: 1974314,
        alpha: .8
    },
    negativeBorderStyle: {
        width: 1,
        color: 15138827,
        alpha: 1
    },
    negativeBackgroundStyle: {
        color: 1974314,
        alpha: .8
    },
    typeStyle: {
        fontFamily: "DynaPuff",
        fill: {
            color: "white"
        },
        fontSize: 12
    },
    trademarkerDetails: !0,
    trademarkerAmountPrecision: 3,
    animationType: "fade",
    animationFadeInDuration: 150,
    animationVisibleDuration: 2e3,
    animationFadeOutDuration: 300,
    inheritCandlesFromLayout: !0,
    inheritTrademarkersFromLayout: !0,
    layout: {
        candles: {
            candleWidth: 10,
            candleGap: 2,
            wickWidth: 2,
            maxCandles: 30
        },
        trademarkers: {
            user: {
                outer: 10,
                inner: 5,
                logo: 10
            },
            other: {
                outer: 10,
                inner: 5,
                logo: 10
            },
            detailsWidth: 100,
            detailsHeight: 100,
            detailsBadgeSize: 100,
            detailsTextPosition: {
                x: 0,
                y: 0
            },
            detailsUsernamePosition: {
                x: 0,
                y: 0
            },
            detailsBadgePosition: {
                x: 0,
                y: 0
            }
        }
    }
});
class a5 extends Ws {
    constructor(a, r) {
        super(a, { ...i5(),
            ...r
        });
        R(this, "selectors");
        R(this, "innerContainer");
        R(this, "data", {
            grid: {
                min: 0,
                max: 0
            },
            trades: []
        });
        R(this, "activeTrademarkers", new Map);
        R(this, "lastGameId", null);
        this.selectors = [], this.selectors.push(this._config.tradesKey), this.innerContainer = this.pool.getContainer(), this.container.addChild(this.innerContainer), this.addTransition("displayData", this.transitionDisplayData.bind(this))
    }
    isDynamic() {
        return !0
    }
    isAnimated() {
        return !0
    }
    get availableWidth() {
        return this.layout.candleArea.width ? ? this.width
    }
    get availableHeight() {
        return this.layout.candleArea.height ? ? this.height
    }
    addAnimation(a) {
        return this
    }
    addAnimationOnNextTick(a) {
        return this
    }
    removeAnimation(a) {
        return this
    }
    runTickers(a) {
        this.updateAnimations()
    }
    resize(a) {
        super.resize(a), this.container.y = this.layout.candleArea.y, this.container.x = this.layout.candleArea.x, this.container.boundsArea = this.pool.getRectangle(this.layout.candleArea.x, this.layout.candleArea.y, this.layout.candleArea.width, this.layout.candleArea.height), this._config.inheritCandlesFromLayout && (this._config.layout.candles = this.layout.candles), this._config.inheritTrademarkersFromLayout && (this._config.layout.trademarkers = this.layout.trademarkers), this.updateAllTrademarkers()
    }
    updateAllTrademarkers() {
        this.activeTrademarkers.forEach(a => {
            a.updateLayout(this.layout.trademarkers)
        })
    }
    transitionDisplayData(a) {
        const r = a.get();
        if (!r) return;
        const l = r.candles || [],
            d = this._calculateCandlePositions(l);
        this.data.grid.min = r.displayMin, this.data.grid.max = r.displayMax, this._updateTrademarkers(this.data.trades, d)
    }
    updateAnimations() {
        this.activeTrademarkers.forEach(a => {
            a.updateAnimation()
        })
    }
    _calculateCandlePositions(a) {
        const r = new Map;
        let l = 0;
        for (const h of a) {
            const f = l + this._config.layout.candles.candleWidth / 2;
            for (let p = h.startTick; p <= h.endTick; p++) r.set(p, f);
            l += this._config.layout.candles.candleWidth + this._config.layout.candles.candleGap
        }
        const d = l + this._config.layout.candles.candleGap,
            u = this.availableWidth - d;
        return this.innerContainer.x = u / 2, r
    }
    _updateTrademarkers(a, r) {
        const l = a.length > 0 ? a[0].gameId : null;
        l && l !== this.lastGameId && (this.clearAllTrademarkers(), this.lastGameId = l);
        const d = new Set(a.map(u => u.id));
        this.activeTrademarkers.forEach((u, h) => {
            d.has(h) || (this.activeTrademarkers.delete(h), this.innerContainer.removeChild(u.getContainer()), u.destroy())
        }), this._updateTrademarkerPositions(a, r)
    }
    _updateTrademarkerPositions(a, r) {
        for (const l of a) {
            if (l.tickIndex === 0) continue;
            const d = this.availableHeight - this.availableHeight * Ra(l.price, this.data.grid),
                u = this._createOrGetTrademarker(l, r, d);
            if (!u) continue;
            const h = r.get(l.tickIndex);
            h && u.updateTickPosition(h, d)
        }
    }
    _createOrGetTrademarker(a, r, l) {
        if (this.activeTrademarkers.has(a.id)) return this.activeTrademarkers.get(a.id);
        const d = {
                layoutKey: this._config.layoutKey,
                usernameStyle: this._config.usernameStyle,
                positiveAmountStyle: this._config.positiveAmountStyle,
                negativeAmountStyle: this._config.negativeAmountStyle,
                positiveBorderStyle: this._config.positiveBorderStyle,
                positiveBackgroundStyle: this._config.positiveBackgroundStyle,
                negativeBorderStyle: this._config.negativeBorderStyle,
                negativeBackgroundStyle: this._config.negativeBackgroundStyle,
                typeStyle: this._config.typeStyle,
                trademarkerDetails: this._config.trademarkerDetails,
                trademarkerAmountPrecision: this._config.trademarkerAmountPrecision,
                animationType: this._config.layoutKey === "other" ? this._config.animationType : "fadeInOnly",
                animationFadeInDuration: this._config.animationFadeInDuration,
                animationVisibleDuration: this._config.animationVisibleDuration,
                animationFadeOutDuration: this._config.animationFadeOutDuration
            },
            u = new By(a, {
                x: r.get(a.tickIndex) ? ? 0,
                y: l
            }, d, this.layout.trademarkers);
        return this.activeTrademarkers.set(a.id, u), this.innerContainer.addChild(u.getContainer()), u
    }
    update(a) {
        a[this._config.tradesKey] !== void 0 && (this.data.trades = a[this._config.tradesKey])
    }
    clearAllTrademarkers() {
        this.activeTrademarkers.forEach(a => {
            this.innerContainer.removeChild(a.getContainer()), a.destroy()
        }), this.activeTrademarkers.clear()
    }
    destroy() {
        this.clearAllTrademarkers(), super.destroy()
    }
}
class r5 {
    constructor(s, a, r, l) {
        R(this, "container");
        R(this, "pool");
        R(this, "layout");
        R(this, "config");
        R(this, "animationState", null);
        R(this, "isDestroyed", !1);
        this.pool = $i.getInstance().createHandle(), this.container = this.pool.getContainer(), this.config = r, this.layout = l;
        const d = dT(s.coinAddress),
            u = this.layout[this.config.layoutKey],
            h = "#9370DB66",
            f = "#9370DB",
            p = this.pool.getContainer();
        p.label = "sidebet";
        const y = this.pool.getGraphics();
        y.label = "background", y.circle(.5 * u.outer, -.5 * u.outer, u.outer).fill(this.pool.getColor(h)).circle(.5 * u.outer, -.5 * u.outer, u.inner).fill(this.pool.getColor(f)).circle(.5 * u.outer, -.5 * u.outer, u.logo).fill(this.pool.getColor("#18181B"));
        const x = ft.get("icon-bear"),
            S = this.pool.getSprite(x);
        if (S.label = "bear", S.anchor.set(.5, .5), S.setSize(u.logo), S.position.set(.5 * u.outer, -.5 * u.outer), p.addChild(y), p.addChild(S), this.container.addChild(p), r.sidebetDetails) {
            const v = this.pool.getContainer();
            v.label = "details";
            const C = this.pool.getText(s.username ? ? "Anonymous", this.config.usernameStyle);
            C.label = "username";
            const w = ks(s.level ? ? 0),
                j = ft.get(`badge-${w}`),
                A = this.pool.getSprite(j);
            A.label = "levelBadge", A.setSize(this.layout.detailsBadgeSize);
            const _ = this.pool.getText("🐻 Bet", this.config.typeStyle);
            _.label = "type";
            const k = ft.get(`coin-${d.slug}`),
                D = this.pool.getSprite(k);
            D.label = "coin", D.anchor.set(0, 0), D.setSize(u.logo);
            const E = this.pool.getText(vt(s.betAmount, this.config.sidebetAmountPrecision), this.config.betAmountStyle);
            E.label = "amount";
            const P = this.pool.getGraphics();
            P.label = "detailsGfx", v.addChild(P), v.addChild(A), v.addChild(C), v.addChild(_), v.addChild(E), v.addChild(D), this.container.addChild(v)
        }
        this.updateLayout(l), this.updateTickPosition(a.x, a.y), this.startAnimation()
    }
    startAnimation() {
        this.config.animationType === "fade" ? (this.animationState = {
            phase: "fadeIn",
            startTime: Date.now(),
            totalDuration: this.config.animationFadeInDuration + this.config.animationVisibleDuration + this.config.animationFadeOutDuration
        }, this.container.alpha = 0) : this.config.animationType === "none" && (this.container.alpha = 1, this.animationState = null)
    }
    updateAnimation() {
        if (!this.animationState || this.isDestroyed) return !1;
        const s = Date.now(),
            a = s - this.animationState.startTime;
        switch (this.animationState.phase) {
            case "fadeIn":
                {
                    const r = Math.min(a / this.config.animationFadeInDuration, 1);
                    return this.container.alpha = r,
                    r >= 1 && (this.animationState.phase = "visible", this.animationState.startTime = s),
                    !0
                }
            case "visible":
                return this.container.alpha = 1, a >= this.config.animationVisibleDuration && (this.animationState.phase = "fadeOut", this.animationState.startTime = s), !0;
            case "fadeOut":
                {
                    const r = Math.min(a / this.config.animationFadeOutDuration, 1);
                    return this.container.alpha = 1 - r,
                    r >= 1 && (this.animationState.phase = "completed", this.container.alpha = 1),
                    !0
                }
            case "completed":
            default:
                return this.container.alpha = 1, !1
        }
    }
    isAnimationComplete() {
        return this.config.animationType === "none" ? !1 : !this.animationState || this.animationState.phase === "completed"
    }
    animate(s) {
        this.container.alpha = s
    }
    updateLayout(s) {
        this.layout = s;
        const a = this.layout[this.config.layoutKey],
            r = this.container.getChildByLabel("sidebet");
        if (!r) {
            console.warn("Sidebet container not found");
            return
        }
        const l = r.getChildByLabel("bear");
        if (!l) {
            console.warn("Bear sprite not found");
            return
        }
        l.setSize(a.logo), l.position.set(.5 * a.outer, -.5 * a.outer);
        const d = r.getChildByLabel("background");
        if (!d) {
            console.warn("Background not found");
            return
        }
        if (d.clear().circle(.5 * a.outer, -.5 * a.outer, a.outer).fill(this.pool.getColor("#9370DB66")).circle(.5 * a.outer, -.5 * a.outer, a.inner).fill(this.pool.getColor("#9370DB")).circle(.5 * a.outer, -.5 * a.outer, a.logo).fill(this.pool.getColor("#18181B")), this.config.sidebetDetails) {
            const f = this.container.getChildByLabel("details");
            if (!f) {
                console.warn("Details container not found");
                return
            }
            const p = f.getChildByLabel("username");
            if (!p) {
                console.warn("Details username text not found");
                return
            }
            const y = f.getChildByLabel("levelBadge");
            if (!y) {
                console.warn("Details user level not found");
                return
            }
            const x = f.getChildByLabel("type");
            if (!x) {
                console.warn("Details type text not found");
                return
            }
            const S = f.getChildByLabel("amount");
            if (!S) {
                console.warn("Details amount text not found");
                return
            }
            const v = f.getChildByLabel("coin");
            if (!v) {
                console.warn("Details coin sprite not found");
                return
            }
            const C = f.getChildByLabel("detailsGfx");
            if (!C) {
                console.warn("Details gfx not found");
                return
            }
            const w = 8,
                j = 4,
                A = 2,
                _ = 4,
                k = 16;
            y.setSize(this.layout.detailsBadgeSize), y.position.set(w, w), p.position.set(w + y.width + j, w + (y.height - p.height) / 2);
            const D = Math.max(y.height, p.height);
            x.position.set(w, w + D + A), S.position.set(w + x.width + _, w + D + A), v.position.set(w + x.width + _ + S.width + _, w + D + A);
            const E = Math.max(y.width + j + p.width, x.width + _ + S.width + _ + v.width),
                P = D + A + Math.max(x.height, S.height, v.height),
                I = E + w * 2,
                B = P + w * 2,
                X = -(I + a.outer + k),
                O = -B / 2;
            C.clear().roundRect(0, 0, I, B, 5).fill(this.config.betBackgroundStyle).stroke(this.config.betBorderStyle), f.position.set(X, O)
        }
    }
    updateTickPosition(s, a) {
        this.container.position.set(s, a)
    }
    getContainer() {
        return this.container
    }
    destroy() {
        this.isDestroyed = !0, this.animationState = null, this.pool.release()
    }
}
const o5 = () => ({
        sidebetsKey: "sidebets",
        layoutKey: "user",
        usernameStyle: {
            fontFamily: "DynaPuff",
            fill: {
                color: "white"
            },
            fontSize: 12
        },
        betAmountStyle: {
            fontFamily: "DynaPuff",
            fill: {
                color: "white"
            },
            fontSize: 12
        },
        betBorderStyle: {
            width: 1,
            color: "#9370DB",
            alpha: 1
        },
        betBackgroundStyle: {
            color: "#9370DB",
            alpha: .8
        },
        sidebetCoin: "icon-bear",
        typeStyle: {
            fontFamily: "DynaPuff",
            fill: {
                color: "white"
            },
            fontSize: 12
        },
        sidebetDetails: !0,
        sidebetAmountPrecision: 3,
        inheritCandlesFromLayout: !0,
        inheritSidebetsFromLayout: !0,
        layout: {
            candles: {
                candleWidth: 10,
                candleGap: 2,
                wickWidth: 2,
                maxCandles: 30
            },
            sidebets: {
                user: {
                    outer: 10,
                    inner: 5,
                    logo: 10
                },
                other: {
                    outer: 10,
                    inner: 5,
                    logo: 10
                },
                detailsWidth: 100,
                detailsHeight: 100,
                detailsBadgeSize: 100,
                detailsTextPosition: {
                    x: 0,
                    y: 0
                },
                detailsUsernamePosition: {
                    x: 0,
                    y: 0
                },
                detailsBadgePosition: {
                    x: 0,
                    y: 0
                }
            }
        }
    }),
    l5 = 500,
    c5 = 1e3,
    d5 = 500;
class u5 extends Ws {
    constructor(a, r) {
        super(a, { ...o5(),
            ...r
        });
        R(this, "selectors");
        R(this, "innerContainer");
        R(this, "data", {
            grid: {
                min: 0,
                max: 0
            },
            sidebets: []
        });
        R(this, "activeSidebets", new Map);
        R(this, "sidebetMap", new Map);
        R(this, "lastGameId", null);
        R(this, "lastCandlePositions", new Map);
        this.selectors = [], this.selectors.push(this._config.sidebetsKey), this.innerContainer = this.pool.getContainer(), this.container.addChild(this.innerContainer), this.addTransition("displayData", this.transitionDisplayData.bind(this)), this.addTransition(this._config.sidebetsKey, this.transitionSidebets.bind(this))
    }
    isAnimated() {
        return !0
    }
    addAnimation(a) {
        return this
    }
    addAnimationOnNextTick(a) {
        return this
    }
    removeAnimation(a) {
        return this
    }
    get availableWidth() {
        return this.layout.candleArea.width ? ? this.width
    }
    get availableHeight() {
        return this.layout.candleArea.height ? ? this.height
    }
    getSidebetId(a) {
        return `${a.playerId}-${a.gameId}-${a.startTick}`
    }
    resize(a) {
        super.resize(a), this.container.y = this.layout.candleArea.y, this.container.x = this.layout.candleArea.x, this.container.boundsArea = this.pool.getRectangle(this.layout.candleArea.x, this.layout.candleArea.y, this.layout.candleArea.width, this.layout.candleArea.height), this._config.inheritCandlesFromLayout && (this._config.layout.candles = this.layout.candles), this._config.inheritSidebetsFromLayout && (this._config.layout.sidebets = this.layout.sidebets)
    }
    transitionDisplayData(a) {
        const r = a.get();
        if (!r) return;
        const l = r.candles || [],
            d = this._calculateCandlePositions(l);
        this.lastCandlePositions = d, this.data.grid.min = r.displayMin, this.data.grid.max = r.displayMax, this._updateSidebetPositions(this.data.sidebets, d)
    }
    transitionSidebets(a) {
        this.data.sidebets = a.get() ? ? [], this._updateSidebets(this.data.sidebets, this.lastCandlePositions)
    }
    runTickers(a) {
        this.updateAnimations()
    }
    updateAnimations() {
        this.activeSidebets.forEach(a => {
            a.updateAnimation()
        })
    }
    _calculateCandlePositions(a) {
        const r = new Map;
        let l = 0;
        for (const h of a) {
            const f = l + this._config.layout.candles.candleWidth / 2;
            for (let p = h.startTick; p <= h.endTick; p++) r.set(p, f);
            l += this._config.layout.candles.candleWidth + this._config.layout.candles.candleGap
        }
        const d = l + this._config.layout.candles.candleGap,
            u = this.availableWidth - d;
        return this.innerContainer.x = u / 2, r
    }
    _updateSidebets(a, r) {
        const l = a.length > 0 ? a[0].gameId : null;
        l && l !== this.lastGameId && (this.clearAllSidebets(), this.lastGameId = l);
        const d = new Set(a.map(u => this.getSidebetId(u)));
        this.activeSidebets.forEach((u, h) => {
            d.has(h) || (this.activeSidebets.delete(h), this.sidebetMap.delete(h), this.innerContainer.removeChild(u.getContainer()), u.destroy())
        }), this._updateSidebetPositions(a, r)
    }
    _updateSidebetPositions(a, r) {
        for (const l of a) {
            if (l.tickIndex === 0) continue;
            const d = this._createOrGetSidebetComponent(l);
            if (!d) continue;
            const u = r.get(l.tickIndex);
            if (!u) continue;
            const h = this.availableHeight - this.availableHeight * Ra(l.price, this.data.grid);
            d.updateTickPosition(u, h)
        }
    }
    _createOrGetSidebetComponent(a) {
        const r = this.getSidebetId(a);
        if (!this.sidebetMap.has(r)) {
            const l = {
                    layoutKey: this._config.layoutKey,
                    usernameStyle: this._config.usernameStyle,
                    betAmountStyle: this._config.betAmountStyle,
                    betBorderStyle: this._config.betBorderStyle,
                    betBackgroundStyle: this._config.betBackgroundStyle,
                    typeStyle: this._config.typeStyle,
                    sidebetCoin: this._config.sidebetCoin,
                    sidebetDetails: this._config.sidebetDetails,
                    sidebetAmountPrecision: this._config.sidebetAmountPrecision,
                    animationType: this._config.layoutKey === "other" ? "fade" : "none",
                    animationFadeInDuration: l5,
                    animationVisibleDuration: c5,
                    animationFadeOutDuration: d5
                },
                d = this.lastCandlePositions.get(a.tickIndex) ? ? 0,
                u = this.availableHeight - this.availableHeight * Ra(a.price, this.data.grid),
                h = new r5(a, {
                    x: d,
                    y: u
                }, l, this._config.layout.sidebets);
            this.sidebetMap.set(r, h), this.activeSidebets.set(r, h), this.innerContainer.addChild(h.getContainer())
        }
        return this.sidebetMap.get(r)
    }
    clearAllSidebets() {
        this.activeSidebets.forEach(a => {
            this.innerContainer.removeChild(a.getContainer()), a.destroy()
        }), this.activeSidebets.clear(), this.sidebetMap.clear()
    }
    destroy() {
        this.clearAllSidebets(), super.destroy()
    }
}
const h5 = () => ({
    tradesKey: "trades",
    layoutKey: "user",
    usernameStyle: {
        fontFamily: "DynaPuff",
        fill: {
            color: "white"
        },
        fontSize: 12
    },
    positiveAmountStyle: {
        fontFamily: "DynaPuff",
        fill: {
            color: "#22C55E"
        },
        fontSize: 12
    },
    negativeAmountStyle: {
        fontFamily: "DynaPuff",
        fill: {
            color: "#EF4444"
        },
        fontSize: 12
    },
    positiveBorderStyle: {
        width: 1,
        color: 2278750,
        alpha: 1
    },
    positiveBackgroundStyle: {
        color: 1974314,
        alpha: .8
    },
    negativeBorderStyle: {
        width: 1,
        color: 15138827,
        alpha: 1
    },
    negativeBackgroundStyle: {
        color: 1974314,
        alpha: .8
    },
    typeStyle: {
        fontFamily: "DynaPuff",
        fill: {
            color: "white"
        },
        fontSize: 12
    },
    trademarkerDetails: !0,
    trademarkerAmountPrecision: 3,
    animationType: "fade",
    animationFadeInDuration: 500,
    animationVisibleDuration: 1e3,
    animationFadeOutDuration: 500,
    inheritCandlesFromLayout: !0,
    inheritTrademarkersFromLayout: !0,
    layout: {
        candles: {
            candleWidth: 10,
            candleGap: 2,
            wickWidth: 2,
            maxCandles: 30
        },
        trademarkers: {
            user: {
                outer: 10,
                inner: 5,
                logo: 10
            },
            other: {
                outer: 10,
                inner: 5,
                logo: 10
            },
            detailsWidth: 100,
            detailsHeight: 100,
            detailsBadgeSize: 100,
            detailsTextPosition: {
                x: 0,
                y: 0
            },
            detailsUsernamePosition: {
                x: 0,
                y: 0
            },
            detailsBadgePosition: {
                x: 0,
                y: 0
            }
        }
    }
});
class f5 extends Ws {
    constructor(a, r) {
        super(a, { ...h5(),
            ...r
        });
        R(this, "selectors");
        R(this, "innerContainer");
        R(this, "data", {
            grid: {
                min: 0,
                max: 0
            },
            trades: []
        });
        R(this, "activeTrademarkers", new Map);
        R(this, "trademarkerMap", new Map);
        R(this, "lastGameId", null);
        R(this, "lastCandlePositions", new Map);
        this.selectors = [], this.selectors.push(this._config.tradesKey), this.innerContainer = this.pool.getContainer(), this.container.addChild(this.innerContainer), this.addTransition("displayData", this.transitionDisplayData.bind(this)), this.addTransition(this._config.tradesKey, this.transitionTrades.bind(this))
    }
    isAnimated() {
        return !0
    }
    addAnimation(a) {
        return this
    }
    addAnimationOnNextTick(a) {
        return this
    }
    removeAnimation(a) {
        return this
    }
    get availableWidth() {
        return this.layout.candleArea.width ? ? this.width
    }
    get availableHeight() {
        return this.layout.candleArea.height ? ? this.height
    }
    resize(a) {
        super.resize(a), this.container.y = this.layout.candleArea.y, this.container.x = this.layout.candleArea.x, this.container.boundsArea = this.pool.getRectangle(this.layout.candleArea.x, this.layout.candleArea.y, this.layout.candleArea.width, this.layout.candleArea.height), this._config.inheritCandlesFromLayout && (this._config.layout.candles = this.layout.candles), this._config.inheritTrademarkersFromLayout && (this._config.layout.trademarkers = this.layout.trademarkers), this.updateAllTrademarkers()
    }
    updateAllTrademarkers() {
        this.activeTrademarkers.forEach(a => {
            a.updateLayout(this.layout.trademarkers)
        })
    }
    transitionDisplayData(a) {
        const r = a.get();
        if (!r) return;
        const l = r.candles || [],
            d = this._calculateCandlePositions(l);
        this.lastCandlePositions = d, this.data.grid.min = r.displayMin, this.data.grid.max = r.displayMax, this._updateTrademarkerPositions(this.data.trades, d)
    }
    transitionTrades(a) {
        this.data.trades = a.get() ? ? [], this._updateTrademarkers(this.data.trades, this.lastCandlePositions)
    }
    runTickers(a) {
        this.updateAnimations()
    }
    updateAnimations() {
        this.activeTrademarkers.forEach(a => {
            a.updateAnimation()
        })
    }
    _calculateCandlePositions(a) {
        const r = new Map;
        let l = 0;
        for (const h of a) {
            const f = l + this._config.layout.candles.candleWidth / 2;
            for (let p = h.startTick; p <= h.endTick; p++) r.set(p, f);
            l += this._config.layout.candles.candleWidth + this._config.layout.candles.candleGap
        }
        const d = l + this._config.layout.candles.candleGap,
            u = this.availableWidth - d;
        return this.innerContainer.x = u / 2, r
    }
    _updateTrademarkers(a, r) {
        const l = a.length > 0 ? a[0].gameId : null;
        l && l !== this.lastGameId && (this.clearAllTrademarkers(), this.lastGameId = l);
        const d = new Set(a.map(u => u.id));
        this.activeTrademarkers.forEach((u, h) => {
            d.has(h) || (this.activeTrademarkers.delete(h), this.trademarkerMap.delete(h), this.innerContainer.removeChild(u.getContainer()), u.destroy())
        }), this._updateTrademarkerPositions(a, r)
    }
    _updateTrademarkerPositions(a, r) {
        for (const l of a) {
            if (l.tickIndex === 0) continue;
            const d = this._createOrGetTrademarker(l);
            if (!d) continue;
            const u = r.get(l.tickIndex);
            if (!u) continue;
            const h = this.availableHeight - this.availableHeight * Ra(l.price, this.data.grid);
            d.updateTickPosition(u, h)
        }
    }
    _createOrGetTrademarker(a) {
        if (this.activeTrademarkers.has(a.id)) return this.activeTrademarkers.get(a.id);
        const r = this.lastCandlePositions.get(a.tickIndex) ? ? 0,
            l = this.availableHeight - this.availableHeight * Ra(a.price, this.data.grid),
            d = {
                layoutKey: this._config.layoutKey,
                usernameStyle: this._config.usernameStyle,
                positiveAmountStyle: this._config.positiveAmountStyle,
                negativeAmountStyle: this._config.negativeAmountStyle,
                positiveBorderStyle: this._config.positiveBorderStyle,
                positiveBackgroundStyle: this._config.positiveBackgroundStyle,
                negativeBorderStyle: this._config.negativeBorderStyle,
                negativeBackgroundStyle: this._config.negativeBackgroundStyle,
                typeStyle: this._config.typeStyle,
                trademarkerDetails: this._config.trademarkerDetails,
                trademarkerAmountPrecision: this._config.trademarkerAmountPrecision,
                animationType: this._config.layoutKey === "other" ? this._config.animationType : "none",
                animationFadeInDuration: this._config.animationFadeInDuration,
                animationVisibleDuration: this._config.animationVisibleDuration,
                animationFadeOutDuration: this._config.animationFadeOutDuration
            },
            u = new By(a, {
                x: r,
                y: l
            }, d, this.layout.trademarkers);
        return this.activeTrademarkers.set(a.id, u), this.trademarkerMap.set(a.id, u.getContainer()), this.innerContainer.addChild(u.getContainer()), u
    }
    clearAllTrademarkers() {
        this.activeTrademarkers.forEach(a => {
            this.innerContainer.removeChild(a.getContainer()), a.destroy()
        }), this.activeTrademarkers.clear(), this.trademarkerMap.clear()
    }
    destroy() {
        this.clearAllTrademarkers(), super.destroy()
    }
}
const p5 = {
    background: OT,
    priceTracker: t5,
    averageEntryLine: Xj,
    candles: Kj,
    grid: Jj,
    trades: a5,
    transitioningTrades: f5,
    transitioningSidebets: u5,
    shareButton: s5,
    newCountdown: p0,
    battleRoundEnd: ZT,
    battleEnd: QT,
    battleBackground: GT,
    battleWaiting: oj,
    battleTrades: xf,
    battleTransitioningTradesLayer: ij,
    ruggedBackground: HT,
    battleScoreboard: ej,
    battleCountdown: qT,
    standardScoreboard: Tj,
    standardCountdown: p0,
    standardPresale: mj,
    standardRugged: yj,
    goldenHourOverlay: fj,
    pnlBackground: UT,
    formattedMultiplier: Aj,
    formattedPnl: Dj,
    formattedStats: _j,
    profileBestPnl: Uj,
    pnlCardBackground: Fj,
    timestamp: $j,
    staticCandles: kj,
    staticGrid: Bj,
    staticPriceTracker: Oj,
    staticTrades: Yj,
    countdownOverlay: cj,
    rugRoyaleTournamentOverlay: uj,
    staticUsername: Lj
};

function zy(e, ...s) {
    const a = p5[e];
    return g5(a, ...s)
}

function g5(e, ...s) {
    return new e(...s)
}
class m5 {
    constructor(s) {
        R(this, "layers");
        R(this, "selectors");
        R(this, "destroyed");
        R(this, "stage");
        R(this, "layout");
        this._props = s, this.destroyed = !1, this.stage = null, this.layout = null, this.selectors = new Map(Object.entries(this._props.selectors)), this.layers = this._props.layers.map(a => zy(a.type, {
            width: 0,
            height: 0
        }, a.config))
    }
    setup(s, {
        width: a,
        height: r
    }) {
        if (this.destroyed) {
            console.warn("StaticManager: Cannot setup after destroy");
            return
        }
        if (this.stage !== null) {
            console.warn("StaticManager: Stage already exists");
            return
        }
        this.stage = new cs;
        for (const d of this.layers) this.stage.addChild(d.container);
        const l = this._props.layoutSelector(a, r);
        this._updateLayout(l), this._updateData(s), this._draw()
    }
    _updateData(s) {
        if (this.destroyed) {
            console.warn("StaticManager: Cannot update data after destroy");
            return
        }
        const a = Object.fromEntries(Object.entries(this._props.selectors).map(([l, d]) => [l, d(s)]));
        this.layers.filter(l => l.isDynamic()).forEach(l => {
            l.update(a)
        })
    }
    _updateLayout(s) {
        if (this.destroyed) {
            console.warn("StaticManager: Cannot update layout after destroy");
            return
        }
        this.layout = s, this.stage.setSize(s.width, s.height), this.layers.filter(r => r.isResizable()).forEach(r => {
            r.resize(s)
        })
    }
    _draw() {
        if (this.destroyed) {
            console.warn("StaticManager: Cannot draw after destroy");
            return
        }
        this.layers.filter(a => a.isDrawable()).forEach(a => {
            a.draw()
        })
    }
    destroy() {
        if (!this.destroyed) {
            this.destroyed = !0;
            try {
                this.layers.forEach(s => {
                    try {
                        s.destroy()
                    } catch (a) {
                        console.warn("Error destroying layer:", a)
                    }
                }), this.layers = [], this.selectors.clear(), this.stage !== null && (this.stage.destroy({
                    children: !0,
                    context: !0,
                    texture: !1,
                    style: !0
                }), this.stage = null)
            } catch (s) {
                console.error("Error in StaticManager destroy:", s)
            }
        }
    }
}
class Ed {
    constructor() {
        R(this, "selectors", {});
        R(this, "layers", []);
        R(this, "layoutSelector")
    }
    build() {
        return new m5({
            layers: this.layers,
            selectors: this.selectors,
            layoutSelector: this.layoutSelector
        })
    }
    addSelector(s, a) {
        return this.selectors[s] = a, this
    }
    addLayer(s, a) {
        return this.layers.push({ ...a,
            type: s
        }), this
    }
    addLayoutSelector(s) {
        return this.layoutSelector = s, this
    }
}

function Fy(e) {
    return ot({
        attr: {
            role: "img",
            viewBox: "0 0 24 24"
        },
        child: [{
            tag: "path",
            attr: {
                d: "M18.901 1.153h3.68l-8.04 9.19L24 22.846h-7.406l-5.8-7.584-6.638 7.584H.474l8.6-9.83L0 1.154h7.594l5.243 6.932ZM17.61 20.644h2.039L6.486 3.24H4.298Z"
            },
            child: []
        }]
    })(e)
}
const x5 = e => e >= 1440 ? 24 : e >= 1366 ? 16 : e >= 1024 ? 14 : e >= 768 ? 10 : e >= 480 ? 8 : e >= 320 ? 6 : 4,
    Iy = (e, s = "Anon") => new Ed().addSelector("prices", a => a.prices).addSelector("grid", a => ({ ...La.grid(a.prices),
        current: Math.max(...a.prices)
    })).addSelector("pnl", a => {
        var l;
        const r = a.playerScoreboard ? ? ((l = a.scoreboard) == null ? void 0 : l.find(d => d.id === e));
        return r ? r.pnl : 0
    }).addSelector("pnlPercent", a => {
        var l;
        const r = a.playerScoreboard ? ? ((l = a.scoreboard) == null ? void 0 : l.find(d => d.id === e));
        return r && r.pnlPercent || 0
    }).addSelector("invested", a => {
        var l;
        const r = a.playerScoreboard ? ? ((l = a.scoreboard) == null ? void 0 : l.find(d => d.id === e));
        return r && r.totalInvested || 0
    }).addSelector("coinSlug", a => {
        var l, d;
        const r = a.playerScoreboard ? ? ((l = a.scoreboard) == null ? void 0 : l.find(u => u.id === e));
        return r && ((d = r.selectedCoin) == null ? void 0 : d.ticker) || "SOL"
    }).addSelector("profitState", a => {
        var l;
        const r = a.playerScoreboard ? ? ((l = a.scoreboard) == null ? void 0 : l.find(d => d.id === e));
        return r ? r.pnl > 0 ? "profit" : "loss" : "profit"
    }).addSelector("ownTrades", a => a.trades ? a.trades.filter(r => r.tickIndex > 0).filter(r => r.playerId === e) : []).addSelector("peakMultiplier", a => a.peakMultiplier).addSelector("username", () => s).addLayer("pnlCardBackground", {
        config: {}
    }).addLayer("formattedStats", {
        config: {
            pnlPrecision: 3,
            pnlPercentPrecision: 1,
            investedPrecision: 3
        }
    }).addLayer("staticCandles", {
        config: {
            trademarkers: !1,
            trademarkerDetails: !1,
            inheritTrademarkersFromLayout: !1,
            wickUsesBodyColor: !0
        }
    }).addLayer("staticTrades", {
        config: {
            layoutKey: "user",
            tradesKey: "ownTrades",
            trademarkerDetails: !1
        }
    }).addLayer("staticPriceTracker", {
        config: {}
    }).addLayoutSelector((a, r) => {
        const l = a * .75,
            d = (a - l) / 2,
            u = r * .75,
            h = (r - u) / 2,
            f = {
                x: d,
                y: h + u * .5,
                width: l,
                height: u * .5
            },
            p = x5(l),
            y = {
                x: d,
                y: h,
                width: l,
                height: u * .5
            };
        return {
            width: a,
            height: r,
            candleArea: f,
            candles: {
                candleWidth: p,
                wickWidth: Math.max(1, p / 5),
                candleGap: Math.max(1, p / 5),
                maxCandles: 16
            },
            multiplier: {
                x: a / 2,
                y: r - 4
            },
            priceTracker: { ...f,
                priceX: a * .7
            },
            username: {
                x: a - 16,
                y: 16
            },
            statsArea: y,
            stats: {
                fontScale: a >= 1e3 ? 1 : a >= 800 ? .7 : a >= 600 ? .5 : a >= 400 ? .4 : .3,
                pnlAmountScale: a >= 1e3 ? 1.8 : a >= 800 ? 1.4 : a >= 600 ? 1 : a >= 400 ? .8 : .6,
                investedScale: a >= 1e3 ? 1.2 : a >= 800 ? .9 : a >= 600 ? .7 : a >= 400 ? .5 : .4,
                pnlPercentScale: a >= 1e3 ? 1.2 : a >= 800 ? .9 : a >= 600 ? .7 : a >= 400 ? .5 : .4,
                leftStarScale: a >= 1e3 ? .15 : a >= 800 ? .14 : a >= 600 ? .12 : (a >= 400, .15),
                rightStarScale: a >= 1e3 ? .1 : a >= 800 ? .09 : a >= 600 ? .08 : (a >= 400, .12),
                investedTextPosition: {
                    x: .25,
                    y: .12
                },
                investedAmountTextPosition: {
                    x: .26,
                    y: .28
                },
                pnlAmountTextPosition: {
                    x: .5,
                    y: .65
                },
                pnlPercentTextPosition: {
                    x: .76,
                    y: .12
                },
                pnlPercentAmountTextPosition: {
                    x: .76,
                    y: .28
                },
                leftStarPosition: {
                    x: .02,
                    y: .8
                },
                rightStarPosition: {
                    x: 1,
                    y: .5
                }
            },
            trademarkers: {
                fitToMaxCandles: !0,
                user: {
                    inner: .7,
                    logo: .6,
                    outer: .8
                }
            },
            usernamePosition: {
                x: a >= 600 ? a - 16 : a >= 400 ? a - 8 : a - 5,
                y: a >= 600 ? 16 : a >= 400 ? 8 : 5,
                fontSize: a >= 1e3 ? 32 : a >= 800 ? 24 : a >= 600 ? 20 : a >= 400 ? 18 : 14
            },
            multiplierPosition: {
                x: a / 2,
                y: a >= 600 ? r - 8 : a >= 400 ? r - 4 : r - 2,
                fontSize: a >= 1e3 || a >= 800 ? 24 : a >= 600 ? 16 : a >= 400 ? 8 : 6
            }
        }
    }).addLayer("staticUsername", {
        config: {
            textStyle: {
                fill: de.colorForeground,
                fontFamily: "DynaPuff",
                fontWeight: "400",
                fontSize: 32
            }
        }
    }),
    y5 = m.memo(function({
        game: e,
        profile: s,
        ...a
    }) {
        const {
            className: r,
            style: l,
            ...d
        } = a, u = m.useRef(null), h = typeof(l == null ? void 0 : l.width) == "string" ? parseInt(l.width) : typeof(l == null ? void 0 : l.width) == "number" ? l.width : 500, f = typeof(l == null ? void 0 : l.height) == "string" ? parseInt(l.height) : typeof(l == null ? void 0 : l.height) == "number" ? l.height : 500, p = jd({
            builder: Iy((s == null ? void 0 : s.id) ? ? "", (s == null ? void 0 : s.username) ? ? "Anon"),
            resizeTo: u,
            data: e,
            width: h,
            height: f
        });
        return t.jsx("div", {
            className: Mr("standard-chart-card", r),
            ref: u,
            style: l,
            ...d,
            children: t.jsx("img", {
                ref: p
            })
        })
    }),
    b5 = Ln(Da)(({
        theme: e
    }) => ({
        "& .MuiDialog-paper": {
            width: "auto",
            maxWidth: "none",
            maxHeight: "90vh",
            backgroundColor: "rgb(19, 19, 19)",
            borderRadius: "8px",
            border: `1px solid ${e.palette.divider}`,
            boxShadow: "0 10px 48px rgba(0, 0, 0, 0.5)",
            zIndex: 100001,
            [e.breakpoints.down("sm")]: {
                width: "95vw",
                maxWidth: "95vw",
                margin: "16px",
                maxHeight: "85vh"
            },
            [e.breakpoints.down("xs")]: {
                width: "98vw",
                maxWidth: "98vw",
                margin: "8px",
                maxHeight: "80vh"
            }
        },
        "& .MuiBackdrop-root": {
            backgroundColor: "rgba(0, 0, 0, 0.7)",
            zIndex: 100001
        },
        zIndex: 100001
    })),
    v5 = Ln(Tl)(({
        theme: e
    }) => ({
        display: "flex",
        justifyContent: "space-between",
        alignItems: "center",
        padding: "16px 20px",
        borderBottom: "1px solid #333",
        color: "#FFFFFF",
        fontFamily: "'DynaPuff', sans-serif",
        fontWeight: "bold",
        fontSize: "1.25rem",
        margin: 0,
        [e.breakpoints.down("sm")]: {
            padding: "12px 16px",
            fontSize: "1.1rem"
        },
        [e.breakpoints.down("xs")]: {
            padding: "10px 12px",
            fontSize: "1rem"
        }
    })),
    S5 = Ln(Na)(({
        theme: e
    }) => ({
        padding: "16px",
        minHeight: "auto",
        overflow: "auto",
        color: "#FFFFFF",
        [e.breakpoints.down("sm")]: {
            padding: "12px"
        },
        [e.breakpoints.down("xs")]: {
            padding: "8px"
        }
    })),
    C5 = Ln(Rt)(({
        theme: e
    }) => ({
        color: "#777",
        padding: "4px",
        width: "32px",
        height: "32px",
        borderRadius: "50%",
        "&:hover": {
            color: "#FFFFFF",
            backgroundColor: "rgba(255, 255, 255, 0.1)",
            borderRadius: "50%"
        },
        [e.breakpoints.down("sm")]: {
            width: "28px",
            height: "28px"
        },
        [e.breakpoints.down("xs")]: {
            width: "24px",
            height: "24px"
        }
    }));

function If({
    game: e,
    onClose: s,
    open: a,
    profile: r
}) {
    const l = Nr(),
        d = Fs(l.breakpoints.down("sm")),
        u = Fs(l.breakpoints.down("xs")),
        h = bt(),
        [f, p] = m.useState(!1),
        y = m.useCallback(w => {
            navigator.clipboard.writeText(w).then(() => {
                h(Bt.addNotificationToast({
                    message: "Game id copied"
                }))
            }, j => {
                console.error("Failed to copy text: ", j)
            })
        }, [h]),
        x = () => u ? {
            width: 280,
            height: 280
        } : d ? {
            width: 320,
            height: 320
        } : {
            width: 500,
            height: 500
        },
        S = m.useCallback(async () => {
            if (e) {
                p(!0);
                try {
                    const w = Iy((r == null ? void 0 : r.id) ? ? "", (r == null ? void 0 : r.username) ? ? "Anon").build();
                    w.setup(e, {
                        width: 1e3,
                        height: 1e3
                    }), await hd.getInstance().renderToDownload(w, `${e.id}.png`), w.destroy()
                } catch (w) {
                    console.error(w)
                } finally {
                    p(!1)
                }
            }
        }, [e]),
        v = m.useCallback(() => {
            var D;
            if (!e) return;
            const w = e.playerScoreboard || ((D = e.scoreboard) == null ? void 0 : D.find(E => E.id === (r == null ? void 0 : r.id))),
                j = w != null && w.selectedCoin ? w.selectedCoin.ticker : "SOL",
                A = `i fr just ${(w==null?void 0:w.pnl)??!0?"made":"lost"} ${Math.abs((w==null?void 0:w.pnl)??0).toFixed(3)} ${j} (${Math.abs((w==null?void 0:w.pnlPercent)??0).toFixed(2)}%) with @rugsdotfunbeta... this is CRAZY GOOD TEK`,
                k = `https://twitter.com/intent/tweet?text=${encodeURIComponent(A)}&url=${encodeURIComponent("https://rugs.fun")}`;
            window.open(k, "_blank")
        }, [e]);
    if (!a || !e) return null;
    const C = x();
    return t.jsxs(b5, {
        open: a,
        onClose: s,
        maxWidth: !1,
        fullWidth: !1,
        children: [t.jsxs(v5, {
            children: ["Your PnL Card", t.jsx(C5, {
                onClick: s,
                "aria-label": "close",
                children: "×"
            })]
        }), t.jsxs(S5, {
            children: [t.jsx(T, {
                display: "flex",
                justifyContent: "center",
                mb: 2,
                mt: 2,
                children: t.jsx("div", {
                    style: {
                        width: "100%",
                        maxWidth: `${C.width}px`,
                        aspectRatio: "1/1"
                    },
                    children: t.jsx(y5, {
                        game: e,
                        profile: r,
                        style: {
                            width: `${C.width}px`,
                            height: `${C.height}px`
                        }
                    })
                })
            }), t.jsxs(T, {
                display: "flex",
                flexDirection: {
                    xs: "column",
                    sm: "row"
                },
                gap: 2,
                children: [t.jsx(Te, {
                    onClick: S,
                    variant: "contained",
                    color: "basic",
                    startIcon: t.jsx(r2, {}),
                    fullWidth: !0,
                    size: "large",
                    loading: f,
                    children: "Download"
                }), t.jsx(Te, {
                    onClick: v,
                    variant: "contained",
                    color: "basic",
                    startIcon: t.jsx(Fy, {
                        style: {
                            fontSize: "16px"
                        }
                    }),
                    fullWidth: !0,
                    size: "large",
                    children: "Share on X"
                }), t.jsx(Te, {
                    onClick: () => y(e.id ? ? e.gameId),
                    variant: "contained",
                    color: "basic",
                    fullWidth: !0,
                    size: "large",
                    children: "Copy game id"
                })]
            })]
        })]
    })
}
const w5 = new Ed().addSelector("prices", e => e.prices).addSelector("grid", e => ({ ...La.grid(e.prices),
        current: Math.max(...e.prices)
    })).addSelector("peakMultiplier", e => e.peakMultiplier ? ? 1).addSelector("pnl", e => e.pnl ? ? 0).addSelector("pnlPercent", e => e.pnlPercent ? ? 0).addSelector("invested", e => e.invested ? ? 0).addSelector("coinSlug", e => {
        var r;
        const s = wd(((r = e.selectedCoin) == null ? void 0 : r.ticker) ? ? "sol"),
            a = s in Es ? Es[s] : null;
        return (a == null ? void 0 : a.shortName) ? ? "SOL"
    }).addSelector("timestamp", e => e.timestamp ? ? Date.now()).addSelector("profitState", e => e.pnl > 0 ? "profit" : e.pnl < 0 ? "loss" : "neutral").addSelector("positionQty", e => 1).addSelector("ownTrades", e => (e.globalTrades ? ? e.trades).filter(s => s.tickIndex > 0)).addLayer("background", {
        config: {
            image: "standard-chart-background"
        }
    }).addLayer("background", {
        config: {
            image: "profile-chart-background"
        }
    }).addLayer("pnlBackground", {
        config: {}
    }).addLayer("staticGrid", {
        config: {
            markersEnabled: !0,
            linesEnabled: !0,
            markerColor: de.colorMutedForeground,
            markerSuffix: "x"
        }
    }).addLayer("staticCandles", {
        config: {
            wickUsesBodyColor: !0,
            fitToMaxCandles: !0
        }
    }).addLayer("profileBestPnl", {
        config: {
            pnlPrecision: 3,
            pnlPercentPrecision: 1,
            investedPrecision: 3
        }
    }).addLayer("staticTrades", {
        config: {
            layoutKey: "user",
            tradesKey: "ownTrades",
            trademarkerDetails: !1
        }
    }).addLayer("staticPriceTracker", {
        config: {
            standardDashGap: 8,
            standardDashLength: 8,
            standardDashStroke: {
                width: 2,
                color: de.colorPrimary
            },
            standardTextStyle: {
                fontSize: 20,
                fill: de.colorPrimary,
                fontFamily: "DynaPuff"
            }
        }
    }).addLayoutSelector((e, s) => {
        const a = {
                top: e >= 500 ? 16 : e >= 300 ? 12 : 8,
                left: e >= 500 ? 16 : e >= 300 ? 12 : 8,
                right: e >= 500 ? 16 : e >= 300 ? 12 : 8,
                bottom: e >= 500 ? 16 : e >= 300 ? 12 : 8
            },
            r = e - a.left - a.right,
            l = s - a.top - a.bottom,
            d = e >= 500 ? 16 : e >= 300 ? 12 : 8,
            u = r * .4,
            h = e >= 500 ? 56 : e >= 300 ? 45 : 40,
            f = r - u - h - d,
            p = {
                x: a.left + u + d + h,
                y: a.top,
                width: f,
                height: l
            },
            y = {
                x: a.left,
                y: a.top,
                width: u - d,
                height: l
            },
            x = C => e >= 500 ? C : e >= 300 ? C * .6 : e >= 200 ? C * .4 : e >= 150 ? C * .3 : C * .2,
            S = () => e >= 500 ? .4 : e >= 300 ? .25 : e >= 200 ? .18 : e >= 150 ? .15 : .1,
            v = () => e >= 500 ? 1 : e >= 300 ? .65 : e >= 200 ? .45 : e >= 150 ? .35 : .25;
        return {
            width: e,
            height: s,
            candleArea: p,
            candles: {
                maxCandles: 40
            },
            priceAxis: {
                x: a.left + u + d,
                y: p.y,
                width: p.width + h,
                height: p.height,
                pricesX: d,
                fontSize: e >= 500 ? 12 : e >= 300 ? 9 : e >= 200 ? 7 : e >= 150 ? 6 : 5
            },
            multiplier: {
                x: e / 2,
                y: s - 4
            },
            priceTracker: {
                x: p.x,
                y: p.y,
                width: p.width,
                height: p.height,
                priceX: p.width * .5,
                textStyle: {
                    fontSize: e >= 500 ? 20 : e >= 300 ? 14 : e >= 200 ? 10 : e >= 150 ? 8 : 6,
                    fill: de.colorPrimary,
                    fontFamily: "DynaPuff"
                }
            },
            statsArea: y,
            stats: {
                fontScale: S(),
                pnlAmountScale: v(),
                investedScale: x(.6),
                pnlPercentScale: x(.6),
                leftStarScale: x(.12),
                rightStarScale: x(.08),
                investedTextPosition: {
                    x: .3,
                    y: .15
                },
                investedAmountTextPosition: {
                    x: .3,
                    y: .25
                },
                pnlAmountTextPosition: {
                    x: .5,
                    y: .65
                },
                pnlPercentTextPosition: {
                    x: .8,
                    y: .15
                },
                pnlPercentAmountTextPosition: {
                    x: .8,
                    y: .25
                },
                leftStarPosition: {
                    x: .1,
                    y: .8
                },
                rightStarPosition: {
                    x: .9,
                    y: .5
                }
            },
            trademarkers: {
                fitToMaxCandles: !0,
                user: {
                    inner: x(1.2),
                    logo: x(1),
                    outer: x(1.4)
                }
            }
        }
    }),
    T5 = m.memo(function({
        game: e,
        profile: s,
        ...a
    }) {
        const {
            className: r,
            ...l
        } = a, [d, u] = m.useState(!1), [h, f] = m.useState(null), p = () => {
            u(!1)
        }, y = () => {
            f({
                id: e.gameId || "",
                serverSeedHash: "",
                version: "",
                price: 1,
                active: !1,
                prices: e.prices || [],
                tickCount: 0,
                scoreboard: [],
                playerScoreboard: {
                    index: 0,
                    id: e.gameId || "",
                    pnl: e.pnl,
                    pnlPercent: e.pnlPercent ? ? 0,
                    sidebetActivePnl: 0,
                    hasActiveTrades: !1,
                    position: 1,
                    positionQty: 0,
                    avgCost: 0,
                    totalInvested: e.invested ? ? 0,
                    selectedCoin: null,
                    sidebetActive: !1
                },
                trades: e.trades || [],
                sideBets: [],
                peakMultiplier: e.peakMultiplier
            }), u(!0)
        }, x = m.useRef(null), S = jd({
            builder: w5,
            resizeTo: x,
            data: e
        });
        return t.jsxs(t.Fragment, {
            children: [t.jsx("div", {
                onClick: y,
                className: Mr("standard-profile-recent", r),
                ref: x,
                style: {
                    width: "100%",
                    height: "100%"
                },
                ...l,
                children: t.jsx("img", {
                    ref: S
                })
            }), t.jsx(If, {
                game: h,
                profile: s,
                onClose: p,
                open: d
            })]
        })
    }),
    j5 = new Ed().addSelector("prices", e => e.prices).addSelector("grid", e => La.grid(e.prices)).addSelector("peakMultiplier", e => e.peakMultiplier ? ? 1).addSelector("pnl", e => e.pnl ? ? 0).addSelector("coinSlug", e => {
        var r;
        const s = wd(((r = e.selectedCoin) == null ? void 0 : r.ticker) ? ? "sol"),
            a = s in Es ? Es[s] : null;
        return (a == null ? void 0 : a.shortName) ? ? "SOL"
    }).addSelector("timestamp", e => e.timestamp ? ? Date.now()).addSelector("positionQty", e => 1).addSelector("profitState", e => e.pnl > 0 ? "profit" : "loss").addSelector("isPreRound", e => !1).addSelector("ownTrades", e => e.trades ? [...e.trades].filter(s => s.tickIndex > 0) : []).addLayer("pnlBackground", {
        config: {
            profitSprite: "linear-gradient-green",
            lossSprite: "linear-gradient-red"
        }
    }).addLayer("formattedMultiplier", {
        config: {
            precision: 2,
            textStyle: {
                fontSize: 16,
                fontFamily: "DynaPuff",
                fontWeight: "400"
            },
            fill: e => Al(e),
            fontWeight: e => Rl(e)
        }
    }).addLayer("formattedPnl", {
        config: {
            precision: 3,
            textStyle: {
                fontSize: 16,
                fontFamily: "DynaPuff",
                fontWeight: "400"
            },
            fill(e) {
                return e < 0 ? de.colorDestructive : de.colorSuccess
            }
        }
    }).addLayer("timestamp", {
        config: {
            textStyle: {
                fontSize: 12,
                fontFamily: "DynaPuff",
                fontWeight: "400",
                fill: de.colorMutedForeground
            },
            format(e) {
                return new Date(e).toLocaleDateString("en-US", {
                    year: "numeric",
                    month: "short",
                    day: "numeric",
                    hour: "2-digit",
                    minute: "2-digit"
                })
            }
        }
    }).addLayer("staticCandles", {
        config: {
            trademarkers: !1,
            trademarkerDetails: !1,
            inheritTrademarkersFromLayout: !1,
            wickUsesBodyColor: !0,
            fitToMaxCandles: !0
        }
    }).addLayer("staticTrades", {
        config: {
            layoutKey: "user",
            tradesKey: "ownTrades",
            trademarkerDetails: !1
        }
    }).addLayoutSelector((e, s) => {
        const l = {
            x: 12,
            y: 40,
            width: e - 24,
            height: e - 24 - 20 - 24
        };
        return {
            width: e,
            height: s,
            candleArea: l,
            candles: {
                maxCandles: 16
            },
            multiplier: {
                x: e / 2,
                y: 18
            },
            pnl: {
                x: e / 2,
                y: s - 10 - 16
            },
            timestamp: {
                x: e / 2,
                y: s - 10
            },
            trademarkers: {
                fitToMaxCandles: !0,
                user: {
                    inner: 1.2,
                    logo: 1,
                    outer: 1.4
                }
            }
        }
    }),
    k5 = m.memo(function({
        game: e,
        profile: s,
        ...a
    }) {
        const {
            className: r,
            ...l
        } = a, [d, u] = m.useState(!1), [h, f] = m.useState(null), p = () => {
            u(!1)
        }, y = () => {
            f({ ...e,
                playerScoreboard: {
                    pnl: e.pnl,
                    pnlPercent: e.pnlPercent ? ? 0,
                    totalInvested: e.invested ? ? 0
                }
            }), u(!0)
        }, x = m.useRef(null), S = jd({
            builder: j5,
            resizeTo: x,
            data: e
        });
        return t.jsxs(t.Fragment, {
            children: [t.jsx("div", {
                onClick: y,
                className: Mr("standard-profile-recent", r),
                ref: x,
                ...l,
                children: t.jsx("img", {
                    ref: S
                })
            }), t.jsx(If, {
                game: h,
                profile: s,
                onClose: p,
                open: d
            })]
        })
    }),
    Oy = ({
        userProfile: e,
        currentProfile: s,
        effectiveUsername: a,
        onUsernameSet: r,
        isAdmin: l = !1,
        onAdminSearch: d,
        onResetToOwnProfile: u,
        isAdminSearchLoading: h,
        adminSearchError: f,
        onLogout: p
    }) => {
        var q, Z, se, G, ie, ne, ee, me, fe, ge;
        const y = jn(),
            [x, S] = m.useState(""),
            [v, C] = m.useState(!1),
            [w, j] = m.useState(""),
            [A, _] = m.useState(""),
            k = l || (e == null ? void 0 : e.role) === "admin",
            D = async ke => {
                if (ke.preventDefault(), j(""), C(!0), !x || x.trim() === "") {
                    j("Username cannot be empty"), C(!1);
                    return
                }
                if (x.length < 3 || x.length > 16) {
                    j("Username must be between 3 and 16 characters"), C(!1);
                    return
                }
                if (!/^[a-zA-Z0-9]+$/.test(x)) {
                    j("Username can only contain letters and numbers"), C(!1);
                    return
                }
                try {
                    y.setUsername(x)
                } catch (je) {
                    console.error("Error setting username:", je), j("Failed to set username. Please try again."), C(!1)
                }
            },
            E = async ke => {
                ke.preventDefault();
                try {
                    if (!A || A.trim() === "") return;
                    d(A)
                } catch (je) {
                    console.error("Error searching for player:", je)
                }
            },
            P = ke => ke == null || isNaN(ke) ? "0" : ke.toString().replace(/\B(?=(\d{3})+(?!\d))/g, ","),
            I = () => !V || !W ? 0 : Math.min(100, V / W * 100),
            B = ke => {
                if (ke == null) return "";
                const je = ke % 10,
                    re = ke % 100;
                return je === 1 && re !== 11 ? "st" : je === 2 && re !== 12 ? "nd" : je === 3 && re !== 13 ? "rd" : "th"
            },
            X = ke => {
                if (!ke) return {
                    formatted: "—"
                };
                const je = ke * 30,
                    re = Math.floor(je / (24 * 60 * 60)),
                    Ee = Math.floor(je % (24 * 60 * 60) / (60 * 60)),
                    Ae = Math.floor(je % (60 * 60) / 60);
                let Pe = "";
                return re > 0 && (Pe += `${re}d `), (Ee > 0 || re > 0) && (Pe += `${Ee}h `), Pe += `${Ae}m`, {
                    days: re,
                    hours: Ee,
                    minutes: Ae,
                    formatted: Pe
                }
            },
            O = s,
            L = O == null ? void 0 : O.stats,
            F = (L == null ? void 0 : L.recentGames) ? ? [],
            Y = (s == null ? void 0 : s.id) !== (e == null ? void 0 : e.id),
            H = Se(ke => s != null && s.id ? Ge.selectStatsLoading(ke, s.id) : !1);
        m.useEffect(() => {
            s && !s.stats && y.getPlayerStats({
                playerId: s.id
            })
        }, [s]);
        const K = a || "Anon",
            z = (O == null ? void 0 : O.levelInfo) ? ? {
                level: 0,
                xp: 0,
                xpForNextLevel: 500
            },
            U = z.level,
            V = z.xp,
            W = z.xpForNextLevel;
        return m.useEffect(() => {
            v && (s != null && s.username) && (C(!1), r())
        }, [v, s == null ? void 0 : s.username, r]), m.useEffect(() => {
            if (v) {
                const ke = setTimeout(() => {
                    j("No response from server. Please try again."), C(!1)
                }, 1e4);
                return () => clearTimeout(ke)
            }
        }, [v]), !a && !Y ? t.jsx("div", {
            className: "profile-username-setup",
            children: t.jsxs("div", {
                children: [t.jsx("h2", {
                    children: "Set Username"
                }), t.jsx("p", {
                    children: "Choose a username to chat and be recognizable on leaderboards."
                }), t.jsxs("form", {
                    onSubmit: D,
                    className: "username-form",
                    children: [t.jsxs("div", {
                        className: "username-input-group",
                        children: [t.jsx("input", {
                            type: "text",
                            placeholder: "Username",
                            value: x,
                            onChange: ke => S(ke.target.value),
                            className: `username-input ${w?"error":""}`
                        }), w && t.jsx("div", {
                            className: "username-error",
                            children: w
                        })]
                    }), t.jsx("button", {
                        type: "submit",
                        disabled: v,
                        className: "username-submit-btn",
                        children: v ? t.jsx("span", {
                            className: "loading-spinner"
                        }) : "Set Username"
                    })]
                }), p && t.jsx("button", {
                    type: "button",
                    onClick: p,
                    className: "username-logout-btn",
                    style: {
                        position: "fixed",
                        bottom: "20px",
                        right: "20px",
                        width: "48px",
                        height: "48px",
                        backgroundColor: "#2a2a2a",
                        color: "var(--color-error)",
                        border: "none",
                        borderRadius: "50%",
                        cursor: "pointer",
                        display: window.innerWidth < 768 ? "flex" : "none",
                        alignItems: "center",
                        justifyContent: "center",
                        fontSize: "18px",
                        zIndex: 1e3
                    },
                    children: t.jsx(gf, {})
                })]
            })
        }) : t.jsxs("div", {
            className: "profile-tab-container",
            children: [k && t.jsxs("div", {
                className: "profile-admin-search-container",
                children: [t.jsxs("form", {
                    onSubmit: E,
                    className: "profile-admin-search-form",
                    children: [t.jsxs("div", {
                        className: "profile-admin-search-input-container",
                        children: [t.jsx("input", {
                            type: "text",
                            placeholder: "Search player by username...",
                            value: A,
                            onChange: ke => _(ke.target.value),
                            className: `profile-admin-search-input ${f?"error":""}`
                        }), t.jsx(f2, {
                            className: "profile-admin-search-icon"
                        })]
                    }), t.jsx("button", {
                        type: "submit",
                        disabled: h,
                        className: "profile-admin-search-btn",
                        children: h ? "Searching..." : "Search"
                    }), Y && t.jsx("button", {
                        type: "button",
                        onClick: u,
                        className: "profile-admin-reset-btn",
                        children: "Back to My Profile"
                    })]
                }), f && t.jsx("div", {
                    className: "profile-admin-search-error",
                    children: f
                }), Y && (O == null ? void 0 : O.username) && t.jsx("div", {
                    className: "profile-admin-viewing-indicator",
                    children: t.jsxs("div", {
                        className: "admin-viewing-text",
                        children: ["Viewing profile: ", t.jsx("span", {
                            className: "admin-viewing-username",
                            children: O.username
                        })]
                    })
                })]
            }), t.jsxs("div", {
                className: "profile-content",
                children: [t.jsxs("div", {
                    className: "profile-header",
                    children: [t.jsx("div", {
                        className: "profile-header-content",
                        children: t.jsxs("div", {
                            className: "profile-username-container",
                            style: {
                                display: "flex",
                                justifyContent: "space-between",
                                alignItems: "center"
                            },
                            children: [t.jsx("h1", {
                                className: "profile-username",
                                children: K
                            }), p && t.jsx(Rt, {
                                "aria-label": "logout",
                                onClick: p,
                                sx: ke => ({
                                    display: "flex",
                                    [ke.breakpoints.up(769)]: {
                                        display: "none"
                                    },
                                    width: {
                                        xs: "28px",
                                        sm: "36px"
                                    },
                                    height: {
                                        xs: "28px",
                                        sm: "36px"
                                    },
                                    backgroundColor: ke.palette.basic.main,
                                    color: "var(--color-error)",
                                    cursor: "pointer",
                                    transition: "color 0.2s ease",
                                    "&:hover": {
                                        color: "var(--color-error-hover, #dc3545)"
                                    }
                                }),
                                children: t.jsx(gf, {})
                            })]
                        })
                    }), t.jsxs("div", {
                        className: "profile-level-container",
                        children: [t.jsx("div", {
                            className: "profile-level-badge",
                            children: t.jsx(ds, {
                                level: U,
                                size: "xlarge",
                                badgeOnly: !0
                            })
                        }), t.jsxs("div", {
                            className: "profile-level-details",
                            children: [t.jsxs("div", {
                                className: "profile-level-text",
                                children: [t.jsxs("div", {
                                    className: "profile-level-label",
                                    children: ["Level ", U]
                                }), t.jsxs("div", {
                                    className: "profile-xp-label",
                                    children: [P(V), "/", P(W), " XP"]
                                })]
                            }), t.jsx("div", {
                                className: "profile-xp-progress-container",
                                children: t.jsx("div", {
                                    className: "profile-xp-progress-bar",
                                    style: {
                                        width: `${I()}%`
                                    }
                                })
                            })]
                        })]
                    })]
                }), ((q = L == null ? void 0 : L.highestPnlGame) == null ? void 0 : q.prices) && L.highestPnlGame.prices.length > 0 && t.jsxs(t.Fragment, {
                    children: [t.jsxs("div", {
                        className: "profile-best-pnl-title",
                        children: [t.jsx("div", {
                            className: "best-pnl-title",
                            children: "🔥 Best PNL of All Time"
                        }), t.jsx("div", {
                            className: "best-pnl-date",
                            children: (Z = L == null ? void 0 : L.highestPnlGame) != null && Z.timestamp ? new Date(L.highestPnlGame.timestamp).toLocaleString("en-US", {
                                month: "numeric",
                                day: "numeric",
                                year: "numeric",
                                hour: "numeric",
                                minute: "numeric",
                                hour12: !0
                            }) : ""
                        })]
                    }), t.jsx("div", {
                        className: "profile-best-pnl-section",
                        children: t.jsx(T5, {
                            game: L.highestPnlGame,
                            profile: s
                        })
                    })]
                }), t.jsxs("div", {
                    className: "profile-stats-grid",
                    children: [t.jsxs("div", {
                        className: "profile-stat-card",
                        children: [t.jsx("h5", {
                            className: "stat-card-title",
                            children: "Games Played"
                        }), t.jsx("div", {
                            className: "stat-card-content",
                            children: H ? t.jsx("span", {
                                className: "loading-spinner"
                            }) : t.jsxs(t.Fragment, {
                                children: [t.jsx("span", {
                                    className: "stat-card-value",
                                    children: (L == null ? void 0 : L.totalGamesPlayed) || 0
                                }), t.jsx("span", {
                                    className: "stat-card-subtext",
                                    children: X((L == null ? void 0 : L.totalGamesPlayed) || 0).formatted || "0m"
                                })]
                            })
                        })]
                    }), t.jsxs("div", {
                        className: "profile-stat-card",
                        children: [t.jsx("h5", {
                            className: "stat-card-title",
                            children: "PNL Rank (7d)"
                        }), t.jsx("div", {
                            className: "stat-card-content",
                            children: H ? t.jsx("span", {
                                className: "loading-spinner"
                            }) : t.jsxs(t.Fragment, {
                                children: [t.jsxs("div", {
                                    className: "stat-card-rank",
                                    children: [t.jsx("span", {
                                        className: "stat-card-value",
                                        children: ((G = (se = L == null ? void 0 : L.leaderboardPositions) == null ? void 0 : se["7d"]) == null ? void 0 : G.rank) || "-"
                                    }), t.jsx("span", {
                                        className: "stat-card-ordinal",
                                        children: (ne = (ie = L == null ? void 0 : L.leaderboardPositions) == null ? void 0 : ie["7d"]) != null && ne.rank ? B(L.leaderboardPositions["7d"].rank) : ""
                                    })]
                                }), t.jsxs("span", {
                                    className: `stat-card-pnl ${(((me=(ee=L==null?void 0:L.leaderboardPositions)==null?void 0:ee["7d"])==null?void 0:me.pnl)||0)>=0?"positive":"negative"}`,
                                    children: [(ge = (fe = L == null ? void 0 : L.leaderboardPositions) == null ? void 0 : fe["7d"]) != null && ge.pnl ? `${L.leaderboardPositions["7d"].pnl>=0?"+":""}${L.leaderboardPositions["7d"].pnl.toFixed(3)}` : "0.000", t.jsx("img", {
                                        src: "/icons/Icon_Solana_Transparent.png",
                                        alt: "SOL",
                                        width: "16",
                                        height: "16"
                                    })]
                                })]
                            })
                        })]
                    }), t.jsxs("div", {
                        className: "profile-stat-card stat-card-centered",
                        children: [t.jsx("h5", {
                            className: "stat-card-title",
                            children: "Bonus SOL Claimed"
                        }), t.jsx("div", {
                            className: "stat-card-content",
                            children: H ? t.jsx("span", {
                                className: "loading-spinner"
                            }) : t.jsxs("span", {
                                className: "stat-card-value-with-icon",
                                children: [t.jsx("img", {
                                    src: "/icons/Icon_Solana_Transparent.png",
                                    alt: "SOL",
                                    width: "20",
                                    height: "20"
                                }), L != null && L.totalBonusSolClaimed ? L.totalBonusSolClaimed.toFixed(3) : "0.000"]
                            })
                        })]
                    }), t.jsxs("div", {
                        className: "profile-stat-card stat-card-centered",
                        children: [t.jsx("h5", {
                            className: "stat-card-title",
                            children: "Total Bets"
                        }), t.jsx("div", {
                            className: "stat-card-content",
                            children: H ? t.jsx("span", {
                                className: "loading-spinner"
                            }) : t.jsxs("span", {
                                className: "stat-card-value-with-icon",
                                children: [t.jsx("img", {
                                    src: "/icons/Icon_Solana_Transparent.png",
                                    alt: "SOL",
                                    width: "20",
                                    height: "20"
                                }), L != null && L.totalBetsSol ? L.totalBetsSol.toFixed(3) : "0.000"]
                            })
                        })]
                    })]
                }), t.jsx("div", {
                    className: "profile-recent-games",
                    children: t.jsx(oT, {
                        title: "Recent Games",
                        items: F,
                        itemGap: 8,
                        itemRenderer: ke => t.jsx("div", {
                            className: "recent-game-card",
                            "data-profit": ke.pnl > 0,
                            children: t.jsx(k5, {
                                game: ke,
                                profile: s
                            })
                        }),
                        itemKeyer: ke => ke.gameId
                    })
                }), t.jsx("div", {
                    className: "profile-leaderboard-section",
                    children: t.jsx("div", {
                        className: "profile-leaderboard-container",
                        children: t.jsx(wy, {})
                    })
                })]
            })]
        })
    };

function E5({
    userProfile: e,
    currentProfile: s,
    isPartner: a,
    partnerType: r,
    isAdminSearchLoading: l,
    adminSearchError: d,
    onResetToOwnProfile: u,
    onAdminSearch: h
}) {
    jl();
    const f = nn(),
        [p, y] = m.useState("streamer"),
        [x, S] = m.useState(""),
        [v, C] = m.useState(!1),
        [w, j] = m.useState(null),
        [A, _] = m.useState(null),
        [k, D] = m.useState(!1),
        E = (e == null ? void 0 : e.id) !== (s == null ? void 0 : s.id),
        P = E ? s == null ? void 0 : s.username : "Current User",
        I = () => {
            C(!0), f.fixReferralBetCounts({
                targetPlayerId: (s == null ? void 0 : s.id) ? ? ""
            }, F => {
                C(!1), j(F)
            })
        },
        B = () => {
            D(!0), f.addPartner({
                targetPrivyId: (s == null ? void 0 : s.id) ? ? "",
                partnerType: p
            }, F => {
                D(!1), _(F)
            })
        },
        X = () => {
            D(!0), f.removePartner({
                targetPrivyId: (s == null ? void 0 : s.id) ? ? ""
            }, F => {
                D(!1), _(F)
            })
        },
        O = () => {
            x.trim() && (h(x.trim()), S(""))
        },
        L = () => {
            u(), S("")
        };
    return t.jsxs(Je, {
        sx: {
            p: 3
        },
        children: [t.jsx($, {
            variant: "h6",
            sx: {
                mb: 3,
                fontWeight: "bold"
            },
            children: "Admin Controls"
        }), t.jsxs(T, {
            sx: {
                mb: 3
            },
            children: [t.jsx($, {
                variant: "h6",
                sx: {
                    mb: 2,
                    fontSize: "1.1rem"
                },
                children: "User Lookup"
            }), t.jsxs(T, {
                children: [l && t.jsx(it, {
                    severity: "info",
                    sx: {
                        mb: 2
                    },
                    children: t.jsxs(T, {
                        sx: {
                            display: "flex",
                            alignItems: "center",
                            gap: 1
                        },
                        children: [t.jsx(ws, {
                            size: 16
                        }), "Looking up user..."]
                    })
                }), d && t.jsxs(it, {
                    severity: "error",
                    sx: {
                        mb: 2
                    },
                    children: ["Error: ", d]
                }), t.jsxs(T, {
                    sx: {
                        mb: 2,
                        p: 2,
                        backgroundColor: "action.hover",
                        borderRadius: 1
                    },
                    children: [t.jsxs($, {
                        variant: "body2",
                        sx: {
                            fontWeight: "bold",
                            mb: 1
                        },
                        children: ["Current Target: ", P]
                    }), E && (e == null ? void 0 : e.id) && t.jsxs($, {
                        variant: "caption",
                        sx: {
                            display: "block",
                            color: "text.secondary",
                            mb: 1
                        },
                        children: ["Privy ID: ", e.id]
                    }), E && t.jsx(Te, {
                        onClick: L,
                        variant: "outlined",
                        size: "small",
                        children: "Reset to Current User"
                    })]
                }), t.jsxs(T, {
                    display: "flex",
                    gap: 1,
                    children: [t.jsx(et, {
                        value: x,
                        onChange: F => S(F.target.value),
                        placeholder: "Enter username or user ID",
                        variant: "outlined",
                        size: "small",
                        onKeyPress: F => F.key === "Enter" && O()
                    }), t.jsx(Te, {
                        onClick: O,
                        disabled: !x.trim(),
                        variant: "contained",
                        color: "primary",
                        sx: {
                            color: "black !important"
                        },
                        children: "Lookup User"
                    })]
                })]
            })]
        }), t.jsxs(T, {
            sx: {
                mb: 3
            },
            children: [t.jsx($, {
                variant: "h6",
                sx: {
                    mb: 2,
                    fontSize: "1.1rem"
                },
                children: "Referral Management"
            }), t.jsx(Te, {
                onClick: I,
                disabled: v,
                variant: "contained",
                color: "primary",
                startIcon: v ? t.jsx(ws, {
                    size: 16
                }) : null,
                children: v ? "Fixing..." : "Fix Referral Bet Counts"
            }), w && t.jsx(it, {
                severity: w.success ? "success" : "error",
                sx: {
                    mt: 2
                },
                children: w.message || (w.success ? `Count fixed: ${w.oldCount||0} → ${w.newCount||0}` : "Failed to fix referral counts")
            })]
        }), t.jsxs(T, {
            children: [t.jsxs(T, {
                sx: {
                    display: "flex",
                    justifyContent: "space-between",
                    alignItems: "center",
                    mb: 2,
                    "@media (max-width: 450px)": {
                        flexDirection: "column",
                        alignItems: "flex-start",
                        gap: 1
                    }
                },
                children: [t.jsx($, {
                    variant: "h6",
                    sx: {
                        fontSize: "1.1rem"
                    },
                    children: "Partner Status Management"
                }), a && t.jsx(Qn, {
                    icon: t.jsx(ud, {}),
                    label: `${r==="streamer"?"Streamer":"KOL"} Partner`,
                    color: "warning",
                    variant: "filled"
                })]
            }), a ? t.jsx(Te, {
                onClick: X,
                disabled: k,
                variant: "contained",
                color: "error",
                startIcon: k ? t.jsx(ws, {
                    size: 16
                }) : null,
                children: k ? "Processing..." : "Remove Partner Status"
            }) : t.jsxs(T, {
                children: [t.jsxs(T, {
                    sx: {
                        mb: 2
                    },
                    children: [t.jsx($, {
                        variant: "body2",
                        sx: {
                            mb: 1,
                            fontWeight: "medium"
                        },
                        children: "Partner Type:"
                    }), t.jsxs(D0, {
                        variant: "outlined",
                        size: "small",
                        children: [t.jsx(Te, {
                            onClick: () => y("streamer"),
                            variant: p === "streamer" ? "contained" : "outlined",
                            children: "Streamer"
                        }), t.jsx(Te, {
                            onClick: () => y("kol"),
                            variant: p === "kol" ? "contained" : "outlined",
                            children: "KOL"
                        })]
                    })]
                }), t.jsx(Te, {
                    onClick: B,
                    disabled: k,
                    variant: "contained",
                    color: "primary",
                    startIcon: k ? t.jsx(ws, {
                        size: 16
                    }) : null,
                    children: k ? "Processing..." : "Make Partner"
                })]
            }), A && t.jsx(it, {
                severity: A.success ? "success" : "error",
                sx: {
                    mt: 2
                },
                children: A.message || (A.success ? "Partner status updated successfully" : "Failed to update partner status")
            })]
        })]
    })
}
const A5 = ({
        referralInfo: e,
        isViewingAsAdmin: s = !1,
        displayUsername: a
    }) => {
        const r = jn(),
            [l, d] = m.useState(""),
            [u, h] = m.useState(!1),
            [f, p] = m.useState(null),
            y = !!(e != null && e.referredBy),
            x = () => {
                if (!l || l.trim().length < 3 || l.trim().length > 16) return;
                const C = l.trim(),
                    w = C.toLowerCase();
                w === "anon" || w === "anonymous" || (h(!0), r.registerUsernameReferral({
                    username: C
                }, j => {
                    h(!1), p(j), j.success && d("")
                }))
            },
            v = (() => {
                if (!l || l.trim().length === 0) return null;
                if (l.trim().length < 3) return "Username must be at least 3 characters";
                if (l.trim().length > 16) return "Username must be 16 characters or less";
                const C = l.trim().toLowerCase();
                return C === "anon" || C === "anonymous" ? 'Cannot use "Anon" or "Anonymous" as a referral' : null
            })();
        return t.jsxs("div", {
            className: `refer-account-status ${y?"referred":"not-referred"}`,
            children: [t.jsxs("div", {
                className: "refer-account-status-header",
                children: [t.jsxs("div", {
                    className: "refer-account-status-info",
                    children: [t.jsx("div", {
                        className: "refer-account-status-icon",
                        children: t.jsx(mf, {})
                    }), t.jsxs("div", {
                        children: [t.jsx("div", {
                            className: "refer-account-status-label",
                            children: s ? `${a}'s Account Status` : "Your Account Status"
                        }), t.jsx("div", {
                            className: "refer-account-status-value",
                            children: y ? e.referrerUsername ? t.jsxs("span", {
                                children: ["Referred by ", t.jsx("span", {
                                    style: {
                                        color: "#00f5d4"
                                    },
                                    children: e.referrerUsername
                                })]
                            }) : "Referred by another player" : "Not referred by another player"
                        })]
                    })]
                }), t.jsxs("div", {
                    className: "refer-account-status-badge",
                    children: [t.jsx(y2, {
                        className: "refer-account-status-badge-icon"
                    }), y ? "Referred Player" : "Not Referred"]
                })]
            }), !y && !s && t.jsxs("div", {
                style: {
                    display: "flex",
                    flexDirection: "column",
                    gap: "16px"
                },
                children: [t.jsxs("div", {
                    className: "refer-username-form",
                    children: [t.jsx("div", {
                        className: "refer-username-form-label",
                        children: "Enter a username to be referred by:"
                    }), t.jsxs("div", {
                        className: "refer-username-form-input-container",
                        children: [t.jsx("input", {
                            type: "text",
                            value: l,
                            onChange: C => d(C.target.value),
                            placeholder: "Enter username",
                            disabled: u,
                            className: "refer-username-form-input"
                        }), t.jsx("button", {
                            onClick: x,
                            disabled: u || !l.trim() || !!v,
                            className: "refer-username-form-submit",
                            children: u ? "Submitting..." : "Submit"
                        })]
                    })]
                }), v && t.jsx("div", {
                    className: "refer-username-form-error",
                    children: v
                }), f && t.jsxs(t.Fragment, {
                    children: [!f.success && f.message && t.jsxs("div", {
                        className: "refer-username-form-error",
                        children: ["Error: ", f.message]
                    }), f.success && f.message && t.jsx("div", {
                        className: "refer-username-form-success",
                        children: f.message
                    })]
                }), t.jsx("div", {
                    className: "refer-username-form-info",
                    children: "Being referred gives you a Referral Crate (worth a guaranteed 0.25+ SOL) when you reach level 20 and provides benefits to your referrer!"
                })]
            })]
        })
    },
    R5 = ({
        referralInfo: e,
        isViewingAsAdmin: s,
        displayUsername: a
    }) => {
        var f, p, y;
        if (!s) return null;
        const r = ((f = e == null ? void 0 : e.referrals) == null ? void 0 : f.count) || 0,
            l = ((p = e == null ? void 0 : e.stats) == null ? void 0 : p.referredUsersWithBets) || 0,
            d = ((y = e == null ? void 0 : e.stats) == null ? void 0 : y.referredUsersLevel20Plus) || 0,
            u = r > 0 ? l / r * 100 : 0,
            h = r > 0 ? d / r * 100 : 0;
        return t.jsxs("div", {
            className: "refer-section",
            children: [t.jsxs("div", {
                className: "refer-section-header",
                children: [t.jsxs("h3", {
                    className: "refer-section-title",
                    children: [t.jsx("span", {
                        className: "refer-admin-icon",
                        children: "👨‍💼"
                    }), "Conversion Rates"]
                }), t.jsxs("p", {
                    className: "refer-section-subtitle",
                    children: ["Admin-only view for ", a || "this user"]
                })]
            }), t.jsxs("div", {
                className: "refer-conversion-grid",
                children: [t.jsxs("div", {
                    className: "refer-conversion-card",
                    children: [t.jsxs("div", {
                        className: "refer-conversion-header",
                        children: [t.jsx("span", {
                            className: "refer-conversion-icon",
                            children: "💰"
                        }), t.jsx("h4", {
                            className: "refer-conversion-title",
                            children: "Betting Conversion"
                        })]
                    }), t.jsxs("div", {
                        className: "refer-conversion-stats",
                        children: [t.jsxs("div", {
                            className: "refer-conversion-percentage",
                            children: [u.toFixed(1), "%"]
                        }), t.jsxs("div", {
                            className: "refer-conversion-details",
                            children: [l, " of ", r, " referred users placed bets"]
                        })]
                    })]
                }), t.jsxs("div", {
                    className: "refer-conversion-card",
                    children: [t.jsxs("div", {
                        className: "refer-conversion-header",
                        children: [t.jsx("span", {
                            className: "refer-conversion-icon",
                            children: "🏆"
                        }), t.jsx("h4", {
                            className: "refer-conversion-title",
                            children: "Level Progression"
                        })]
                    }), t.jsxs("div", {
                        className: "refer-conversion-stats",
                        children: [t.jsxs("div", {
                            className: "refer-conversion-percentage",
                            children: [h.toFixed(1), "%"]
                        }), t.jsxs("div", {
                            className: "refer-conversion-details",
                            children: [d, " of ", r, " referred users reached level 20+"]
                        })]
                    })]
                })]
            }), t.jsxs("div", {
                className: "refer-conversion-summary",
                children: [t.jsxs("div", {
                    className: "refer-conversion-summary-item",
                    children: [t.jsx("span", {
                        className: "refer-conversion-summary-label",
                        children: "Total Referrals:"
                    }), t.jsx("span", {
                        className: "refer-conversion-summary-value",
                        children: r
                    })]
                }), t.jsxs("div", {
                    className: "refer-conversion-summary-item",
                    children: [t.jsx("span", {
                        className: "refer-conversion-summary-label",
                        children: "Active Users:"
                    }), t.jsx("span", {
                        className: "refer-conversion-summary-value",
                        children: l
                    })]
                }), t.jsxs("div", {
                    className: "refer-conversion-summary-item",
                    children: [t.jsx("span", {
                        className: "refer-conversion-summary-label",
                        children: "Progressed Users:"
                    }), t.jsx("span", {
                        className: "refer-conversion-summary-value",
                        children: d
                    })]
                })]
            })]
        })
    },
    D5 = ({
        isPartner: e,
        partnerType: s,
        playerData: a,
        onClaimBonus: r,
        isViewingAsAdmin: l = !1,
        displayUsername: d,
        shouldShow: u = !1,
        hasMaxConversionBonus: h = !1
    }) => {
        bt();
        const [f, p] = m.useState(!1), [y, x] = m.useState(null);
        if (!u) return null;
        const S = (a == null ? void 0 : a.bonusBalance) || 0,
            v = (a == null ? void 0 : a.bonusWagered) || 0,
            C = (a == null ? void 0 : a.bonusWagerReq) || 0,
            w = (a == null ? void 0 : a.hasInteracted) || !1,
            j = C > 0 ? v / C * 100 : 0,
            A = v >= C,
            _ = S > 0,
            k = _ && A && !w && !f,
            D = async () => {
                if (k) {
                    p(!0);
                    try {
                        r && (await r(), x({
                            type: "success",
                            message: `Successfully claimed ${S.toFixed(3)} SOL bonus!`
                        }))
                    } catch {
                        x({
                            type: "error",
                            message: "Failed to claim bonus. Please try again."
                        })
                    } finally {
                        p(!1)
                    }
                }
            };
        return m.useEffect(() => {
            if (y) {
                const E = setTimeout(() => x(null), 5e3);
                return () => clearTimeout(E)
            }
        }, [y]), !_ && C === 0 ? null : t.jsxs("div", {
            className: "refer-partner-bonus-section",
            children: [y && t.jsxs("div", {
                className: `refer-notification ${y.type}`,
                children: [t.jsxs("div", {
                    className: "refer-notification-content",
                    children: [t.jsx("span", {
                        className: "refer-notification-icon",
                        children: y.type === "success" ? "✓" : "!"
                    }), t.jsx("span", {
                        children: y.message
                    })]
                }), t.jsx("button", {
                    className: "refer-notification-close",
                    onClick: () => x(null),
                    children: "×"
                })]
            }), t.jsxs("div", {
                className: "refer-partner-bonus-header",
                children: [t.jsxs("h3", {
                    className: "refer-partner-bonus-title",
                    children: [t.jsx(ud, {
                        className: "refer-partner-bonus-crown"
                    }), l ? `${d}'s ${e?"Partner ":""}Bonus` : `${e?"Partner ":""}Bonus`]
                }), e && t.jsxs("div", {
                    className: "refer-partner-badge",
                    children: [t.jsx(ud, {
                        className: "refer-partner-badge-icon"
                    }), s === "streamer" ? "Streamer" : "KOL", " Partner"]
                })]
            }), t.jsxs("div", {
                className: "refer-partner-bonus-content",
                children: [t.jsxs("div", {
                    className: "refer-partner-bonus-amount",
                    children: [t.jsx("div", {
                        className: "refer-partner-bonus-label",
                        children: "Pending Bonus Balance"
                    }), t.jsxs("div", {
                        className: "refer-partner-bonus-value",
                        children: [t.jsx("img", {
                            src: "/icons/Icon_Solana_Transparent.png",
                            alt: "SOL",
                            className: "refer-stat-sol-icon"
                        }), S.toFixed(3)]
                    })]
                }), C > 0 && t.jsxs("div", {
                    className: "refer-partner-wagering-section",
                    children: [t.jsxs("div", {
                        className: "refer-partner-wagering-header",
                        children: [t.jsx("div", {
                            className: "refer-partner-wagering-label",
                            children: "Wagering Progress"
                        }), t.jsx("div", {
                            className: "refer-partner-wagering-status",
                            children: A ? t.jsxs("span", {
                                className: "refer-partner-wagering-complete",
                                children: [t.jsx(zf, {}), " Complete"]
                            }) : t.jsxs("span", {
                                className: "refer-partner-wagering-progress",
                                children: [j.toFixed(1), "%"]
                            })
                        })]
                    }), t.jsx("div", {
                        className: "refer-partner-wagering-bar",
                        children: t.jsx("div", {
                            className: "refer-partner-wagering-fill",
                            style: {
                                width: `${Math.min(100,j)}%`
                            }
                        })
                    }), t.jsxs("div", {
                        className: "refer-partner-wagering-details",
                        children: [v.toFixed(3), " / ", C.toFixed(3), " SOL wagered"]
                    })]
                }), t.jsx("div", {
                    className: "refer-partner-bonus-action",
                    children: w && A ? t.jsxs("div", {
                        className: "refer-partner-bonus-warning",
                        children: [t.jsx(Ff, {}), "Please wait until the next round starts to claim bonus"]
                    }) : t.jsx("button", {
                        onClick: D,
                        disabled: !k,
                        className: "refer-partner-claim-button",
                        children: f ? "Claiming..." : _ ? A ? "Claim Bonus" : "Meet Wagering Requirements" : "No Bonus Available"
                    })
                }), t.jsx("div", {
                    className: "refer-partner-bonus-info",
                    children: A ? "Your bonus is ready to claim! This bonus is separate from your referral earnings." : "Complete wagering requirements to unlock your bonus for claiming."
                })]
            })]
        })
    },
    N5 = () => {
        const [e, s] = m.useState(null), a = [{
            question: "How does the referral program work?",
            answer: "Our industry-leading referral program allows you to earn a large percentage of the house edge from players you refer. You always earn regardless of if they win or lose, and you'll earn more the longer they hold their positions in each round. You'll earn 25% from direct referrals (layer 1), 5% from their referrals (layer 2), and 3% from layer 3 referrals. This creates a powerful network effect where your earnings grow exponentially as your referral tree expands."
        }, {
            question: "When are referral earnings paid out?",
            answer: "Referral earnings accumulate in real-time as your referred players place bets. You can claim your unclaimed earnings once a week by clicking the 'Claim Earnings' button. Weekly earnings reset every Sunday at midnight UTC."
        }, {
            question: "How do I maximize my referral earnings?",
            answer: "To maximize your earnings, focus on referring new active players who will place bets regularly. The more your referrals play, the more you earn. Also, encourage your referrals to refer others to build your layer 2 and 3 network - just one player who refers 5 others can effectively double your earnings. Remember, you earn an extra 0.25 SOL for each referral that reaches Level 20 (and they do too via the Referral Crate!) on top of the regular earnings, so aim for quality, high-spending referrals who will engage with the platform."
        }], r = l => {
            s(e === l ? null : l)
        };
        return t.jsxs("div", {
            className: "refer-faq-section",
            children: [t.jsx("h3", {
                className: "refer-faq-title",
                children: "Referral Program FAQ"
            }), t.jsx("div", {
                className: "refer-faq-list",
                children: a.map((l, d) => t.jsxs("div", {
                    className: "refer-faq-item",
                    children: [t.jsxs("div", {
                        className: `refer-faq-question ${e===d?"expanded":""}`,
                        onClick: () => r(d),
                        children: [t.jsx("h4", {
                            className: "refer-faq-question-text",
                            children: l.question
                        }), t.jsx(i2, {
                            className: `refer-faq-arrow ${e===d?"expanded":""}`
                        })]
                    }), t.jsx("div", {
                        className: `refer-faq-answer ${e===d?"expanded":""}`,
                        children: t.jsx("p", {
                            className: "refer-faq-answer-text",
                            children: l.answer
                        })
                    })]
                }, d))
            })]
        })
    },
    _5 = () => t.jsxs("div", {
        className: "refer-layers-section",
        children: [t.jsx("h3", {
            className: "refer-layers-title",
            children: "Referral Layers"
        }), t.jsx("div", {
            className: "refer-layers-image-container",
            children: t.jsx("img", {
                src: "/images/referralTree.jpg",
                alt: "Referral Program Structure",
                className: "refer-layers-image"
            })
        }), t.jsxs("div", {
            className: "refer-layers-info",
            children: [t.jsxs("div", {
                className: "refer-layers-info-item",
                children: [t.jsx("span", {
                    className: "refer-layers-info-icon",
                    children: "⭐"
                }), t.jsxs("span", {
                    children: ["When your referrals reach Level 20, they get a Referral Crate worth", " ", t.jsx("span", {
                        className: "refer-layers-highlight",
                        children: "at least 0.25 SOL"
                    }), "!"]
                })]
            }), t.jsxs("div", {
                className: "refer-layers-info-item",
                children: [t.jsx("span", {
                    className: "refer-layers-info-icon",
                    children: "💰"
                }), t.jsxs("span", {
                    children: ["You also receive", " ", t.jsx("span", {
                        className: "refer-layers-highlight",
                        children: "0.25 SOL for EACH referral"
                    }), " ", "that reaches Level 20!"]
                })]
            })]
        })]
    }),
    P5 = ({
        referralLink: e,
        copied: s,
        onCopyLink: a,
        isPartner: r,
        partnerType: l,
        isViewingAsAdmin: d = !1,
        displayUsername: u
    }) => t.jsxs("div", {
        className: "refer-link-section",
        children: [t.jsxs("div", {
            className: "refer-link-header",
            children: [t.jsx("h3", {
                className: "refer-link-title",
                children: d ? `${u}'s Referral Link` : "Your Referral Link"
            }), r && t.jsxs("div", {
                className: "refer-partner-badge",
                children: [t.jsx(ud, {
                    className: "refer-partner-badge-icon"
                }), `${l==="streamer"?"Streamer":"KOL"} Partner`]
            })]
        }), t.jsxs("div", {
            className: "refer-link-input-container",
            children: [t.jsx("input", {
                type: "text",
                value: e || "Loading your referral link...",
                readOnly: !0,
                className: "refer-link-input"
            }), t.jsxs("button", {
                onClick: a,
                disabled: !e,
                className: "refer-copy-button",
                children: [s ? t.jsx(Cl, {
                    className: "refer-copy-button-icon"
                }) : t.jsx(Cd, {
                    className: "refer-copy-button-icon"
                }), s ? "Copied!" : "Copy"]
            })]
        }), t.jsx("p", {
            className: "refer-link-description",
            children: "Share this link with friends to earn rewards when they play! You'll earn 33% of the house edge on their bets as you fill out your referral tree."
        }), !r && t.jsxs("div", {
            children: [t.jsx("a", {
                href: "https://forms.gle/CRdMpsD4H3Z22UG79",
                target: "_blank",
                rel: "noopener noreferrer",
                className: "refer-partner-program",
                children: t.jsxs("div", {
                    className: "refer-partner-program-text",
                    children: [t.jsx("span", {
                        children: "←"
                    }), t.jsx("span", {
                        children: "Apply for Partner Program"
                    }), t.jsx("span", {
                        children: "↗"
                    })]
                })
            }), t.jsxs("div", {
                className: "refer-partner-benefits",
                children: [t.jsx("div", {
                    className: "refer-partner-benefits-title",
                    children: "Partner Program Benefits:"
                }), t.jsxs("div", {
                    className: "refer-partner-benefits-list",
                    children: [t.jsxs("div", {
                        className: "refer-partner-benefits-item",
                        children: [t.jsx("div", {
                            className: "refer-partner-benefits-bullet"
                        }), t.jsx("span", {
                            children: "Vanity Referral Link"
                        })]
                    }), t.jsxs("div", {
                        className: "refer-partner-benefits-item",
                        children: [t.jsx("div", {
                            className: "refer-partner-benefits-bullet"
                        }), t.jsx("span", {
                            children: "SOL codes to giveaway to your community/followers"
                        })]
                    }), t.jsxs("div", {
                        className: "refer-partner-benefits-item",
                        children: [t.jsx("div", {
                            className: "refer-partner-benefits-bullet"
                        }), t.jsx("span", {
                            children: "Direct access to our team for exclusive, individualized campaigns and deals"
                        })]
                    })]
                })]
            })]
        })]
    }),
    L5 = ({
        referralInfo: e,
        timeRemaining: s
    }) => {
        const a = l => l == null ? "0.000" : l.toFixed(3),
            r = [{
                icon: t.jsx(a0, {}),
                label: "Weekly Earnings",
                value: t.jsxs("div", {
                    style: {
                        display: "flex",
                        alignItems: "center",
                        justifyContent: "center",
                        gap: "4px"
                    },
                    children: [t.jsx("img", {
                        src: "/icons/Icon_Solana_Transparent.png",
                        alt: "SOL",
                        className: "refer-stat-sol-icon"
                    }), a(e.stats.weeklyEarnings)]
                }),
                subtitle: `Claimable in ${s}`
            }, {
                icon: t.jsx(a0, {}),
                label: "All-time Earnings",
                value: t.jsxs("div", {
                    style: {
                        display: "flex",
                        alignItems: "center",
                        justifyContent: "center",
                        gap: "4px"
                    },
                    children: [t.jsx("img", {
                        src: "/icons/Icon_Solana_Transparent.png",
                        alt: "SOL",
                        className: "refer-stat-sol-icon"
                    }), a(e.stats.allTimeEarnings)]
                })
            }, {
                icon: t.jsx(g2, {}),
                label: "Newly-Referred Users Reached ≥ Level 20",
                value: e.stats.referredUsersLevel20Plus
            }, {
                icon: t.jsx(mf, {}),
                label: "Newly-Referred Users with ≥ 1 Bet",
                value: e.stats.referredUsersWithBets
            }, {
                icon: t.jsx(mf, {}),
                label: "Total Referrals",
                value: e.referrals.count
            }, {
                icon: t.jsx(a2, {}),
                label: "Earnings from Level 20 Bonuses",
                value: t.jsxs("div", {
                    style: {
                        display: "flex",
                        alignItems: "center",
                        justifyContent: "center",
                        gap: "4px"
                    },
                    children: [t.jsx("img", {
                        src: "/icons/Icon_Solana_Transparent.png",
                        alt: "SOL",
                        className: "refer-stat-sol-icon"
                    }), a(e.stats.referredUsersLevel20Plus * .25)]
                })
            }];
        return t.jsx("div", {
            className: "refer-stats-grid",
            children: r.map((l, d) => t.jsxs("div", {
                className: "refer-stat-card",
                children: [t.jsx("div", {
                    className: "refer-stat-icon",
                    children: l.icon
                }), t.jsx("div", {
                    className: "refer-stat-label",
                    children: l.label
                }), t.jsx("div", {
                    className: "refer-stat-value",
                    children: l.value
                }), l.subtitle && t.jsx("div", {
                    className: "refer-stat-time",
                    children: l.subtitle
                })]
            }, d))
        })
    },
    M5 = ({
        referralInfo: e,
        timeRemaining: s,
        onClaimEarnings: a
    }) => {
        const [r, l] = m.useState(!1), d = h => h == null ? "0.000" : h.toFixed(3), u = () => {
            e.stats.unclaimedEarnings <= 0 || r || (l(!0), a(), setTimeout(() => {
                l(!1)
            }, 1e3))
        };
        return t.jsxs("div", {
            className: "refer-unclaimed-section",
            children: [t.jsxs("div", {
                className: "refer-unclaimed-info",
                children: [t.jsx("div", {
                    className: "refer-unclaimed-label",
                    children: "Unclaimed Earnings"
                }), t.jsxs("div", {
                    className: "refer-unclaimed-value",
                    children: [t.jsx("img", {
                        src: "/icons/Icon_Solana_Transparent.png",
                        alt: "SOL",
                        className: "refer-stat-sol-icon"
                    }), d(e.stats.unclaimedEarnings)]
                }), r && t.jsx("div", {
                    className: "refer-unclaimed-processing",
                    children: "Processing your claim..."
                }), t.jsxs("div", {
                    className: `refer-unclaimed-time ${r?"with-processing":""}`,
                    children: [t.jsx(jr, {
                        className: "refer-unclaimed-time-icon"
                    }), "Weekly earnings will move here in ", s]
                })]
            }), t.jsx("button", {
                onClick: u,
                disabled: e.stats.unclaimedEarnings <= 0 || r,
                className: "refer-claim-button",
                children: r ? "Claiming..." : "Claim Earnings"
            })]
        })
    },
    B5 = ({
        referralInfo: e,
        isViewingAsAdmin: s = !1,
        displayUsername: a
    }) => !e.referrals || e.referrals.count === 0 ? null : t.jsxs("div", {
        className: "refer-section",
        children: [t.jsx("div", {
            className: "refer-section-header",
            children: t.jsx("h3", {
                className: "refer-section-title",
                children: s && a ? `${a}'s Referred Players (${e.referrals.count})` : `Referred Players (${e.referrals.count})`
            })
        }), e.referrals.players.length === 0 ? t.jsx("div", {
            className: "refer-players-empty",
            children: t.jsx("div", {
                className: "refer-players-empty-text",
                children: "No detailed player information available"
            })
        }) : t.jsx("div", {
            className: "refer-players-list-container",
            children: t.jsx("div", {
                className: "refer-players-table-wrapper",
                children: t.jsxs("table", {
                    className: "refer-players-table",
                    children: [t.jsx("thead", {
                        children: t.jsxs("tr", {
                            children: [t.jsx("th", {
                                className: "refer-players-table-header refer-players-table-header-player",
                                children: "Player"
                            }), t.jsx("th", {
                                className: "refer-players-table-header refer-players-table-header-joined",
                                children: "Joined"
                            })]
                        })
                    }), t.jsx("tbody", {
                        children: e.referrals.players.sort((r, l) => l.level - r.level).map((r, l) => t.jsxs("tr", {
                            className: `refer-players-table-row ${l%2===0?"refer-players-table-row-even":""}`,
                            children: [t.jsx("td", {
                                className: "refer-players-table-cell refer-players-table-cell-player",
                                children: t.jsxs("div", {
                                    className: "refer-players-player-info",
                                    children: [t.jsx("div", {
                                        className: "refer-players-level-badge",
                                        children: t.jsx(ds, {
                                            level: r.level > 0 ? r.level : 1,
                                            size: "small",
                                            showLevel: !0,
                                            badgeOnly: !1
                                        })
                                    }), t.jsx("span", {
                                        className: `refer-players-username ${r.level>=20?"refer-players-username-level20":""}`,
                                        children: r.username || "Anon"
                                    })]
                                })
                            }), t.jsx("td", {
                                className: "refer-players-table-cell refer-players-table-cell-joined",
                                children: new Date(r.joinDate).toLocaleDateString()
                            })]
                        }, r.id))
                    })]
                })
            })
        })]
    }),
    Wy = ({
        userProfile: e,
        currentProfile: s,
        effectiveUsername: a,
        isAdminSearchLoading: r,
        adminSearchError: l,
        onResetToOwnProfile: d,
        onAdminSearch: u
    }) => {
        var se, G, ie, ne;
        const h = nn(),
            f = jn(),
            [p, y] = m.useState(null),
            [x, S] = m.useState(!1),
            [v, C] = m.useState(""),
            [w, j] = m.useState(!1),
            [A, _] = m.useState(null),
            k = (e == null ? void 0 : e.role) === "admin",
            D = (e == null ? void 0 : e.id) !== (s == null ? void 0 : s.id),
            [E, P] = m.useState(null),
            I = s,
            B = D ? (s == null ? void 0 : s.username) || "Anon" : a,
            X = !!((G = (se = E == null ? void 0 : E.player) == null ? void 0 : se.partner) != null && G.type),
            O = ((ne = (ie = E == null ? void 0 : E.player) == null ? void 0 : ie.partner) == null ? void 0 : ne.type) || null,
            L = (I == null ? void 0 : I.bonusMaxConversion) && (typeof I.bonusMaxConversion.amount == "number" && I.bonusMaxConversion.amount !== -1 || typeof I.bonusMaxConversion.percent == "number" && I.bonusMaxConversion.percent !== 100),
            F = X || L,
            Y = I ? {
                bonusBalance: I.bonusBalance || 0,
                bonusWagered: I.bonusWagered || 0,
                bonusWagerReq: I.bonusWagerReq || 0,
                hasInteracted: !1
            } : void 0,
            H = m.useRef({
                isViewingOtherPlayer: !1,
                profileId: void 0
            }),
            K = () => {
                j(!0), D ? h.getReferralInfoForUser({
                    targetPlayerId: (s == null ? void 0 : s.id) || ""
                }, ee => {
                    ee.success ? P(ee) : _(ee.message || "Failed to fetch referral info"), j(!1)
                }) : f.getReferralInfo(ee => {
                    ee.success ? P(ee) : _(ee.message || "Failed to fetch referral info"), j(!1)
                })
            };
        m.useEffect(() => {
            const ee = {
                    isViewingOtherPlayer: D,
                    profileId: s == null ? void 0 : s.id
                },
                me = H.current;
            (me.isViewingOtherPlayer !== ee.isViewingOtherPlayer || me.profileId !== ee.profileId) && (H.current = ee, j(!0), D ? h.getReferralInfoForUser({
                targetPlayerId: (s == null ? void 0 : s.id) || ""
            }, fe => {
                fe.success ? P(fe) : _(fe.message || "Failed to fetch referral info"), j(!1)
            }) : f.getReferralInfo(fe => {
                fe.success ? P(fe) : _(fe.message || "Failed to fetch referral info"), j(!1)
            }))
        }, [D, s == null ? void 0 : s.id, h, f]);
        const z = m.useMemo(() => {
                if (E != null && E.referralCode) {
                    let ee = "https://rugs.fun";
                    return window.location.hostname === "localhost" ? ee = "http://localhost:3000" : window.location.hostname.includes("stage-rugsdotfun-frontend.pages.dev") && (ee = "https://stage-rugsdotfun-frontend.pages.dev"), X && B && B !== "Anon" ? `${ee}/?ref=${B}` : `${ee}/?start=${E.referralCode}`
                }
                return ""
            }, [E == null ? void 0 : E.referralCode, X, B]),
            U = () => {
                const ee = new Date,
                    me = new Date(Date.UTC(ee.getUTCFullYear(), ee.getUTCMonth(), ee.getUTCDate() + (7 - ee.getUTCDay()), 0, 0, 0, 0));
                if (ee.getUTCDay() === 0) {
                    const ge = new Date(Date.UTC(ee.getUTCFullYear(), ee.getUTCMonth(), ee.getUTCDate(), 0, 0, 0, 0));
                    if (ee < ge) return Math.max(0, ge.getTime() - ee.getTime());
                    me.setUTCDate(me.getUTCDate() + 7)
                }
                const fe = me.getTime() - ee.getTime();
                return Math.max(0, fe)
            },
            V = ee => {
                const me = Math.floor(ee / 1e3),
                    fe = Math.floor(me / 86400),
                    ge = Math.floor(me % 86400 / 3600),
                    ke = Math.floor(me % 3600 / 60);
                return `${fe}d ${ge}h ${ke}m`
            };
        m.useEffect(() => {
            const ee = () => {
                const fe = U();
                C(V(fe))
            };
            ee();
            const me = setInterval(ee, 6e4);
            return () => clearInterval(me)
        }, []);
        const W = () => {
                z && navigator.clipboard.writeText(z).then(() => {
                    S(!0), setTimeout(() => S(!1), 2e3)
                })
            },
            q = () => {
                var me;
                if (!((me = E == null ? void 0 : E.stats) != null && me.unclaimedEarnings) || E.stats.unclaimedEarnings <= 0) return;
                const ee = E.stats.unclaimedEarnings;
                y({
                    type: "success",
                    message: `Claiming ${ee.toFixed(3)} SOL...`
                }), f.claimReferralEarnings(fe => {
                    if (fe.success) {
                        y({
                            type: "success",
                            message: `Successfully claimed ${ee.toFixed(3)} SOL!`
                        });
                        const {
                            success: ge,
                            ...ke
                        } = fe;
                        P(ke)
                    } else y({
                        type: "error",
                        message: fe.message || "Failed to claim earnings"
                    });
                    setTimeout(() => y(null), 3e3)
                })
            },
            Z = () => {
                if (!(Y != null && Y.bonusBalance) || Y.bonusBalance <= 0) {
                    y({
                        type: "error",
                        message: "No bonus balance available to claim"
                    });
                    return
                }
                if (!Y || Y.bonusWagered < Y.bonusWagerReq) {
                    y({
                        type: "error",
                        message: "Wagering requirements not yet met"
                    });
                    return
                }
                f.claimPartnerBonus(ee => {
                    ee.success && K()
                }), y({
                    type: "success",
                    message: `Claiming ${Y.bonusBalance.toFixed(3)} SOL partner bonus...`
                }), setTimeout(() => y(null), 5e3)
            };
        return w ? t.jsxs("div", {
            className: "refer-loading",
            children: [t.jsx("div", {
                className: "refer-loading-spinner"
            }), t.jsx("div", {
                children: "Loading referral data..."
            })]
        }) : A ? t.jsxs("div", {
            className: "refer-error",
            children: [t.jsxs("div", {
                className: "refer-error-message",
                children: ["Error: ", A]
            }), t.jsx("button", {
                className: "refer-retry-button",
                onClick: K,
                children: "Retry"
            })]
        }) : E ? t.jsxs("div", {
            className: "refer-tab-container",
            children: [p && t.jsxs("div", {
                className: `refer-notification ${p.type}`,
                children: [t.jsxs("div", {
                    className: "refer-notification-content",
                    children: [t.jsx("span", {
                        className: "refer-notification-icon",
                        children: p.type === "success" ? "✓" : "!"
                    }), t.jsx("span", {
                        children: p.message
                    })]
                }), t.jsx("button", {
                    className: "refer-notification-close",
                    onClick: () => y(null),
                    children: "×"
                })]
            }), k && D && t.jsx("div", {
                className: "refer-admin-viewing-indicator",
                children: t.jsxs("div", {
                    className: "refer-admin-viewing-content",
                    children: [t.jsx("span", {
                        className: "refer-admin-viewing-icon",
                        children: "👨‍💼"
                    }), t.jsxs("span", {
                        children: ["Admin viewing referral data for: ", t.jsx("strong", {
                            children: B
                        })]
                    })]
                })
            }), k && t.jsx(E5, {
                userProfile: e,
                currentProfile: s,
                isAdminSearchLoading: r,
                adminSearchError: l,
                isPartner: X,
                partnerType: O,
                onResetToOwnProfile: d,
                onAdminSearch: u
            }), t.jsx(P5, {
                referralLink: z,
                copied: x,
                onCopyLink: W,
                isPartner: X,
                partnerType: O,
                isViewingAsAdmin: k && D,
                displayUsername: B
            }), t.jsx(D5, {
                isPartner: X,
                partnerType: O,
                playerData: Y,
                onClaimBonus: Z,
                isViewingAsAdmin: !!(k && D),
                displayUsername: B,
                shouldShow: F,
                hasMaxConversionBonus: L
            }), t.jsx(A5, {
                referralInfo: { ...E,
                    referredBy: (E == null ? void 0 : E.referredBy) ? ? null,
                    referrerUsername: (E == null ? void 0 : E.referrerUsername) ? ? null
                },
                isViewingAsAdmin: k && D,
                displayUsername: B
            }), t.jsx(L5, {
                referralInfo: { ...E,
                    stats: (E == null ? void 0 : E.stats) ? ? {
                        weeklyEarnings: 0,
                        allTimeEarnings: 0,
                        unclaimedEarnings: 0,
                        referredUsersLevel20Plus: 0,
                        referredUsersWithBets: 0
                    },
                    referrals: (E == null ? void 0 : E.referrals) ? ? {
                        count: 0,
                        players: []
                    }
                },
                timeRemaining: v
            }), t.jsx(R5, {
                referralInfo: { ...E,
                    stats: (E == null ? void 0 : E.stats) ? ? {
                        weeklyEarnings: 0,
                        allTimeEarnings: 0,
                        unclaimedEarnings: 0,
                        referredUsersLevel20Plus: 0,
                        referredUsersWithBets: 0
                    },
                    referrals: (E == null ? void 0 : E.referrals) ? ? {
                        count: 0,
                        players: []
                    }
                },
                isViewingAsAdmin: !!(k && D),
                displayUsername: B
            }), t.jsx(M5, {
                referralInfo: { ...E,
                    stats: (E == null ? void 0 : E.stats) ? ? {
                        weeklyEarnings: 0,
                        allTimeEarnings: 0,
                        unclaimedEarnings: 0,
                        referredUsersLevel20Plus: 0,
                        referredUsersWithBets: 0
                    }
                },
                timeRemaining: v,
                onClaimEarnings: q
            }), t.jsx(B5, {
                referralInfo: { ...E,
                    referrals: (E == null ? void 0 : E.referrals) ? ? {
                        count: 0,
                        players: []
                    }
                },
                isViewingAsAdmin: !!(k && D),
                displayUsername: B
            }), t.jsx(_5, {}), t.jsx(N5, {})]
        }) : t.jsxs("div", {
            className: "refer-error",
            children: [t.jsx("div", {
                children: "No referral data available. Please try again later."
            }), t.jsx("button", {
                className: "refer-retry-button",
                onClick: K,
                children: "Refresh Data"
            })]
        })
    };

function z5(e) {
    var s, a;
    return !e || ((s = e.username) == null ? void 0 : s.toLowerCase()) === "anonymous" || ((a = e.username) == null ? void 0 : a.toLowerCase()) === "anon" ? null : e.username || null
}
const F5 = ({
    onClose: e,
    activeTab: s,
    setActiveTab: a
}) => {
    const r = bt(),
        l = nn(),
        {
            logout: d
        } = Gi(),
        [u, h] = m.useState(!1),
        [f, p] = m.useState(null),
        [y, x] = m.useState(null),
        S = Se(Ge.selectCurrent),
        v = Se(K => f ? Ge.selectById(K, f) : S),
        [C, w] = m.useState(!1),
        [j, A] = m.useState(0),
        [_, k] = m.useState(85),
        D = m.useRef(null);
    m.useEffect(() => {
        k(85), w(!1)
    }, []);
    const E = K => {
            h(!0), l.adminLookupWallet({
                username: K
            }, z => {
                if (!z.success) {
                    h(!1), x(z.message);
                    return
                }
                l.getPlayerStats(z.playerId ? ? "", () => {
                    h(!1), p(z.playerId ? ? null), x(null)
                })
            })
        },
        P = () => {
            h(!1), p(null)
        },
        I = z5(v),
        B = !!I,
        X = (K, z) => {
            z !== "profile" && !B || a(z)
        },
        O = async () => {
            try {
                await d(), r(Me.setCurrent(null)), e()
            } catch (K) {
                console.error("Logout failed:", K)
            }
        },
        L = K => {
            w(!0);
            const z = "touches" in K ? K.touches[0].clientY : K.clientY;
            A(z)
        },
        F = K => {
            if (!C) return;
            const z = "touches" in K ? K.touches[0].clientY : K.clientY,
                U = j - z,
                V = window.innerHeight,
                q = U * .3 / V * 100;
            let Z = _ + q;
            Z = Math.max(20, Math.min(98, Z)), k(Z)
        },
        Y = () => {
            if (C) {
                if (w(!1), _ < 30) {
                    e();
                    return
                }
                _ > 75 ? k(98) : k(85)
            }
        };
    m.useEffect(() => {
        if (C) {
            const K = W => F(W),
                z = W => {
                    W.preventDefault(), F(W)
                },
                U = () => Y(),
                V = () => Y();
            return document.addEventListener("mousemove", K), document.addEventListener("touchmove", z, {
                passive: !1
            }), document.addEventListener("mouseup", U), document.addEventListener("touchend", V), () => {
                document.removeEventListener("mousemove", K), document.removeEventListener("touchmove", z), document.removeEventListener("mouseup", U), document.removeEventListener("touchend", V)
            }
        }
    }, [C, j, _]);
    const H = () => {
        C || (_ >= 98 ? k(85) : k(98))
    };
    return _r.createPortal(t.jsxs(t.Fragment, {
        children: [t.jsx(T, {
            sx: {
                position: "fixed",
                top: 0,
                left: 0,
                right: 0,
                bottom: 0,
                width: "100vw",
                height: "100vh",
                backgroundColor: "rgba(0, 0, 0, 0.5)",
                backdropFilter: "blur(4px)",
                zIndex: 99999
            },
            onClick: e
        }), t.jsxs(T, {
            ref: D,
            className: `profile-bottom-sheet ${C?"dragging":""}`,
            sx: {
                position: "fixed",
                bottom: 0,
                left: 0,
                right: 0,
                width: "100vw !important",
                maxWidth: "100vw !important",
                minWidth: "100vw",
                borderTop: "1px solid var(--color-border)",
                borderTopLeftRadius: _ >= 98 ? "0px" : "20px",
                borderTopRightRadius: _ >= 98 ? "0px" : "20px",
                paddingBottom: "env(safe-area-inset-bottom)",
                paddingTop: _ >= 98 ? "env(safe-area-inset-top)" : "0px",
                backgroundColor: "var(--color-background)",
                zIndex: 1e5,
                maxHeight: `${_}vh`,
                height: `${_}vh`,
                boxShadow: "0 -4px 20px rgba(0, 0, 0, 0.3)",
                overflow: "hidden",
                display: "flex",
                flexDirection: "column",
                margin: 0,
                transform: "translateZ(0)",
                transition: C ? "none" : "height 0.3s ease-out, max-height 0.3s ease-out, border-radius 0.3s ease-out, padding-top 0.3s ease-out"
            },
            children: [t.jsx(T, {
                onMouseDown: L,
                onTouchStart: L,
                onClick: H,
                sx: {
                    display: "flex",
                    justifyContent: "center",
                    alignItems: "center",
                    padding: "8px 0 4px 0",
                    cursor: "grab",
                    "&:active": {
                        cursor: "grabbing"
                    }
                },
                children: t.jsx(T, {
                    sx: {
                        width: "32px",
                        height: "4px",
                        backgroundColor: _ >= 98 ? "var(--color-primary)" : "var(--color-muted-foreground)",
                        borderRadius: "2px",
                        transition: "background-color 0.2s ease"
                    }
                })
            }), t.jsxs(jf, {
                value: s,
                children: [t.jsxs(T, {
                    sx: {
                        display: "flex",
                        justifyContent: "space-between",
                        alignItems: "center",
                        borderBottom: "1px solid var(--color-border)",
                        padding: "0 16px",
                        minHeight: "48px"
                    },
                    children: [t.jsxs(M0, {
                        onChange: X,
                        sx: {
                            minHeight: "48px",
                            "& .MuiTabs-indicator": {
                                backgroundColor: "var(--color-primary)"
                            },
                            "& .MuiTab-root": {
                                color: "var(--color-muted-foreground)",
                                minHeight: "48px",
                                padding: "8px 12px",
                                fontSize: "14px",
                                fontWeight: 600,
                                textTransform: "uppercase",
                                "&.Mui-selected": {
                                    color: "var(--color-foreground)"
                                },
                                "&.Mui-disabled": {
                                    color: "var(--color-muted-foreground)",
                                    opacity: .5
                                }
                            }
                        },
                        children: [t.jsx(Ts, {
                            label: "Profile",
                            value: "profile"
                        }), t.jsx(Ts, {
                            label: "Refer",
                            value: "refer",
                            disabled: !B
                        }), t.jsx(Ts, {
                            label: "Socials",
                            value: "connect",
                            disabled: !B
                        }), t.jsx(Ts, {
                            label: "Inbox",
                            value: "inbox",
                            disabled: !B
                        })]
                    }), t.jsx(T, {
                        sx: {
                            display: "flex",
                            alignItems: "center",
                            gap: 1
                        }
                    })]
                }), t.jsxs(T, {
                    sx: {
                        flex: 1,
                        overflow: "hidden",
                        display: "flex",
                        flexDirection: "column",
                        backgroundImage: "url(/backgrounds/profile.png)",
                        backgroundSize: "cover",
                        backgroundPosition: "top center",
                        backgroundRepeat: "no-repeat"
                    },
                    children: [t.jsx(vs, {
                        value: "loading",
                        sx: {
                            padding: "16px",
                            flex: 1,
                            overflow: "auto",
                            height: "100%"
                        },
                        children: t.jsx(by, {})
                    }), t.jsx(vs, {
                        value: "profile",
                        sx: {
                            padding: "16px",
                            flex: 1,
                            overflow: "auto",
                            height: "100%"
                        },
                        children: t.jsx(Oy, {
                            userProfile: S,
                            currentProfile: v,
                            effectiveUsername: I,
                            onUsernameSet: e,
                            isAdmin: (S == null ? void 0 : S.role) === "admin",
                            onAdminSearch: E,
                            onResetToOwnProfile: P,
                            isAdminSearchLoading: u,
                            adminSearchError: y,
                            onLogout: O
                        })
                    }), t.jsx(vs, {
                        value: "refer",
                        sx: {
                            padding: "16px",
                            flex: 1,
                            overflow: "auto",
                            height: "100%"
                        },
                        children: t.jsx(Wy, {
                            userProfile: S,
                            currentProfile: v,
                            effectiveUsername: I,
                            isAdminSearchLoading: u,
                            adminSearchError: y,
                            onResetToOwnProfile: P,
                            onAdminSearch: E
                        })
                    }), t.jsx(vs, {
                        value: "connect",
                        sx: {
                            padding: "16px",
                            flex: 1,
                            overflow: "auto",
                            height: "100%"
                        },
                        children: t.jsx(vy, {
                            userProfile: S,
                            currentProfile: v,
                            effectiveUsername: I,
                            isAdminSearchLoading: u,
                            adminSearchError: y,
                            onResetToOwnProfile: P,
                            onAdminSearch: E
                        })
                    }), t.jsx(vs, {
                        value: "inbox",
                        sx: {
                            padding: "16px",
                            flex: 1,
                            overflow: "auto",
                            height: "100%"
                        },
                        children: t.jsx(Sy, {
                            userProfile: S,
                            currentProfile: v,
                            effectiveUsername: I,
                            isAdminSearchLoading: u,
                            adminSearchError: y,
                            onResetToOwnProfile: P,
                            onAdminSearch: E
                        })
                    })]
                })]
            })]
        })]
    }), document.body)
};

function I5(e) {
    return e != null && e.username && e.username.toLowerCase() !== "anon" && e.username.toLowerCase() !== "anonymous" ? e.username : null
}

function Uy({
    open: e,
    onClose: s,
    activeTab: a,
    setActiveTab: r
}) {
    const l = bt(),
        d = nn(),
        {
            logout: u
        } = Gi(),
        [h, f] = m.useState(!1),
        p = Se(Ge.selectInboxUnreadCount),
        [y, x] = m.useState(null),
        [S, v] = m.useState(null),
        C = Se(Ge.selectCurrent),
        w = Se(P => y ? Ge.selectById(P, y) : C),
        j = P => {
            f(!0), d.adminLookupWallet({
                username: P
            }, I => {
                if (!I.success) {
                    f(!1), v(I.message);
                    return
                }
                d.getPlayerStats(I.playerId ? ? "", () => {
                    f(!1), x(I.playerId ? ? null), v(null)
                })
            })
        },
        A = () => {
            f(!1), x(null)
        },
        _ = I5(w),
        k = !!_,
        D = (P, I) => {
            I !== "profile" && !k || r(I)
        },
        E = async () => {
            try {
                await u(), l(Me.setCurrent(null)), s()
            } catch (P) {
                console.error("Logout failed:", P)
            }
        };
    return t.jsx(t.Fragment, {
        children: t.jsx(Da, {
            open: e,
            onClose: s,
            maxWidth: "md",
            fullWidth: !0,
            sx: {
                "& .MuiDialog-paper": {
                    height: "90vh",
                    maxHeight: "90vh"
                }
            },
            children: t.jsx(jf, {
                value: a,
                children: t.jsxs(Na, {
                    dividers: !1,
                    sx: {
                        padding: {
                            xs: "8px 12px",
                            sm: "20px 24px"
                        },
                        height: "calc(90vh - 0px)",
                        maxHeight: "calc(90vh - 0px)",
                        overflow: "hidden",
                        display: "flex",
                        flexDirection: "column",
                        "&.MuiDialogContent-root": {
                            padding: {
                                xs: "8px 12px",
                                sm: "20px 24px"
                            },
                            backgroundImage: "url(/backgrounds/profile.png)",
                            backgroundSize: "cover",
                            backgroundPosition: "top center",
                            backgroundRepeat: "no-repeat"
                        }
                    },
                    children: [t.jsxs(T, {
                        className: "profile-modal-header-container",
                        children: [t.jsxs(T, {
                            className: "profile-header-buttons",
                            children: [t.jsx(Rt, {
                                "aria-label": "logout",
                                onClick: E,
                                sx: P => ({
                                    display: "none",
                                    [P.breakpoints.up(769)]: {
                                        display: "flex"
                                    },
                                    width: {
                                        xs: "28px",
                                        sm: "36px"
                                    },
                                    height: {
                                        xs: "28px",
                                        sm: "36px"
                                    },
                                    backgroundColor: P.palette.basic.main,
                                    color: "var(--color-error)",
                                    cursor: "pointer",
                                    transition: "color 0.2s ease",
                                    "&:hover": {
                                        color: "var(--color-error-hover, #dc3545)"
                                    }
                                }),
                                children: t.jsx(gf, {})
                            }), t.jsx(Rt, {
                                "aria-label": "close",
                                onClick: s,
                                sx: P => ({
                                    width: {
                                        xs: "28px",
                                        sm: "36px"
                                    },
                                    height: {
                                        xs: "28px",
                                        sm: "36px"
                                    },
                                    backgroundColor: P.palette.basic.main,
                                    color: P.palette.basic.contrastText
                                }),
                                children: "x"
                            })]
                        }), t.jsxs(M0, {
                            onChange: D,
                            sx: {
                                "& .MuiTab-root": {
                                    padding: {
                                        xs: "5px",
                                        sm: "16px 20px"
                                    },
                                    fontSize: {
                                        xs: "14px",
                                        sm: "16px"
                                    },
                                    minWidth: {
                                        xs: "auto",
                                        sm: "auto"
                                    },
                                    minHeight: {
                                        xs: "auto",
                                        sm: "48px"
                                    }
                                }
                            },
                            children: [t.jsx(Ts, {
                                label: "Profile",
                                value: "profile"
                            }), t.jsx(Ts, {
                                label: "Refer",
                                value: "refer",
                                disabled: !k
                            }), t.jsx(Ts, {
                                label: "Socials",
                                value: "connect",
                                disabled: !k
                            }), t.jsx(Ts, {
                                label: t.jsxs(T, {
                                    display: "flex",
                                    alignItems: "center",
                                    gap: 1,
                                    children: ["Inbox", p > 0 && t.jsx(Qn, {
                                        label: p,
                                        color: "error",
                                        size: "small"
                                    })]
                                }),
                                value: "inbox",
                                disabled: !k
                            })]
                        })]
                    }), t.jsxs(T, {
                        sx: {
                            flex: 1,
                            overflow: "hidden",
                            display: "flex",
                            flexDirection: "column"
                        },
                        children: [t.jsx(vs, {
                            value: "loading",
                            sx: {
                                padding: {
                                    xs: "8px 0",
                                    sm: "24px"
                                },
                                flex: 1,
                                overflow: "auto",
                                height: "100%"
                            },
                            children: t.jsx(by, {})
                        }), t.jsx(vs, {
                            value: "profile",
                            sx: {
                                padding: {
                                    xs: "8px 0",
                                    sm: "24px"
                                },
                                flex: 1,
                                overflow: "auto",
                                height: "100%"
                            },
                            children: t.jsx(Oy, {
                                userProfile: C,
                                currentProfile: w,
                                effectiveUsername: _,
                                onUsernameSet: s,
                                isAdmin: (C == null ? void 0 : C.role) === "admin",
                                onAdminSearch: j,
                                onResetToOwnProfile: A,
                                isAdminSearchLoading: h,
                                adminSearchError: S,
                                onLogout: E
                            })
                        }), t.jsx(vs, {
                            value: "refer",
                            sx: {
                                padding: {
                                    xs: "8px 0",
                                    sm: "24px"
                                },
                                flex: 1,
                                overflow: "auto",
                                height: "100%"
                            },
                            children: t.jsx(Wy, {
                                userProfile: C,
                                currentProfile: w,
                                effectiveUsername: _,
                                isAdminSearchLoading: h,
                                adminSearchError: S,
                                onResetToOwnProfile: A,
                                onAdminSearch: j
                            })
                        }), t.jsx(vs, {
                            value: "connect",
                            sx: {
                                padding: {
                                    xs: "8px 0",
                                    sm: "24px"
                                },
                                flex: 1,
                                overflow: "auto",
                                height: "100%"
                            },
                            children: t.jsx(vy, {
                                userProfile: C,
                                currentProfile: w,
                                effectiveUsername: _,
                                isAdminSearchLoading: h,
                                adminSearchError: S,
                                onResetToOwnProfile: A,
                                onAdminSearch: j
                            })
                        }), t.jsx(vs, {
                            value: "inbox",
                            sx: {
                                padding: {
                                    xs: "8px 0",
                                    sm: "24px"
                                },
                                flex: 1,
                                overflow: "auto",
                                height: "100%"
                            },
                            children: t.jsx(Sy, {
                                userProfile: C,
                                currentProfile: w,
                                effectiveUsername: _,
                                isAdminSearchLoading: h,
                                adminSearchError: S,
                                onResetToOwnProfile: A,
                                onAdminSearch: j
                            })
                        })]
                    })]
                })
            })
        })
    })
}

function O5(e, s, a, r) {
    const l = a !== void 0 ? a : e,
        d = r !== void 0 ? r : s;
    return l ? d ? d.username ? ? "Set Username" : "Loading..." : "Connect"
}

function yf({
    isLoggedIn: e,
    userProfile: s,
    onOpenProfileModal: a
} = {}) {
    const r = Se(Ge.selectCurrent),
        l = Se(Ge.selectInboxUnreadCount),
        {
            authenticated: d,
            ready: u,
            login: h
        } = Gi(),
        [f, p] = m.useState(!1),
        y = e !== void 0 ? e : d && u,
        x = () => {
            if (u) {
                if (!y) {
                    h();
                    return
                }
                a ? a() : p(!0)
            }
        },
        S = () => {
            p(!1)
        },
        v = O5(d, r, e, s),
        C = !u || v === "Loading...";
    return t.jsxs(t.Fragment, {
        children: [t.jsx(dv, {
            badgeContent: l,
            color: "error",
            overlap: "circular",
            sx: {
                "& .MuiBadge-badge": {
                    top: "4px",
                    right: "4px",
                    minWidth: "18px",
                    height: "18px",
                    fontSize: "10px",
                    fontWeight: "bold"
                }
            },
            children: t.jsx(Te, {
                onClick: x,
                disabled: C,
                className: "profile-connect-button",
                variant: "text",
                size: "medium",
                color: "inherit",
                sx: {
                    color: "var(--color-foreground)",
                    fontSize: "14px",
                    fontWeight: 500,
                    textTransform: "none",
                    padding: "8px 16px",
                    minWidth: "120px",
                    "&:hover": {
                        backgroundColor: "rgba(255, 255, 255, 0.1)"
                    }
                },
                children: v
            })
        }), !a && t.jsx(Uy, {
            open: f,
            onClose: S,
            activeTab: "profile",
            setActiveTab: () => {}
        })]
    })
}
const sl = ({
        text: e,
        label: s,
        isCopied: a,
        copy: r
    }) => e ? t.jsxs(T, {
        className: "pf-text-field-container",
        sx: {
            display: "flex",
            alignItems: "center",
            gap: 1,
            backgroundColor: "background.default",
            border: "1px solid",
            borderColor: "divider",
            borderRadius: 1,
            p: 1,
            m: "0 auto"
        },
        children: [t.jsx($, {
            variant: "body2",
            className: "pf-text-value",
            sx: {
                flex: 1
            },
            title: e,
            children: e
        }), t.jsx(Rt, {
            size: "small",
            className: `pf-copy-button ${a?"copied":""}`,
            onClick: () => r(e, s),
            title: `Copy ${s}`,
            sx: {
                color: a ? "success.main" : "text.secondary"
            },
            children: a ? t.jsx(Cl, {
                size: 12
            }) : t.jsx(Cd, {
                size: 12
            })
        })]
    }) : t.jsx($, {
        variant: "body2",
        sx: {
            color: "text.secondary",
            fontStyle: "italic"
        },
        children: "Not available"
    }),
    Hy = () => {
        var u;
        const [e, s] = m.useState(null), {
            history: a,
            current: r
        } = Se(h => ({
            history: us.selectHistory(h),
            current: us.selectCurrent(h)
        })), l = r == null ? void 0 : r.cooldown;
        m.useEffect(() => {
            if (e) {
                const h = setTimeout(() => {
                    s(null)
                }, 2e3);
                return () => clearTimeout(h)
            }
        }, [e]);
        const d = (h, f) => {
            navigator.clipboard.writeText(h).then(() => {
                s(f)
            }, p => {
                console.error("Failed to copy text: ", p)
            })
        };
        return t.jsxs(T, {
            className: "provably-fair-container",
            children: [t.jsx(Je, {
                className: "pf-explanation pf-section",
                sx: {
                    p: 2,
                    mb: 2
                },
                children: t.jsx($, {
                    variant: "body1",
                    className: "pf-paragraph",
                    children: "Rugs.fun uses a provably fair system to ensure the game results cannot be manipulated. This means you can verify that the game outcomes are truly random and not influenced by the server after the game starts. You can use a third party website to verify the integrity of our systems."
                })
            }), t.jsxs(Je, {
                className: "pf-how-it-works pf-section",
                sx: {
                    p: 2,
                    mb: 2
                },
                children: [t.jsx($, {
                    variant: "h5",
                    className: "dynapuff pf-section-heading",
                    sx: {
                        mb: 2,
                        fontWeight: "bold",
                        color: "primary.main"
                    },
                    children: "How It Works"
                }), t.jsxs(wx, {
                    className: "pf-list",
                    sx: {
                        pl: 2
                    },
                    children: [t.jsx(ha, {
                        className: "pf-list-item",
                        sx: {
                            display: "list-item",
                            pl: 0
                        },
                        children: t.jsx($, {
                            variant: "body2",
                            children: "Before each game, the server generates a random server seed."
                        })
                    }), t.jsx(ha, {
                        className: "pf-list-item",
                        sx: {
                            display: "list-item",
                            pl: 0
                        },
                        children: t.jsx($, {
                            variant: "body2",
                            children: "The server calculates a hash of this seed and publishes it before the game starts."
                        })
                    }), t.jsx(ha, {
                        className: "pf-list-item",
                        sx: {
                            display: "list-item",
                            pl: 0
                        },
                        children: t.jsx($, {
                            variant: "body2",
                            children: "The game outcome is determined by combining this seed with the game ID."
                        })
                    }), t.jsx(ha, {
                        className: "pf-list-item",
                        sx: {
                            display: "list-item",
                            pl: 0
                        },
                        children: t.jsx($, {
                            variant: "body2",
                            children: "After the game ends, the server reveals the original seed."
                        })
                    }), t.jsxs(ha, {
                        className: "pf-list-item",
                        sx: {
                            display: "list-item",
                            pl: 0
                        },
                        children: [t.jsx($, {
                            variant: "body2",
                            children: "You can verify the game was fair by confirming that:"
                        }), t.jsxs(wx, {
                            className: "pf-sub-list",
                            sx: {
                                pl: 2
                            },
                            children: [t.jsx(ha, {
                                className: "pf-list-item",
                                sx: {
                                    display: "list-item",
                                    pl: 0
                                },
                                children: t.jsx($, {
                                    variant: "body2",
                                    children: "The hash of the revealed seed matches the pre-published hash."
                                })
                            }), t.jsx(ha, {
                                className: "pf-list-item",
                                sx: {
                                    display: "list-item",
                                    pl: 0
                                },
                                children: t.jsx($, {
                                    variant: "body2",
                                    children: "Running the verification algorithm with the seed produces the same peak multiplier."
                                })
                            })]
                        })]
                    })]
                })]
            }), t.jsxs(Je, {
                className: "pf-current-game pf-card",
                sx: {
                    p: 2,
                    mb: 2
                },
                children: [t.jsx($, {
                    variant: "h5",
                    className: "dynapuff pf-card-heading",
                    sx: {
                        mb: 2,
                        fontWeight: "bold",
                        color: "primary.main"
                    },
                    children: "Current Game"
                }), r != null && r.id ? t.jsxs(T, {
                    children: [t.jsxs(T, {
                        className: "pf-info-row",
                        sx: {
                            mb: 2
                        },
                        children: [t.jsx($, {
                            variant: "body2",
                            className: "pf-label",
                            sx: {
                                fontWeight: "bold",
                                mb: 1
                            },
                            children: "Game Status:"
                        }), t.jsx($, {
                            variant: "body2",
                            className: "pf-text-value",
                            children: r.rugged || r.endedAt ? "Ended" : r.active ? "Active" : r.allowPreRoundBuys ? "Pre-Round" : "Starting Soon"
                        })]
                    }), t.jsxs(T, {
                        className: "pf-info-row",
                        sx: {
                            mb: 2
                        },
                        children: [t.jsx($, {
                            variant: "body2",
                            className: "pf-label",
                            sx: {
                                fontWeight: "bold",
                                mb: 1
                            },
                            children: "Game ID:"
                        }), t.jsx(sl, {
                            copy: d,
                            isCopied: e === "Game ID",
                            text: r == null ? void 0 : r.id,
                            label: "Game ID"
                        })]
                    }), t.jsxs(T, {
                        className: "pf-info-row",
                        sx: {
                            mb: 2
                        },
                        children: [t.jsx($, {
                            variant: "body2",
                            className: "pf-label",
                            sx: {
                                fontWeight: "bold",
                                mb: 1
                            },
                            children: "Server Seed Hash:"
                        }), t.jsx(sl, {
                            copy: d,
                            isCopied: e === "Server Seed Hash",
                            text: (r == null ? void 0 : r.serverSeedHash) || ((u = r == null ? void 0 : r.provablyFair) == null ? void 0 : u.serverSeedHash) || "No server seed hash",
                            label: "Server Seed Hash"
                        })]
                    }), (l == null ? void 0 : l.timeLeft) != null && l.timeLeft > 0 && Math.ceil(l.timeLeft / 1e3) > 0 && t.jsxs(T, {
                        className: "pf-info-row",
                        sx: {
                            mb: 2
                        },
                        children: [t.jsx($, {
                            variant: "body2",
                            className: "pf-label",
                            sx: {
                                fontWeight: "bold",
                                mb: 1
                            },
                            children: "Countdown:"
                        }), t.jsxs($, {
                            variant: "body2",
                            className: "pf-text-value",
                            children: [Math.ceil(l.timeLeft / 1e3), "s"]
                        })]
                    }), r.rugged || r.endedAt ? t.jsx(it, {
                        severity: "success",
                        sx: {
                            mt: 2
                        },
                        children: "Game has ended. Server seed will be revealed shortly."
                    }) : t.jsx(it, {
                        severity: "info",
                        sx: {
                            mt: 2
                        },
                        children: "The server seed will be revealed after the game ends."
                    })]
                }) : t.jsx($, {
                    variant: "body1",
                    sx: {
                        textAlign: "center",
                        color: "text.secondary"
                    },
                    children: "No active game. Start a game to see provably fair data."
                })]
            }), t.jsxs(Je, {
                className: "pf-recent-games pf-card",
                sx: {
                    p: 2,
                    mb: 2
                },
                children: [t.jsx($, {
                    variant: "h5",
                    className: "dynapuff pf-card-heading",
                    sx: {
                        mb: 2,
                        fontWeight: "bold",
                        color: "primary.main"
                    },
                    children: "Recent Games"
                }), a && a.length > 0 ? t.jsx(T, {
                    className: "pf-history-list",
                    children: a.slice().sort((h, f) => (f.endedAt || 0) - (h.endedAt || 0)).map((h, f) => {
                        var p, y;
                        return t.jsxs(Je, {
                            className: "pf-game-item",
                            sx: {
                                p: 2,
                                mb: 2,
                                backgroundColor: "background.default"
                            },
                            children: [t.jsx($, {
                                variant: "body2",
                                className: "pf-label",
                                sx: {
                                    fontWeight: "bold",
                                    mb: 1
                                },
                                children: "Game ID:"
                            }), t.jsxs(T, {
                                className: "pf-game-id-row",
                                sx: {
                                    display: "flex",
                                    alignItems: "center",
                                    gap: 2,
                                    mb: 2
                                },
                                children: [t.jsx(T, {
                                    sx: {
                                        flex: 1
                                    },
                                    children: t.jsx(sl, {
                                        copy: d,
                                        isCopied: `Game ID ${f}` === e,
                                        text: h.id,
                                        label: `Game ID ${f}`
                                    })
                                }), t.jsx(T, {
                                    className: "pf-multiplier-badge",
                                    sx: {
                                        backgroundColor: "black",
                                        color: Al(h.peakMultiplier || 1),
                                        px: 1,
                                        py: .5,
                                        borderRadius: 1,
                                        fontWeight: Rl(h.peakMultiplier || 1),
                                        flexShrink: 0
                                    },
                                    children: t.jsx($, {
                                        variant: "body2",
                                        children: gd(h.peakMultiplier || 1)
                                    })
                                })]
                            }), (p = h.provablyFair) != null && p.serverSeed && ((y = h.provablyFair) != null && y.serverSeedHash) ? t.jsxs(T, {
                                children: [t.jsx($, {
                                    variant: "body2",
                                    className: "pf-label",
                                    sx: {
                                        fontWeight: "bold",
                                        mb: 1
                                    },
                                    children: "Server Seed:"
                                }), t.jsx(T, {
                                    sx: {
                                        mb: 2
                                    },
                                    children: t.jsx(sl, {
                                        copy: d,
                                        isCopied: `Server Seed ${f}` === e,
                                        text: h.provablyFair.serverSeed,
                                        label: `Server Seed ${f}`
                                    })
                                }), t.jsx($, {
                                    variant: "body2",
                                    className: "pf-label",
                                    sx: {
                                        fontWeight: "bold",
                                        mb: 1
                                    },
                                    children: "Server Seed Hash:"
                                }), t.jsx(T, {
                                    sx: {
                                        mb: 2
                                    },
                                    children: t.jsx(sl, {
                                        copy: d,
                                        isCopied: `Server Seed Hash ${f}` === e,
                                        text: h.provablyFair.serverSeedHash,
                                        label: `Server Seed Hash ${f}`
                                    })
                                }), t.jsx(T, {
                                    className: "pf-verify-button-container",
                                    sx: {
                                        textAlign: "center",
                                        mt: 2
                                    },
                                    children: t.jsx(Te, {
                                        variant: "contained",
                                        color: "primary",
                                        onClick: () => window.open(`https://rugsdotfun.w3spaces.com/rugsdotfun-verify.html?server_seed=${h.provablyFair.serverSeed}&game_id=${h.id}&hash=${h.provablyFair.serverSeedHash}&verify=true`, "_blank"),
                                        className: "pf-button",
                                        children: "Verify This Game"
                                    })
                                })]
                            }) : t.jsx($, {
                                variant: "body2",
                                sx: {
                                    color: "text.secondary",
                                    fontStyle: "italic"
                                },
                                children: "Provably fair data not available for this game."
                            })]
                        }, f)
                    })
                }) : t.jsx($, {
                    variant: "body1",
                    sx: {
                        textAlign: "center",
                        color: "text.secondary"
                    },
                    children: "No recent games to display."
                })]
            }), t.jsxs(Je, {
                className: "pf-verification-link pf-verification-section",
                sx: {
                    p: 2
                },
                children: [t.jsx($, {
                    variant: "h5",
                    className: "dynapuff pf-section-heading",
                    sx: {
                        mb: 2,
                        fontWeight: "bold",
                        color: "primary.main"
                    },
                    children: "Additional Verification"
                }), t.jsx($, {
                    variant: "body1",
                    className: "pf-verification-text",
                    sx: {
                        mb: 2
                    },
                    children: "You can also independently verify any game using our own verification tool."
                }), t.jsx(Te, {
                    variant: "outlined",
                    color: "primary",
                    href: "/verify.html",
                    target: "_blank",
                    rel: "noopener noreferrer",
                    className: "pf-link-button",
                    startIcon: t.jsx(l2, {}),
                    children: "Open Verification Tool"
                })]
            })]
        })
    },
    il = ({
        text: e,
        label: s,
        isCopied: a,
        copy: r
    }) => e ? t.jsxs(T, {
        className: "pf-text-field-container",
        sx: {
            display: "flex",
            alignItems: "center",
            gap: 1,
            backgroundColor: "background.default",
            border: "1px solid",
            borderColor: "divider",
            borderRadius: 1,
            p: 1,
            m: "0 auto"
        },
        children: [t.jsx($, {
            variant: "body2",
            className: "pf-text-value",
            sx: {
                flex: 1
            },
            title: e,
            children: e
        }), t.jsx(Rt, {
            size: "small",
            className: `pf-copy-button ${a?"copied":""}`,
            onClick: () => r(e, s),
            title: `Copy ${s}`,
            sx: {
                color: a ? "success.main" : "text.secondary"
            },
            children: a ? t.jsx(Cl, {
                size: 12
            }) : t.jsx(Cd, {
                size: 12
            })
        })]
    }) : t.jsx($, {
        variant: "body2",
        sx: {
            color: "text.secondary",
            fontStyle: "italic"
        },
        children: "Not available"
    }),
    $y = ({
        onClose: e
    }) => {
        var D;
        const [s, a] = m.useState(null), [r, l] = m.useState(!1), [d, u] = m.useState(!1), [h, f] = m.useState(0), [p, y] = m.useState(85), x = m.useRef(null), {
            history: S,
            current: v
        } = Se(E => ({
            history: us.selectHistory(E),
            current: us.selectCurrent(E)
        })), C = v == null ? void 0 : v.cooldown;
        m.useEffect(() => {
            y(85), u(!1), l(!1)
        }, []), m.useEffect(() => {
            if (s) {
                const E = setTimeout(() => {
                    a(null)
                }, 2e3);
                return () => clearTimeout(E)
            }
        }, [s]);
        const w = (E, P) => {
                navigator.clipboard.writeText(E).then(() => {
                    a(P)
                }, I => {
                    console.error("Failed to copy text: ", I)
                })
            },
            j = E => {
                u(!0);
                const P = "touches" in E ? E.touches[0].clientY : E.clientY;
                f(P)
            },
            A = E => {
                if (!d) return;
                const P = "touches" in E ? E.touches[0].clientY : E.clientY,
                    I = h - P,
                    B = window.innerHeight,
                    O = I * .3 / B * 100;
                let L = p + O;
                L = Math.max(20, Math.min(98, L)), y(L)
            },
            _ = () => {
                if (d) {
                    if (u(!1), p < 30) {
                        e();
                        return
                    }
                    p > 75 ? (l(!0), y(98)) : (l(!1), y(85))
                }
            };
        m.useEffect(() => {
            if (d) {
                const E = X => A(X),
                    P = X => {
                        X.preventDefault(), A(X)
                    },
                    I = () => _(),
                    B = () => _();
                return document.addEventListener("mousemove", E), document.addEventListener("touchmove", P, {
                    passive: !1
                }), document.addEventListener("mouseup", I), document.addEventListener("touchend", B), () => {
                    document.removeEventListener("mousemove", E), document.removeEventListener("touchmove", P), document.removeEventListener("mouseup", I), document.removeEventListener("touchend", B)
                }
            }
        }, [d, h, p]);
        const k = () => {
            d || (p >= 98 ? (l(!1), y(85)) : (l(!0), y(98)))
        };
        return _r.createPortal(t.jsxs(t.Fragment, {
            children: [t.jsx(T, {
                sx: {
                    position: "fixed",
                    top: 0,
                    left: 0,
                    right: 0,
                    bottom: 0,
                    width: "100vw",
                    height: "100vh",
                    backgroundColor: "rgba(0, 0, 0, 0.5)",
                    backdropFilter: "blur(4px)",
                    zIndex: 99999
                },
                onClick: e
            }), t.jsxs(T, {
                ref: x,
                className: "provably-fair-bottom-sheet",
                sx: {
                    position: "fixed",
                    bottom: 0,
                    left: 0,
                    right: 0,
                    width: "100vw !important",
                    maxWidth: "100vw !important",
                    minWidth: "100vw",
                    borderTop: "1px solid var(--color-border)",
                    borderTopLeftRadius: p >= 98 ? "0px" : "20px",
                    borderTopRightRadius: p >= 98 ? "0px" : "20px",
                    paddingBottom: "env(safe-area-inset-bottom)",
                    paddingTop: p >= 98 ? "env(safe-area-inset-top)" : "0px",
                    backgroundColor: "var(--color-background)",
                    zIndex: 1e5,
                    maxHeight: `${p}vh`,
                    height: `${p}vh`,
                    boxShadow: "0 -4px 20px rgba(0, 0, 0, 0.3)",
                    overflow: "hidden",
                    display: "flex",
                    flexDirection: "column",
                    margin: 0,
                    transform: "translateZ(0)",
                    transition: d ? "none" : "height 0.3s ease-out, max-height 0.3s ease-out, border-radius 0.3s ease-out, padding-top 0.3s ease-out"
                },
                children: [t.jsxs(T, {
                    sx: {
                        cursor: "grab",
                        "&:active": {
                            cursor: "grabbing"
                        },
                        userSelect: "none",
                        touchAction: "none"
                    },
                    onMouseDown: j,
                    onTouchStart: j,
                    onClick: k,
                    children: [t.jsx(T, {
                        sx: {
                            display: "flex",
                            justifyContent: "center",
                            padding: "12px 0 8px 0"
                        },
                        children: t.jsx(T, {
                            sx: {
                                width: "40px",
                                height: "4px",
                                backgroundColor: r ? "var(--color-primary)" : "var(--color-muted-foreground)",
                                borderRadius: "2px",
                                transition: "background-color 0.2s ease"
                            }
                        })
                    }), t.jsx(T, {
                        sx: {
                            display: "flex",
                            justifyContent: "center",
                            alignItems: "center",
                            padding: "16px 20px",
                            borderBottom: "1px solid #333"
                        },
                        children: t.jsx($, {
                            variant: "h6",
                            sx: {
                                color: "#FFFFFF",
                                fontFamily: "'DynaPuff', sans-serif",
                                fontWeight: "bold",
                                fontSize: "1.25rem",
                                textAlign: "center"
                            },
                            children: "Provably Fair System"
                        })
                    })]
                }), t.jsx(T, {
                    sx: {
                        flex: 1,
                        overflow: "auto",
                        padding: "20px",
                        color: "#FFFFFF"
                    },
                    children: t.jsxs(T, {
                        className: "provably-fair-container",
                        children: [t.jsx(Je, {
                            className: "pf-explanation pf-section",
                            sx: {
                                p: 2,
                                mb: 2
                            },
                            children: t.jsx($, {
                                variant: "body1",
                                className: "pf-paragraph",
                                children: "Rugs.fun uses a provably fair system to ensure the game results cannot be manipulated. This means you can verify that the game outcomes are truly random and not influenced by the server after the game starts. You can use a third party website to verify the integrity of our systems."
                            })
                        }), t.jsxs(Je, {
                            className: "pf-how-it-works pf-section",
                            sx: {
                                p: 2,
                                mb: 2
                            },
                            children: [t.jsx($, {
                                variant: "h6",
                                className: "pf-section-heading",
                                children: "How It Works"
                            }), t.jsx($, {
                                variant: "body1",
                                className: "pf-paragraph",
                                children: "Before each game, our server generates a random seed and creates a hash of it. The hash is shown to you before the game starts, but the actual seed remains hidden. After the game ends, the server reveals the original seed. You can verify that the hash matches the seed, proving that the result was predetermined and not changed after the game began."
                            })]
                        }), t.jsxs(Je, {
                            className: "pf-current-game pf-card",
                            sx: {
                                p: 2,
                                mb: 2
                            },
                            children: [t.jsx($, {
                                variant: "h6",
                                className: "pf-section-heading",
                                sx: {
                                    mb: 2,
                                    fontWeight: "bold",
                                    color: "#FFD700"
                                },
                                children: "Current Game"
                            }), v != null && v.id ? t.jsxs(T, {
                                children: [t.jsxs(T, {
                                    className: "pf-info-row",
                                    sx: {
                                        mb: 2
                                    },
                                    children: [t.jsx($, {
                                        variant: "body2",
                                        className: "pf-label",
                                        sx: {
                                            fontWeight: "bold",
                                            mb: 1
                                        },
                                        children: "Game Status:"
                                    }), t.jsx($, {
                                        variant: "body2",
                                        className: "pf-text-value",
                                        children: v.rugged || v.endedAt ? "Ended" : v.active ? "Active" : v.allowPreRoundBuys ? "Pre-Round" : "Starting Soon"
                                    })]
                                }), t.jsxs(T, {
                                    className: "pf-info-row",
                                    sx: {
                                        mb: 2
                                    },
                                    children: [t.jsx($, {
                                        variant: "body2",
                                        className: "pf-label",
                                        sx: {
                                            fontWeight: "bold",
                                            mb: 1
                                        },
                                        children: "Game ID:"
                                    }), t.jsx(il, {
                                        copy: w,
                                        isCopied: s === "Game ID",
                                        text: v == null ? void 0 : v.id,
                                        label: "Game ID"
                                    })]
                                }), t.jsxs(T, {
                                    className: "pf-info-row",
                                    sx: {
                                        mb: 2
                                    },
                                    children: [t.jsx($, {
                                        variant: "body2",
                                        className: "pf-label",
                                        sx: {
                                            fontWeight: "bold",
                                            mb: 1
                                        },
                                        children: "Server Seed Hash:"
                                    }), t.jsx(il, {
                                        copy: w,
                                        isCopied: s === "Server Seed Hash",
                                        text: (v == null ? void 0 : v.serverSeedHash) || ((D = v == null ? void 0 : v.provablyFair) == null ? void 0 : D.serverSeedHash) || "No server seed hash",
                                        label: "Server Seed Hash"
                                    })]
                                }), (C == null ? void 0 : C.timeLeft) != null && C.timeLeft > 0 && Math.ceil(C.timeLeft / 1e3) > 0 && t.jsxs(T, {
                                    className: "pf-info-row",
                                    sx: {
                                        mb: 2
                                    },
                                    children: [t.jsx($, {
                                        variant: "body2",
                                        className: "pf-label",
                                        sx: {
                                            fontWeight: "bold",
                                            mb: 1
                                        },
                                        children: "Countdown:"
                                    }), t.jsxs($, {
                                        variant: "body2",
                                        className: "pf-text-value",
                                        children: [Math.ceil(C.timeLeft / 1e3), "s"]
                                    })]
                                }), v.rugged || v.endedAt ? t.jsx(it, {
                                    severity: "success",
                                    sx: {
                                        mt: 2
                                    },
                                    children: "Game has ended. Server seed will be revealed shortly."
                                }) : t.jsx(it, {
                                    severity: "info",
                                    sx: {
                                        mt: 2
                                    },
                                    children: "The server seed will be revealed after the game ends."
                                })]
                            }) : t.jsx($, {
                                variant: "body2",
                                sx: {
                                    color: "text.secondary",
                                    fontStyle: "italic"
                                },
                                children: "No current game available."
                            })]
                        }), t.jsxs(Je, {
                            className: "pf-recent-games pf-section",
                            sx: {
                                p: 2,
                                mb: 2
                            },
                            children: [t.jsx($, {
                                variant: "h6",
                                className: "pf-section-heading",
                                sx: {
                                    color: "#FFD700",
                                    fontWeight: "bold"
                                },
                                children: "Recent Games"
                            }), S && S.length > 0 ? t.jsx(T, {
                                children: S.slice(0, 5).map((E, P) => {
                                    var I, B;
                                    return t.jsxs(Je, {
                                        className: "pf-game-item",
                                        sx: {
                                            p: 2,
                                            mb: 2
                                        },
                                        children: [t.jsx($, {
                                            variant: "body2",
                                            className: "pf-label",
                                            sx: {
                                                fontWeight: "bold",
                                                mb: 1
                                            },
                                            children: "Game ID:"
                                        }), t.jsxs(T, {
                                            className: "pf-game-id-row",
                                            sx: {
                                                display: "flex",
                                                alignItems: "center",
                                                gap: 2,
                                                mb: 2
                                            },
                                            children: [t.jsx(T, {
                                                sx: {
                                                    flex: 1
                                                },
                                                children: t.jsx(il, {
                                                    copy: w,
                                                    isCopied: `Game ID ${P}` === s,
                                                    text: E.id,
                                                    label: `Game ID ${P}`
                                                })
                                            }), t.jsx(T, {
                                                className: "pf-multiplier-badge",
                                                sx: {
                                                    backgroundColor: "black",
                                                    color: Al(E.peakMultiplier || 1),
                                                    px: 1,
                                                    py: .5,
                                                    borderRadius: 1,
                                                    fontWeight: Rl(E.peakMultiplier || 1),
                                                    flexShrink: 0
                                                },
                                                children: t.jsx($, {
                                                    variant: "body2",
                                                    children: gd(E.peakMultiplier || 1)
                                                })
                                            })]
                                        }), (I = E.provablyFair) != null && I.serverSeed && ((B = E.provablyFair) != null && B.serverSeedHash) ? t.jsxs(T, {
                                            children: [t.jsx($, {
                                                variant: "body2",
                                                className: "pf-label",
                                                sx: {
                                                    fontWeight: "bold",
                                                    mb: 1
                                                },
                                                children: "Server Seed:"
                                            }), t.jsx(T, {
                                                sx: {
                                                    mb: 2
                                                },
                                                children: t.jsx(il, {
                                                    copy: w,
                                                    isCopied: `Server Seed ${P}` === s,
                                                    text: E.provablyFair.serverSeed,
                                                    label: `Server Seed ${P}`
                                                })
                                            }), t.jsx($, {
                                                variant: "body2",
                                                className: "pf-label",
                                                sx: {
                                                    fontWeight: "bold",
                                                    mb: 1
                                                },
                                                children: "Server Seed Hash:"
                                            }), t.jsx(T, {
                                                sx: {
                                                    mb: 2
                                                },
                                                children: t.jsx(il, {
                                                    copy: w,
                                                    isCopied: `Server Seed Hash ${P}` === s,
                                                    text: E.provablyFair.serverSeedHash,
                                                    label: `Server Seed Hash ${P}`
                                                })
                                            }), t.jsx(T, {
                                                className: "pf-verify-button-container",
                                                sx: {
                                                    textAlign: "center",
                                                    mt: 2
                                                },
                                                children: t.jsx(Te, {
                                                    variant: "contained",
                                                    color: "primary",
                                                    onClick: () => window.open(`https://rugsdotfun.w3spaces.com/rugsdotfun-verify.html?server_seed=${E.provablyFair.serverSeed}&game_id=${E.id}&hash=${E.provablyFair.serverSeedHash}&verify=true`, "_blank"),
                                                    className: "pf-button",
                                                    children: "Verify This Game"
                                                })
                                            })]
                                        }) : t.jsx($, {
                                            variant: "body2",
                                            sx: {
                                                color: "text.secondary",
                                                fontStyle: "italic"
                                            },
                                            children: "Provably fair data not available for this game."
                                        })]
                                    }, E.id)
                                })
                            }) : t.jsx($, {
                                variant: "body1",
                                sx: {
                                    textAlign: "center",
                                    color: "text.secondary"
                                },
                                children: "No recent games to display."
                            })]
                        }), t.jsxs(Je, {
                            className: "pf-verification-link pf-verification-section",
                            sx: {
                                p: 2
                            },
                            children: [t.jsx($, {
                                variant: "h5",
                                className: "dynapuff pf-section-heading",
                                sx: {
                                    mb: 2,
                                    fontWeight: "bold",
                                    color: "primary.main"
                                },
                                children: "Additional Verification"
                            }), t.jsx($, {
                                variant: "body1",
                                className: "pf-verification-text",
                                sx: {
                                    mb: 2
                                },
                                children: "You can also verify our provably fair system using external tools. Visit our verification page to test the integrity of our games."
                            }), t.jsx(T, {
                                sx: {
                                    textAlign: "center"
                                },
                                children: t.jsx(Te, {
                                    variant: "outlined",
                                    color: "primary",
                                    onClick: () => window.open("https://rugsdotfun.w3spaces.com/rugsdotfun-verify.html", "_blank"),
                                    className: "pf-link-button",
                                    children: "Visit Verification Page"
                                })
                            })]
                        })]
                    })
                })]
            })]
        }), document.body)
    },
    W5 = () => {
        const e = Df(),
            s = _a(),
            a = e.pathname === "/",
            r = e.pathname.startsWith("/battle"),
            l = Se(yt.selectBattleEventState),
            [d, u] = m.useState(Date.now()),
            [h, f] = m.useState(!1);
        m.useEffect(() => {
            const j = setInterval(() => {
                    u(Date.now())
                }, 1e3),
                A = setInterval(() => {
                    f(_ => !_)
                }, 2e3);
            return () => {
                clearInterval(j), clearInterval(A)
            }
        }, []);
        const p = j => {
                const A = d,
                    k = new Date(j).getTime() - A;
                if (k <= 0) return "0s";
                const D = Math.floor(k / (1e3 * 60 * 60 * 24)),
                    E = Math.floor(k % (1e3 * 60 * 60 * 24) / (1e3 * 60 * 60)),
                    P = Math.floor(k % (1e3 * 60 * 60) / (1e3 * 60)),
                    I = Math.floor(k % (1e3 * 60) / 1e3);
                return D > 0 ? `${D}d ${E}h` : E > 0 ? `${E}h ${P}m` : P > 0 ? `${P}m ${I}s` : `${I}s`
            },
            y = () => {
                if (r) return {
                    text: "Battles",
                    color: "#FFFFFF",
                    animate: !1,
                    pulse: !1
                };
                if (!l) return {
                    text: "Battles",
                    color: "#FFFFFF",
                    animate: !1,
                    pulse: !1
                };
                const {
                    status: j
                } = l;
                switch (j) {
                    case "SCHEDULED":
                        if (l.startTime) {
                            const A = d;
                            if (new Date(l.startTime).getTime() - A <= 48 * 60 * 60 * 1e3) return {
                                text: h ? `in ${p(l.startTime)}` : "Battles",
                                color: "#FBB90F",
                                animate: !0,
                                pulse: !1
                            }
                        }
                        return {
                            text: "Battles",
                            color: "#FFFFFF",
                            animate: !1,
                            pulse: !1
                        };
                    case "PREP":
                        return {
                            text: h && l.startTime ? `in ${p(l.startTime)}` : "Battles",
                            color: "#FF9800",
                            animate: !0,
                            pulse: !0
                        };
                    case "ACTIVE":
                        return {
                            text: h && l.endTime ? `${p(l.endTime)}` : "Battles",
                            color: "#00E676",
                            animate: !0,
                            pulse: !0
                        };
                    case "ENDING":
                        return {
                            text: "Battles",
                            color: "#FF5722",
                            animate: !1,
                            pulse: !1
                        };
                    default:
                        return {
                            text: "Battles",
                            color: "#FFFFFF",
                            animate: !1,
                            pulse: !1
                        }
                }
            },
            x = () => {
                s("/")
            },
            S = () => {
                s("/battle")
            },
            v = "Battles",
            C = y(),
            w = C.animate;
        return t.jsxs(t.Fragment, {
            children: [t.jsx("style", {
                children: `
          @keyframes battlesPulse {
            0%, 100% {
              transform: scale(1);
            }
            50% {
              transform: scale(1.015);
            }
          }
        `
            }), t.jsxs(T, {
                className: "game-mode-nav",
                sx: {
                    display: "flex",
                    gap: 1,
                    alignItems: "center"
                },
                children: [t.jsxs(Te, {
                    className: `game-mode-button ${a?"active":""}`,
                    onClick: x,
                    "aria-label": "Switch to Standard Game",
                    variant: a ? "contained" : "outlined",
                    sx: j => ({
                        display: "flex",
                        alignItems: "center",
                        gap: .5,
                        textTransform: "none",
                        fontWeight: "medium",
                        ...a && {
                            backgroundColor: j.palette.primary.main,
                            color: j.palette.primary.contrastText
                        }
                    }),
                    children: [t.jsx($, {
                        component: "span",
                        sx: {
                            fontSize: "1rem"
                        },
                        children: "🔥"
                    }), "Standard"]
                }), t.jsxs(Te, {
                    className: `game-mode-button ${r?"active":""}`,
                    onClick: S,
                    "aria-label": "Switch to Battle Mode",
                    variant: r ? "contained" : "outlined",
                    sx: j => ({
                        display: "flex",
                        alignItems: "center",
                        gap: .5,
                        textTransform: "none",
                        fontWeight: "medium",
                        transition: "color 0.3s ease-in-out, border-color 0.3s ease-in-out, box-shadow 0.3s ease-in-out",
                        transformOrigin: "center",
                        backgroundColor: r ? j.palette.primary.main : "transparent",
                        ...C.pulse && {
                            animation: "battlesPulse 2s ease-in-out infinite"
                        },
                        ...r && {
                            color: j.palette.primary.contrastText
                        },
                        ...!r && C.color !== "#FFFFFF" && {
                            color: C.color,
                            borderColor: C.color,
                            boxShadow: `0 0 0 2px ${C.color}20, 0 0 8px ${C.color}60`
                        }
                    }),
                    children: [t.jsx($, {
                        component: "span",
                        sx: {
                            fontSize: "1rem"
                        },
                        children: "⚔️"
                    }), w ? t.jsx($, {
                        component: "span",
                        sx: {
                            fontSize: "inherit",
                            fontWeight: "inherit",
                            fontFamily: "inherit",
                            display: "inline-block",
                            width: h ? "80px" : "60px",
                            textAlign: "center",
                            transition: "opacity 0.3s ease-in-out"
                        },
                        children: h ? C.text : v
                    }) : t.jsx($, {
                        component: "span",
                        sx: {
                            fontSize: "inherit",
                            fontWeight: "inherit",
                            fontFamily: "inherit",
                            display: "inline-block",
                            width: "60px",
                            textAlign: "center"
                        },
                        children: C.text
                    })]
                })]
            })]
        })
    };

function U5() {
    return t.jsx("div", {
        className: "withdraw-limit-notice",
        children: t.jsx("p", {
            children: "While we are in beta, max withdrawal is 25 SOL/day. This limit will be raised very soon."
        })
    })
}

function Gy({
    onClose: e
}) {
    const s = bt(),
        {
            authenticated: a,
            getAccessToken: r
        } = Gi(),
        l = Se(G0.selectAll),
        d = Se(Ge.selectCurrent),
        u = Se(X0.selectWithdrawal),
        h = m.useRef(null),
        f = m.useRef(!1),
        p = Nr(),
        y = Fs(p.breakpoints.down("md")),
        x = l.find(W => W.id === "sol") ? ? l[0],
        [S, v] = m.useState(x),
        [C, w] = m.useState("0.00"),
        [j, A] = m.useState(null),
        [_, k] = m.useState(!1),
        D = (d == null ? void 0 : d.cash) || 0,
        {
            wallets: E,
            ready: P
        } = B0(),
        {
            connectWallet: I
        } = z0({
            onSuccess: W => {
                console.log("Wallet connected for withdrawal:", W.wallet.address), f.current = !1
            },
            onError: W => {
                console.error("Failed to connect wallet for withdrawal:", W), A("Failed to connect wallet. Please try again."), f.current = !1
            }
        });
    m.useEffect(() => {
        function W(q) {
            h.current && !h.current.contains(q.target) && !f.current && e()
        }
        return document.addEventListener("mousedown", W), () => document.removeEventListener("mousedown", W)
    }, [e]), m.useEffect(() => {
        function W(q) {
            q.key === "Escape" && e()
        }
        return document.addEventListener("keydown", W), () => document.removeEventListener("keydown", W)
    }, [e]);
    const B = l.find(W => W.id === "sol"),
        X = l.filter(W => W.id !== "sol"),
        O = X.slice(0, 4),
        L = X.slice(4, 8),
        F = m.useCallback(W => {
            v(W), w("0.00")
        }, []),
        Y = W => !S || !W ? !1 : S.id === W.id,
        H = () => S && S.id === "free",
        K = m.useCallback(() => S ? S.id === "free" ? 500 : S.id === "sol" ? D : 0 : 0, [S, D]),
        z = () => K(),
        U = () => {
            const q = (parseFloat(C) || 0) + .1,
                Z = z();
            q <= Z && w(q.toFixed(2))
        },
        V = m.useCallback(async () => {
            if (!S || !C || parseFloat(C) <= 0) return;
            if (!P) {
                A("Please try again in a moment");
                return
            }
            if (!P) {
                A("Please try again in a moment");
                return
            }
            if (!E || E.length === 0) try {
                f.current = !0, await I({
                    walletChainType: "solana-only"
                });
                return
            } catch (me) {
                console.error("Failed to connect wallet:", me), A("Please connect a Solana wallet to withdraw funds"), f.current = !1;
                return
            }
            if (u !== null) return;
            const W = parseFloat(C);
            if (W < .001) {
                A("Minimum withdrawal amount is 0.001");
                return
            }
            const q = K();
            if (W > q) {
                A(`Insufficient balance. Available: ${q.toFixed(3)} ${S.shortName}`);
                return
            }
            if (S.id === "sol" && W === q) {
                A("Please withdraw slightly less to account for processing fees");
                return
            }
            const Z = E[0].address,
                se = S.id === "sol" ? "So11111111111111111111111111111111111111112" : S.tokenAddress;
            if (console.log("Processing withdrawal:", {
                    tokenAddress: se,
                    amount: W,
                    destinationWallet: Z,
                    coin: S.shortName
                }), !a) {
                A("Please connect a Solana wallet to withdraw funds");
                return
            }
            const G = await r();
            if (!G) {
                A("Please connect a Solana wallet to withdraw funds");
                return
            }
            s(Ui.startWithdrawal({
                amount: W,
                destinationWallet: Z,
                coin: S.shortName,
                timestamp: Date.now()
            }));
            const ie = "https://backend.rugs.fun/api";
            console.log("tokenAddress", se), console.log("withdrawAmount", W), console.log("destinationWallet", Z);
            const ne = {
                tokenAddress: se,
                amount: W,
                destinationWallet: Z
            };
            console.log("withdrawalData", ne), k(!0);
            const ee = await sf.post(`${ie}/withdrawals`, ne, {
                headers: {
                    Authorization: `Bearer ${G}`,
                    "Content-Type": "application/json"
                }
            }).then(me => me.data).catch(me => ({
                success: !1,
                message: me.response.data.error
            }));
            if (k(!1), console.log("response", ee), !ee.success) {
                A(ee.message ? ? "Withdrawal failed"), s(Ui.errorWithdrawal());
                return
            }
            s(Ui.successWithdrawal({
                amount: W,
                destinationWallet: Z,
                timestamp: Date.now()
            }))
        }, [S, C, P, E, u, a, r, s, A]);
    return t.jsxs(t.Fragment, {
        children: [y && t.jsx(T, {
            sx: {
                position: "fixed",
                top: 0,
                left: 0,
                right: 0,
                bottom: 0,
                backgroundColor: "rgba(0, 0, 0, 0.5)",
                zIndex: 999
            },
            onClick: e
        }), t.jsxs(T, {
            ref: h,
            className: `dw-dropdown withdraw ${y?"mobile":""}`,
            sx: {
                position: y ? "fixed" : "absolute",
                top: y ? "60px" : "100%",
                right: y ? "auto" : 0,
                left: y ? "50%" : "auto",
                transform: y ? "translateX(-50%)" : "none",
                marginTop: y ? 0 : "4px",
                width: y ? "90vw" : "300px",
                maxWidth: y ? "400px" : "none",
                maxHeight: y ? "calc(90vh - 60px)" : "80vh",
                backgroundColor: W => W.palette.background.paper,
                borderRadius: "8px",
                boxShadow: "0 4px 20px rgba(0, 0, 0, 0.5)",
                border: "1px solid #2A2A2A",
                zIndex: y ? 1e3 : 100,
                color: W => W.palette.text.primary,
                overflow: "hidden",
                display: "flex",
                flexDirection: "column"
            },
            children: [t.jsxs(T, {
                className: "dw-dropdown-header",
                sx: {
                    display: "flex",
                    justifyContent: "space-between",
                    alignItems: "center",
                    padding: "16px",
                    borderBottom: "1px solid #2A2A2A",
                    flexShrink: 0
                },
                children: [t.jsx($, {
                    variant: "h6",
                    component: "h2",
                    sx: {
                        margin: 0,
                        fontSize: "18px",
                        fontWeight: "bold"
                    },
                    children: "Withdraw"
                }), t.jsx(Rt, {
                    onClick: e,
                    size: "small",
                    className: "dw-dropdown-close",
                    children: t.jsx(Lr, {})
                })]
            }), t.jsxs(T, {
                className: "dw-dropdown-content",
                sx: {
                    padding: "12px 16px",
                    overflowY: "auto",
                    flex: 1
                },
                children: [t.jsxs(T, {
                    sx: {
                        mb: 2
                    },
                    children: [t.jsx($, {
                        variant: "body2",
                        sx: {
                            mb: 1,
                            fontWeight: "medium"
                        },
                        children: "Tokens"
                    }), t.jsxs(T, {
                        sx: {
                            display: "flex",
                            flexWrap: "wrap",
                            gap: 1,
                            mb: 2
                        },
                        children: [B && t.jsx(Ar, {
                            coin: B,
                            isSelected: Y(B),
                            onClick: F
                        }), O.map(W => t.jsx(Ar, {
                            coin: W,
                            isSelected: Y(W),
                            onClick: F
                        }, W.id)), L.map(W => t.jsx(Ar, {
                            coin: W,
                            isSelected: Y(W),
                            onClick: F
                        }, W.id))]
                    })]
                }), H() ? t.jsx(it, {
                    severity: "info",
                    sx: {
                        mb: 2
                    },
                    children: "FREE is not a real token, it is just for practicing!"
                }) : t.jsxs(T, {
                    children: [t.jsx(uy, {
                        amount: C,
                        onAmountChange: w,
                        selectedCoin: S,
                        balance: K(),
                        maxAmount: z(),
                        onIncrementClick: U
                    }), t.jsx(T, {
                        sx: {
                            my: 2
                        },
                        children: t.jsx(fy, {})
                    }), j && t.jsx(it, {
                        severity: "error",
                        sx: {
                            mb: 2
                        },
                        children: j
                    }), (u == null ? void 0 : u.txnStatus) === "completed" && t.jsxs(it, {
                        severity: "success",
                        sx: {
                            mb: 2
                        },
                        children: ["✅ Withdrawal successful! Amount: ", u.amount, " ", S == null ? void 0 : S.shortName]
                    }), (u == null ? void 0 : u.txnStatus) === "processing" && t.jsxs(it, {
                        severity: "info",
                        sx: {
                            mb: 2,
                            display: "flex",
                            alignItems: "center",
                            gap: 1
                        },
                        children: [t.jsx(ws, {
                            size: 16
                        }), "Processing withdrawal..."]
                    }), t.jsx(dy, {
                        actionText: "WITHDRAW NOW",
                        onClick: V,
                        isLoading: _,
                        disabled: !S || !C || parseFloat(C) <= 0 || u !== null
                    }), t.jsx(T, {
                        sx: {
                            mt: 2
                        },
                        children: t.jsx(U5, {})
                    }), ((d == null ? void 0 : d.bonusBalance) || 0) > 0 ? t.jsx(hy, {}) : t.jsx(py, {})]
                }), t.jsx(T, {
                    sx: {
                        mt: 2
                    },
                    children: t.jsx(gy, {})
                })]
            })]
        })]
    })
}

function H5({}) {
    const [e, s] = m.useState(!1), a = m.useCallback(() => {
        s(!0)
    }, []), r = m.useCallback(() => {
        s(!1)
    }, []);
    return t.jsxs(T, {
        className: "dw-button-container",
        sx: {
            position: "relative"
        },
        children: [t.jsx(Te, {
            onClick: a,
            variant: "contained",
            color: "basic",
            children: "WITHDRAW"
        }), e && t.jsx(Gy, {
            onClose: r
        })]
    })
}

function $5() {
    const {
        authenticated: e,
        ready: s
    } = Gi(), a = Df(), r = _a(), [l, d] = kv(), u = bt(), h = Pa(), f = jn(), p = ey(), y = Se(Ge.selectCurrent), x = e && s, S = (y == null ? void 0 : y.role) === "admin", {
        registerDropdown: v,
        unregisterDropdown: C
    } = kl();
    m.useEffect(() => {
        x && (y != null && y.id) && (console.log("[HeaderNav] User authenticated, checking admin status for:", y.id), f.getAdmins())
    }, [x, y == null ? void 0 : y.id, u]), m.useEffect(() => {
        console.log("[HeaderNav] Initializing global battle event status..."), h.getBattleEventState()
    }, [u]), m.useEffect(() => {
        console.log("[HeaderNav] Initializing Golden Hour status..."), p.getGoldenHourState()
    }, [u]), m.useEffect(() => {
        if (a.pathname === "/discord-callback") {
            const G = l.get("code");
            G && (l.delete("code"), d(l), f.connectDiscord({
                code: G
            })), r("/"), z(!0), V("connect")
        }
    }, [a]);
    const [w, j] = m.useState(!1), [A, _] = m.useState(!1), [k, D] = m.useState(!1), [E, P] = m.useState(!1), [I, B] = m.useState(!1), [X, O] = m.useState(!1), [L, F] = m.useState(!1), [Y, H] = m.useState(!1), [K, z] = m.useState(!1), [U, V] = m.useState("profile"), [W, q] = m.useState(!1);
    m.useEffect(() => {
        w ? v("mobile-menu") : C("mobile-menu")
    }, [w, v, C]), m.useEffect(() => {
        E ? v("deposit-dropdown") : C("deposit-dropdown")
    }, [E, v, C]), m.useEffect(() => {
        I ? v("withdraw-dropdown") : C("withdraw-dropdown")
    }, [I, v, C]), m.useEffect(() => {
        k ? v("crate-modal") : C("crate-modal")
    }, [k, v, C]), m.useEffect(() => {
        const G = () => {
            q(window.innerWidth <= 768)
        };
        return G(), window.addEventListener("resize", G), () => window.removeEventListener("resize", G)
    }, []), m.useEffect(() => {
        try {
            W ? w ? (wn.setHideOnMobile(!1), wn.chat.show(), setTimeout(() => {
                try {
                    wn.setHideOnMobile(!1), wn.chat.show()
                } catch {}
            }, 250)) : wn.chat.hide() : (wn.setHideOnMobile(!1), wn.chat.show())
        } catch {}
    }, [w, W]), m.useEffect(() => {
        K ? v("profile-modal") : C("profile-modal")
    }, [K, v, C]);
    const Z = () => {
            j(!w), _(!A), w || D(!1)
        },
        se = G => {
            console.log("Open popup:", G)
        };
    return t.jsxs(t.Fragment, {
        children: [A && t.jsx(T, {
            sx: {
                position: "fixed",
                top: 0,
                left: 0,
                right: 0,
                bottom: 0,
                backgroundColor: "rgba(0, 0, 0, 0.5)",
                backdropFilter: "blur(4px)",
                zIndex: 999,
                opacity: w ? 1 : 0,
                transition: "opacity 0.3s cubic-bezier(0.4, 0, 0.2, 1)",
                pointerEvents: w ? "auto" : "none"
            },
            onClick: () => {
                j(!1), _(!1)
            }
        }), t.jsxs(yy, {
            classes: "app-header",
            children: [t.jsxs("div", {
                className: "header-container desktop-header",
                children: [t.jsx("div", {
                    className: "header-section-left",
                    children: t.jsx(G5, {})
                }), t.jsxs("div", {
                    className: "header-section-main",
                    children: [x && t.jsxs(t.Fragment, {
                        children: [t.jsx("div", {
                            className: "header-section-main-left",
                            children: t.jsx(W5, {})
                        }), t.jsx("div", {
                            className: "header-section-main-center",
                            children: t.jsx(d0, {
                                isMobile: !1,
                                cycleDuration: 4e3
                            })
                        })]
                    }), t.jsxs("div", {
                        className: "header-section-main-right",
                        children: [x && S && t.jsx(Vw, {}), x && t.jsxs(t.Fragment, {
                            children: [t.jsx(s2, {}), t.jsx(H5, {}), t.jsx(q2, {})]
                        }), t.jsx(yf, {
                            isLoggedIn: x,
                            userProfile: y,
                            onOpenProfileModal: () => z(!0)
                        })]
                    })]
                })]
            }), t.jsxs("div", {
                className: "header-container mobile-header",
                children: [t.jsx("div", {
                    className: "mobile-header-section mobile-header-left",
                    children: t.jsx(Y5, {})
                }), t.jsx("div", {
                    className: "mobile-header-section mobile-header-center",
                    children: x ? t.jsx(t.Fragment, {
                        children: t.jsx(d0, {
                            isMobile: !0,
                            cycleDuration: 4e3
                        })
                    }) : t.jsx(yf, {
                        isLoggedIn: x,
                        userProfile: y,
                        onOpenProfileModal: () => z(!0)
                    })
                }), t.jsx("div", {
                    className: "mobile-header-section mobile-header-right",
                    children: t.jsx(q5, {
                        onClick: Z
                    })
                })]
            }), t.jsx(ny, {
                open: k,
                onClose: () => D(!1),
                isMobile: W
            }), E && t.jsx(my, {
                onClose: () => P(!1)
            }), I && t.jsx(Gy, {
                onClose: () => B(!1)
            }), X && (W ? t.jsx($y, {
                onClose: () => O(!1)
            }) : t.jsx(Dr, {
                setOpen: O,
                title: "Provably Fair System",
                children: t.jsx(Hy, {})
            })), L && (W ? t.jsx(xy, {
                onClose: () => F(!1)
            }) : t.jsx(Dr, {
                setOpen: F,
                title: "Frequently Asked Questions",
                children: t.jsx(X5, {})
            })), Y && t.jsx(ty, {
                open: Y,
                onClose: () => H(!1)
            }), K && (W ? t.jsx(F5, {
                onClose: () => z(!1),
                activeTab: U,
                setActiveTab: V
            }) : t.jsx(Uy, {
                open: K,
                onClose: () => z(!1),
                activeTab: U,
                setActiveTab: V
            }))]
        }), t.jsx(Q5, {
            isOpen: w,
            onClose: () => {
                j(!1), _(!1)
            },
            isAdmin: S,
            onOpenPopup: se,
            userProfile: y,
            isLoggedIn: x,
            onOpenCrateModal: () => D(!0),
            onOpenDepositModal: () => P(!0),
            onOpenWithdrawModal: () => B(!0),
            onOpenFairnessModal: () => O(!0),
            onOpenFAQModal: () => F(!0),
            onOpenAdminModal: () => H(!0),
            onOpenProfileModal: () => z(!0),
            socketBattlesActions: h
        })]
    })
}

function G5() {
    return t.jsx("picture", {
        style: {
            height: "100%",
            display: "flex",
            alignItems: "center"
        },
        children: t.jsx("img", {
            src: "/rugsfun_combination_mark_beta.png",
            alt: "rugs.fun wide logo",
            style: {
                maxHeight: "100%",
                height: "34.56px",
                width: "auto"
            }
        })
    })
}

function Y5() {
    return t.jsx("picture", {
        children: t.jsx("img", {
            src: "/rugsfun_mark_beta.png",
            alt: "Rugs.fun",
            className: "header-logo mobile-logo"
        })
    })
}
const V5 = Ln(Rt)({
    padding: "8px",
    color: "#FFFFFF",
    "&:hover": {
        backgroundColor: "rgba(255, 255, 255, 0.1)"
    }
});

function q5({
    onClick: e
}) {
    return t.jsx(V5, {
        onClick: e,
        "aria-label": "Open menu",
        children: t.jsx(Pw, {
            size: 24
        })
    })
}
const X5 = () => {
    const e = [{
        question: "How does the game work?",
        answer: `rugs.fun is similar to the popular game "Crash", except you can buy and sell any amount at any time. Just don't get rugged! Hold positions for longer periods to earn industry-leading rakebacks via crates. Charts are randomized with a provably fair system and cannot be influenced by buys or sells.`
    }, {
        question: "How does Bonus SOL work?",
        answer: "Earn Bonus SOL by entering a code at the bottom of the deposit page. Bonus SOL codes have wager requirements attached to them. Earn progress towards the requirement by placing Valid Bets. Once you hit the wager requirement, your ENTIRE remaining bonus balance converts into instantly-withdrawable SOL (meaning there is no cap on the amount you can earn from a code)!"
    }, {
        question: "What are crates and keys? What are 'Valid Bets'?",
        answer: 'Crates are our way of giving SOL back to you at an industry-leading RTP rate. Earn XP to level up and receive crate keys; you earn 1 XP for every Valid Bet of 0.001 SOL. A "Valid Bet" is a position held for at least 20 game ticks (5 seconds), or a position that was rugged (after any amount of time). XP automatically multiplies the longer you hold.'
    }, {
        question: "Is this a skill-based game?",
        answer: "Contrary to popular belief, there actually are strategies you can use on rugs.fun to increase your chances of winning over the long run. You can't beat the house, but you *can* trade smarter than most."
    }, {
        question: "What's the house edge?",
        answer: "Every game tick (250ms) has a very small house edge built in - roughly 0.05%."
    }, {
        question: "How do I know the game is fair?",
        answer: "We use a provably fair system that allows you to verify that game outcomes cannot be manipulated. Check out our Fairness page for details on how this works and how you can verify the fairness of any game round."
    }];
    return t.jsxs(T, {
        sx: {
            paddingTop: "12px"
        },
        children: [e.map((s, a) => t.jsxs(Ef, {
            sx: {
                backgroundColor: "var(--color-card)",
                border: "1px solid var(--color-border)",
                borderRadius: "8px !important",
                marginBottom: "12px",
                "&:before": {
                    display: "none"
                },
                "&.Mui-expanded": {
                    margin: "0 0 12px 0"
                }
            },
            children: [t.jsx(Af, {
                expandIcon: t.jsx("span", {
                    style: {
                        color: "var(--color-muted-foreground)",
                        fontSize: "1.25rem"
                    },
                    children: "▼"
                }),
                sx: {
                    backgroundColor: "var(--color-card)",
                    "&.Mui-expanded": {
                        backgroundColor: "var(--color-muted)"
                    },
                    "& .MuiAccordionSummary-content": {
                        margin: "16px 0"
                    }
                },
                children: t.jsx($, {
                    variant: "h6",
                    sx: {
                        color: "var(--color-card-foreground)",
                        fontWeight: "bold",
                        fontSize: "16px",
                        fontFamily: "'DynaPuff', sans-serif"
                    },
                    children: s.question
                })
            }), t.jsx(Rf, {
                sx: {
                    backgroundColor: "var(--color-card)",
                    borderTop: "1px solid var(--color-border)"
                },
                children: t.jsx($, {
                    sx: {
                        color: "var(--color-muted-foreground)",
                        fontSize: "1rem",
                        lineHeight: "1.5",
                        fontFamily: "'DynaPuff', sans-serif"
                    },
                    children: s.answer
                })
            })]
        }, a)), t.jsxs($, {
            variant: "h6",
            sx: {
                marginTop: "24px",
                marginBottom: "24px",
                fontSize: "18px",
                lineHeight: "1.5",
                fontWeight: "normal",
                textAlign: "center",
                color: "#fff",
                fontFamily: "'DynaPuff', sans-serif",
                paddingX: {
                    xs: 0,
                    md: "20px"
                }
            },
            children: ["If you have any additional questions, please feel free to reach out to us on", " ", t.jsx(js, {
                href: "https://x.com/RugsDotFunX",
                target: "_blank",
                rel: "noopener noreferrer",
                sx: {
                    color: "#4e67f7",
                    textDecoration: "none",
                    fontWeight: "bold",
                    "&:hover": {
                        color: "#6e87ff"
                    }
                },
                children: "X"
            }), ",", " ", t.jsx(js, {
                href: "https://discord.gg/RugsDotFun",
                target: "_blank",
                rel: "noopener noreferrer",
                sx: {
                    color: "#4e67f7",
                    textDecoration: "none",
                    fontWeight: "bold",
                    "&:hover": {
                        color: "#6e87ff"
                    }
                },
                children: "Discord"
            }), ",", " ", t.jsx(js, {
                href: "https://t.me/RugsDotFun",
                target: "_blank",
                rel: "noopener noreferrer",
                sx: {
                    color: "#4e67f7",
                    textDecoration: "none",
                    fontWeight: "bold",
                    "&:hover": {
                        color: "#6e87ff"
                    }
                },
                children: "Telegram"
            }), "."]
        })]
    })
};

function Q5({
    isOpen: e,
    onClose: s,
    isAdmin: a,
    onOpenPopup: r,
    userProfile: l,
    isLoggedIn: d,
    onOpenCrateModal: u,
    onOpenDepositModal: h,
    onOpenWithdrawModal: f,
    onOpenFairnessModal: p,
    onOpenFAQModal: y,
    onOpenAdminModal: x,
    onOpenProfileModal: S,
    socketBattlesActions: v
}) {
    const C = _a(),
        w = Df();
    bt();
    const [j, A] = m.useState(!1), [_, k] = m.useState(0), [D, E] = m.useState(85), P = m.useRef(null);
    m.useEffect(() => {
        e && (E(85), A(!1))
    }, [e]);
    const I = w.pathname === "/",
        B = w.pathname.startsWith("/battle"),
        X = Se(Ge.selectCurrent),
        {
            crateCooldown: O = null,
            crateKeys: L = {}
        } = X || {},
        [F, Y] = m.useState(0),
        H = m.useRef(null),
        K = m.useRef(null),
        z = (O == null ? void 0 : O.active) || !1,
        U = (O == null ? void 0 : O.cooldownEnds) || 0;
    m.useEffect(() => {
        if (H.current && (clearInterval(H.current), H.current = null), z && U > 0) {
            const fe = Date.now();
            K.current = U;
            const ge = U - fe,
                ke = Math.max(0, Math.ceil(ge / 1e3));
            Y(ke), H.current = setInterval(() => {
                const je = Date.now();
                if (K.current && je < K.current) {
                    const re = K.current - je,
                        Ee = Math.ceil(re / 1e3);
                    Y(Math.max(0, Ee))
                } else Y(0), K.current = null, H.current && (clearInterval(H.current), H.current = null)
            }, 1e3)
        } else Y(0), K.current = null;
        return () => {
            H.current && (clearInterval(H.current), H.current = null)
        }
    }, [z, U]);
    const V = fe => {
            A(!0);
            const ge = "touches" in fe ? fe.touches[0].clientY : fe.clientY;
            k(ge)
        },
        W = fe => {
            if (!j) return;
            const ge = "touches" in fe ? fe.touches[0].clientY : fe.clientY,
                ke = _ - ge,
                je = window.innerHeight,
                Ee = ke * .3 / je * 100;
            let Ae = D + Ee;
            Ae = Math.max(20, Math.min(98, Ae)), E(Ae)
        },
        q = () => {
            if (j) {
                if (A(!1), D < 30) {
                    s();
                    return
                }
                D > 75 ? E(98) : E(85)
            }
        };
    m.useEffect(() => {
        if (j) {
            const fe = re => W(re),
                ge = re => {
                    re.preventDefault(), W(re)
                },
                ke = () => q(),
                je = () => q();
            return document.addEventListener("mousemove", fe), document.addEventListener("touchmove", ge, {
                passive: !1
            }), document.addEventListener("mouseup", ke), document.addEventListener("touchend", je), () => {
                document.removeEventListener("mousemove", fe), document.removeEventListener("touchmove", ge), document.removeEventListener("mouseup", ke), document.removeEventListener("touchend", je)
            }
        }
    }, [j, _, D]);
    const Z = () => {
            j || (D >= 98 ? E(85) : E(98))
        },
        se = Object.values(L).reduce((fe, ge) => fe + ge, 0),
        G = F > 0;
    if (!e) return null;
    const ie = () => {
            if (!(l != null && l.levelInfo)) return {
                level: 0,
                currentXp: 0,
                maxXp: 1e4
            };
            const {
                level: fe,
                xp: ge,
                xpForNextLevel: ke
            } = l.levelInfo;
            return {
                level: fe ? ? 0,
                currentXp: ge ? ? 0,
                maxXp: ke ? ? 1e4
            }
        },
        {
            level: ne,
            currentXp: ee,
            maxXp: me
        } = ie();
    return t.jsxs(T, {
        ref: P,
        className: `mobile-nav-menu ${D>=98?"expanded":""}`,
        sx: {
            position: "fixed",
            zIndex: 1e3,
            backgroundColor: "var(--color-background)",
            overflowY: "auto",
            display: "flex",
            flexDirection: "column",
            animation: "none",
            "@media (max-width: 460px)": {
                bottom: 0,
                left: 0,
                right: 0,
                top: "auto",
                width: "100vw !important",
                minWidth: "100vw",
                maxWidth: "100vw",
                borderTop: "1px solid var(--color-border)",
                borderTopLeftRadius: D >= 98 ? "0px" : "20px",
                borderTopRightRadius: D >= 98 ? "0px" : "20px",
                paddingBottom: "env(safe-area-inset-bottom)",
                paddingTop: D >= 98 ? "env(safe-area-inset-top)" : "0px",
                transform: "translateY(0)",
                transition: j ? "none" : "height 0.3s ease-out, max-height 0.3s ease-out, border-radius 0.3s ease-out, padding-top 0.3s ease-out",
                height: "auto",
                maxHeight: `${D}vh`,
                boxShadow: "0 -4px 20px rgba(0, 0, 0, 0.3)"
            },
            "@media (min-width: 461px)": {
                top: 0,
                right: 0,
                bottom: 0,
                width: "85%",
                maxWidth: "400px",
                borderLeft: "1px solid var(--color-border)",
                boxShadow: "-8px 0 24px rgba(0, 0, 0, 0.8)",
                transform: e ? "translateX(0)" : "translateX(100%)",
                transition: "transform 0.3s ease-out"
            }
        },
        children: [t.jsx(T, {
            className: "draggable-area",
            onMouseDown: V,
            onTouchStart: V,
            onClick: Z,
            children: t.jsx(T, {
                className: "drag-handle",
                children: t.jsx(T, {
                    className: "drag-handle-bar",
                    sx: {
                        backgroundColor: D >= 98 ? "var(--color-primary)" : "var(--color-muted-foreground)"
                    }
                })
            })
        }), t.jsx(T, {
            className: "mobile-nav-user-info",
            onClick: () => {
                d && (s(), setTimeout(() => S(), 100))
            },
            sx: {
                backgroundColor: "var(--color-card)",
                border: "1px solid var(--color-border)",
                borderRadius: "16px",
                padding: "16px",
                margin: "16px",
                cursor: d ? "pointer" : "default",
                transition: "all 0.2s ease",
                position: "relative",
                "&::before": d ? {
                    content: '""',
                    position: "absolute",
                    top: 0,
                    left: 0,
                    right: 0,
                    bottom: 0,
                    borderRadius: "16px",
                    background: "linear-gradient(45deg, transparent 30%, rgba(255, 255, 255, 0.03) 50%, transparent 70%)",
                    opacity: 0,
                    transition: "opacity 0.3s ease",
                    pointerEvents: "none"
                } : {},
                "&:hover::before": d ? {
                    opacity: 1
                } : {},
                "&:hover": d ? {
                    backgroundColor: "var(--color-muted)",
                    transform: "translateY(-1px)",
                    boxShadow: "0 4px 12px rgba(0, 0, 0, 0.2), 0 0 0 1px var(--color-primary)",
                    borderColor: "var(--color-primary)",
                    "& .mobile-nav-username-btn": {
                        "& .MuiTypography-root": {
                            color: "var(--color-primary)"
                        },
                        "& .MuiBox-root": {
                            "& .MuiTypography-root": {
                                color: "var(--color-primary)"
                            },
                            "& svg": {
                                color: "var(--color-primary)"
                            }
                        }
                    }
                } : {}
            },
            children: d ? t.jsxs(t.Fragment, {
                children: [t.jsx(T, {
                    className: "mobile-nav-username-section",
                    children: t.jsxs(T, {
                        className: "mobile-nav-username-btn",
                        sx: {
                            display: "flex",
                            alignItems: "center",
                            justifyContent: "space-between",
                            width: "100%",
                            padding: "0",
                            margin: "0",
                            backgroundColor: "transparent",
                            color: "var(--color-foreground)",
                            fontSize: "18px",
                            fontWeight: 600,
                            textTransform: "none",
                            minHeight: "auto",
                            transition: "none",
                            transform: "none",
                            border: "none",
                            boxShadow: "none",
                            pointerEvents: "none"
                        },
                        children: [t.jsx($, {
                            sx: {
                                fontSize: "18px",
                                fontWeight: 600,
                                color: "var(--color-foreground)"
                            },
                            children: (l == null ? void 0 : l.username) || "Set your username"
                        }), t.jsxs(T, {
                            sx: {
                                display: "flex",
                                alignItems: "center",
                                gap: "4px"
                            },
                            children: [t.jsx($, {
                                sx: {
                                    fontSize: "12px",
                                    color: "var(--color-muted-foreground)",
                                    fontWeight: 400
                                },
                                children: "View Profile"
                            }), t.jsx("svg", {
                                width: "16",
                                height: "16",
                                viewBox: "0 0 24 24",
                                fill: "var(--color-muted-foreground)",
                                children: t.jsx("path", {
                                    d: "M12 4l-1.41 1.41L16.17 11H4v2h12.17l-5.58 5.59L12 20l8-8z"
                                })
                            })]
                        })]
                    })
                }), t.jsxs(T, {
                    className: "mobile-nav-experience-section",
                    sx: {
                        display: "flex",
                        alignItems: "center",
                        gap: "12px",
                        width: "100%"
                    },
                    children: [t.jsx(T, {
                        className: "mobile-nav-level-badge",
                        sx: {
                            flexShrink: 0,
                            display: "flex",
                            alignItems: "center",
                            justifyContent: "center"
                        },
                        children: t.jsx(Bf, {
                            level: ne,
                            size: "large"
                        })
                    }), t.jsxs(T, {
                        className: "mobile-nav-progress-section",
                        sx: {
                            flex: 1,
                            display: "flex",
                            flexDirection: "column",
                            alignItems: "flex-start",
                            gap: "4px",
                            minWidth: 0
                        },
                        children: [t.jsxs(T, {
                            className: "mobile-nav-level-xp-row",
                            sx: {
                                flexShrink: 0,
                                display: "flex",
                                alignItems: "center",
                                justifyContent: "space-between",
                                width: "100%",
                                gap: "8px"
                            },
                            children: [t.jsxs($, {
                                variant: "body2",
                                className: "mobile-nav-level-text",
                                sx: {
                                    background: "linear-gradient(to right, #51A2FF, #FBEDB9)",
                                    WebkitBackgroundClip: "text",
                                    WebkitTextFillColor: "transparent",
                                    backgroundClip: "text",
                                    fontSize: "1rem",
                                    fontWeight: 600,
                                    lineHeight: 1,
                                    whiteSpace: "nowrap"
                                },
                                children: ["Level ", ne]
                            }), t.jsxs($, {
                                variant: "body2",
                                className: "mobile-nav-xp-text",
                                sx: {
                                    color: "#AAAAAA",
                                    fontSize: "1rem",
                                    fontWeight: 400,
                                    lineHeight: 1,
                                    whiteSpace: "nowrap",
                                    marginLeft: "auto"
                                },
                                children: [ee.toLocaleString(), "/", me.toLocaleString(), " XP"]
                            })]
                        }), t.jsx(T, {
                            sx: {
                                width: "100%",
                                height: "10px",
                                "& .MuiLinearProgress-root": {
                                    height: "10px"
                                }
                            },
                            children: t.jsx(kf, {
                                variant: "determinate",
                                value: ee / me * 100,
                                sx: {
                                    height: 10,
                                    borderRadius: 5,
                                    backgroundColor: "#333333",
                                    "& .MuiLinearProgress-bar": {
                                        background: "linear-gradient(90deg, #56E9FF, #FBEDB9)",
                                        borderRadius: 5
                                    }
                                }
                            })
                        })]
                    })]
                })]
            }) : t.jsxs(T, {
                sx: {
                    display: "flex",
                    justifyContent: "space-between",
                    alignItems: "center",
                    width: "100%",
                    gap: 2
                },
                children: [t.jsx($, {
                    variant: "body2",
                    sx: {
                        color: "#AAAAAA",
                        fontSize: "14px",
                        fontWeight: 400,
                        whiteSpace: "nowrap"
                    },
                    children: "You are not logged-in"
                }), t.jsx(yf, {})]
            })
        }), d && t.jsxs(T, {
            className: "mobile-nav-actions",
            children: [t.jsx(Te, {
                onClick: () => {
                    s(), setTimeout(() => f(), 100)
                },
                className: "mobile-nav-action-btn mobile-nav-withdraw",
                variant: "contained",
                color: "basic",
                sx: {
                    flex: 1,
                    padding: "8px",
                    height: "auto",
                    minHeight: "48px",
                    fontSize: "16px",
                    fontWeight: 600,
                    textTransform: "uppercase"
                },
                children: "WITHDRAW"
            }), t.jsx(Te, {
                onClick: () => {
                    s(), setTimeout(() => h(), 100)
                },
                className: "mobile-nav-action-btn mobile-nav-deposit",
                variant: "contained",
                color: "deposit",
                sx: {
                    flex: 1,
                    padding: "8px",
                    height: "auto",
                    minHeight: "48px",
                    fontSize: "16px",
                    fontWeight: 600,
                    textTransform: "uppercase"
                },
                children: "DEPOSIT"
            })]
        }), t.jsxs(T, {
            className: "mobile-nav-game-modes",
            sx: {
                display: "flex",
                flexDirection: "row",
                gap: "16px",
                width: "100%",
                padding: "16px",
                borderBottom: "1px solid var(--color-border)"
            },
            children: [t.jsx(Te, {
                className: `mobile-nav-item ${I?"active":""}`,
                onClick: () => {
                    C("/"), s()
                },
                variant: "text",
                sx: {
                    justifyContent: "center",
                    padding: "8px",
                    backgroundColor: I ? "#272935" : "var(--color-muted)",
                    color: I ? "#ffffff" : "var(--color-muted-foreground)",
                    fontSize: "16px",
                    fontWeight: 600,
                    textTransform: "uppercase",
                    position: "relative",
                    zIndex: 1,
                    flex: 1,
                    ...I && {
                        "&::before": {
                            content: '""',
                            position: "absolute",
                            top: "-1px",
                            left: "-1px",
                            right: "-1px",
                            bottom: "-1px",
                            background: "linear-gradient(to top, #FFC700, #F97316)",
                            borderRadius: "6px",
                            zIndex: -1
                        },
                        "&::after": {
                            content: '""',
                            position: "absolute",
                            top: 0,
                            left: 0,
                            right: 0,
                            bottom: 0,
                            background: "#272935",
                            borderRadius: "6px",
                            zIndex: -1
                        }
                    },
                    "&:hover": {
                        backgroundColor: "rgba(255, 255, 255, 0.1)",
                        color: I ? "#ffffff" : "var(--color-foreground)"
                    }
                },
                children: "🔥 STANDARD"
            }), t.jsx(Te, {
                className: `mobile-nav-item ${B?"active":""}`,
                onClick: () => {
                    C("/battle"), s()
                },
                variant: "text",
                sx: {
                    justifyContent: "center",
                    padding: "8px",
                    backgroundColor: B ? "#272935" : "var(--color-muted)",
                    color: B ? "#ffffff" : "var(--color-muted-foreground)",
                    fontSize: "16px",
                    fontWeight: 600,
                    textTransform: "uppercase",
                    position: "relative",
                    zIndex: 1,
                    flex: 1,
                    ...B && {
                        "&::before": {
                            content: '""',
                            position: "absolute",
                            top: "-1px",
                            left: "-1px",
                            right: "-1px",
                            bottom: "-1px",
                            background: "linear-gradient(to top, #FFC700, #F97316)",
                            borderRadius: "6px",
                            zIndex: -1
                        },
                        "&::after": {
                            content: '""',
                            position: "absolute",
                            top: 0,
                            left: 0,
                            right: 0,
                            bottom: 0,
                            background: "#272935",
                            borderRadius: "6px",
                            zIndex: -1
                        }
                    },
                    "&:hover": {
                        backgroundColor: "rgba(255, 255, 255, 0.1)",
                        color: B ? "#ffffff" : "var(--color-foreground)"
                    }
                },
                children: "⚔️ BATTLES"
            })]
        }), t.jsxs(T, {
            className: "mobile-nav-items",
            sx: {
                display: "flex",
                flexDirection: "column",
                gap: "8px",
                margin: "16px",
                "@media (max-width: 460px)": {
                    margin: "16px"
                }
            },
            children: [t.jsx(Te, {
                className: "mobile-nav-item",
                onClick: () => {
                    s(), setTimeout(() => u(), 100)
                },
                variant: "text",
                fullWidth: !0,
                sx: {
                    justifyContent: "flex-start",
                    padding: "8px 16px",
                    backgroundColor: "var(--color-muted)",
                    color: "var(--color-muted-foreground)",
                    fontSize: "16px",
                    fontWeight: 600,
                    textTransform: "uppercase",
                    "&:hover": {
                        backgroundColor: "rgba(255, 255, 255, 0.1)",
                        color: "var(--color-foreground)"
                    }
                },
                children: t.jsxs(T, {
                    sx: {
                        display: "flex",
                        alignItems: "center",
                        gap: 1
                    },
                    children: ["CRATES", d && t.jsx(Qn, {
                        label: G ? Os(F) : se.toString(),
                        size: "small",
                        color: G ? "warning" : "success",
                        sx: {
                            height: "16px",
                            fontSize: "10px",
                            fontWeight: "bold"
                        }
                    })]
                })
            }), t.jsx(Te, {
                className: "mobile-nav-item",
                onClick: () => {
                    s(), setTimeout(() => p(), 100)
                },
                variant: "text",
                fullWidth: !0,
                sx: {
                    justifyContent: "flex-start",
                    padding: "8px 16px",
                    backgroundColor: "var(--color-muted)",
                    color: "var(--color-muted-foreground)",
                    fontSize: "16px",
                    fontWeight: 600,
                    textTransform: "uppercase",
                    "&:hover": {
                        backgroundColor: "rgba(255, 255, 255, 0.1)",
                        color: "var(--color-foreground)"
                    }
                },
                children: "FAIRNESS"
            }), t.jsx(Te, {
                className: "mobile-nav-item",
                onClick: () => {
                    s(), setTimeout(() => y(), 100)
                },
                variant: "text",
                fullWidth: !0,
                sx: {
                    justifyContent: "flex-start",
                    padding: "8px 16px",
                    backgroundColor: "var(--color-muted)",
                    color: "var(--color-muted-foreground)",
                    fontSize: "16px",
                    fontWeight: 600,
                    textTransform: "uppercase",
                    "&:hover": {
                        backgroundColor: "rgba(255, 255, 255, 0.1)",
                        color: "var(--color-foreground)"
                    }
                },
                children: "FAQ"
            }), a && t.jsx(Te, {
                className: "mobile-nav-item",
                onClick: () => {
                    s(), setTimeout(() => x(), 100)
                },
                variant: "text",
                fullWidth: !0,
                sx: {
                    justifyContent: "flex-start",
                    padding: "8px 16px",
                    backgroundColor: "var(--color-muted)",
                    color: "var(--color-primary)",
                    fontSize: "16px",
                    fontWeight: 600,
                    textTransform: "uppercase",
                    "&:hover": {
                        backgroundColor: "rgba(255, 199, 0, 0.1)",
                        color: "var(--color-primary)"
                    }
                },
                children: "ADMIN"
            })]
        }), t.jsxs(T, {
            className: "mobile-nav-social",
            children: [t.jsx(Rt, {
                href: "https://discord.gg/RugsDotFun",
                target: "_blank",
                rel: "noopener noreferrer",
                className: "mobile-nav-social-link",
                sx: {
                    backgroundColor: "var(--color-card)",
                    border: "1px solid var(--color-border)",
                    color: "var(--color-foreground)",
                    "&:hover": {
                        backgroundColor: "var(--color-muted)"
                    }
                },
                children: t.jsx("svg", {
                    viewBox: "0 0 71 55",
                    fill: "currentColor",
                    className: "mobile-nav-social-icon",
                    children: t.jsx("path", {
                        d: "M60.1045 4.8978C55.5792 2.8214 50.7265 1.2916 45.6527 0.41542C45.5603 0.39851 45.468 0.440769 45.4204 0.525289C44.7963 1.6353 44.105 3.0834 43.6209 4.2216C38.1637 3.4046 32.7345 3.4046 27.3892 4.2216C26.905 3.0581 26.1886 1.6353 25.5617 0.525289C25.5141 0.443589 25.4218 0.40133 25.3294 0.41542C20.2584 1.2888 15.4057 2.8186 10.8776 4.8978C10.8384 4.9147 10.8048 4.9429 10.7825 4.9795C1.57795 18.7309 -0.943561 32.1443 0.293408 45.3914C0.299005 45.4562 0.335386 45.5182 0.385761 45.5576C6.45866 50.0174 12.3413 52.7249 18.1147 54.5195C18.2071 54.5477 18.305 54.5139 18.3638 54.4378C19.7295 52.5728 20.9469 50.6063 21.9907 48.5383C22.0523 48.4172 21.9935 48.2735 21.8676 48.2256C19.9366 47.4931 18.0979 46.6 16.3292 45.5858C16.1893 45.5041 16.1781 45.304 16.3068 45.2082C16.679 44.9293 17.0513 44.6391 17.4067 44.3461C17.471 44.2926 17.5606 44.2813 17.6362 44.3151C29.2558 49.6202 41.8354 49.6202 53.3179 44.3151C53.3935 44.2785 53.4831 44.2898 53.5502 44.3433C53.9057 44.6363 54.2779 44.9293 54.6529 45.2082C54.7816 45.304 54.7732 45.5041 54.6333 45.5858C52.8646 46.6197 51.0259 47.4931 49.0921 48.2228C48.9662 48.2707 48.9102 48.4172 48.9718 48.5383C50.038 50.6034 51.2554 52.5699 52.5959 54.435C52.6519 54.5139 52.7526 54.5477 52.845 54.5195C58.6464 52.7249 64.529 50.0174 70.6019 45.5576C70.6551 45.5182 70.6887 45.459 70.6943 45.3942C72.1747 30.0791 68.2147 16.7757 60.1968 4.9823C60.1772 4.9429 60.1437 4.9147 60.1045 4.8978ZM23.7259 37.3253C20.2276 37.3253 17.3451 34.1136 17.3451 30.1693C17.3451 26.225 20.1717 23.0133 23.7259 23.0133C27.308 23.0133 30.1626 26.2532 30.1066 30.1693C30.1066 34.1136 27.28 37.3253 23.7259 37.3253ZM47.3178 37.3253C43.8196 37.3253 40.9371 34.1136 40.9371 30.1693C40.9371 26.225 43.7636 23.0133 47.3178 23.0133C50.9 23.0 53.7545 26.2532 53.6986 30.1693C53.6986 34.1136 50.9 37.3253 47.3178 37.3253Z"
                    })
                })
            }), t.jsx(Rt, {
                href: "https://x.com/RugsDotFunX",
                target: "_blank",
                rel: "noopener noreferrer",
                className: "mobile-nav-social-link",
                sx: {
                    backgroundColor: "var(--color-card)",
                    border: "1px solid var(--color-border)",
                    color: "var(--color-foreground)",
                    "&:hover": {
                        backgroundColor: "var(--color-muted)"
                    }
                },
                children: t.jsx("svg", {
                    viewBox: "0 0 24 24",
                    fill: "currentColor",
                    className: "mobile-nav-social-icon",
                    children: t.jsx("path", {
                        d: "M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z"
                    })
                })
            }), t.jsx(Rt, {
                href: "https://t.me/RugsDotFun",
                target: "_blank",
                rel: "noopener noreferrer",
                className: "mobile-nav-social-link",
                sx: {
                    backgroundColor: "var(--color-card)",
                    border: "1px solid var(--color-border)",
                    color: "var(--color-foreground)",
                    "&:hover": {
                        backgroundColor: "var(--color-muted)"
                    }
                },
                children: t.jsx("svg", {
                    viewBox: "0 0 24 24",
                    fill: "currentColor",
                    className: "mobile-nav-social-icon",
                    children: t.jsx("path", {
                        d: "M11.944 0A12 12 0 0 0 0 12a12 12 0 0 0 12 12 12 12 0 0 0 12-12A12 12 0 0 0 12 0a12 12 0 0 0-.056 0zm4.962 7.224c.1-.002.321.023.465.14a.506.506 0 0 1 .171.325c.016.093.036.306.02.472-.18 1.898-.962 6.502-1.36 8.627-.168.9-.499 1.201-.82 1.23-.696.065-1.225-.46-1.9-.902-1.056-.693-1.653-1.124-2.678-1.8-1.185-.78-.417-1.21.258-1.91.177-.184 3.247-2.977 3.307-3.23.007-.032.014-.15-.056-.212s-.174-.041-.249-.024c-.106.024-1.793 1.14-5.061 3.345-.48.33-.913.49-1.302.48-.428-.008-1.252-.241-1.865-.44-.752-.245-1.349-.374-1.297-.789.027-.216.325-.437.893-.663 3.498-1.524 5.83-2.529 6.998-3.014 3.332-1.386 4.025-1.627 4.476-1.635z"
                    })
                })
            })]
        })]
    })
}

function bf({
    classes: e,
    children: s
}) {
    return t.jsx(T, {
        className: `soapy-container${e?" "+e:""}`,
        children: s
    })
}

function K5({
    children: e,
    sx: s
}) {
    return t.jsx(T, {
        className: "viewport-container layout-vertical",
        sx: {
            display: "flex",
            flexDirection: "column",
            ...s
        },
        children: e
    })
}
const Z5 = ({
    sidebarCollapsed: e
}) => {
    const s = Se(sw.selectRollingAveragePing),
        [a, r] = m.useState("none");
    m.useEffect(() => {
        if (s === null) {
            r("none");
            return
        }
        s >= 200 ? r("red") : s >= 150 ? r("yellow") : r("none")
    }, [s]);
    const l = a !== "none" && s !== null && s > 0,
        d = a === "none" && s !== null && s >= 0;
    return t.jsxs(t.Fragment, {
        children: [t.jsxs("div", {
            className: `ping-banner ${l?"visible":""} ${a==="red"?"bg-red-600":"bg-yellow-600"} text-white px-4 py-1 flex items-center justify-center gap-2 whitespace-nowrap`,
            style: {
                left: e ? 0 : "320px",
                width: e ? "100%" : "calc(100% - 320px)"
            },
            children: [t.jsxs("svg", {
                className: "w-3 h-3 text-white flex-shrink-0",
                fill: "currentColor",
                viewBox: "0 0 24 24",
                children: [t.jsx("rect", {
                    x: "2",
                    y: "18",
                    width: "3",
                    height: "4",
                    opacity: "1"
                }), t.jsx("rect", {
                    x: "6",
                    y: "15",
                    width: "3",
                    height: "7",
                    opacity: "1"
                }), t.jsx("rect", {
                    x: "10",
                    y: "12",
                    width: "3",
                    height: "10",
                    opacity: "0.2"
                }), t.jsx("rect", {
                    x: "14",
                    y: "9",
                    width: "3",
                    height: "13",
                    opacity: "0.2"
                }), t.jsx("rect", {
                    x: "18",
                    y: "6",
                    width: "3",
                    height: "16",
                    opacity: "0.2"
                })]
            }), t.jsxs("span", {
                className: "text-xs font-medium whitespace-nowrap",
                children: [Math.round(s || 0), "ms"]
            }), t.jsx("span", {
                className: "text-white text-xs whitespace-nowrap",
                children: "Unstable connection may delay trades"
            })]
        }), d && t.jsxs("div", {
            className: "ping-indicator",
            style: {
                right: "20px"
            },
            children: [t.jsxs("span", {
                className: "text-xs font-medium text-white opacity-50",
                children: [Math.round(s || 0), "ms"]
            }), t.jsx("svg", {
                className: "w-3 h-3 text-white opacity-50 ml-1",
                fill: "currentColor",
                viewBox: "0 0 24 24",
                children: t.jsx("path", {
                    d: "M1 9l2 2c4.97-4.97 13.03-4.97 18 0l2-2C16.93 2.93 7.07 2.93 1 9zm8 8l3 3 3-3c-1.65-1.66-4.34-1.66-6 0zm-4-4l2 2c2.76-2.76 7.24-2.76 10 0l2-2C15.14 9.14 8.87 9.14 5 13z"
                })
            })]
        })]
    })
};

function Yy() {
    const e = oi(),
        s = m.useCallback(d => e.emit("sendChatMessage", {
            message: d
        }), [e]),
        a = m.useCallback(() => e.emit("chatHistory"), [e]),
        r = m.useCallback((d, u) => e.emit("mutePlayer", d, u), [e]),
        l = m.useCallback((d, u) => e.emit("unmutePlayer", d, u), [e]);
    return {
        sendMessage: s,
        chatHistory: a,
        mutePlayer: r,
        unmutePlayer: l
    }
}
const J5 = ({
        onClose: e
    }) => {
        const s = Se(Ge.selectCurrent),
            a = (s == null ? void 0 : s.role) === "admin",
            r = (s == null ? void 0 : s.role) === "mod",
            l = a || r,
            d = l ? [{
                command: "/mute [username]",
                description: "Mute a user"
            }, {
                command: "/unmute [username]",
                description: "Unmute a user"
            }, {
                command: "/timeout [username] [duration] [reason]",
                description: "Timeout a user (duration in seconds, or -1 for permanent, reason: begging, dms, spam, advertising, doxing)"
            }, {
                command: "/untimeout [username]",
                description: "Remove timeout from a user"
            }, {
                command: "/msg [username] [message]",
                description: "Send a direct message to a user"
            }, {
                command: "/broadcast [message]",
                description: "Broadcast a message to all users"
            }, {
                command: "/premiummode [level]",
                description: "Set premium mode (0 to disable)"
            }] : [{
                command: "/mute [username]",
                description: "Mute a user"
            }, {
                command: "/unmute [username]",
                description: "Unmute a user"
            }];
        return t.jsxs("div", {
            className: "chat-help-modal",
            onClick: u => u.stopPropagation(),
            children: [t.jsxs("div", {
                className: "chat-help-modal-header",
                children: [t.jsxs("h3", {
                    className: "chat-help-modal-title",
                    children: ["Available Commands ", l && "(Moderator)"]
                }), t.jsx("button", {
                    onClick: e,
                    className: "chat-help-modal-close",
                    children: t.jsx(Lr, {})
                })]
            }), t.jsx("div", {
                className: "chat-help-modal-commands",
                children: d.map((u, h) => t.jsxs("div", {
                    className: "chat-help-modal-command",
                    children: [t.jsx("span", {
                        className: "chat-help-modal-command-text",
                        children: u.command
                    }), t.jsx("span", {
                        className: "chat-help-modal-command-description",
                        children: u.description
                    })]
                }, h))
            }), t.jsx("div", {
                className: "chat-help-modal-footer",
                children: "Click usernames in chat for quick actions"
            })]
        })
    },
    e4 = [{
        id: "q1",
        question: "How does the game work?",
        answer: `rugs.fun is similar to the popular game "Crash", except you can buy and sell any amount at any time. Just don't get rugged! Hold positions for longer periods to earn industry-leading rakebacks via crates. Charts are randomized with a provably fair system and cannot be influenced by buys or sells.`
    }, {
        id: "q2",
        question: "How does Bonus SOL work?",
        answer: "Earn Bonus SOL by entering a code at the bottom of the deposit page. Bonus SOL codes have wager requirements attached to them. Earn progress towards the requirement by placing Valid Bets. Once you hit the wager requirement, your ENTIRE remaining bonus balance converts into instantly-withdrawable SOL (meaning there is no cap on the amount you can earn from a code)!"
    }, {
        id: "q3",
        question: "What are crates and keys? What are 'Valid Bets'?",
        answer: 'Crates are our way of giving SOL back to you at an industry-leading RTP rate. Earn XP to level up and receive crate keys; you earn 1 XP for every Valid Bet of 0.001 SOL. A "Valid Bet" is a position held for at least 20 game ticks (5 seconds), or a position that was rugged (after any amount of time). XP automatically multiplies the longer you hold.'
    }, {
        id: "q4",
        question: "Is this a skill-based game?",
        answer: "Contrary to popular belief, there actually are strategies you can use on rugs.fun to increase your chances of winning over the long run. You can't beat the house, but you *can* trade smarter than most."
    }, {
        id: "q5",
        question: "What's the house edge?",
        answer: "Every game tick (250ms) has a very small house edge built in - roughly 0.05%."
    }, {
        id: "q6",
        question: "How do I know the game is fair?",
        answer: "We use a provably fair system that allows you to verify that game outcomes cannot be manipulated. Check out our Fairness page for details on how this works and how you can verify the fairness of any game round."
    }],
    t4 = () => {
        const [e, s] = m.useState(!1), a = m.useCallback(r => {
            s(r)
        }, []);
        return t.jsxs(T, {
            sx: {
                paddingTop: "12px"
            },
            children: [e4.map((r, l) => t.jsxs(Ef, {
                expanded: e === r.id,
                onChange: () => a(r.id),
                sx: {
                    backgroundColor: "var(--color-card)",
                    border: "1px solid var(--color-border)",
                    borderRadius: "8px !important",
                    marginBottom: "12px",
                    "&:before": {
                        display: "none"
                    },
                    "&.Mui-expanded": {
                        margin: "0 0 12px 0"
                    }
                },
                children: [t.jsx(Af, {
                    expandIcon: t.jsx("span", {
                        style: {
                            color: "var(--color-muted-foreground)",
                            fontSize: "1.25rem"
                        },
                        children: "▼"
                    }),
                    sx: {
                        backgroundColor: "var(--color-card)",
                        "&.Mui-expanded": {
                            backgroundColor: "var(--color-muted)"
                        },
                        "& .MuiAccordionSummary-content": {
                            margin: "16px 0"
                        }
                    },
                    children: t.jsx($, {
                        variant: "h6",
                        sx: {
                            color: "var(--color-card-foreground)",
                            fontWeight: "bold",
                            fontSize: "16px",
                            fontFamily: "'DynaPuff', sans-serif"
                        },
                        children: r.question
                    })
                }), t.jsx(Rf, {
                    sx: {
                        backgroundColor: "var(--color-card)",
                        borderTop: "1px solid var(--color-border)"
                    },
                    children: t.jsx($, {
                        sx: {
                            color: "var(--color-muted-foreground)",
                            fontSize: "1rem",
                            lineHeight: "1.5",
                            fontFamily: "'DynaPuff', sans-serif"
                        },
                        children: r.answer
                    })
                })]
            }, l)), t.jsxs($, {
                variant: "h6",
                sx: {
                    marginTop: "24px",
                    marginBottom: "24px",
                    fontSize: "18px",
                    lineHeight: "1.5",
                    fontWeight: "normal",
                    textAlign: "center",
                    color: "var(--color-card-foreground)",
                    fontFamily: "'DynaPuff', sans-serif",
                    paddingX: {
                        xs: 0,
                        md: "20px"
                    }
                },
                children: ["If you have any additional questions, please feel free to reach out to us on", " ", t.jsx(js, {
                    href: "https://x.com/RugsDotFunX",
                    target: "_blank",
                    rel: "noopener noreferrer",
                    sx: {
                        color: "#4e67f7",
                        textDecoration: "none",
                        fontWeight: "bold",
                        "&:hover": {
                            color: "#6e87ff"
                        }
                    },
                    children: "X"
                }), ",", " ", t.jsx(js, {
                    href: "https://discord.gg/RugsDotFun",
                    target: "_blank",
                    rel: "noopener noreferrer",
                    sx: {
                        color: "#4e67f7",
                        textDecoration: "none",
                        fontWeight: "bold",
                        "&:hover": {
                            color: "#6e87ff"
                        }
                    },
                    children: "Discord"
                }), ",", " ", t.jsx(js, {
                    href: "https://t.me/RugsDotfun",
                    target: "_blank",
                    rel: "noopener noreferrer",
                    sx: {
                        color: "#4e67f7",
                        textDecoration: "none",
                        fontWeight: "bold",
                        "&:hover": {
                            color: "#6e87ff"
                        }
                    },
                    children: "Telegram"
                }), ", or via email at", " ", t.jsx(js, {
                    href: "mailto:hello@rugs.fun",
                    sx: {
                        color: "#4e67f7",
                        textDecoration: "none",
                        fontWeight: "bold",
                        "&:hover": {
                            color: "#6e87ff"
                        }
                    },
                    children: "hello@rugs.fun"
                }), "."]
            })]
        })
    },
    Vc = () => {
        const [e, s] = m.useState(!1), [a, r] = m.useState(!1);
        m.useEffect(() => {
            const u = () => {
                r(window.innerWidth <= 768)
            };
            return u(), window.addEventListener("resize", u), () => window.removeEventListener("resize", u)
        }, []);
        const l = () => {
                s(!0)
            },
            d = () => {
                s(!1)
            };
        return t.jsxs(t.Fragment, {
            children: [t.jsx(Rt, {
                onClick: l,
                "aria-label": "Open FAQ",
                className: "chat-footer-icon-button",
                size: "small",
                children: t.jsx("img", {
                    src: "/icons/faq.svg",
                    alt: "FAQ",
                    className: "chat-footer-icon"
                })
            }), e && (a ? t.jsx(xy, {
                onClose: d
            }) : t.jsx(Dr, {
                setOpen: s,
                title: "Frequently Asked Questions",
                children: t.jsx(t4, {})
            }))]
        })
    },
    qc = () => {
        const [e, s] = m.useState(!1), [a, r] = m.useState(!1);
        m.useEffect(() => {
            const u = () => {
                r(window.innerWidth <= 768)
            };
            return u(), window.addEventListener("resize", u), () => window.removeEventListener("resize", u)
        }, []);
        const l = () => {
                s(!0)
            },
            d = () => {
                s(!1)
            };
        return t.jsxs(t.Fragment, {
            children: [t.jsx(Rt, {
                onClick: l,
                "aria-label": "Open Provably Fair Information",
                className: "chat-footer-icon-button",
                size: "small",
                children: t.jsx("img", {
                    src: "/icons/fairness.svg",
                    alt: "FAIRNESS",
                    className: "chat-footer-icon"
                })
            }), e && (a ? t.jsx($y, {
                onClose: d
            }) : t.jsx(Dr, {
                setOpen: s,
                title: "Provably Fair System",
                children: t.jsx(Hy, {})
            }))]
        })
    },
    n4 = ({
        onEmojiSelect: e,
        onClose: s
    }) => {
        const a = jn(),
            [r, l] = m.useState(0),
            [d, u] = m.useState(""),
            h = m.useRef(null),
            f = m.useRef(null),
            p = Se(Ge.selectCosmeticsData),
            y = Se(Ge.selectCosmeticsLoading),
            x = Se(Ge.selectCosmeticsError),
            S = Se(Ge.selectIsBadgeUpdating),
            v = Se(Ge.selectBadgeUpdateError),
            C = Se(Ge.selectCurrent),
            w = (C == null ? void 0 : C.role) === "admin",
            j = (C == null ? void 0 : C.role) === "mod";
        m.useEffect(() => () => {
            f.current && clearTimeout(f.current)
        }, []), m.useEffect(() => {
            p || a.getPlayerCosmetics()
        }, [p]), m.useEffect(() => {
            v && (u(`Error: ${v}`), f.current && clearTimeout(f.current), f.current = setTimeout(() => {
                u("")
            }, 3e3))
        }, [v]), m.useEffect(() => {
            !S && !v && d === "Updating badge..." && (u("Badge updated successfully!"), f.current && clearTimeout(f.current), f.current = setTimeout(() => {
                u("")
            }, 2e3))
        }, [S, v, d]), m.useEffect(() => {
            const B = X => {
                h.current && !h.current.contains(X.target) && s()
            };
            return document.addEventListener("mousedown", B), () => document.removeEventListener("mousedown", B)
        }, [s]);
        const A = B => {
                p != null && p.unlockedEmojis.some(O => O.id === B) && e && e(`:${B}:`)
            },
            _ = B => {
                B !== null && !(p != null && p.unlockedBadges.some(O => O.id === B)) || (a.setActiveBadge({
                    badgeId: B
                }), u("Updating badge..."), f.current && clearTimeout(f.current))
            },
            k = B => (p == null ? void 0 : p.unlockedEmojis.some(X => X.id === B)) || !1,
            D = B => (p == null ? void 0 : p.unlockedBadges.some(X => X.id === B)) || !1,
            E = B => {
                var X;
                return ((X = p == null ? void 0 : p.activeBadge) == null ? void 0 : X.id) === B
            },
            P = () => Object.entries(Ls).filter(([B, X]) => w || !("unlisted" in X) || !X.unlisted || B === "mod" && j ? !0 : D(B)),
            I = y || !p;
        return t.jsxs(Je, {
            ref: h,
            sx: B => ({
                position: "fixed",
                bottom: "100px",
                left: "5%",
                width: "90%",
                maxWidth: "240px",
                maxHeight: "400px",
                zIndex: 2100,
                backgroundColor: B.palette.background.paper,
                borderRadius: B.spacing(1),
                boxShadow: B.shadows[8],
                overflow: "hidden"
            }),
            children: [t.jsxs(_0, {
                value: r,
                onChange: (B, X) => l(X),
                variant: "fullWidth",
                sx: B => ({
                    borderBottom: `1px solid ${B.palette.divider}`,
                    minHeight: "auto",
                    "& .MuiTab-root": {
                        minHeight: "auto",
                        padding: B.spacing(1),
                        fontSize: "0.75rem",
                        fontWeight: "bold"
                    }
                }),
                children: [t.jsx(Ts, {
                    label: "Emojis"
                }), t.jsx(Ts, {
                    label: "Badges"
                })]
            }), d && t.jsx(it, {
                severity: d.includes("Error") ? "error" : "success",
                sx: {
                    margin: 1,
                    padding: "4px 8px",
                    fontSize: "0.75rem"
                },
                children: d
            }), t.jsx(T, {
                sx: B => ({
                    padding: B.spacing(1),
                    maxHeight: "300px",
                    overflow: "auto"
                }),
                children: I ? t.jsxs(T, {
                    sx: {
                        display: "flex",
                        flexDirection: "column",
                        alignItems: "center",
                        justifyContent: "center",
                        padding: 2,
                        gap: 1
                    },
                    children: [t.jsx(ws, {
                        size: 24
                    }), t.jsx($, {
                        variant: "caption",
                        children: "Loading..."
                    })]
                }) : x ? t.jsx(it, {
                    severity: "error",
                    children: t.jsxs($, {
                        variant: "caption",
                        children: ["Error: ", x]
                    })
                }) : r === 0 ? t.jsx(T, {
                    sx: {
                        display: "grid",
                        gridTemplateColumns: "repeat(4, 1fr)",
                        gap: .5
                    },
                    children: Object.entries(El).map(([B, X]) => t.jsx(L0, {
                        title: k(B) ? `:${B}:` : X.description,
                        arrow: !0,
                        children: t.jsxs(T, {
                            onClick: () => A(B),
                            sx: O => ({
                                position: "relative",
                                aspectRatio: "1",
                                display: "flex",
                                alignItems: "center",
                                justifyContent: "center",
                                backgroundColor: O.palette.background.default,
                                borderRadius: O.spacing(.5),
                                cursor: k(B) ? "pointer" : "not-allowed",
                                opacity: k(B) ? 1 : .5,
                                border: `1px solid ${O.palette.divider}`,
                                "&:hover": {
                                    backgroundColor: k(B) ? O.palette.action.hover : O.palette.background.default
                                }
                            }),
                            children: [t.jsx(T, {
                                component: "img",
                                src: `/emojis/${X.file}`,
                                alt: B,
                                sx: {
                                    width: "80%",
                                    height: "80%",
                                    objectFit: "contain"
                                }
                            }), !k(B) && t.jsx(T, {
                                sx: {
                                    position: "absolute",
                                    top: 0,
                                    right: 0,
                                    backgroundColor: "rgba(0, 0, 0, 0.7)",
                                    borderRadius: "50%",
                                    padding: "2px"
                                },
                                children: t.jsx(r0, {
                                    size: 8,
                                    color: "white"
                                })
                            })]
                        })
                    }, B))
                }) : t.jsxs(T, {
                    sx: {
                        display: "flex",
                        flexDirection: "column",
                        gap: 1
                    },
                    children: [P().map(([B, X]) => t.jsxs(T, {
                        onClick: () => _(B),
                        sx: O => ({
                            position: "relative",
                            cursor: D(B) ? "pointer" : "not-allowed",
                            opacity: D(B) ? 1 : .5,
                            display: "flex",
                            alignItems: "flex-start",
                            gap: 1,
                            padding: O.spacing(.5),
                            "&:hover": {
                                backgroundColor: D(B) ? O.palette.action.hover : "transparent"
                            }
                        }),
                        children: [t.jsxs(T, {
                            sx: {
                                display: "flex",
                                flexDirection: "column",
                                alignItems: "flex-start",
                                gap: .5
                            },
                            children: [t.jsxs(T, {
                                display: "flex",
                                alignItems: "center",
                                gap: .5,
                                padding: "4px 8px",
                                borderRadius: "4px",
                                sx: {
                                    background: X.gradient || "linear-gradient(90deg, #FB2C36 0%, #FFC700 100%)",
                                    color: "white",
                                    fontSize: "9px",
                                    fontWeight: "bold",
                                    width: "fit-content",
                                    border: E(B) ? "2px solid white" : "none"
                                },
                                children: [X.image && X.image !== "none" && t.jsx(T, {
                                    component: "img",
                                    src: `/tags/${X.image}`,
                                    alt: "",
                                    sx: {
                                        width: 12,
                                        height: 12
                                    }
                                }), t.jsx($, {
                                    variant: "caption",
                                    sx: {
                                        fontSize: "9px",
                                        fontWeight: "bold"
                                    },
                                    children: X.name
                                })]
                            }), t.jsxs($, {
                                variant: "caption",
                                sx: {
                                    fontSize: "0.7rem",
                                    color: E(B) ? "primary.main" : "text.secondary",
                                    fontWeight: E(B) ? "bold" : "normal"
                                },
                                children: [X.name, " ", E(B) && "(Active)"]
                            })]
                        }), !D(B) && t.jsx(T, {
                            sx: {
                                position: "absolute",
                                top: 4,
                                right: 4,
                                backgroundColor: "rgba(0, 0, 0, 0.7)",
                                borderRadius: "50%",
                                padding: "2px"
                            },
                            children: t.jsx(r0, {
                                size: 8,
                                color: "white"
                            })
                        })]
                    }, B)), (p == null ? void 0 : p.activeBadge) && t.jsx(Te, {
                        onClick: () => _(null),
                        variant: "outlined",
                        size: "small",
                        fullWidth: !0,
                        sx: {
                            textTransform: "none",
                            fontSize: "0.75rem"
                        },
                        children: "Remove Badge"
                    }), p && p.unlockedBadges.length === 0 && t.jsxs(T, {
                        sx: {
                            textAlign: "center",
                            padding: 2
                        },
                        children: [t.jsx($, {
                            variant: "caption",
                            sx: {
                                color: "text.secondary",
                                display: "block",
                                marginBottom: .5
                            },
                            children: "No badges unlocked yet."
                        }), t.jsx($, {
                            variant: "caption",
                            sx: {
                                color: "text.secondary",
                                fontSize: "0.7rem",
                                fontStyle: "italic"
                            },
                            children: "Reach Tier 25 in Rugpass to unlock badges."
                        })]
                    })]
                })
            })]
        })
    };

function s4({
    room: e,
    disabled: s,
    onHelpCommand: a,
    onModerationCommand: r
}) {
    const l = m.useRef(null),
        d = jn(),
        u = Yy(),
        h = Se(Ge.selectCurrent),
        f = K => u.sendMessage(K),
        [p, y] = m.useState(""),
        [x, S] = m.useState(!1),
        [v, C] = m.useState(""),
        [w, j] = m.useState(!1),
        [A, _] = m.useState(""),
        [k, D] = m.useState(!1),
        [E, P] = m.useState(!1),
        I = () => localStorage.getItem("chat_rules_accepted") === "true",
        B = () => {
            localStorage.setItem("chat_rules_accepted", "true"), D(!1)
        },
        X = K => {
            if (K.preventDefault(), p.length === 0) return;
            const z = p.trim();
            if (z === "/help" && a) {
                a(), y("");
                return
            }
            if (z.startsWith("/") && r) {
                r(z), y("");
                return
            }
            f(z), y("")
        },
        O = async K => {
            if (K.preventDefault(), _(""), j(!0), !v || v.trim() === "") {
                _("Username cannot be empty"), j(!1);
                return
            }
            if (v.length < 3 || v.length > 16) {
                _("Username must be between 3 and 16 characters"), j(!1);
                return
            }
            if (!/^[a-zA-Z0-9]+$/.test(v)) {
                _("Username can only contain letters and numbers"), j(!1);
                return
            }
            try {
                d.setUsername(v)
            } catch (z) {
                console.error("Error setting username:", z), _("Failed to set username. Please try again."), j(!1)
            }
        };
    m.useEffect(() => {
        w && (h != null && h.username) && (j(!1), C(""))
    }, [w, h == null ? void 0 : h.username]), m.useEffect(() => {
        if (w) {
            const K = setTimeout(() => {
                _("No response from server. Please try again."), j(!1)
            }, 1e4);
            return () => clearTimeout(K)
        }
    }, [w]), m.useEffect(() => {
        const K = !!(h != null && h.id),
            z = !(!(h != null && h.username) || (h == null ? void 0 : h.username.toLowerCase()) === "anonymous" || (h == null ? void 0 : h.username.toLowerCase()) === "anon");
        K && z && !I() && D(!0)
    }, [h == null ? void 0 : h.id, h == null ? void 0 : h.username]);
    const L = K => {
            if (!l.current) return;
            const z = l.current.selectionStart || 0,
                U = p,
                V = U.substring(0, z) + K + U.substring(z);
            y(V), S(!1), setTimeout(() => {
                if (l.current) {
                    l.current.focus();
                    const W = z + K.length;
                    l.current.setSelectionRange(W, W)
                }
            }, 0)
        },
        F = () => {
            P(!0)
        },
        Y = !!(h != null && h.id),
        H = !(!(h != null && h.username) || (h == null ? void 0 : h.username.toLowerCase()) === "anonymous" || (h == null ? void 0 : h.username.toLowerCase()) === "anon");
    return Y ? H ? k ? t.jsxs(T, {
        className: "chat-input-wrapper",
        sx: {
            display: "flex",
            flexDirection: "column",
            width: "100%",
            maxWidth: "100%",
            overflowX: "hidden",
            boxSizing: "border-box"
        },
        children: [t.jsxs(T, {
            className: "chat-rules-popup",
            sx: {
                display: "flex",
                flexDirection: "column",
                padding: "16px",
                width: "100%",
                maxWidth: "100%",
                boxSizing: "border-box",
                backgroundColor: "#222222",
                borderTop: "2px solid #00c137"
            },
            children: [t.jsx(T, {
                sx: {
                    color: "white",
                    fontSize: "16px",
                    fontFamily: '"DynaPuff", sans-serif',
                    fontWeight: "bold",
                    marginBottom: "12px",
                    textAlign: "center"
                },
                children: "Chat Rules"
            }), t.jsx(T, {
                sx: {
                    color: "#DDDDDD",
                    fontSize: "12px",
                    fontFamily: '"DynaPuff", sans-serif',
                    marginBottom: "16px",
                    lineHeight: "1.4"
                },
                children: t.jsxs(T, {
                    component: "ul",
                    sx: {
                        margin: 0,
                        paddingLeft: "16px",
                        listStyle: "none"
                    },
                    children: [t.jsxs(T, {
                        component: "li",
                        sx: {
                            display: "flex",
                            alignItems: "flex-start",
                            marginBottom: "8px"
                        },
                        children: [t.jsx(T, {
                            sx: {
                                color: "#00c137",
                                fontWeight: "bold",
                                marginRight: "8px"
                            },
                            children: "•"
                        }), t.jsxs(T, {
                            children: [t.jsx(T, {
                                component: "strong",
                                sx: {
                                    color: "white"
                                },
                                children: "No begging."
                            }), " You wouldn't sit at a blackjack table and beg for free chips, would you?"]
                        })]
                    }), t.jsxs(T, {
                        component: "li",
                        sx: {
                            display: "flex",
                            alignItems: "flex-start",
                            marginBottom: "8px"
                        },
                        children: [t.jsx(T, {
                            sx: {
                                color: "#00c137",
                                fontWeight: "bold",
                                marginRight: "8px"
                            },
                            children: "•"
                        }), t.jsxs(T, {
                            children: [t.jsx(T, {
                                component: "strong",
                                sx: {
                                    color: "white"
                                },
                                children: "No sharing referral links."
                            }), " Earnings are only paid out for new players anyways; try X, PumpFun, or other sites."]
                        })]
                    }), t.jsxs(T, {
                        component: "li",
                        sx: {
                            display: "flex",
                            alignItems: "flex-start",
                            marginBottom: "8px"
                        },
                        children: [t.jsx(T, {
                            sx: {
                                color: "#00c137",
                                fontWeight: "bold",
                                marginRight: "8px"
                            },
                            children: "•"
                        }), t.jsxs(T, {
                            children: [t.jsx(T, {
                                component: "strong",
                                sx: {
                                    color: "white"
                                },
                                children: "You MAY share links to your posts/livestreams"
                            }), ", but please keep it to a minimum."]
                        })]
                    })]
                })
            }), t.jsx(Te, {
                onClick: B,
                sx: {
                    backgroundColor: "#00c137",
                    color: "white",
                    fontFamily: '"DynaPuff", sans-serif',
                    fontSize: "14px",
                    fontWeight: "bold",
                    padding: "12px 16px",
                    borderRadius: "6px",
                    border: "none",
                    cursor: "pointer",
                    transition: "background-color 0.2s ease",
                    textTransform: "none",
                    minWidth: "auto",
                    "&:hover": {
                        backgroundColor: "#00a82d"
                    }
                },
                children: "I Accept"
            })]
        }), t.jsxs(T, {
            className: "chat-footer",
            sx: {
                display: "flex",
                justifyContent: "space-between",
                alignItems: "center",
                padding: "8px 12px",
                background: "transparent"
            },
            children: [t.jsx(T, {
                className: "chat-footer-left",
                sx: {
                    display: "flex",
                    alignItems: "center"
                },
                children: t.jsx(Te, {
                    onClick: F,
                    className: "chat-footer-rules-button",
                    variant: "text",
                    size: "small",
                    sx: {
                        background: "none",
                        border: "none",
                        color: "var(--color-muted-foreground)",
                        fontSize: "0.75rem",
                        cursor: "pointer",
                        fontFamily: '"DynaPuff", sans-serif',
                        transition: "color 0.2s ease",
                        minWidth: "auto",
                        padding: 0,
                        textTransform: "none",
                        "&:hover": {
                            color: "var(--color-foreground)",
                            backgroundColor: "transparent"
                        }
                    },
                    children: "Chat Rules"
                })
            }), t.jsxs(T, {
                className: "chat-footer-right",
                sx: {
                    display: "flex",
                    alignItems: "center",
                    gap: "12px"
                },
                children: [t.jsx(qc, {}), t.jsx(Vc, {})]
            })]
        })]
    }) : t.jsxs(T, {
        className: "chat-input-wrapper",
        sx: {
            display: "flex",
            flexDirection: "column",
            width: "100%",
            maxWidth: "100%",
            overflowX: "hidden",
            boxSizing: "border-box"
        },
        children: [t.jsx(T, {
            component: "form",
            onSubmit: X,
            className: "chat-input-form",
            sx: {
                display: "flex",
                padding: "8px 12px",
                width: "100%",
                maxWidth: "100%",
                boxSizing: "border-box",
                overflowX: "hidden"
            },
            children: t.jsxs(T, {
                className: "chat-input-container",
                sx: {
                    position: "relative",
                    flex: 1,
                    display: "flex",
                    alignItems: "center",
                    minWidth: 0,
                    maxWidth: "100%"
                },
                children: [t.jsx(et, {
                    inputRef: l,
                    type: "text",
                    value: p,
                    onChange: K => y(K.target.value),
                    placeholder: p === "" ? "_" : "",
                    inputProps: {
                        maxLength: 250
                    },
                    className: "chat-input-field",
                    variant: "outlined",
                    fullWidth: !0,
                    size: "small",
                    sx: {
                        width: "100%",
                        maxWidth: "100%",
                        minWidth: 0,
                        "& .MuiOutlinedInput-root": {
                            width: "100%",
                            maxWidth: "100%",
                            minWidth: 0,
                            padding: "10px 40px 10px 12px",
                            borderRadius: "6px",
                            border: "1px solid #444444",
                            fontSize: "16px",
                            backgroundColor: "var(--color-background)",
                            color: "white",
                            fontFamily: '"DynaPuff", sans-serif',
                            WebkitAppearance: "none",
                            transition: "border-color 0.2s ease",
                            boxSizing: "border-box",
                            overflow: "hidden",
                            "& fieldset": {
                                display: "none"
                            },
                            "&:hover": {
                                borderColor: "#444444"
                            },
                            "&.Mui-focused": {
                                borderColor: "#00c137"
                            }
                        },
                        "& .MuiOutlinedInput-input": {
                            padding: 0,
                            color: "white",
                            fontSize: "16px",
                            fontFamily: '"DynaPuff", sans-serif',
                            width: "100%",
                            maxWidth: "100%",
                            minWidth: 0,
                            boxSizing: "border-box",
                            overflow: "hidden",
                            textOverflow: "ellipsis",
                            "&::placeholder": {
                                color: "#999",
                                opacity: 1,
                                animation: "blink 1s infinite"
                            }
                        }
                    }
                }), t.jsx(Rt, {
                    type: "button",
                    className: "chat-input-emoji-button",
                    onClick: () => S(!x),
                    sx: {
                        position: "absolute",
                        right: "8px",
                        top: "50%",
                        transform: "translateY(-50%)",
                        opacity: .7,
                        background: "none",
                        border: "none",
                        cursor: "pointer",
                        borderRadius: "50%",
                        padding: "4px",
                        transition: "opacity 0.2s ease",
                        "&:hover": {
                            opacity: 1
                        }
                    },
                    children: t.jsx(T, {
                        component: "img",
                        src: "/icons/emojibutton.png",
                        alt: "Emoji",
                        className: "chat-input-emoji-icon",
                        sx: {
                            width: "20px",
                            height: "20px"
                        }
                    })
                }), x && t.jsx(n4, {
                    onEmojiSelect: L,
                    onClose: () => S(!1),
                    inputRef: l
                })]
            })
        }), t.jsxs(T, {
            className: "chat-footer",
            sx: {
                display: "flex",
                justifyContent: "space-between",
                alignItems: "center",
                padding: "8px 12px",
                background: "transparent"
            },
            children: [t.jsx(T, {
                className: "chat-footer-left",
                sx: {
                    display: "flex",
                    alignItems: "center"
                },
                children: t.jsx(Te, {
                    onClick: F,
                    className: "chat-footer-rules-button",
                    variant: "text",
                    size: "small",
                    sx: {
                        background: "none",
                        border: "none",
                        color: "var(--color-muted-foreground)",
                        fontSize: "0.75rem",
                        cursor: "pointer",
                        fontFamily: '"DynaPuff", sans-serif',
                        transition: "color 0.2s ease",
                        minWidth: "auto",
                        padding: 0,
                        textTransform: "none",
                        "&:hover": {
                            color: "var(--color-foreground)",
                            backgroundColor: "transparent"
                        }
                    },
                    children: "Chat Rules"
                })
            }), t.jsxs(T, {
                className: "chat-footer-right",
                sx: {
                    display: "flex",
                    alignItems: "center",
                    gap: "12px"
                },
                children: [t.jsx(qc, {}), t.jsx(Vc, {})]
            })]
        }), E && t.jsx(T, {
            className: "chat-rules-modal-overlay",
            sx: {
                position: "absolute",
                top: 0,
                left: 0,
                right: 0,
                bottom: 0,
                backgroundColor: "rgba(0, 0, 0, 0.7)",
                display: "flex",
                alignItems: "flex-end",
                justifyContent: "center",
                zIndex: 1e3
            },
            onClick: () => P(!1),
            children: t.jsxs(T, {
                className: "chat-rules-modal-content",
                sx: {
                    backgroundColor: "#222222",
                    borderTop: "2px solid #00c137",
                    width: "100%",
                    padding: "16px",
                    maxHeight: "70vh",
                    overflowY: "auto"
                },
                onClick: K => K.stopPropagation(),
                children: [t.jsx(T, {
                    sx: {
                        color: "white",
                        fontSize: "16px",
                        fontFamily: '"DynaPuff", sans-serif',
                        fontWeight: "bold",
                        marginBottom: "12px",
                        textAlign: "center"
                    },
                    children: "Chat Rules"
                }), t.jsx(T, {
                    sx: {
                        color: "#DDDDDD",
                        fontSize: "12px",
                        fontFamily: '"DynaPuff", sans-serif',
                        marginBottom: "16px",
                        lineHeight: "1.4"
                    },
                    children: t.jsxs(T, {
                        component: "ul",
                        sx: {
                            margin: 0,
                            paddingLeft: "16px",
                            listStyle: "none"
                        },
                        children: [t.jsxs(T, {
                            component: "li",
                            sx: {
                                display: "flex",
                                alignItems: "flex-start",
                                marginBottom: "8px"
                            },
                            children: [t.jsx(T, {
                                sx: {
                                    color: "#00c137",
                                    fontWeight: "bold",
                                    marginRight: "8px"
                                },
                                children: "•"
                            }), t.jsxs(T, {
                                children: [t.jsx(T, {
                                    component: "strong",
                                    sx: {
                                        color: "white"
                                    },
                                    children: "No begging."
                                }), " You wouldn't sit at a blackjack table and beg for free chips, would you?"]
                            })]
                        }), t.jsxs(T, {
                            component: "li",
                            sx: {
                                display: "flex",
                                alignItems: "flex-start",
                                marginBottom: "8px"
                            },
                            children: [t.jsx(T, {
                                sx: {
                                    color: "#00c137",
                                    fontWeight: "bold",
                                    marginRight: "8px"
                                },
                                children: "•"
                            }), t.jsxs(T, {
                                children: [t.jsx(T, {
                                    component: "strong",
                                    sx: {
                                        color: "white"
                                    },
                                    children: "No sharing referral links."
                                }), " Earnings are only paid out for new players anyways; try X, PumpFun, or other sites."]
                            })]
                        }), t.jsxs(T, {
                            component: "li",
                            sx: {
                                display: "flex",
                                alignItems: "flex-start",
                                marginBottom: "8px"
                            },
                            children: [t.jsx(T, {
                                sx: {
                                    color: "#00c137",
                                    fontWeight: "bold",
                                    marginRight: "8px"
                                },
                                children: "•"
                            }), t.jsxs(T, {
                                children: [t.jsx(T, {
                                    component: "strong",
                                    sx: {
                                        color: "white"
                                    },
                                    children: "You MAY share links to your posts/livestreams"
                                }), ", but please keep it to a minimum."]
                            })]
                        })]
                    })
                }), t.jsx(Te, {
                    onClick: () => P(!1),
                    sx: {
                        backgroundColor: "#333333",
                        color: "white",
                        fontFamily: '"DynaPuff", sans-serif',
                        fontSize: "14px",
                        fontWeight: "bold",
                        padding: "12px 16px",
                        borderRadius: "6px",
                        border: "none",
                        cursor: "pointer",
                        transition: "background-color 0.2s ease",
                        textTransform: "none",
                        minWidth: "auto",
                        width: "100%",
                        "&:hover": {
                            backgroundColor: "#444444"
                        }
                    },
                    children: "Close"
                })]
            })
        })]
    }) : t.jsxs(T, {
        className: "chat-input-wrapper",
        sx: {
            display: "flex",
            flexDirection: "column",
            width: "100%",
            maxWidth: "100%",
            overflowX: "hidden",
            boxSizing: "border-box"
        },
        children: [t.jsxs(T, {
            className: "chat-username-setup",
            sx: {
                display: "flex",
                flexDirection: "column",
                padding: "12px",
                width: "100%",
                maxWidth: "100%",
                boxSizing: "border-box"
            },
            children: [t.jsx(T, {
                sx: {
                    color: "var(--color-muted-foreground)",
                    fontSize: "14px",
                    fontFamily: '"DynaPuff", sans-serif',
                    marginBottom: "8px",
                    textAlign: "center"
                },
                children: "Set a username to chat"
            }), t.jsxs(T, {
                component: "form",
                onSubmit: O,
                sx: {
                    display: "flex",
                    flexDirection: "column",
                    gap: "8px",
                    width: "100%"
                },
                children: [t.jsxs(T, {
                    children: [t.jsx(et, {
                        type: "text",
                        value: v,
                        onChange: K => C(K.target.value),
                        placeholder: "Enter username",
                        inputProps: {
                            maxLength: 16
                        },
                        variant: "outlined",
                        fullWidth: !0,
                        size: "small",
                        sx: {
                            "& .MuiOutlinedInput-root": {
                                padding: "10px 12px",
                                borderRadius: "6px",
                                border: `1px solid ${A?"#ff4444":"#444444"}`,
                                fontSize: "16px",
                                backgroundColor: "var(--color-background)",
                                color: "white",
                                fontFamily: '"DynaPuff", sans-serif',
                                transition: "border-color 0.2s ease",
                                "& fieldset": {
                                    display: "none"
                                },
                                "&:hover": {
                                    borderColor: A ? "#ff4444" : "#444444"
                                },
                                "&.Mui-focused": {
                                    borderColor: A ? "#ff4444" : "#00c137"
                                }
                            },
                            "& .MuiOutlinedInput-input": {
                                padding: 0,
                                color: "white",
                                fontSize: "16px",
                                fontFamily: '"DynaPuff", sans-serif',
                                "&::placeholder": {
                                    color: "#999",
                                    opacity: 1
                                }
                            }
                        }
                    }), A && t.jsx(T, {
                        sx: {
                            color: "#ff4444",
                            fontSize: "12px",
                            fontFamily: '"DynaPuff", sans-serif',
                            marginTop: "4px"
                        },
                        children: A
                    })]
                }), t.jsx(Te, {
                    type: "submit",
                    disabled: w,
                    sx: {
                        backgroundColor: "#00c137",
                        color: "white",
                        fontFamily: '"DynaPuff", sans-serif',
                        fontSize: "14px",
                        fontWeight: "bold",
                        padding: "10px 16px",
                        borderRadius: "6px",
                        border: "none",
                        cursor: "pointer",
                        transition: "background-color 0.2s ease",
                        textTransform: "none",
                        minWidth: "auto",
                        "&:hover": {
                            backgroundColor: "#00a82d"
                        },
                        "&:disabled": {
                            backgroundColor: "#666",
                            cursor: "not-allowed"
                        }
                    },
                    children: w ? "Setting..." : "Set Username"
                })]
            })]
        }), t.jsxs(T, {
            className: "chat-footer",
            sx: {
                display: "flex",
                justifyContent: "space-between",
                alignItems: "center",
                padding: "8px 12px",
                background: "transparent"
            },
            children: [t.jsx(T, {
                className: "chat-footer-left",
                sx: {
                    display: "flex",
                    alignItems: "center"
                },
                children: t.jsx(Te, {
                    onClick: F,
                    className: "chat-footer-rules-button",
                    variant: "text",
                    size: "small",
                    sx: {
                        background: "none",
                        border: "none",
                        color: "var(--color-muted-foreground)",
                        fontSize: "0.75rem",
                        cursor: "pointer",
                        fontFamily: '"DynaPuff", sans-serif',
                        transition: "color 0.2s ease",
                        minWidth: "auto",
                        padding: 0,
                        textTransform: "none",
                        "&:hover": {
                            color: "var(--color-foreground)",
                            backgroundColor: "transparent"
                        }
                    },
                    children: "Chat Rules"
                })
            }), t.jsxs(T, {
                className: "chat-footer-right",
                sx: {
                    display: "flex",
                    alignItems: "center",
                    gap: "12px"
                },
                children: [t.jsx(qc, {}), t.jsx(Vc, {})]
            })]
        })]
    }) : t.jsxs(T, {
        className: "chat-input-wrapper",
        sx: {
            display: "flex",
            flexDirection: "column",
            width: "100%",
            maxWidth: "100%",
            overflowX: "hidden",
            boxSizing: "border-box"
        },
        children: [t.jsx(T, {
            className: "chat-input-form",
            sx: {
                display: "flex",
                justifyContent: "center",
                alignItems: "center",
                padding: "16px 12px",
                width: "100%",
                maxWidth: "100%",
                boxSizing: "border-box",
                color: "var(--color-muted-foreground)",
                fontSize: "16px",
                fontFamily: '"DynaPuff", sans-serif'
            },
            children: "Please connect wallet to chat"
        }), t.jsxs(T, {
            className: "chat-footer",
            sx: {
                display: "flex",
                justifyContent: "space-between",
                alignItems: "center",
                padding: "8px 12px",
                background: "transparent"
            },
            children: [t.jsx(T, {
                className: "chat-footer-left",
                sx: {
                    display: "flex",
                    alignItems: "center"
                },
                children: t.jsx(Te, {
                    onClick: F,
                    className: "chat-footer-rules-button",
                    variant: "text",
                    size: "small",
                    sx: {
                        background: "none",
                        border: "none",
                        color: "var(--color-muted-foreground)",
                        fontSize: "0.75rem",
                        cursor: "pointer",
                        fontFamily: '"DynaPuff", sans-serif',
                        transition: "color 0.2s ease",
                        minWidth: "auto",
                        padding: 0,
                        textTransform: "none",
                        "&:hover": {
                            color: "var(--color-foreground)",
                            backgroundColor: "transparent"
                        }
                    },
                    children: "Chat Rules"
                })
            }), t.jsxs(T, {
                className: "chat-footer-right",
                sx: {
                    display: "flex",
                    alignItems: "center",
                    gap: "12px"
                },
                children: [t.jsx(qc, {}), t.jsx(Vc, {})]
            })]
        })]
    })
}
const i4 = e => s => Ge.selectById(s, e),
    a4 = e => I0([i4(e)], s => {
        var a, r;
        return {
            username: s == null ? void 0 : s.username,
            level: (a = s == null ? void 0 : s.levelInfo) == null ? void 0 : a.level,
            verified: s == null ? void 0 : s.verified,
            discordUsername: (r = s == null ? void 0 : s.discord) == null ? void 0 : r.username,
            role: s == null ? void 0 : s.role,
            tag: s == null ? void 0 : s.tag
        }
    }),
    S0 = e => {
        const s = e.every(l => l.type === "emoji"),
            a = e.filter(l => l.type === "emoji").length,
            r = s && a <= 3;
        return e.map((l, d) => {
            if (l.type === "text") return t.jsx("span", {
                children: l.content
            }, d);
            if (l.emojiInfo) {
                const f = (l.emojiInfo.size || 1) * (r ? 2 : 1);
                return t.jsx(T, {
                    component: "img",
                    src: `/emojis/${l.emojiInfo.file}`,
                    alt: `:${l.emojiInfo.id}:`,
                    sx: {
                        height: `${f*1.3}em`,
                        verticalAlign: "middle",
                        margin: "0 0.05em",
                        display: "inline-block"
                    }
                }, d)
            }
            return null
        })
    },
    r4 = ({
        level: e
    }) => {
        const s = Mf(e);
        return t.jsxs(T, {
            borderRadius: "4px",
            overflow: "hidden",
            display: "flex",
            alignItems: "center",
            justifyContent: "center",
            height: 24,
            width: 50,
            sx: {
                padding: "2px 4px",
                background: s.color
            },
            children: [t.jsx("img", {
                src: s.image,
                alt: `Level ${e} Badge`,
                width: 24,
                height: 24
            }), t.jsx($, {
                sx: {
                    fontSize: 12,
                    fontWeight: "regular",
                    color: "#FAFAFA",
                    letterSpacing: "-0.02em",
                    p: .25
                },
                children: e
            })]
        })
    },
    o4 = m.memo(({
        message: e,
        userId: s,
        onUsernameClick: a
    }) => {
        var C, w, j, A, _;
        const r = m.useMemo(() => a4(e.playerId), [e.playerId]),
            {
                username: l,
                level: d,
                verified: u,
                discordUsername: h,
                role: f,
                tag: p
            } = Se(r),
            y = Se(Ge.selectCosmeticsData),
            x = m.useMemo(() => e.playerId === s && (y != null && y.unlockedEmojis) ? y.unlockedEmojis.map(k => k.id) : [], [e.playerId, s, y]),
            S = () => {
                e.playerId === s || e.playerId === "system" || !a || a({
                    playerId: e.playerId,
                    username: l || "Anon",
                    level: d || 0,
                    role: f,
                    verified: u,
                    discordUsername: h
                })
            },
            v = () => e.playerId === s || e.playerId === "system" ? "#FFFFFF" : f === "admin" ? "#FF1744" : f === "mod" ? "#2196F3" : "#FFFFFF";
        return e.playerId === "system" ? t.jsx(Yn, {
            children: t.jsxs(T, {
                className: "chat-system-message",
                sx: {
                    position: "relative",
                    width: "100%",
                    maxWidth: "100%",
                    display: "flex",
                    flexDirection: "column",
                    alignItems: "center",
                    textAlign: "center",
                    padding: "6px 8px",
                    overflowX: "hidden",
                    boxSizing: "border-box"
                },
                children: [t.jsx($, {
                    variant: "caption",
                    className: "chat-system-message-username",
                    sx: {
                        fontSize: "12px",
                        lineHeight: "100%",
                        letterSpacing: "-0.02em",
                        color: "var(--color-primary)",
                        fontWeight: 600,
                        marginBottom: "2px"
                    },
                    children: "System"
                }), t.jsx(T, {
                    className: "chat-system-message-text",
                    sx: {
                        wordWrap: "break-word",
                        overflowWrap: "break-word",
                        whiteSpace: "pre-wrap",
                        fontSize: "12px",
                        lineHeight: "100%",
                        letterSpacing: "-0.02em",
                        color: "var(--color-primary)",
                        fontStyle: "italic"
                    },
                    children: S0(hf(e.message, []))
                })]
            })
        }) : t.jsxs(T, {
            sx: {
                display: "flex",
                flexDirection: "row",
                alignItems: "flex-start",
                gap: "10px",
                width: "100%",
                padding: "6px 8px"
            },
            children: [t.jsx(T, {
                sx: {
                    width: "50px",
                    height: "24px",
                    display: "flex",
                    alignItems: "center",
                    justifyContent: "center",
                    borderRadius: "4px",
                    position: "relative",
                    overflow: "hidden"
                },
                children: t.jsx(r4, {
                    level: d || 0
                })
            }), t.jsxs(T, {
                sx: {
                    display: "flex",
                    flexDirection: "column",
                    gap: "2px",
                    flex: 1,
                    minWidth: 0,
                    maxWidth: "100%"
                },
                children: [t.jsxs(T, {
                    sx: {
                        display: "flex",
                        alignItems: "center",
                        gap: "4px",
                        marginBottom: .5,
                        flexWrap: "wrap"
                    },
                    children: [t.jsx($, {
                        component: "span",
                        className: `chat-message-username ${e.playerId!==s&&e.playerId!=="system"?"chat-message-username--clickable":e.playerId===s?"chat-message-username--self":"chat-message-username--system"}`,
                        onClick: S,
                        sx: {
                            wordWrap: "break-word",
                            overflowWrap: "break-word",
                            fontSize: "12px",
                            lineHeight: "100%",
                            letterSpacing: "-0.02em",
                            color: v(),
                            maxWidth: "100px",
                            overflow: "hidden",
                            textOverflow: "ellipsis",
                            whiteSpace: "nowrap",
                            cursor: e.playerId !== s && e.playerId !== "system" ? "pointer" : "default",
                            transition: "text-decoration 0.2s ease",
                            "&:hover": {
                                textDecoration: e.playerId !== s && e.playerId !== "system" ? "underline" : "none"
                            }
                        },
                        children: l || "Anon"
                    }), u && t.jsx(T, {
                        component: "span",
                        title: `Verified Discord user: ${h||"Connected"}`,
                        sx: {
                            color: "#BB86FC",
                            fontSize: "10px",
                            display: "flex",
                            alignItems: "center"
                        },
                        children: t.jsx(zf, {
                            size: 12
                        })
                    }), p && p !== "hidden" && t.jsx(Qn, {
                        size: "small",
                        label: t.jsxs(T, {
                            sx: {
                                display: "flex",
                                alignItems: "center",
                                gap: .5
                            },
                            children: [((C = Ls[p]) == null ? void 0 : C.image) && ((w = Ls[p]) == null ? void 0 : w.image) !== "none" && t.jsx(T, {
                                component: "img",
                                src: `/tags/${(j=Ls[p])==null?void 0:j.image}`,
                                alt: "",
                                sx: {
                                    width: 12,
                                    height: 12
                                }
                            }), t.jsx($, {
                                variant: "caption",
                                sx: {
                                    fontSize: "9px",
                                    fontWeight: "bold"
                                },
                                children: ((A = Ls[p]) == null ? void 0 : A.name) || p
                            })]
                        }),
                        sx: {
                            height: "16px",
                            background: ((_ = Ls[p]) == null ? void 0 : _.gradient) || "linear-gradient(90deg, #FB2C36 0%, #FFC700 100%)",
                            color: "white",
                            fontWeight: "bold",
                            border: "border" in (Ls[p] || {}) ? Ls[p].border : "none",
                            borderRadius: "borderRadius" in (Ls[p] || {}) ? Ls[p].borderRadius : "4px",
                            "& .MuiChip-label": {
                                padding: "0 6px"
                            }
                        }
                    })]
                }), t.jsx(T, {
                    className: "chat-message-text",
                    sx: {
                        wordWrap: "break-word",
                        overflowWrap: "break-word",
                        whiteSpace: "pre-wrap",
                        fontSize: "12px",
                        lineHeight: "100%",
                        letterSpacing: "-0.02em",
                        color: "#9ca3af"
                    },
                    children: S0(hf(e.message, x))
                })]
            })]
        })
    }),
    l4 = ({
        username: e,
        playerId: s,
        onTimeout: a,
        onClose: r
    }) => {
        bt();
        const l = nn(),
            [d, u] = m.useState(!1),
            [h, f] = m.useState(""),
            p = x => {
                s && l.timeoutPlayer({
                    playerId: s,
                    duration: x,
                    reason: "No reason provided"
                }, S => {
                    console.log(S)
                }), a(x), r()
            },
            y = () => {
                const x = parseInt(h);
                !isNaN(x) && x > 0 && p(x)
            };
        return t.jsx("div", {
            className: "chat-timeout-modal",
            onClick: x => x.stopPropagation(),
            children: t.jsxs("div", {
                className: "chat-timeout-modal-content",
                onClick: x => x.stopPropagation(),
                children: [t.jsxs("div", {
                    className: "chat-timeout-modal-title",
                    children: ["Timeout @", e]
                }), d ? t.jsxs("div", {
                    className: "chat-timeout-custom-section",
                    children: [t.jsx("input", {
                        type: "number",
                        min: "1",
                        value: h,
                        onChange: x => f(x.target.value),
                        onClick: x => x.stopPropagation(),
                        placeholder: "Duration in seconds",
                        className: "chat-timeout-custom-input"
                    }), t.jsxs("div", {
                        className: "chat-timeout-custom-actions",
                        children: [t.jsx("button", {
                            onClick: x => {
                                x.stopPropagation(), y()
                            },
                            className: "chat-timeout-custom-apply",
                            children: "Apply Timeout"
                        }), t.jsx("button", {
                            onClick: x => {
                                x.stopPropagation(), u(!1)
                            },
                            className: "chat-timeout-custom-back",
                            children: "Back"
                        })]
                    })]
                }) : t.jsxs("div", {
                    className: "chat-timeout-buttons-grid",
                    children: [t.jsx("button", {
                        onClick: x => {
                            x.stopPropagation(), p(60)
                        },
                        className: "chat-timeout-button",
                        children: "1 Minute"
                    }), t.jsx("button", {
                        onClick: x => {
                            x.stopPropagation(), p(300)
                        },
                        className: "chat-timeout-button",
                        children: "5 Minutes"
                    }), t.jsx("button", {
                        onClick: x => {
                            x.stopPropagation(), p(3600)
                        },
                        className: "chat-timeout-button",
                        children: "1 Hour"
                    }), t.jsx("button", {
                        onClick: x => {
                            x.stopPropagation(), p(86400)
                        },
                        className: "chat-timeout-button",
                        children: "1 Day"
                    }), t.jsx("button", {
                        onClick: x => {
                            x.stopPropagation(), u(!0)
                        },
                        className: "chat-timeout-button chat-timeout-button--custom",
                        children: "Custom Duration"
                    }), t.jsx("button", {
                        onClick: x => {
                            x.stopPropagation(), p(-1)
                        },
                        className: "chat-timeout-button chat-timeout-button--permanent",
                        children: "Permanent Ban"
                    })]
                }), t.jsx("div", {
                    className: "chat-timeout-cancel",
                    children: t.jsx("button", {
                        onClick: x => {
                            x.stopPropagation(), r()
                        },
                        className: "chat-timeout-cancel-button",
                        children: "Cancel"
                    })
                })]
            })
        })
    },
    c4 = ({
        user: e,
        onClose: s,
        onMute: a,
        onTimeout: r,
        pendingMuteRef: l
    }) => {
        const d = nn(),
            u = Se(Ge.selectCurrent),
            [h, f] = m.useState(!1),
            [p, y] = m.useState(!1),
            [x, S] = m.useState(!1),
            [v, C] = m.useState(null),
            [w, j] = m.useState(""),
            [A, _] = m.useState("minutes"),
            k = (u == null ? void 0 : u.role) === "admin",
            D = (u == null ? void 0 : u.role) === "mod",
            E = k || D,
            P = () => {
                Ye(`[ChatUserModal] Muting user: ${e.username}`), l && (l.current = {
                    username: e.username
                }), d.mutePlayer(e.playerId, H => {
                    a(), s(), l && (l.current = null)
                })
            },
            I = H => {
                Ye(), H === 0 ? (f(!1), S(!0)) : (C(H), f(!1), y(!0))
            },
            B = () => {
                const H = parseInt(w);
                if (isNaN(H) || H <= 0) return;
                const K = s0(H, A);
                Ye(), C(K), S(!1), y(!0)
            },
            X = () => {
                Ye(`[ChatUserModal] Untimeouting user: ${e.username}`), d.untimeoutPlayerByUsername({
                    username: e.username
                }, () => {
                    r == null || r(), s()
                })
            },
            O = () => {
                const H = parseInt(w);
                if (isNaN(H) || H <= 0) return "";
                const K = s0(H, A);
                return Mw(K)
            },
            L = H => {
                v !== null && (Ye(`[ChatUserModal] Timing out user: ${e.username} (${e.playerId}) for ${v} seconds with reason: ${H}`), d.timeoutPlayer({
                    playerId: e.playerId,
                    duration: v,
                    reason: H
                }, () => {
                    r == null || r(), s()
                }))
            },
            F = [{
                label: "1 minute",
                value: 60
            }, {
                label: "5 minutes",
                value: 300
            }, {
                label: "15 minutes",
                value: 900
            }, {
                label: "1 hour",
                value: 3600
            }, {
                label: "24 hours",
                value: 86400
            }, {
                label: "1 week",
                value: 604800
            }, {
                label: "Permanent",
                value: -1
            }, {
                label: "Custom",
                value: 0
            }],
            Y = [{
                label: "Begging",
                value: "begging"
            }, {
                label: "DMs/Personal Info",
                value: "dms"
            }, {
                label: "Spam",
                value: "spam"
            }, {
                label: "Advertising",
                value: "advertising"
            }, {
                label: "Doxing",
                value: "doxing"
            }];
        return h ? t.jsxs("div", {
            className: "chat-user-modal",
            onClick: H => H.stopPropagation(),
            children: [t.jsxs("div", {
                className: "chat-user-modal-header",
                children: [t.jsx("div", {
                    className: "chat-user-modal-badge",
                    children: t.jsx(ds, {
                        level: e.level || 1,
                        size: "small"
                    })
                }), t.jsxs("div", {
                    className: "chat-user-modal-username",
                    children: ["Timeout @", e.username]
                })]
            }), F.map(({
                label: H,
                value: K
            }) => t.jsx("button", {
                onClick: z => {
                    z.stopPropagation(), I(K)
                },
                className: "chat-user-modal-action chat-user-modal-action--timeout",
                children: t.jsxs("div", {
                    className: "chat-user-modal-action-content",
                    children: [K === 0 ? t.jsx(o2, {
                        className: "chat-user-modal-action-icon"
                    }) : t.jsx(jr, {
                        className: "chat-user-modal-action-icon"
                    }), H]
                })
            }, K)), t.jsx("button", {
                onClick: H => {
                    H.stopPropagation(), f(!1)
                },
                className: "chat-user-modal-action chat-user-modal-action--cancel",
                children: t.jsxs("div", {
                    className: "chat-user-modal-action-content",
                    children: [t.jsx(Yh, {
                        className: "chat-user-modal-action-icon"
                    }), "Back"]
                })
            })]
        }) : x ? t.jsxs("div", {
            className: "chat-user-modal",
            onClick: H => H.stopPropagation(),
            children: [t.jsxs("div", {
                className: "chat-user-modal-header",
                children: [t.jsx("div", {
                    className: "chat-user-modal-badge",
                    children: t.jsx(ds, {
                        level: e.level || 1,
                        size: "small"
                    })
                }), t.jsxs("div", {
                    className: "chat-user-modal-username",
                    children: ["Custom Timeout - @", e.username]
                })]
            }), t.jsxs("div", {
                className: "chat-user-modal-custom-timeout",
                children: [t.jsxs("div", {
                    className: "chat-user-modal-custom-input-group",
                    children: [t.jsx("input", {
                        type: "number",
                        value: w,
                        onChange: H => j(H.target.value),
                        placeholder: "Enter duration",
                        className: "chat-user-modal-custom-input",
                        min: "1",
                        autoFocus: !0
                    }), t.jsxs("select", {
                        value: A,
                        onChange: H => _(H.target.value),
                        className: "chat-user-modal-custom-select",
                        children: [t.jsx("option", {
                            value: "minutes",
                            children: "Minutes"
                        }), t.jsx("option", {
                            value: "hours",
                            children: "Hours"
                        }), t.jsx("option", {
                            value: "days",
                            children: "Days"
                        })]
                    })]
                }), O() && t.jsxs("div", {
                    className: "chat-user-modal-custom-preview",
                    children: ["Duration: ", O()]
                })]
            }), t.jsx("button", {
                onClick: H => {
                    H.stopPropagation(), B()
                },
                className: "chat-user-modal-action chat-user-modal-action--timeout",
                disabled: !w || parseInt(w) <= 0,
                children: t.jsxs("div", {
                    className: "chat-user-modal-action-content",
                    children: [t.jsx(jr, {
                        className: "chat-user-modal-action-icon"
                    }), "Confirm Custom Timeout"]
                })
            }), t.jsx("button", {
                onClick: H => {
                    H.stopPropagation(), S(!1), f(!0), j("")
                },
                className: "chat-user-modal-action chat-user-modal-action--cancel",
                children: t.jsxs("div", {
                    className: "chat-user-modal-action-content",
                    children: [t.jsx(Yh, {
                        className: "chat-user-modal-action-icon"
                    }), "Back"]
                })
            })]
        }) : p ? t.jsxs("div", {
            className: "chat-user-modal",
            onClick: H => H.stopPropagation(),
            children: [t.jsxs("div", {
                className: "chat-user-modal-header",
                children: [t.jsx("div", {
                    className: "chat-user-modal-badge",
                    children: t.jsx(ds, {
                        level: e.level || 1,
                        size: "small"
                    })
                }), t.jsxs("div", {
                    className: "chat-user-modal-username",
                    children: ["Select Reason - @", e.username]
                })]
            }), Y.map(({
                label: H,
                value: K
            }) => t.jsx("button", {
                onClick: z => {
                    z.stopPropagation(), L(K)
                },
                className: "chat-user-modal-action chat-user-modal-action--timeout",
                children: t.jsxs("div", {
                    className: "chat-user-modal-action-content",
                    children: [t.jsx(jr, {
                        className: "chat-user-modal-action-icon"
                    }), H]
                })
            }, K)), t.jsx("button", {
                onClick: H => {
                    H.stopPropagation(), y(!1), f(!0)
                },
                className: "chat-user-modal-action chat-user-modal-action--cancel",
                children: t.jsxs("div", {
                    className: "chat-user-modal-action-content",
                    children: [t.jsx(Yh, {
                        className: "chat-user-modal-action-icon"
                    }), "Back"]
                })
            })]
        }) : t.jsxs("div", {
            className: "chat-user-modal",
            onClick: H => H.stopPropagation(),
            children: [t.jsxs("div", {
                className: "chat-user-modal-header",
                children: [t.jsx("div", {
                    className: "chat-user-modal-badge",
                    children: t.jsx(ds, {
                        level: e.level || 1,
                        size: "small"
                    })
                }), t.jsx("div", {
                    className: "chat-user-modal-username",
                    children: e.username || "Anon"
                })]
            }), e.verified && e.discordUsername && t.jsxs("div", {
                className: "chat-user-modal-discord-section",
                children: [t.jsx(Sl, {
                    className: "chat-user-modal-discord-icon"
                }), t.jsx("div", {
                    className: "chat-user-modal-discord-username",
                    children: e.discordUsername
                })]
            }), e.verified && !e.discordUsername && t.jsxs("div", {
                className: "chat-user-modal-verified-section",
                children: [t.jsx(zf, {
                    className: "chat-user-modal-verified-icon"
                }), t.jsx("div", {
                    children: "Verified Discord User"
                })]
            }), E && t.jsx("button", {
                onClick: H => {
                    H.stopPropagation(), X()
                },
                className: "chat-user-modal-action chat-user-modal-action--untimeout",
                children: t.jsxs("div", {
                    className: "chat-user-modal-action-content",
                    children: [t.jsx(x2, {
                        className: "chat-user-modal-action-icon"
                    }), "Untimeout @", e.username]
                })
            }), E && t.jsx("button", {
                onClick: H => {
                    H.stopPropagation(), f(!0)
                },
                className: "chat-user-modal-action chat-user-modal-action--timeout",
                children: t.jsxs("div", {
                    className: "chat-user-modal-action-content",
                    children: [t.jsx(jr, {
                        className: "chat-user-modal-action-icon"
                    }), "Timeout @", e.username]
                })
            }), t.jsx("button", {
                onClick: P,
                className: `chat-user-modal-action ${E?"chat-user-modal-action--mute":"chat-user-modal-action--mute-primary"}`,
                children: t.jsxs("div", {
                    className: "chat-user-modal-action-content",
                    children: [t.jsx(b2, {
                        className: "chat-user-modal-action-icon"
                    }), "Mute @", e.username]
                })
            }), t.jsx("button", {
                onClick: s,
                className: "chat-user-modal-action chat-user-modal-action--cancel",
                children: t.jsxs("div", {
                    className: "chat-user-modal-action-content",
                    children: [t.jsx(Lr, {
                        className: "chat-user-modal-action-icon"
                    }), "Cancel"]
                })
            })]
        })
    },
    d4 = e => s => s.chat.rooms[e],
    u4 = Ge.selectCurrent,
    h4 = e => I0([d4(e), u4], (s, a) => ({
        messages: (s == null ? void 0 : s.messages) ? ? [],
        id: (a == null ? void 0 : a.id) ? ? null
    }));

function C0({
    room: e
}) {
    const s = bt(),
        a = nn(),
        r = jn(),
        l = Yy(),
        {
            messages: d,
            id: u
        } = Se(h4(e)),
        h = Se(q => q.chat.adminMessage),
        f = Se(q => q.chat.mutedPlayers),
        p = Se(q => q.profiles.entities),
        [y, x] = m.useState(null),
        [S, v] = m.useState(!1),
        [C, w] = m.useState(!1),
        [j, A] = m.useState(!1),
        _ = m.useRef(null),
        k = m.useRef(0),
        D = m.useRef(!0),
        E = m.useRef(null),
        P = m.useRef(null),
        I = m.useCallback(() => {
            const q = _.current;
            if (!q) return !1;
            const se = q.scrollTop > -100;
            return D.current = se, se
        }, []),
        B = m.useCallback((q = !1) => {
            const Z = _.current;
            if (!Z) return;
            const G = Z.scrollTop > -100;
            (q || G) && Z.scrollTo({
                top: 0,
                behavior: "smooth"
            })
        }, []);
    m.useEffect(() => {
        d.length > k.current && k.current > 0 && B()
    }, [d, B]), m.useEffect(() => {
        if (!(h != null && h.expiresAt)) return;
        const q = () => {
                const se = Date.now(),
                    G = h.expiresAt;
                if (!G) return;
                if (G - se <= 0 && !j) {
                    A(!0), setTimeout(() => {
                        s(Oi.setAdminMessage(null)), A(!1)
                    }, 400);
                    return
                }
                requestAnimationFrame(q)
            },
            Z = requestAnimationFrame(q);
        return () => cancelAnimationFrame(Z)
    }, [h, s, j]);
    const X = m.useMemo(() => d.filter(q => q.playerId === "system" ? !0 : !f.includes(q.playerId)), [d, f]);
    m.useEffect(() => {
        if (d.length > k.current && k.current > 0) {
            const q = d[d.length - 1];
            q && q.playerId !== u && s(Oi.newMessageReceived(q))
        }
        k.current = d.length
    }, [d, u, s]), m.useEffect(() => {
        l.chatHistory(), u && r.getPlayerCosmetics()
    }, [s, u]), m.useEffect(() => {
        const q = _.current;
        if (!q) return;
        const Z = () => {
            I()
        };
        return q.addEventListener("scroll", Z), () => q.removeEventListener("scroll", Z)
    }, [I]), m.useEffect(() => {
        if (E.current) {
            const q = {
                playerId: "system",
                message: `${E.current.username} has been muted`,
                timestamp: Date.now(),
                filtered: !1
            };
            s(Oi.new({
                room: "GLOBAL",
                message: q
            })), E.current = null
        }
        if (P.current) {
            const q = {
                playerId: "system",
                message: `${P.current.username} has been unmuted`,
                timestamp: Date.now(),
                filtered: !1
            };
            s(Oi.new({
                room: "GLOBAL",
                message: q
            })), P.current = null
        }
    }, [f, s]);
    const O = m.useCallback(q => `${q.playerId}-${q.timestamp}`, []),
        L = m.useCallback(q => {
            x(q)
        }, []),
        F = m.useCallback(() => {
            x(null), v(!1)
        }, []),
        Y = m.useCallback(() => {
            y && (Ye("[CHAT] Muting user:", y.username), F())
        }, [y, F]),
        H = m.useCallback(q => {
            y && (Ye("[CHAT] Timing out user:", y.username, "for", q, "seconds"), v(!1), F())
        }, [y, F]),
        K = m.useCallback(() => {
            v(!0)
        }, []),
        z = m.useCallback(() => {
            v(!1)
        }, []),
        U = m.useCallback(() => {
            w(!0)
        }, []),
        V = m.useCallback(() => {
            w(!1)
        }, []),
        W = m.useCallback(q => {
            const Z = q.split(" ");
            switch (Z[0].toLowerCase()) {
                case "/mute":
                    {
                        if (Z.length < 2) {
                            console.error("Usage: /mute [username]");
                            return
                        }
                        const G = Z[1],
                            ie = Object.values(p).find(ne => {
                                var ee;
                                return ((ee = ne == null ? void 0 : ne.username) == null ? void 0 : ee.toLowerCase()) === G.toLowerCase()
                            });
                        if (!ie || !ie.id) {
                            console.error(`User "${G}" not found`);
                            return
                        }
                        Ye(`[CHAT] Executing mute command: ${G} (${ie.id})`),
                        E.current = {
                            username: G
                        },
                        a.mutePlayer(ie.id, ne => {
                            Ye("[CHAT] Mute command result:", ne)
                        });
                        break
                    }
                case "/unmute":
                    {
                        if (Z.length < 2) {
                            console.error("Usage: /unmute [username]");
                            return
                        }
                        const G = Z[1],
                            ie = Object.values(p).find(ne => {
                                var ee;
                                return ((ee = ne == null ? void 0 : ne.username) == null ? void 0 : ee.toLowerCase()) === G.toLowerCase()
                            });
                        if (!ie || !ie.id) {
                            console.error(`User "${G}" not found`);
                            return
                        }
                        Ye(`[CHAT] Executing unmute command: ${G} (${ie.id})`),
                        P.current = {
                            username: G
                        },
                        a.unmutePlayer(ie.id, ne => {
                            Ye("[CHAT] Unmute command result:", ne)
                        });
                        break
                    }
                case "/timeout":
                    {
                        if (Z.length < 4) {
                            console.error("Usage: /timeout [username] [duration] [reason] [silent]");
                            return
                        }
                        const G = Z[1],
                            ie = parseInt(Z[2]);
                        let ne, ee = !1;
                        if (Z.length >= 5) {
                            const ge = Z[Z.length - 1].toLowerCase();
                            ge === "true" || ge === "false" ? (ee = ge === "true", ne = Z.slice(3, -1).join(" ").toLowerCase()) : ne = Z.slice(3).join(" ").toLowerCase()
                        } else ne = Z.slice(3).join(" ").toLowerCase();
                        if (isNaN(ie)) {
                            console.error("Duration must be a number");
                            return
                        }
                        if (!ne || ne.trim() === "") {
                            console.error("Reason is required");
                            return
                        }
                        const me = ["begging", "dms", "spam", "advertising", "doxing"];
                        if (!me.includes(ne)) {
                            console.error(`Invalid reason. Valid reasons are: ${me.join(", ")}`);
                            return
                        }
                        const fe = Object.values(p).find(ge => {
                            var ke;
                            return ((ke = ge == null ? void 0 : ge.username) == null ? void 0 : ke.toLowerCase()) === G.toLowerCase()
                        });
                        if (!fe || !fe.id) {
                            console.error(`User "${G}" not found`);
                            return
                        }
                        Ye(`[CHAT] Executing timeout command: ${G} (${fe.id}) for ${ie} seconds with reason: ${ne}${ee?" (silent)":""}`),
                        a.timeoutPlayer({
                            playerId: fe.id,
                            duration: ie,
                            reason: ne,
                            silent: ee
                        }, ge => {
                            Ye("[CHAT] Timeout command result:", ge)
                        });
                        break
                    }
                case "/untimeout":
                    {
                        if (Z.length < 2) {
                            console.error("Usage: /untimeout [username]");
                            return
                        }
                        const G = Z[1];Ye(),
                        a.untimeoutPlayerByUsername({
                            username: G
                        }, ie => {
                            Ye("[CHAT] Untimeout command result:", ie)
                        });
                        break
                    }
                case "/msg":
                    {
                        if (Z.length < 3) {
                            console.error("Usage: /msg [username] [message]");
                            return
                        }
                        const G = Z[1],
                            ie = Z.slice(2).join(" ");Ye(),
                        a.sendDirectMessage({
                            username: G,
                            message: ie
                        }, ne => {
                            Ye("[CHAT] Direct message command result:", ne)
                        });
                        break
                    }
                case "/broadcast":
                    {
                        if (Z.length < 2) {
                            console.error("Usage: /broadcast [message]");
                            return
                        }
                        const G = Z.slice(1).join(" ");Ye(),
                        a.broadcastMessage({
                            message: G
                        }, ie => {
                            Ye("[CHAT] Broadcast command result:", ie)
                        });
                        break
                    }
                case "/premiummode":
                    {
                        if (Z.length < 2) {
                            console.error("Usage: /premiummode [level]");
                            return
                        }
                        const G = parseInt(Z[1]);
                        if (isNaN(G) || G < 0) {
                            console.error("Level must be a non-negative number");
                            return
                        }
                        Ye(),
                        a.setPremiumMode({
                            minLevel: G
                        }, ie => {
                            Ye("[CHAT] Premium mode command result:", ie)
                        });
                        break
                    }
                default:
                    console.error("Unknown command");
                    break
            }
        }, [s, p]);
    return m.useEffect(() => {
        const q = Z => {
            const se = Z.target;
            se.closest(".chat-user-modal") || se.closest(".timeout-modal") || se.closest(".username-element") || (x(null), v(!1), w(!1))
        };
        return document.addEventListener("mousedown", q), () => document.removeEventListener("mousedown", q)
    }, []), t.jsxs(Yn, {
        className: "chat-ui-container",
        sx: {
            width: "100%",
            maxWidth: "100%",
            height: "100%",
            minHeight: 0,
            flex: 1,
            overflowX: "hidden",
            boxSizing: "border-box"
        },
        children: [h && t.jsxs(T, {
            className: `chat-admin-message ${j?"removing":""}`,
            children: [t.jsxs(T, {
                className: "chat-admin-message-header",
                children: [t.jsx(T, {
                    className: "chat-admin-message-title",
                    children: h.isGlobal ? "ANNOUNCEMENT" : "ADMIN MESSAGE"
                }), t.jsxs($, {
                    className: "chat-admin-message-sender",
                    children: ["FROM ", h.senderUsername]
                })]
            }), t.jsx(T, {
                className: "chat-admin-message-content",
                children: t.jsx($, {
                    variant: "body2",
                    sx: {
                        color: "inherit",
                        fontSize: "inherit"
                    },
                    children: h.content
                })
            }), t.jsx(T, {
                className: "chat-admin-message-progress-background",
                children: t.jsx(T, {
                    className: "chat-admin-message-progress-fill",
                    sx: {
                        animationDuration: `${h.duration||30}s`,
                        animationDelay: "0s"
                    }
                })
            })]
        }), t.jsx(Yn, {
            ref: _,
            className: "chat-messages-area",
            sx: {
                width: "100%",
                maxWidth: "100%",
                minWidth: 0,
                flex: "1 1 0",
                minHeight: 0,
                overflowY: "auto",
                overflowX: "hidden",
                boxSizing: "border-box",
                flexDirection: "column-reverse"
            },
            children: X.slice().reverse().map(q => t.jsx(o4, {
                message: q,
                userId: u,
                onUsernameClick: L
            }, O(q)))
        }), t.jsx(s4, {
            room: e,
            disabled: !u,
            onHelpCommand: U,
            onModerationCommand: W
        }), y && !S && t.jsx(c4, {
            user: y,
            onClose: F,
            onMute: Y,
            onTimeout: K,
            pendingMuteRef: E
        }), y && S && t.jsx(l4, {
            username: y.username,
            playerId: y.playerId,
            onTimeout: H,
            onClose: z
        }), C && t.jsx(J5, {
            onClose: V
        })]
    })
}

function f4({
    classes: e,
    children: s
}) {
    return t.jsx(T, {
        className: e,
        sx: {
            display: "flex",
            flexDirection: "column"
        },
        children: s
    })
}

function p4({
    collapsed: e,
    onToggle: s,
    onUnreadChange: a
}) {
    bt();
    const [r, l] = m.useState(window.innerWidth <= 768), [d, u] = m.useState(window.innerWidth > 768), [h, f] = m.useState(0), [p, y] = m.useState(window.innerWidth > 768), x = e !== void 0 ? !e : d, S = Se(j => j.global.connectedPlayers), v = Se(j => j.chat.latestMessage), C = Se(j => j.chat.messagePreviewTrigger);
    m.useEffect(() => {
        a && a(h)
    }, [h, a]), m.useEffect(() => {
        const j = () => {
            const A = window.innerWidth <= 768;
            l(A)
        };
        return window.addEventListener("resize", j), () => window.removeEventListener("resize", j)
    }, []), m.useEffect(() => {
        v && C > 0 && !x && f(j => j + 1)
    }, [v, C]);
    const w = m.useCallback(() => {
        f(0)
    }, []);
    return m.useEffect(() => {
        x && w()
    }, [x, w]), m.useEffect(() => {
        if (x) y(!0);
        else {
            const j = setTimeout(() => {
                y(!1)
            }, 250);
            return () => clearTimeout(j)
        }
    }, [x]), p ? t.jsx(T, {
        sx: j => ({
            backgroundColor: j.palette.background.default,
            height: "100%",
            borderRight: `1px solid ${j.palette.divider}`
        }),
        children: t.jsxs(f4, {
            classes: "h-full",
            children: [t.jsx(yy, {
                classes: "sidebar-header",
                children: t.jsxs(T, {
                    sx: {
                        display: "flex",
                        flexDirection: "row",
                        justifyContent: "space-between",
                        alignItems: "center",
                        width: "100%",
                        gap: "10px"
                    },
                    children: [t.jsx(g4, {
                        count: S
                    }), t.jsx(m4, {})]
                })
            }), t.jsx(bf, {
                classes: "sidebar-chat",
                children: t.jsx(C0, {
                    room: "GLOBAL"
                })
            })]
        })
    }) : t.jsx(t.Fragment, {
        children: t.jsx(T, {
            sx: {
                display: "none"
            },
            children: t.jsx(C0, {
                room: "GLOBAL"
            })
        })
    })
}

function g4({
    count: e
}) {
    return t.jsxs(T, {
        sx: {
            display: "flex",
            flexDirection: "row",
            alignItems: "center",
            gap: "8px"
        },
        children: [t.jsx(T, {
            sx: {
                backgroundColor: "#19b55a",
                height: 10,
                width: 10,
                borderRadius: "50%"
            },
            title: "connected"
        }), t.jsxs($, {
            variant: "body2",
            sx: {
                color: "var(--color-muted-foreground)",
                fontSize: "14px",
                fontFamily: '"DynaPuff", sans-serif',
                fontWeight: 500,
                lineHeight: 1
            },
            children: ["Online (", e, ")"]
        })]
    })
}

function m4() {
    return t.jsxs(T, {
        sx: {
            display: "flex",
            flexDirection: "row",
            alignItems: "center",
            gap: "8px"
        },
        children: [t.jsx(x4, {}), t.jsx(y4, {}), t.jsx(b4, {})]
    })
}

function Of({
    url: e,
    children: s
}) {
    return t.jsx(Rt, {
        href: e,
        target: "_blank",
        rel: "noopener noreferrer",
        className: "social-button",
        sx: {
            position: "relative",
            borderRadius: "16px",
            width: "32px",
            height: "32px",
            padding: "8px",
            alignItems: "center",
            justifyContent: "center",
            display: "flex",
            flexShrink: 0,
            color: "var(--color-foreground)",
            textDecoration: "none",
            border: "1px solid transparent",
            background: "linear-gradient(var(--color-muted), var(--color-muted)) padding-box, linear-gradient(to top, #3b82f6, #28282f) border-box",
            "&:hover": {
                opacity: .8
            }
        },
        children: s
    })
}

function x4() {
    return t.jsx(Of, {
        url: "https://discord.gg/RugsDotFun",
        children: t.jsx(Sl, {
            size: 24,
            style: {
                zIndex: 1,
                transform: "scale(1.1)"
            }
        })
    })
}

function y4() {
    return t.jsx(Of, {
        url: "https://x.com/RugsDotFunX",
        children: t.jsx(Fy, {
            size: 24,
            style: {
                zIndex: 1,
                transform: "scale(1.1)"
            }
        })
    })
}

function b4() {
    return t.jsx(Of, {
        url: "https://t.me/RugsDotFun",
        children: t.jsx(sy, {
            size: 24,
            style: {
                zIndex: 1,
                transform: "scale(1.1)"
            }
        })
    })
}
const Vy = ({
        roundCount: e,
        currentRound: s,
        totalRounds: a
    }) => {
        const r = () => s && a && s > 0 ? `${s}/${a} rounds` : e === 0 ? "No rounds" : e === 1 ? "1 round" : `${e} rounds`;
        return t.jsx("span", {
            className: "battles-round-count",
            children: r()
        })
    },
    v4 = ({
        fill: e,
        className: s
    }) => t.jsx("svg", {
        xmlns: "http://www.w3.org/2000/svg",
        height: "24px",
        viewBox: "0 -960 960 960",
        width: "24px",
        fill: e,
        className: s,
        children: t.jsx("path", {
            d: "M480-480q-66 0-113-47t-47-113q0-66 47-113t113-47q66 0 113 47t47 113q0 66-47 113t-113 47ZM160-240v-32q0-34 17.5-62.5T224-378q62-31 126-46.5T480-440q66 0 130 15.5T736-378q29 15 46.5 43.5T800-272v32q0 33-23.5 56.5T720-160H240q-33 0-56.5-23.5T160-240Z"
        })
    }),
    S4 = ({
        data: e
    }) => {
        var X, O;
        const s = _a(),
            a = Pa(),
            r = m.useRef(null),
            [l, d] = m.useState({
                rotateX: 0,
                rotateY: 0,
                scale: 1
            }),
            u = Se(L => L.battles.currentlyParticipatingId),
            h = u === e.id,
            f = Se(L => L.battles),
            p = Se(L => L.profiles.entities),
            y = L => L === 1 ? "#FFD700" : L === 2 ? "#C0C0C0" : L === 3 ? "#CD7F32" : "#FFA500";
        m.useEffect(() => {
            u === e.id && !f.isJoiningLobby && (console.log("[BATTLES] Successfully joined lobby, navigating to battle page:", e.id), s(`/battle/${e.id}`))
        }, [u, e.id, f.isJoiningLobby, s]);
        const x = e;
        let S = 0;
        e.players && (Array.isArray(e.players) ? S = e.players.length : typeof e.players == "object" && (S = Object.keys(e.players).length));
        const v = Math.max(((X = e.players) == null ? void 0 : X.length) || 0, S, h ? 1 : 0),
            C = (e == null ? void 0 : e.type) === "event" || (e == null ? void 0 : e.creator) === "system" || (e == null ? void 0 : e.creator) === "battle-event-system" || ((O = e == null ? void 0 : e.id) == null ? void 0 : O.includes("event")),
            w = e.state === "active";
        let j = "Waiting for Players",
            A = "#21bd5b",
            _ = "#18392a";
        switch (e.state) {
            case "waiting":
                j = "Waiting for Players", A = "#21bd5b", _ = "#18392a";
                break;
            case "active":
                j = "LIVE NOW", A = "#FFFFFF", _ = "#FF0000";
                break;
            default:
                j = e.state.toUpperCase(), A = "#FFFFFF", _ = "#666666"
        }
        const k = L => L === "0xPractice" ? "$FREE" : L === "So11111111111111111111111111111111111111112" ? "$SOL" : L,
            D = L => {
                L.preventDefault(), L.stopPropagation(), !(f.isJoiningLobby || h) && (console.log("[BATTLES] Joining specific lobby:", e.id), a.joinLobby(e.id))
            },
            E = L => {
                L.preventDefault(), L.stopPropagation(), console.log("[BATTLES] Spectating specific lobby:", e.id), a.spectateBattle(e.id), s(`/battle/${e.id}`)
            },
            P = L => {
                if (!r.current) return;
                const F = r.current.getBoundingClientRect(),
                    Y = F.left + F.width / 2,
                    H = F.top + F.height / 2,
                    K = L.clientX - Y,
                    z = L.clientY - H,
                    U = K / (F.width / 2) * 1.5,
                    V = -(z / (F.height / 2)) * 1.5;
                d({
                    rotateX: V,
                    rotateY: U,
                    scale: 1.005
                })
            },
            I = () => {
                d(L => ({ ...L,
                    scale: 1.005
                }))
            },
            B = () => {
                d({
                    rotateX: 0,
                    rotateY: 0,
                    scale: 1
                })
            };
        return t.jsxs("div", {
            className: "battles-card-container",
            children: [t.jsx("div", {
                ref: r,
                className: `battles-card-border ${e.state==="active"?"battles-card-border--live":"battles-card-border--waiting"}`,
                onMouseMove: P,
                onMouseEnter: I,
                onMouseLeave: B,
                style: {
                    transform: `perspective(1000px) rotateX(${l.rotateX}deg) rotateY(${l.rotateY}deg) scale(${l.scale})`,
                    transition: l.scale === 1 ? "transform 0.4s ease-out" : "transform 0.15s ease-out"
                },
                children: t.jsx("div", {
                    className: "battles-card-body",
                    children: t.jsxs("div", {
                        className: `battles-card-content ${e.state==="active"?"battles-card-content--live":"battles-card-content--waiting"}`,
                        children: [w && t.jsxs("div", {
                            className: `battles-card-live-container ${x.token==="So11111111111111111111111111111111111111112"?"battles-card-live-container--sol":x.token==="0xPractice"?"battles-card-live-container--free":""}`,
                            children: [t.jsx("div", {
                                className: "battles-card-chart-full",
                                children: t.jsx("div", {
                                    className: "battles-card-chart-placeholder"
                                })
                            }), t.jsxs("div", {
                                className: "battles-card-scoreboard-overlay",
                                children: [t.jsxs("div", {
                                    className: "battles-card-prize",
                                    style: {
                                        marginTop: "2px",
                                        display: "flex",
                                        flexDirection: "column",
                                        alignItems: "center",
                                        justifyContent: "center"
                                    },
                                    children: [t.jsx("div", {
                                        style: {
                                            fontSize: "14px",
                                            fontWeight: "bold",
                                            textAlign: "center"
                                        },
                                        children: "Prize Pot"
                                    }), t.jsxs("div", {
                                        style: {
                                            fontSize: "24px",
                                            fontWeight: "bold",
                                            marginBottom: 0,
                                            textAlign: "center"
                                        },
                                        children: [vt(x.wagerAmount * x.maxPlayers, 3, !1), " ", k(x.token)]
                                    })]
                                }), t.jsx("div", {
                                    style: {
                                        textAlign: "center",
                                        marginBottom: 0,
                                        display: "flex",
                                        alignItems: "center",
                                        justifyContent: "center"
                                    },
                                    children: t.jsx(Vy, {
                                        roundCount: x.totalRounds,
                                        currentRound: e.currentRound,
                                        totalRounds: x.totalRounds
                                    })
                                }), t.jsx("div", {
                                    className: "battles-card-leaderboard-wrapper",
                                    children: t.jsx("div", {
                                        className: "battles-card-leaderboard",
                                        children: (e.players && e.players.length > 0 ? e.players.slice(0, 5) : Array(Math.min(x.maxPlayers, 5)).fill(null).map((L, F) => ({
                                            username: `Player${F+1}`,
                                            points: 0,
                                            totalPoints: 0,
                                            level: 1
                                        }))).map((L, F) => t.jsxs("div", {
                                            className: "battles-card-player",
                                            children: [t.jsxs("div", {
                                                className: "battles-card-player-left",
                                                children: [t.jsxs("span", {
                                                    className: "battles-card-player-rank",
                                                    children: ["#", F + 1]
                                                }), t.jsx("div", {
                                                    className: "battles-card-player-badge",
                                                    children: t.jsx(ry, {
                                                        level: (() => {
                                                            var H, K;
                                                            const Y = L;
                                                            return typeof Y.level == "number" ? Y.level : Y.id && ((K = (H = p[Y.id]) == null ? void 0 : H.levelInfo) == null ? void 0 : K.level) != null ? p[Y.id].levelInfo.level : 0
                                                        })(),
                                                        size: "small",
                                                        badgeOnly: !0,
                                                        transparentBackground: !0
                                                    })
                                                }), t.jsx("span", {
                                                    className: "battles-card-player-name",
                                                    children: L.username || "Anon"
                                                })]
                                            }), t.jsxs("span", {
                                                className: "battles-card-player-points",
                                                style: {
                                                    color: y(F + 1)
                                                },
                                                children: [L.totalPoints || 0, " pts"]
                                            })]
                                        }, `${L.username||"Anon"}-${F}`))
                                    })
                                }), t.jsx("button", {
                                    className: "battles-card-spectate-btn",
                                    onClick: E,
                                    children: "SPECTATE"
                                })]
                            })]
                        }), !w && t.jsxs("div", {
                            className: `battles-card-waiting ${x.token==="So11111111111111111111111111111111111111112"?"battles-card-waiting--sol":x.token==="0xPractice"?"battles-card-waiting--free":""}`,
                            children: [t.jsx("div", {
                                className: "battles-card-waiting-glow"
                            }), t.jsxs("div", {
                                className: "battles-card-waiting-content",
                                children: [t.jsx("div", {
                                    className: "battles-card-waiting-title",
                                    children: "Prize Pot"
                                }), t.jsxs("div", {
                                    className: "battles-card-waiting-amount",
                                    children: [vt(x.wagerAmount * x.maxPlayers, 3, !1), " ", k(x.token)]
                                }), e.state === "waiting" && !h && !C && t.jsx("button", {
                                    className: "battles-card-join-btn",
                                    onClick: D,
                                    disabled: f.isJoiningLobby,
                                    children: f.isJoiningLobby ? "JOINING..." : `JOIN GAME (${vt(x.wagerAmount,3,!1)} ${k(x.token)})`
                                })]
                            })]
                        })]
                    })
                })
            }), t.jsxs("div", {
                className: "battles-card-footer",
                children: [t.jsx("div", {
                    className: "battles-card-players",
                    children: Array.from({
                        length: x.maxPlayers
                    }).map((L, F) => {
                        const Y = F < v;
                        return t.jsx("div", {
                            className: `battles-card-player-icon ${Y?"battles-card-player-icon--filled":""}`,
                            children: t.jsx(v4, {
                                fill: Y ? e.state === "active" ? "#FFD700" : "#22C55E" : "#14532D",
                                className: "battles-card-person-icon"
                            })
                        }, F)
                    })
                }), t.jsxs("div", {
                    className: "battles-card-status-section",
                    children: [(() => {
                        const L = e.spectatorCount ? ? 0;
                        return e.state === "active" && L > 0 ? t.jsxs("div", {
                            className: "battles-card-spectators",
                            children: ["👁️ ", L]
                        }) : null
                    })(), t.jsxs("div", {
                        className: "battles-card-status",
                        style: {
                            color: A,
                            backgroundColor: _
                        },
                        children: [j, e.state === "waiting" && t.jsxs("span", {
                            className: "battles-card-status-dots",
                            children: [t.jsx("span", {
                                className: "battles-card-status-dot",
                                children: "."
                            }), t.jsx("span", {
                                className: "battles-card-status-dot",
                                children: "."
                            }), t.jsx("span", {
                                className: "battles-card-status-dot",
                                children: "."
                            })]
                        })]
                    })]
                })]
            })]
        })
    },
    C4 = () => t.jsxs("div", {
        className: "battles-loader-card",
        children: [t.jsx("div", {
            className: "battles-loader-border",
            children: t.jsx("div", {
                className: "battles-loader-body",
                children: t.jsx("div", {
                    className: "battles-loader-content",
                    children: t.jsx("div", {
                        className: "battles-loader-rectangle"
                    })
                })
            })
        }), t.jsx("div", {
            className: "battles-loader-footer"
        })]
    }),
    w4 = ({
        isEventMode: e = !1
    }) => {
        const s = Se(yt.selectAll),
            a = ls.useMemo(() => e ? s.filter(u => u.state === "active") : s, [s, e]);
        m.useEffect(() => {
            console.log("[BATTLES GRID] Room count changed:", a.length, e ? "(event mode - active only)" : "(normal mode)"), console.log("[BATTLES GRID] Current rooms:", a.map(u => {
                var h;
                return {
                    id: u.id,
                    status: u.state,
                    playerCount: (h = u.players) == null ? void 0 : h.length
                }
            }))
        }, [a, e]);
        const r = 4,
            l = a.map(u => t.jsx(S4, {
                data: u
            }, u.id)),
            d = Array.from({
                length: Math.max(0, r - a.length)
            }, (u, h) => t.jsx(C4, {}, `loader-${h}`));
        return t.jsxs(T, {
            className: "battles-grid",
            children: [l, d]
        })
    },
    T4 = ({
        roomCount: e
    }) => {
        const s = () => e === 0 ? "No rooms" : e === 1 ? "1 room" : `${e} rooms`;
        return t.jsx($, {
            variant: "body2",
            className: "battles-room-count",
            sx: {
                color: "text.secondary",
                fontSize: "0.875rem"
            },
            children: s()
        })
    },
    j4 = ({
        children: e,
        leaveButton: s,
        spectatorCount: a
    }) => t.jsxs(T, {
        className: "battles-title",
        children: [t.jsxs(T, {
            className: "battles-title__header",
            sx: {
                display: "flex",
                alignItems: "center",
                gap: 1
            },
            children: [s, t.jsx("h1", {
                className: "battles-title__heading",
                children: "BATTLES"
            }), e && t.jsx(T, {
                className: "battles-title__countdown",
                children: e
            })]
        }), t.jsxs(T, {
            className: "battles-title__subtitle-row",
            sx: {
                display: "flex",
                alignItems: "center",
                gap: 1,
                paddingLeft: {
                    xs: s ? "32px" : "0",
                    sm: s ? "35px" : "0"
                },
                marginBottom: "0 !important"
            },
            children: [t.jsx(T, {
                component: "p",
                className: "battles-title__subtitle",
                sx: {
                    fontSize: {
                        xs: "10px",
                        sm: "16px"
                    },
                    margin: {
                        xs: 0,
                        sm: "inherit"
                    }
                },
                children: "Most Points at the end wins!"
            }), typeof a == "number" && a > 0 && t.jsxs(T, {
                component: "span",
                sx: {
                    backgroundColor: "#EF4444",
                    color: "white",
                    borderRadius: "9999px",
                    padding: "4px 8px !important",
                    fontSize: {
                        xs: "10px",
                        sm: "12px"
                    },
                    display: "inline-flex",
                    alignItems: "center",
                    minHeight: {
                        xs: "20px",
                        sm: "22px"
                    },
                    gap: "6px",
                    lineHeight: 1
                },
                children: [t.jsx("span", {
                    role: "img",
                    "aria-label": "spectators",
                    children: "👁️"
                }), a]
            })]
        })]
    }),
    k4 = ({
        globalLeaderboard: e
    }) => {
        if (!e || e.length < 3) return null;
        const s = [{
                rank: 1,
                text: "1st Place",
                borderColor: "#FFC700",
                textColor: "#FFC700"
            }, {
                rank: 2,
                text: "2nd Place",
                borderColor: "#CAD5E2",
                textColor: "#CAD5E2"
            }, {
                rank: 3,
                text: "3rd Place",
                borderColor: "#D97706",
                textColor: "#D97706"
            }],
            a = ["🥇", "🥈", "🥉"],
            r = [{
                originalIndex: 0,
                styleIndex: 0
            }, {
                originalIndex: 1,
                styleIndex: 1
            }, {
                originalIndex: 2,
                styleIndex: 2
            }],
            l = d => vl(d, 0);
        return t.jsx(T, {
            className: "battles-top-players",
            sx: {
                display: "flex",
                gap: 2,
                justifyContent: "center",
                flexWrap: "wrap",
                "@media (max-width: 1150px)": {
                    gap: "10px",
                    justifyContent: "center"
                }
            },
            children: r.map((d, u) => {
                if (d.originalIndex >= e.length) return null;
                const h = e[d.originalIndex],
                    f = s[d.styleIndex];
                return h ? t.jsxs(T, {
                    className: "battles-top-player",
                    sx: {
                        display: "flex",
                        flexDirection: "row",
                        alignItems: "center",
                        gap: "8px",
                        padding: "12px",
                        border: d.styleIndex === 0 ? "2px solid #FFC700" : "2px solid transparent",
                        background: d.styleIndex === 0 ? `url("data:image/svg+xml;charset=UTF-8,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'%3e%3ctext y='50' x='50' text-anchor='middle' dominant-baseline='central' font-size='40' opacity='0.25'%3e${encodeURIComponent(a[d.styleIndex])}%3c/text%3e%3c/svg%3e") no-repeat center / 60px 60px, var(--color-background)` : `url("data:image/svg+xml;charset=UTF-8,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'%3e%3ctext y='50' x='50' text-anchor='middle' dominant-baseline='central' font-size='40' opacity='0.25'%3e${encodeURIComponent(a[d.styleIndex])}%3c/text%3e%3c/svg%3e") no-repeat center / 60px 60px padding-box, linear-gradient(var(--color-background), var(--color-background)) padding-box, linear-gradient(180deg, ${f.borderColor} 0%, ${f.borderColor}00 100%) border-box`,
                        boxShadow: d.styleIndex === 0 ? "0 0 10px rgba(255, 199, 0, 0.3)" : "none",
                        borderRadius: "25px",
                        minWidth: "180px",
                        position: "relative",
                        "@media (max-width: 1150px)": {
                            flexDirection: "column",
                            alignItems: "center",
                            textAlign: "center",
                            justifyContent: "space-evenly",
                            padding: "12px",
                            width: "100px",
                            minWidth: "100px",
                            height: "140px",
                            flexShrink: 0,
                            flexGrow: 0
                        }
                    },
                    children: [t.jsx(T, {
                        sx: {
                            "@media (max-width: 1150px)": {
                                order: 1
                            }
                        },
                        children: t.jsx("div", {
                            style: {
                                color: f.textColor,
                                backgroundColor: `${f.borderColor}40`,
                                borderRadius: "4px",
                                padding: "4px 8px",
                                fontSize: "12px",
                                fontWeight: "bold",
                                minWidth: "64px",
                                textAlign: "center"
                            },
                            children: f.text
                        })
                    }), t.jsxs(T, {
                        sx: {
                            display: "none",
                            "@media (max-width: 1150px)": {
                                display: "flex",
                                flexDirection: "column",
                                alignItems: "center",
                                order: 2,
                                gap: "2px"
                            }
                        },
                        children: [t.jsxs(T, {
                            sx: {
                                display: "flex",
                                alignItems: "center",
                                gap: "4px",
                                fontSize: "14px",
                                fontWeight: "bold",
                                color: f.textColor
                            },
                            children: [t.jsx("img", {
                                src: "/icons/Icon_Free_Solana.png",
                                alt: "FREE",
                                style: {
                                    width: "16px",
                                    height: "16px"
                                }
                            }), l(h.points)]
                        }), t.jsx(T, {
                            sx: {
                                fontSize: "12px",
                                color: f.textColor,
                                fontWeight: "normal"
                            },
                            children: "$FREE"
                        })]
                    }), t.jsx(T, {
                        sx: {
                            "@media (max-width: 1150px)": {
                                display: "none"
                            }
                        },
                        children: t.jsx(ry, {
                            level: h.level || 1,
                            size: "small",
                            badgeOnly: !1,
                            leaderboard: !0
                        })
                    }), t.jsx(T, {
                        sx: {
                            color: f.textColor,
                            fontWeight: "bold",
                            fontSize: "12px",
                            flex: 1,
                            overflow: "hidden",
                            textOverflow: "ellipsis",
                            whiteSpace: "nowrap",
                            textAlign: "left",
                            "@media (max-width: 1150px)": {
                                order: 3,
                                textAlign: "center",
                                flex: "none"
                            }
                        },
                        children: h.username || "Anon"
                    }), t.jsxs(T, {
                        sx: {
                            fontWeight: "bold",
                            color: f.textColor,
                            fontSize: "12px",
                            display: "flex",
                            alignItems: "center",
                            gap: "4px",
                            "@media (max-width: 1150px)": {
                                display: "none"
                            }
                        },
                        children: [t.jsx("img", {
                            src: "/icons/Icon_Free_Solana.png",
                            alt: "FREE",
                            style: {
                                width: "16px",
                                height: "16px"
                            }
                        }), l(h.points)]
                    })]
                }, h.username + "-" + u) : null
            }).filter(Boolean)
        })
    },
    E4 = ({
        userStats: e,
        shitcoinBalances: s = {}
    }) => {
        const a = v => v >= 1e3 ? `${(v/1e3).toFixed(v>=1e4?1:2)}k` : v.toString(),
            r = s["0xPractice"] || 0,
            [l, d] = m.useState(Math.round(r)),
            [u, h] = m.useState(!1),
            [f, p] = m.useState(null),
            y = m.useRef(Math.round(r)),
            x = m.useRef(null);
        m.useEffect(() => {
            const v = Math.round(r),
                C = y.current;
            if (v !== C && C !== 0) {
                const w = v > C;
                p(w ? "increase" : "decrease"), h(!0), x.current && cancelAnimationFrame(x.current);
                const j = Date.now(),
                    A = 800,
                    _ = C,
                    k = v,
                    D = k - _,
                    E = () => {
                        const P = Date.now() - j,
                            I = Math.min(P / A, 1),
                            B = 1 - Math.pow(1 - I, 4),
                            X = _ + D * B;
                        d(Math.round(X)), I < 1 ? x.current = requestAnimationFrame(E) : (d(Math.round(k)), h(!1), p(null), x.current = null)
                    };
                x.current = requestAnimationFrame(E)
            } else d(v);
            return y.current = v, () => {
                x.current && cancelAnimationFrame(x.current)
            }
        }, [r]);
        const S = () => {
            let v = "";
            return u && (v += "battles-user-stats__value--animating ", f === "increase" ? v += "battles-user-stats__value--increase " : f === "decrease" && (v += "battles-user-stats__value--decrease ")), v
        };
        return t.jsxs(T, {
            className: "battles-user-stats",
            sx: {
                display: "flex",
                gap: 3,
                alignItems: "center"
            },
            children: [t.jsxs(T, {
                className: "battles-user-stats__stat",
                sx: {
                    textAlign: "center"
                },
                children: [t.jsxs($, {
                    variant: "h6",
                    className: "battles-user-stats__value",
                    sx: {
                        fontWeight: "bold",
                        color: "primary.main",
                        fontSize: "1.25rem"
                    },
                    children: ["#", e.position]
                }), t.jsx($, {
                    variant: "caption",
                    className: "battles-user-stats__label",
                    sx: {
                        color: "text.secondary",
                        fontSize: "0.75rem"
                    },
                    children: "Your Position"
                })]
            }), t.jsxs(T, {
                className: "battles-user-stats__stat",
                sx: {
                    textAlign: "center"
                },
                children: [t.jsx($, {
                    variant: "h6",
                    className: `battles-user-stats__value ${S()}`,
                    sx: {
                        fontWeight: "bold",
                        color: f === "increase" ? "success.main" : f === "decrease" ? "error.main" : "warning.main",
                        fontSize: "1.25rem",
                        transition: "color 0.3s ease"
                    },
                    children: a(l)
                }), t.jsx($, {
                    variant: "caption",
                    className: "battles-user-stats__label",
                    sx: {
                        color: "text.secondary",
                        fontSize: "0.75rem"
                    },
                    children: "Your $FREE"
                })]
            })]
        })
    },
    hl = ({
        pageType: e = "lobby",
        game: s,
        onCreateLobby: a,
        isCreatingLobby: r,
        onLeaveMatch: l,
        isSpectator: d = !1
    }) => {
        var X, O, L, F, Y, H, K, z, U;
        const u = Se(yt.selectEventCountdown),
            h = Se(yt.selectBattleEventState),
            f = Se(Ge.selectCurrent),
            p = Se(yt.selectAll),
            y = Se(yt.selectCurrentPlayerData),
            x = Se(yt.selectPlayerBattleState),
            S = m.useMemo(() => {
                var V, W;
                return (V = u == null ? void 0 : u.prizePool) != null && V.positions ? {
                    first: u.prizePool.positions[0] || 0,
                    second: u.prizePool.positions[1] || 0,
                    third: u.prizePool.positions[2] || 0
                } : (W = h == null ? void 0 : h.currentEvent) != null && W.customPrizes ? {
                    first: h.currentEvent.customPrizes[1] || 0,
                    second: h.currentEvent.customPrizes[2] || 0,
                    third: h.currentEvent.customPrizes[3] || 0
                } : {
                    first: 0,
                    second: 0,
                    third: 0
                }
            }, [(X = u == null ? void 0 : u.prizePool) == null ? void 0 : X.positions, (O = h == null ? void 0 : h.currentEvent) == null ? void 0 : O.customPrizes]),
            v = m.useMemo(() => {
                var V, W;
                return (V = h == null ? void 0 : h.leaderboard) != null && V.length ? h.leaderboard.map(q => ({
                    username: q.username || "Anon",
                    level: 1,
                    points: q.balance || 0,
                    id: q.playerId
                })) : (W = u == null ? void 0 : u.leaderboard) != null && W.length ? u.leaderboard.map(q => ({
                    username: q.username || "Anon",
                    level: q.level || 1,
                    points: q.score || 0,
                    id: q.id
                })) : []
            }, [h == null ? void 0 : h.leaderboard, u == null ? void 0 : u.leaderboard]),
            C = m.useMemo(() => {
                var V;
                return (V = h == null ? void 0 : h.playerPosition) != null && V.rank ? {
                    position: h.playerPosition.rank
                } : u != null && u.playerPosition ? {
                    position: u.playerPosition
                } : {
                    position: null
                }
            }, [h == null ? void 0 : h.playerPosition, u == null ? void 0 : u.playerPosition]),
            w = (u == null ? void 0 : u.phase) && u.phase !== "none" || (h == null ? void 0 : h.status) && h.status !== "INACTIVE" && h.status !== "none" && h.status !== "SCHEDULED" && h.status !== "COMPLETED" && h.status !== "ENDED" && h.status !== "NONE_SCHEDULED",
            j = (u == null ? void 0 : u.phase) === "inprogress" || (h == null ? void 0 : h.status) === "ACTIVE",
            A = (u == null ? void 0 : u.phase) === "waiting" || (u == null ? void 0 : u.phase) === "inprogress",
            _ = () => {
                if (!s) return 3;
                const V = s;
                return V.totalRounds ? V.totalRounds : 3
            },
            k = () => (x == null ? void 0 : x.currentRound) !== void 0 ? x.currentRound : (s == null ? void 0 : s.currentRound) !== void 0 ? s.currentRound : 0,
            D = () => (x == null ? void 0 : x.totalRounds) !== void 0 ? x.totalRounds : (s == null ? void 0 : s.totalRounds) !== void 0 ? s.totalRounds : _(),
            E = _(),
            P = k(),
            I = D(),
            B = e === "battle" ? (s == null ? void 0 : s.spectatorCount) ? ? 0 : void 0;
        return t.jsxs(T, {
            className: "battles-header",
            children: [t.jsxs(T, {
                className: "battles-header__main",
                children: [t.jsx(T, {
                    sx: {
                        flex: 1,
                        display: "flex",
                        alignItems: "center",
                        justifyContent: "flex-start"
                    },
                    children: t.jsx(j4, {
                        leaveButton: d && l ? t.jsx(Rt, {
                            onClick: l,
                            sx: {
                                color: "#6B7280",
                                padding: "4px",
                                "&:hover": {
                                    color: "#9CA3AF"
                                },
                                "& .MuiSvgIcon-root": {
                                    fontSize: {
                                        xs: "18px",
                                        sm: "24px"
                                    }
                                }
                            },
                            size: "small",
                            children: t.jsx(_w, {})
                        }) : void 0,
                        spectatorCount: B,
                        children: e === "lobby" ? j && (u != null && u.nextPhaseTime || (L = h == null ? void 0 : h.currentEvent) != null && L.startTime && ((F = h == null ? void 0 : h.currentEvent) != null && F.endTime)) ? t.jsx(T, {
                            sx: {
                                fontSize: "14px",
                                color: "#FFC700",
                                fontWeight: "bold",
                                fontFamily: "'DynaPuff', sans-serif"
                            },
                            children: (() => {
                                var se, G;
                                const V = u == null ? void 0 : u.nextPhaseTime,
                                    W = (se = h == null ? void 0 : h.currentEvent) != null && se.startTime ? new Date(h.currentEvent.startTime).getTime() : null,
                                    q = (G = h == null ? void 0 : h.currentEvent) != null && G.endTime ? new Date(h.currentEvent.endTime).getTime() : null,
                                    Z = Date.now();
                                if (V) {
                                    const ie = Math.max(0, V - Z);
                                    if (ie === 0) return "Event Phase Change";
                                    const ne = Math.floor(ie / 1e3);
                                    return Os(ne)
                                }
                                if (W && q)
                                    if (Z >= W && Z <= q) {
                                        const ie = Math.max(0, q - Z),
                                            ne = Math.floor(ie / 1e3);
                                        return `${Os(ne)} left`
                                    } else return "Event Ended";
                                return h != null && h.currentEvent || h != null && h.eventSchedule && h.eventSchedule.length > 0 ? (h == null ? void 0 : h.status) === "ACTIVE" ? "Event Active" : "Event Starting Soon" : "No Events"
                            })()
                        }) : t.jsx(T4, {
                            roomCount: p.length
                        }) : t.jsx(Vy, {
                            roundCount: E,
                            currentRound: P,
                            totalRounds: I
                        })
                    })
                }), t.jsx(T, {
                    sx: {
                        flex: 1,
                        display: "flex",
                        alignItems: "center",
                        justifyContent: "center",
                        "@media (max-width: 1150px)": {
                            display: "none"
                        }
                    },
                    children: e === "lobby" && w && (((Y = u == null ? void 0 : u.prizePool) == null ? void 0 : Y.positions) || ((H = h == null ? void 0 : h.currentEvent) == null ? void 0 : H.customPrizes)) && t.jsxs(T, {
                        sx: {
                            textAlign: "center",
                            padding: "6px 12px",
                            minWidth: "180px"
                        },
                        children: [t.jsx(T, {
                            sx: {
                                fontSize: {
                                    xs: "12px",
                                    sm: "14px"
                                },
                                color: "#fff",
                                fontWeight: "bold",
                                mb: .5,
                                fontFamily: "'DynaPuff', sans-serif"
                            },
                            children: "PENDING REWARDS"
                        }), t.jsxs(T, {
                            sx: {
                                display: "flex",
                                justifyContent: "space-around",
                                alignItems: "center",
                                gap: {
                                    xs: "3px",
                                    sm: "5px"
                                }
                            },
                            children: [t.jsxs(T, {
                                sx: {
                                    display: "flex",
                                    alignItems: "center",
                                    gap: {
                                        xs: .3,
                                        sm: .5
                                    }
                                },
                                children: [t.jsx("span", {
                                    style: {
                                        fontSize: "14px"
                                    },
                                    children: "🥇"
                                }), t.jsxs(T, {
                                    sx: {
                                        fontSize: {
                                            xs: "14px",
                                            sm: "18px"
                                        },
                                        color: "#FFD700",
                                        fontWeight: "bold"
                                    },
                                    children: [S.first, " SOL"]
                                })]
                            }), t.jsxs(T, {
                                sx: {
                                    display: "flex",
                                    alignItems: "center",
                                    gap: {
                                        xs: .3,
                                        sm: .5
                                    }
                                },
                                children: [t.jsx("span", {
                                    style: {
                                        fontSize: "14px"
                                    },
                                    children: "🥈"
                                }), t.jsxs(T, {
                                    sx: {
                                        fontSize: {
                                            xs: "14px",
                                            sm: "18px"
                                        },
                                        color: "#C0C0C0",
                                        fontWeight: "bold"
                                    },
                                    children: [S.second, " SOL"]
                                })]
                            }), t.jsxs(T, {
                                sx: {
                                    display: "flex",
                                    alignItems: "center",
                                    gap: {
                                        xs: .3,
                                        sm: .5
                                    }
                                },
                                children: [t.jsx("span", {
                                    style: {
                                        fontSize: "14px"
                                    },
                                    children: "🥉"
                                }), t.jsxs(T, {
                                    sx: {
                                        fontSize: {
                                            xs: "14px",
                                            sm: "18px"
                                        },
                                        color: "#CD7F32",
                                        fontWeight: "bold"
                                    },
                                    children: [S.third, " SOL"]
                                })]
                            })]
                        })]
                    })
                }), t.jsxs(T, {
                    sx: {
                        flex: 1,
                        display: "flex",
                        alignItems: "center",
                        justifyContent: "flex-end",
                        gap: 2
                    },
                    children: [e === "battle" && t.jsxs("div", {
                        className: "battles-header__stats",
                        children: [t.jsxs("div", {
                            className: "battles-header__stats-column",
                            children: [t.jsxs("span", {
                                className: "battles-header__stats-value",
                                children: [(() => {
                                    var V;
                                    if (x && f) {
                                        const W = (V = x.players) == null ? void 0 : V.find(q => q.id === f.id);
                                        return (W == null ? void 0 : W.totalPoints) || 0
                                    }
                                    return (y == null ? void 0 : y.points) || 0
                                })(), " PTS"]
                            }), t.jsx("span", {
                                className: "battles-header__stats-label",
                                children: "Your Points"
                            })]
                        }), t.jsxs("div", {
                            className: "battles-header__stats-column",
                            children: [t.jsxs("span", {
                                className: "battles-header__stats-value",
                                children: [s ? vl(s.wagerAmount * s.maxPlayers, 0) : 0, " ", (s == null ? void 0 : s.token) === "So11111111111111111111111111111111111111112" ? "$SOL" : "$FREE"]
                            }), t.jsx("span", {
                                className: "battles-header__stats-label",
                                children: "Prize Pot"
                            })]
                        })]
                    }), e === "lobby" && t.jsx(T, {
                        sx: {
                            display: "flex",
                            alignItems: "center",
                            gap: 2
                        },
                        children: w ? t.jsxs("div", {
                            className: "battles-header__stats",
                            children: [t.jsxs("div", {
                                className: "battles-header__stats-column",
                                children: [t.jsx("span", {
                                    className: "battles-header__stats-value",
                                    children: C.position ? `#${C.position}` : "N/A"
                                }), t.jsx("span", {
                                    className: "battles-header__stats-label",
                                    children: "Your Position"
                                })]
                            }), t.jsxs("div", {
                                className: "battles-header__stats-column",
                                children: [t.jsxs("span", {
                                    className: "battles-header__stats-value",
                                    children: [vl(((K = f == null ? void 0 : f.shitcoinBalances) == null ? void 0 : K["0xPractice"]) || 0, 0), " $FREE"]
                                }), t.jsx("span", {
                                    className: "battles-header__stats-label",
                                    children: "Free Balance"
                                })]
                            })]
                        }) : t.jsxs(t.Fragment, {
                            children: [A && C.position && t.jsx(E4, {
                                userStats: C,
                                shitcoinBalances: f == null ? void 0 : f.shitcoinBalances
                            }), a && t.jsx(Te, {
                                className: "battle-lobby-action-btn battles-header-create-btn",
                                onClick: a,
                                disabled: r,
                                variant: "contained",
                                color: "primary",
                                sx: {
                                    fontFamily: "'DynaPuff', sans-serif",
                                    fontWeight: "bold",
                                    textTransform: "uppercase",
                                    px: 3,
                                    py: 1
                                },
                                children: r ? "Creating..." : "Create Room"
                            })]
                        })
                    })]
                })]
            }), e === "lobby" && w && (((z = u == null ? void 0 : u.prizePool) == null ? void 0 : z.positions) || ((U = h == null ? void 0 : h.currentEvent) == null ? void 0 : U.customPrizes)) && t.jsx(T, {
                sx: {
                    display: "none",
                    "@media (max-width: 1150px)": {
                        display: "flex",
                        justifyContent: "center",
                        padding: "8px 0",
                        marginTop: "8px"
                    }
                },
                children: t.jsxs(T, {
                    sx: {
                        textAlign: "center",
                        padding: "6px 12px",
                        minWidth: "180px"
                    },
                    children: [t.jsx(T, {
                        sx: {
                            fontSize: "12px",
                            color: "#fff",
                            fontWeight: "bold",
                            mb: .5,
                            fontFamily: "'DynaPuff', sans-serif"
                        },
                        children: "PENDING REWARDS"
                    }), t.jsxs(T, {
                        sx: {
                            display: "flex",
                            justifyContent: "space-around",
                            alignItems: "center",
                            gap: "8px"
                        },
                        children: [t.jsxs(T, {
                            sx: {
                                display: "flex",
                                alignItems: "center",
                                gap: .5
                            },
                            children: [t.jsx("span", {
                                style: {
                                    fontSize: "14px"
                                },
                                children: "🥇"
                            }), t.jsxs(T, {
                                sx: {
                                    fontSize: "14px",
                                    color: "#FFD700",
                                    fontWeight: "bold"
                                },
                                children: [S.first, " SOL"]
                            })]
                        }), t.jsxs(T, {
                            sx: {
                                display: "flex",
                                alignItems: "center",
                                gap: .5
                            },
                            children: [t.jsx("span", {
                                style: {
                                    fontSize: "14px"
                                },
                                children: "🥈"
                            }), t.jsxs(T, {
                                sx: {
                                    fontSize: "14px",
                                    color: "#C0C0C0",
                                    fontWeight: "bold"
                                },
                                children: [S.second, " SOL"]
                            })]
                        }), t.jsxs(T, {
                            sx: {
                                display: "flex",
                                alignItems: "center",
                                gap: .5
                            },
                            children: [t.jsx("span", {
                                style: {
                                    fontSize: "14px"
                                },
                                children: "🥉"
                            }), t.jsxs(T, {
                                sx: {
                                    fontSize: "14px",
                                    color: "#CD7F32",
                                    fontWeight: "bold"
                                },
                                children: [S.third, " SOL"]
                            })]
                        })]
                    })]
                })
            }), e === "lobby" && w && t.jsx(k4, {
                globalLeaderboard: v
            })]
        })
    },
    A4 = [.001, .01, .1, 1],
    R4 = [1, 10, 100];

function D4() {
    var be, qe, Re;
    const e = bt(),
        s = _a(),
        a = Pa(),
        r = Se(le => le.battles),
        l = Se(yt.selectPlayerBattleState),
        d = Se(yt.selectIsJoiningQueue),
        u = Se(yt.selectPlayerQueueState),
        h = Se(yt.selectEventCountdown),
        f = Se(yt.selectBattleFinished),
        p = Se(yt.selectJustLeftLobby),
        [y, x] = m.useState(!1),
        [S, v] = m.useState(!1),
        [C, w] = m.useState(!1),
        [j, A] = m.useState(0),
        [_, k] = m.useState(95),
        [D, E] = m.useState(!1),
        P = m.useRef(null),
        I = m.useRef(null),
        [B, X] = m.useState({
            token: "So11111111111111111111111111111111111111112",
            wagerAmount: .001,
            maxPlayers: 2,
            totalRounds: 3
        }),
        [O, L] = m.useState(!1);
    m.useEffect(() => {
        I.current = l
    }, [l]), m.useEffect(() => {
        const le = r.currentlyParticipatingId,
            Ce = l != null && l.id && !(l != null && l.isSpectating) ? l.id : null,
            _e = l != null && l.id && (l != null && l.isSpectating) ? l.id : null,
            Ne = le || Ce || _e;
        if (console.log("[BATTLE LOBBY] Navigation check:", {
                participatingId: le,
                activeBattleId: Ce,
                spectatingBattleId: _e,
                targetGameId: Ne,
                justLeftLobby: p,
                isCreatingLobby: r.isCreatingLobby,
                isJoiningLobby: r.isJoiningLobby,
                battleFinished: f
            }), Ne && p) {
            console.log("[BATTLE LOBBY] Clearing justLeftLobby flag for new battle/lobby:", Ne), e(Le.setJustLeftLobby(!1));
            return
        }
        if (Ne && !p && !r.isCreatingLobby && !r.isJoiningLobby && !f) {
            console.log("[BATTLE LOBBY] Navigating to battle:", Ne), s(`/battle/${Ne}`);
            return
        }
    }, [r.currentlyParticipatingId, l == null ? void 0 : l.id, l == null ? void 0 : l.isSpectating, p, r.isCreatingLobby, r.isJoiningLobby, f, s, e]), m.useEffect(() => {
        r.currentlyParticipatingId && !(l != null && l.id) && (console.log("[BATTLE LOBBY] Fetching battle state for assigned lobby:", r.currentlyParticipatingId), a.getBattleState())
    }, [r.currentlyParticipatingId, l == null ? void 0 : l.id]);
    const F = m.useCallback(async (le = 0) => {
        if (!S) {
            v(!0);
            try {
                console.log("[BATTLE LOBBY] Dispatching getBattleLobbies..."), a.getBattleLobbies(le, 4)
            } catch (Ce) {
                console.error("[BATTLE LOBBY] Error loading battle data:", Ce)
            } finally {
                setTimeout(() => {
                    v(!1)
                }, 500)
            }
        }
    }, [a, S]);
    m.useEffect(() => (console.log("[BATTLES] Page loaded, joining battles room..."), a.joinBattlesRoom(() => {}), F(), () => {
        console.log("[BATTLES] Page unloading, leaving battles room..."), a.leaveBattlesRoom(() => {})
    }), [e]), m.useEffect(() => {
        const le = setInterval(() => {
            e(Le.setCurrentTime(Date.now()))
        }, 1e3);
        return () => clearInterval(le)
    }, [e]), m.useEffect(() => {
        if (l && l.state === "finished") {
            console.log("Detected finished battle state, will auto-clear in 15 seconds");
            const le = setTimeout(() => {
                console.log("Auto-clearing finished battle state"), e(Le.setPlayerBattleState(null))
            }, 15e3);
            return () => clearTimeout(le)
        }
    }, [l, e]), m.useEffect(() => {
        console.log("[BATTLES LOBBY] State changed:", {
            isCreatingLobby: r.isCreatingLobby,
            isJoiningLobby: r.isJoiningLobby,
            error: r.error,
            successMessage: r.successMessage
        })
    }, [r.isCreatingLobby, r.isJoiningLobby, r.error, r.successMessage]), m.useEffect(() => {
        if (r.successMessage) {
            const le = setTimeout(() => {
                e(Le.setSuccessMessage(null))
            }, 4e3);
            return () => clearTimeout(le)
        }
    }, [r.successMessage, e]);
    const Y = m.useCallback(() => {
            r.isCreatingLobby || (console.log("[BATTLES] Creating lobby with config:", B), a.createLobby(B), x(!1), X({
                token: "0xPractice",
                wagerAmount: 10,
                maxPlayers: 2,
                totalRounds: 3
            }))
        }, [r.isCreatingLobby, B, a]),
        H = m.useCallback(() => {
            d || (console.log("[BATTLES] Joining event queue..."), a.joinEventQueue())
        }, [d, a]),
        K = Se(yt.selectBattleEventState),
        z = (h == null ? void 0 : h.phase) && h.phase !== "none" || (K == null ? void 0 : K.status) && K.status !== "INACTIVE" && K.status !== "none" && K.status !== "ENDING" && K.status !== "COMPLETED" && K.status !== "ENDED" && K.status !== "NONE_SCHEDULED" && K.status !== "SCHEDULED",
        U = (h == null ? void 0 : h.phase) === "inprogress" || (K == null ? void 0 : K.status) === "ACTIVE",
        V = (h == null ? void 0 : h.phase) === "waiting" || (K == null ? void 0 : K.status) === "WAITING" || (K == null ? void 0 : K.status) === "PREP" || z && !U,
        W = m.useCallback(() => {
            if (z) {
                console.log("[BATTLES] Cannot create room during event mode");
                return
            }
            X({
                token: "So11111111111111111111111111111111111111112",
                wagerAmount: .001,
                maxPlayers: 2,
                totalRounds: 3
            }), x(!0), k(95), w(!1), E(!1)
        }, [z]),
        q = m.useCallback(() => {
            x(!1)
        }, []),
        Z = le => {
            w(!0);
            const Ce = "touches" in le ? le.touches[0].clientY : le.clientY;
            A(Ce)
        },
        se = m.useCallback(le => {
            if (!C) return;
            const Ce = "touches" in le ? le.touches[0].clientY : le.clientY,
                _e = j - Ce,
                Ne = window.innerHeight,
                tt = _e * .3 / Ne * 100;
            let dt = _ + tt;
            dt = Math.max(20, Math.min(98, dt)), k(dt)
        }, [C, j, _]),
        G = m.useCallback(() => {
            if (C) {
                if (w(!1), _ < 30) {
                    q();
                    return
                }
                _ > 75 ? (E(!0), k(98)) : (E(!1), k(85))
            }
        }, [C, _, q]),
        ie = () => {
            C || (_ >= 98 ? (E(!1), k(95)) : (E(!0), k(98)))
        };
    m.useEffect(() => {
        if (C) {
            const le = Fe => se(Fe),
                Ce = Fe => {
                    Fe.preventDefault(), se(Fe)
                },
                _e = () => G(),
                Ne = () => G();
            return document.addEventListener("mousemove", le), document.addEventListener("touchmove", Ce, {
                passive: !1
            }), document.addEventListener("mouseup", _e), document.addEventListener("touchend", Ne), () => {
                document.removeEventListener("mousemove", le), document.removeEventListener("touchmove", Ce), document.removeEventListener("mouseup", _e), document.removeEventListener("touchend", Ne)
            }
        }
    }, [C, se, G]);
    const [ne, ee] = m.useState(!1);
    m.useEffect(() => {
        const le = () => {
            ee(window.innerWidth <= 768)
        };
        return le(), window.addEventListener("resize", le), () => window.removeEventListener("resize", le)
    }, []);
    const me = ((be = r.pagination) == null ? void 0 : be.page) ? ? 0,
        fe = ((qe = r.pagination) == null ? void 0 : qe.totalPages) ? ? 1,
        ke = (((Re = r.pagination) == null ? void 0 : Re.totalCount) ? ? 0) > 4,
        je = m.useCallback(() => {
            S || me > 0 && F(me - 1)
        }, [me, S, F]),
        re = m.useCallback(() => {
            S || me + 1 < fe && F(me + 1)
        }, [me, fe, S, F]),
        Ee = m.useMemo(() => B.token === "So11111111111111111111111111111111111111112" ? A4 : R4, [B.token]),
        Ae = () => {
            var Ce;
            const le = Date.now();
            if (h != null && h.nextPhaseTime) {
                const _e = Math.max(0, h.nextPhaseTime - le);
                return t0(_e)
            }
            if ((Ce = K == null ? void 0 : K.currentEvent) != null && Ce.startTime) {
                const _e = new Date(K.currentEvent.startTime).getTime();
                if (le < _e) {
                    const Ne = Math.max(0, _e - le);
                    return t0(Ne)
                }
            }
            return "00:00:00"
        },
        Pe = m.useMemo(() => d ? "Joining..." : u != null && u.inQueue ? `In Queue (${u.queueSize})` : "Join Game", [d, u]);
    return t.jsxs("div", {
        className: "battle-lobby-page",
        children: [t.jsx("style", {
            children: `
        .battle-lobby-wager-input::-webkit-outer-spin-button,
        .battle-lobby-wager-input::-webkit-inner-spin-button {
          -webkit-appearance: none;
          margin: 0;
        }
        .battle-lobby-wager-input {
          -moz-appearance: textfield;
        }
      `
        }), t.jsx(hl, {
            pageType: "lobby",
            onCreateLobby: W,
            isCreatingLobby: r.isCreatingLobby
        }), V ? t.jsxs("div", {
            style: {
                display: "flex",
                flexDirection: "column",
                alignItems: "center",
                justifyContent: "center",
                minHeight: "400px",
                padding: "40px 20px",
                textAlign: "center"
            },
            children: [t.jsx("div", {
                style: {
                    fontSize: "80px",
                    marginBottom: "20px"
                },
                children: "⚔️"
            }), t.jsx("div", {
                style: {
                    fontSize: "24px",
                    fontWeight: "bold",
                    color: "var(--color-primary)",
                    marginBottom: "16px",
                    fontFamily: "'DynaPuff', sans-serif"
                },
                children: "Event Starting in"
            }), t.jsx("div", {
                style: {
                    fontSize: "48px",
                    fontWeight: "bold",
                    color: "var(--color-primary)",
                    marginBottom: "24px",
                    fontFamily: "'Courier New', monospace",
                    letterSpacing: "2px",
                    textShadow: "0 0 8px var(--color-primary)"
                },
                children: Ae()
            }), t.jsx("div", {
                style: {
                    fontSize: "16px",
                    color: "#ccc",
                    maxWidth: "300px",
                    lineHeight: "1.4"
                },
                children: "For more info, tap the battle widget in the header"
            })]
        }) : t.jsx(w4, {
            isEventMode: !!z
        }), ke && !V && t.jsxs("div", {
            className: "battle-lobby-pagination",
            style: {
                display: "flex",
                alignItems: "center",
                justifyContent: "center",
                gap: 12,
                marginTop: 16
            },
            children: [t.jsx("button", {
                className: "battle-lobby-page-btn prev",
                onClick: je,
                disabled: S || me <= 0,
                "aria-label": "Previous page",
                style: {
                    padding: "8px",
                    minWidth: 44,
                    minHeight: 44
                },
                children: "<"
            }), t.jsxs("span", {
                className: "battle-lobby-page-indicator",
                children: ["Page ", me + 1, " / ", Math.max(1, fe)]
            }), t.jsx("button", {
                className: "battle-lobby-page-btn next",
                onClick: re,
                disabled: S || me + 1 >= fe,
                "aria-label": "Next page",
                style: {
                    padding: "8px",
                    minWidth: 44,
                    minHeight: 44
                },
                children: ">"
            })]
        }), U && t.jsx("div", {
            style: {
                display: "flex",
                justifyContent: "center",
                alignItems: "center",
                marginTop: ke ? 24 : 16,
                padding: "0 20px",
                marginBottom: 20
            },
            children: t.jsx("button", {
                className: "battle-lobby-action-btn battle-lobby-action-btn--join battles-header-create-btn",
                onClick: H,
                disabled: d || (u == null ? void 0 : u.inQueue),
                children: Pe
            })
        }), y && z && t.jsx(Dr, {
            setOpen: x,
            title: "Battle Event Active",
            maxWidth: "400px",
            children: t.jsxs("div", {
                style: {
                    padding: "20px",
                    textAlign: "center"
                },
                children: [t.jsxs("div", {
                    style: {
                        fontSize: "16px",
                        marginBottom: "16px",
                        color: "#4CAF50"
                    },
                    children: ["🎯 ", t.jsx("strong", {
                        children: "Battle Event in Progress!"
                    })]
                }), t.jsxs("div", {
                    style: {
                        fontSize: "14px",
                        marginBottom: "20px",
                        color: "#ccc"
                    },
                    children: ["During battle events, you cannot create custom rooms. Use the ", t.jsx("strong", {
                        children: '"Join Game"'
                    }), " button to join the event queue instead."]
                }), t.jsx("button", {
                    onClick: () => x(!1),
                    style: {
                        padding: "10px 20px",
                        backgroundColor: "#4CAF50",
                        color: "white",
                        border: "none",
                        borderRadius: "8px",
                        cursor: "pointer"
                    },
                    children: "Got it!"
                })]
            })
        }), y && !z && (ne ? _r.createPortal(t.jsxs(t.Fragment, {
            children: [t.jsx("div", {
                className: "battle-lobby-modal-backdrop",
                onClick: q
            }), t.jsxs("div", {
                ref: P,
                className: "battle-lobby-modal",
                style: {
                    position: "fixed",
                    bottom: 0,
                    left: 0,
                    right: 0,
                    width: "100vw",
                    maxWidth: "100vw",
                    minWidth: "100vw",
                    borderTop: "1px solid var(--color-border)",
                    borderTopLeftRadius: _ >= 98 ? "0px" : "20px",
                    borderTopRightRadius: _ >= 98 ? "0px" : "20px",
                    paddingBottom: "env(safe-area-inset-bottom)",
                    paddingTop: _ >= 98 ? "env(safe-area-inset-top)" : "0px",
                    backgroundColor: "var(--color-background)",
                    zIndex: 1e5,
                    maxHeight: `${_}vh`,
                    height: `${_}vh`,
                    boxShadow: "0 -4px 20px rgba(0, 0, 0, 0.3)",
                    overflow: "hidden",
                    display: "flex",
                    flexDirection: "column",
                    margin: 0,
                    transform: "translateZ(0)",
                    transition: C ? "none" : "height 0.3s ease-out, max-height 0.3s ease-out, border-radius 0.3s ease-out, padding-top 0.3s ease-out"
                },
                onClick: le => le.stopPropagation(),
                children: [t.jsxs("div", {
                    className: "battle-lobby-modal-drag-handle",
                    onMouseDown: Z,
                    onTouchStart: Z,
                    onClick: ie,
                    style: {
                        cursor: "grab",
                        userSelect: "none",
                        touchAction: "none"
                    },
                    children: [t.jsx("div", {
                        className: "battle-lobby-modal-drag-indicator",
                        style: {
                            display: "flex"
                        },
                        children: t.jsx("div", {
                            className: "battle-lobby-modal-drag-indicator-bar",
                            style: {
                                backgroundColor: D ? "var(--color-primary)" : "var(--color-muted-foreground)",
                                transition: "background-color 0.2s ease"
                            }
                        })
                    }), t.jsx("div", {
                        className: "battle-lobby-modal-header",
                        children: t.jsx("h3", {
                            children: "BATTLES"
                        })
                    })]
                }), t.jsxs("div", {
                    className: "battle-lobby-modal-content",
                    children: [t.jsxs("div", {
                        className: "battle-lobby-row battle-lobby-prize-row",
                        children: [t.jsx("div", {
                            children: "Prize Pot"
                        }), t.jsxs("div", {
                            className: "battle-lobby-prize-value",
                            children: [vt(B.wagerAmount * B.maxPlayers, 3, !1), " $", B.token === "So11111111111111111111111111111111111111112" ? "SOL" : "FREE"]
                        })]
                    }), t.jsxs("div", {
                        className: "battle-lobby-row battle-lobby-card",
                        children: [t.jsx("input", {
                            type: "number",
                            value: B.wagerAmount,
                            onChange: le => {
                                const Ce = Number(le.target.value),
                                    _e = B.token === "So11111111111111111111111111111111111111112" ? 5 : 1e6;
                                X({ ...B,
                                    wagerAmount: Math.min(_e, Math.max(0, Ce))
                                })
                            },
                            min: B.token === "So11111111111111111111111111111111111111112" ? "0.001" : "1",
                            step: B.token === "So11111111111111111111111111111111111111112" ? .001 : 1,
                            max: "1000",
                            className: "battle-lobby-wager-input",
                            style: {
                                flex: "0 0 55px",
                                width: 55,
                                minWidth: 55,
                                maxWidth: 55
                            }
                        }), t.jsx("div", {
                            className: "battle-lobby-increment-buttons",
                            style: {
                                display: "flex",
                                flexWrap: "nowrap",
                                gap: 6,
                                justifyContent: "flex-end",
                                flex: 1,
                                minWidth: 0,
                                whiteSpace: "nowrap",
                                overflowX: "auto"
                            },
                            children: Ee.map((le, Ce) => t.jsxs("button", {
                                className: Ee.length > 3 ? "small" : "",
                                onClick: () => {
                                    const _e = B.token === "So11111111111111111111111111111111111111112" ? 5 : 1e6;
                                    X({ ...B,
                                        wagerAmount: Math.min(_e, B.wagerAmount + le)
                                    })
                                },
                                children: ["+", le]
                            }, le.toString() + Ce))
                        }), t.jsxs("div", {
                            className: "battle-lobby-currency-dropdown",
                            children: [t.jsxs("button", {
                                type: "button",
                                className: "battle-lobby-currency-select",
                                onClick: () => L(!O),
                                children: [t.jsx("img", {
                                    src: B.token === "So11111111111111111111111111111111111111112" ? "/icons/Icon_Solana.png" : "/icons/Icon_Free_Solana.png",
                                    alt: B.token === "So11111111111111111111111111111111111111112" ? "SOL" : "FREE",
                                    className: "battle-lobby-currency-icon"
                                }), B.token === "So11111111111111111111111111111111111111112" ? "SOL" : "FREE", t.jsx("svg", {
                                    className: "battle-lobby-dropdown-arrow",
                                    fill: "none",
                                    stroke: "currentColor",
                                    viewBox: "0 0 24 24",
                                    children: t.jsx("path", {
                                        strokeLinecap: "round",
                                        strokeLinejoin: "round",
                                        strokeWidth: "2",
                                        d: "M19 9l-7 7-7-7"
                                    })
                                })]
                            }), O && t.jsxs("div", {
                                className: "battle-lobby-currency-options",
                                children: [t.jsxs("div", {
                                    className: "battle-lobby-currency-option",
                                    onClick: () => {
                                        X({
                                            token: "So11111111111111111111111111111111111111112",
                                            wagerAmount: .001,
                                            maxPlayers: 2,
                                            totalRounds: 3
                                        }), L(!1)
                                    },
                                    children: [t.jsx("img", {
                                        src: "/icons/Icon_Solana.png",
                                        alt: "SOL",
                                        className: "battle-lobby-currency-icon"
                                    }), "SOL"]
                                }), t.jsxs("div", {
                                    className: "battle-lobby-currency-option",
                                    onClick: () => {
                                        X({
                                            token: "0xPractice",
                                            wagerAmount: 10,
                                            maxPlayers: 2,
                                            totalRounds: 3
                                        }), L(!1)
                                    },
                                    children: [t.jsx("img", {
                                        src: "/icons/Icon_Free_Solana.png",
                                        alt: "FREE",
                                        className: "battle-lobby-currency-icon"
                                    }), "FREE"]
                                })]
                            })]
                        })]
                    }), t.jsx("div", {
                        className: "battle-lobby-row battle-lobby-card battle-lobby-players-row",
                        children: t.jsxs("div", {
                            className: "battle-lobby-player-controls",
                            children: [t.jsxs("span", {
                                children: [B.maxPlayers, " Players"]
                            }), t.jsxs("div", {
                                className: "battle-lobby-player-buttons",
                                children: [t.jsx("button", {
                                    onClick: () => X({ ...B,
                                        maxPlayers: Math.max(2, B.maxPlayers - 1)
                                    }),
                                    children: "-"
                                }), t.jsx("button", {
                                    onClick: () => X({ ...B,
                                        maxPlayers: Math.min(10, B.maxPlayers + 1)
                                    }),
                                    children: "+"
                                })]
                            })]
                        })
                    }), t.jsx("div", {
                        className: "battle-lobby-row battle-lobby-card battle-lobby-rounds-row",
                        children: t.jsxs("div", {
                            children: [t.jsxs("div", {
                                children: [B.totalRounds, " Round", B.totalRounds !== 1 ? "s" : ""]
                            }), t.jsx("div", {
                                className: "battle-lobby-rounds-buttons",
                                children: [1, 2, 3, 4, 5].map(le => t.jsx("button", {
                                    className: `battle-lobby-round-btn ${B.totalRounds===le?"active":""}`,
                                    onClick: () => X({ ...B,
                                        totalRounds: le
                                    }),
                                    children: le
                                }, le))
                            })]
                        })
                    }), t.jsx("div", {
                        className: "battle-lobby-row",
                        children: t.jsx("button", {
                            className: "battle-lobby-create-btn",
                            onClick: Y,
                            disabled: r.isCreatingLobby,
                            children: r.isCreatingLobby ? "Creating..." : "Create Room"
                        })
                    })]
                })]
            })]
        }), document.body) : t.jsx(Dr, {
            setOpen: x,
            title: "Create Battle Room",
            maxWidth: "440px",
            children: t.jsxs("div", {
                className: "battle-lobby-modal-content battle-create-desktop-modal",
                children: [t.jsxs("div", {
                    className: "battle-lobby-row battle-lobby-prize-row",
                    children: [t.jsx("div", {
                        children: "Prize Pot"
                    }), t.jsxs("div", {
                        className: "battle-lobby-prize-value",
                        children: [vt(B.wagerAmount * B.maxPlayers, 3, !1), " $", B.token === "So11111111111111111111111111111111111111112" ? "SOL" : "FREE"]
                    })]
                }), t.jsxs("div", {
                    className: "battle-lobby-row battle-lobby-card",
                    children: [t.jsx("input", {
                        type: "number",
                        value: B.wagerAmount,
                        onChange: le => {
                            const Ce = Number(le.target.value),
                                _e = B.token === "So11111111111111111111111111111111111111112" ? 5 : 1e6;
                            X({ ...B,
                                wagerAmount: Math.min(_e, Math.max(0, Ce))
                            })
                        },
                        min: B.token === "So11111111111111111111111111111111111111112" ? "0.001" : "1",
                        step: B.token === "So11111111111111111111111111111111111111112" ? .001 : 1,
                        max: "1000",
                        className: "battle-lobby-wager-input",
                        style: {
                            flex: "0 0 55px",
                            width: 55,
                            minWidth: 55,
                            maxWidth: 55
                        }
                    }), t.jsx("div", {
                        className: "battle-lobby-increment-buttons",
                        style: {
                            display: "flex",
                            flexWrap: "nowrap",
                            gap: 6,
                            justifyContent: "flex-end",
                            flex: 1,
                            minWidth: 0,
                            whiteSpace: "nowrap",
                            overflowX: "auto"
                        },
                        children: Ee.map((le, Ce) => t.jsxs("button", {
                            className: Ee.length > 3 ? "small" : "",
                            onClick: () => {
                                const _e = B.token === "So11111111111111111111111111111111111111112" ? 5 : 1e6;
                                X({ ...B,
                                    wagerAmount: Math.min(_e, B.wagerAmount + le)
                                })
                            },
                            children: ["+", le]
                        }, le.toString() + Ce))
                    }), t.jsxs("div", {
                        className: "battle-lobby-currency-dropdown",
                        children: [t.jsxs("button", {
                            type: "button",
                            className: "battle-lobby-currency-select",
                            onClick: () => L(!O),
                            children: [t.jsx("img", {
                                src: B.token === "So11111111111111111111111111111111111111112" ? "/icons/Icon_Solana.png" : "/icons/Icon_Free_Solana.png",
                                alt: B.token === "So11111111111111111111111111111111111111112" ? "SOL" : "FREE",
                                className: "battle-lobby-currency-icon"
                            }), B.token === "So11111111111111111111111111111111111111112" ? "SOL" : "FREE", t.jsx("svg", {
                                className: "battle-lobby-dropdown-arrow",
                                fill: "none",
                                stroke: "currentColor",
                                viewBox: "0 0 24 24",
                                children: t.jsx("path", {
                                    strokeLinecap: "round",
                                    strokeLinejoin: "round",
                                    strokeWidth: "2",
                                    d: "M19 9l-7 7-7-7"
                                })
                            })]
                        }), O && t.jsxs("div", {
                            className: "battle-lobby-currency-options",
                            children: [t.jsxs("div", {
                                className: "battle-lobby-currency-option",
                                onClick: () => {
                                    X({
                                        token: "So11111111111111111111111111111111111111112",
                                        wagerAmount: .001,
                                        maxPlayers: 2,
                                        totalRounds: 3
                                    }), L(!1)
                                },
                                children: [t.jsx("img", {
                                    src: "/icons/Icon_Solana.png",
                                    alt: "SOL",
                                    className: "battle-lobby-currency-icon"
                                }), "SOL"]
                            }), t.jsxs("div", {
                                className: "battle-lobby-currency-option",
                                onClick: () => {
                                    X({
                                        token: "0xPractice",
                                        wagerAmount: 10,
                                        maxPlayers: 2,
                                        totalRounds: 3
                                    }), L(!1)
                                },
                                children: [t.jsx("img", {
                                    src: "/icons/Icon_Free_Solana.png",
                                    alt: "FREE",
                                    className: "battle-lobby-currency-icon"
                                }), "FREE"]
                            })]
                        })]
                    })]
                }), t.jsx("div", {
                    className: "battle-lobby-row battle-lobby-card battle-lobby-players-row",
                    children: t.jsxs("div", {
                        className: "battle-lobby-player-controls",
                        children: [t.jsxs("span", {
                            children: [B.maxPlayers, " Players"]
                        }), t.jsxs("div", {
                            className: "battle-lobby-player-buttons",
                            children: [t.jsx("button", {
                                onClick: () => X({ ...B,
                                    maxPlayers: Math.max(2, B.maxPlayers - 1)
                                }),
                                children: "-"
                            }), t.jsx("button", {
                                onClick: () => X({ ...B,
                                    maxPlayers: Math.min(10, B.maxPlayers + 1)
                                }),
                                children: "+"
                            })]
                        })]
                    })
                }), t.jsx("div", {
                    className: "battle-lobby-row battle-lobby-card battle-lobby-rounds-row",
                    children: t.jsxs("div", {
                        children: [t.jsxs("div", {
                            children: [B.totalRounds, " Round", B.totalRounds !== 1 ? "s" : ""]
                        }), t.jsx("div", {
                            className: "battle-lobby-rounds-buttons",
                            children: [1, 2, 3, 4, 5].map(le => t.jsx("button", {
                                className: `battle-lobby-round-btn ${B.totalRounds===le?"active":""}`,
                                onClick: () => X({ ...B,
                                    totalRounds: le
                                }),
                                children: le
                            }, le))
                        })]
                    })
                }), t.jsx("div", {
                    className: "battle-lobby-row",
                    children: t.jsx("button", {
                        className: "battle-lobby-create-btn",
                        onClick: Y,
                        disabled: r.isCreatingLobby,
                        children: r.isCreatingLobby ? "Creating..." : "Create Room"
                    })
                })]
            })
        }))]
    })
}
const N4 = {
        buy: {
            gradient: "linear-gradient(180deg, #00A63E 0%, #05DF72 100%)",
            hoverGradient: "linear-gradient(180deg, #009238 0%, #04c865 100%)",
            bottomColor: "#008a3a",
            shadowColor: "rgba(0, 97, 41, 0.7)",
            glowColor: "rgba(0, 217, 96, 0.4)"
        },
        buyAuto: {
            gradient: "linear-gradient(180deg, #00A63E 0%, #05DF72 100%)",
            hoverGradient: "linear-gradient(180deg, #009238 0%, #04c865 100%)",
            bottomColor: "rgba(157,78,221,0.8)",
            shadowColor: "rgba(157,78,221,0.7)",
            glowColor: "rgba(0, 217, 96, 0.4)"
        },
        sell: {
            gradient: "linear-gradient(180deg, #FB2C36 0%, #FF6467 100%)",
            hoverGradient: "linear-gradient(180deg, #e9252f 0%, #f0565a 100%)",
            bottomColor: "#9e1f25",
            shadowColor: "rgba(107, 11, 17, 0.7)",
            glowColor: "rgba(232, 59, 68, 0.4)"
        },
        sellAuto: {
            gradient: "linear-gradient(180deg, #FB2C36 0%, #FF6467 100%)",
            hoverGradient: "linear-gradient(180deg, #FB2C36 0%, #FF6467 100%)",
            bottomColor: "rgba(157,78,221,0.8)",
            shadowColor: "rgba(157,78,221,0.7)",
            glowColor: "rgba(232, 59, 68, 0.4)"
        },
        default: {
            gradient: "linear-gradient(180deg, #00A63E 0%, #05DF72 100%)",
            hoverGradient: "linear-gradient(180deg, #009238 0%, #04c865 100%)",
            bottomColor: "#008a3a",
            shadowColor: "rgba(0, 97, 41, 0.7)",
            glowColor: "rgba(0, 217, 96, 0.4)"
        }
    },
    _4 = {
        compact: {
            minWidth: "120px",
            height: "66px",
            padding: "0 30px",
            fontSize: "24px",
            fontWeight: "700"
        },
        normal: {
            minWidth: "120px",
            height: "66px",
            padding: "0 30px",
            fontSize: "22px",
            fontWeight: "700"
        },
        large: {
            minWidth: "120px",
            height: "66px",
            padding: "0 30px",
            fontSize: "22px",
            fontWeight: "700"
        },
        mobileLarge: {
            minWidth: "120px",
            height: "66px",
            padding: "0 30px",
            fontSize: "22px",
            fontWeight: "700"
        }
    },
    md = ({
        children: e,
        buttonVariant: s = "buy",
        sellPercent: a = "",
        positionQty: r = 0,
        originalPositionQty: l = 0,
        soldPercentage: d = 0,
        pendingSellPercent: u = 0,
        buyAmount: h = "",
        selectedCoinTicker: f = "SOL",
        autoMode: p = !1,
        lightningEnabled: y = !1,
        equalWidth: x = !1,
        desktopWidthPercent: S = 100,
        onClick: v,
        ...C
    }) => {
        const w = P => {
                if (!C.disabled && v) {
                    const I = P.currentTarget,
                        B = I.getBoundingClientRect();
                    P.clientY >= B.top && P.clientY <= B.bottom - 8 ? I.classList.add("precise-click") : I.classList.add("shadow-click"), v(P), setTimeout(() => {
                        I && I.classList.remove("precise-click", "shadow-click")
                    }, 200)
                }
            },
            j = s === "sell" && r > 0 && (y || parseInt(a) > 0 && parseInt(a) < 100) && l > 0,
            A = s === "buy" && h && parseFloat(h) > 0,
            _ = () => {
                const P = parseInt(a);
                return isNaN(P) || P <= 0 ? 0 : Math.ceil(100 / P)
            },
            k = () => {
                const P = parseInt(a);
                return isNaN(P) || P <= 0 ? 0 : Math.floor(d / P)
            },
            D = () => {
                if (!j) return null;
                const P = _(),
                    I = k();
                if (P === 0) return null;
                const B = Array.from({
                    length: P
                }, (X, O) => {
                    const L = O < I,
                        F = !L && u > 0 && O < Math.floor(u / parseInt(a));
                    return t.jsx("div", {
                        style: {
                            height: "8px",
                            borderRadius: "4px",
                            marginLeft: O > 0 ? "2px" : "0",
                            flex: 1,
                            backgroundColor: L ? "white" : F ? "rgba(255,255,255,0.5)" : "rgba(255,255,255,0.3)",
                            opacity: F ? .8 : 1,
                            animation: F ? "pulse 1s infinite" : "none"
                        }
                    }, O)
                });
                return t.jsx("div", {
                    style: {
                        position: "absolute",
                        bottom: "10px",
                        left: "12px",
                        right: "12px",
                        display: "flex",
                        pointerEvents: "none",
                        zIndex: 1
                    },
                    children: B
                })
            },
            E = () => {
                if (!A) return null;
                const I = parseFloat(h).toFixed(3);
                return t.jsxs("div", {
                    style: {
                        position: "absolute",
                        bottom: "8px",
                        left: "0",
                        right: "0",
                        display: "flex",
                        justifyContent: "center",
                        alignItems: "center",
                        pointerEvents: "none",
                        zIndex: 1,
                        fontSize: "12px",
                        fontWeight: "600",
                        textShadow: "0px 1px 2px rgba(0,0,0,0.7)",
                        opacity: .95
                    },
                    children: ["+", I, " ", f]
                })
            };
        return t.jsxs(P4, { ...C,
            onPointerDown: w,
            onClick: void 0,
            disableRipple: !0,
            disableTouchRipple: !0,
            disableFocusRipple: !0,
            buttonVariant: s,
            autoMode: p,
            showProgressBars: j,
            equalWidth: x,
            desktopWidthPercent: S,
            children: [t.jsx("div", {
                style: {
                    display: "flex",
                    flexDirection: "column",
                    alignItems: "center",
                    justifyContent: "center",
                    width: "100%",
                    height: "100%",
                    transform: A ? "translateY(-8px)" : "translateY(0px)"
                },
                children: e
            }), D(), E()]
        })
    },
    P4 = Ln(Te, {
        shouldForwardProp: e => e !== "buttonVariant" && e !== "buttonSize" && e !== "autoMode" && e !== "loading" && e !== "showProgressBars" && e !== "equalWidth" && e !== "desktopWidthPercent"
    })(({
        buttonVariant: e = "buy",
        buttonSize: s = "normal",
        autoMode: a = !1,
        showProgressBars: r = !1,
        equalWidth: l = !1,
        desktopWidthPercent: d = 100
    }) => {
        let u = e;
        a && (e === "buy" ? u = "buyAuto" : e === "sell" && (u = "sellAuto"));
        const h = N4[u],
            f = _4[s];
        return {
            minWidth: l ? "100%" : f.minWidth,
            height: f.height,
            padding: f.padding,
            fontSize: "22px !important",
            fontWeight: "700 !important",
            fontFamily: "'DynaPuff', sans-serif",
            textTransform: "uppercase",
            color: "white",
            borderRadius: "16px",
            marginTop: "5px",
            display: "flex",
            alignItems: "center",
            justifyContent: "center",
            transform: "translateY(-5px)",
            cursor: "pointer",
            background: h.gradient,
            textShadow: "0px 1px 2px rgba(0,0,0,0.25)",
            letterSpacing: "0.025em",
            outline: "none",
            userSelect: "none",
            transition: "all 150ms ease-in-out",
            position: "relative",
            overflow: "visible",
            boxShadow: `0px 8px 0px ${h.bottomColor}`,
            WebkitTouchCallout: "none",
            WebkitTapHighlightColor: "transparent",
            zIndex: 0,
            "&::after": {
                content: '""',
                position: "absolute",
                bottom: "-8px",
                left: "0",
                right: "0",
                height: "8px",
                backgroundColor: "transparent",
                pointerEvents: "auto",
                zIndex: 1
            },
            "@media (max-width: 768px)": {
                fontSize: "20px"
            },
            "@media (max-width: 480px)": {
                fontSize: "18px"
            },
            ...l && {
                flex: 1,
                width: "100%"
            },
            "@media (min-width: 1351px)": {
                width: "150px",
                maxWidth: "150px",
                minWidth: "150px",
                flex: "none"
            },
            "@media (min-width: 431px) and (max-width: 1350px)": {
                width: "150px",
                maxWidth: "150px",
                minWidth: "150px",
                flex: "none"
            },
            "@media (max-width: 430px)": {
                width: "100%",
                maxWidth: "100%",
                minWidth: "100%",
                flex: "1"
            },
            ...a && e === "sell" && {
                boxShadow: `0px 8px 0px ${h.bottomColor}, 0 0 0 2px #9d4edd`,
                border: "2px solid #9d4edd"
            },
            ...a && e === "buy" && {
                boxShadow: `0px 8px 0px ${h.bottomColor}, 0 0 0 2px #9d4edd`,
                border: "2px solid #9d4edd"
            },
            "@media (hover: hover) and (pointer: fine)": {
                "&:hover": {
                    background: h.hoverGradient,
                    filter: "brightness(1.05)",
                    boxShadow: a && (e === "sell" || e === "buy") ? `0px 8px 0px ${h.bottomColor}, 0 0 0 2px #9d4edd` : `0px 8px 0px ${h.bottomColor}`
                }
            },
            "&:active": {
                transform: "translateY(5px)",
                boxShadow: a && (e === "sell" || e === "buy") ? `0px 2px 0px ${h.shadowColor}, 0 0 0 2px #9d4edd` : `0px 2px 0px ${h.shadowColor}`,
                background: `${h.gradient} !important`,
                filter: "none !important"
            },
            "&:active.precise-click": {
                background: `${h.hoverGradient} !important`,
                filter: "brightness(1.1) !important"
            },
            "&:disabled": {
                opacity: .4,
                cursor: "not-allowed",
                background: h.gradient,
                color: "white !important",
                textShadow: "0px 1px 3px rgba(0,0,0,0.2)",
                "&:hover": {
                    background: h.gradient,
                    filter: "none"
                }
            },
            "&::before": {
                content: '""',
                position: "absolute",
                top: 0,
                right: 0,
                bottom: 0,
                left: 0,
                background: "linear-gradient(to bottom, white, transparent)",
                opacity: .1,
                borderRadius: "12px",
                pointerEvents: "none"
            }
        }
    }),
    Ad = ({
        value: e,
        onChange: s,
        onBlur: a,
        className: r = "",
        placeholder: l = "0",
        disabled: d = !1,
        style: u
    }) => t.jsx(et, {
        type: "text",
        value: e,
        onChange: s,
        onBlur: a,
        className: `amount-input ${r}`,
        placeholder: l,
        disabled: d,
        autoComplete: "off",
        inputProps: {
            style: u
        },
        variant: "outlined",
        size: "small",
        sx: {
            "& .MuiOutlinedInput-root": {
                backgroundColor: "transparent",
                border: "none",
                padding: 0,
                "& fieldset": {
                    border: "none"
                },
                "&:hover fieldset": {
                    border: "none"
                },
                "&.Mui-focused fieldset": {
                    border: "none"
                }
            },
            "& .MuiOutlinedInput-input": {
                textAlign: "left",
                fontWeight: "bold",
                backgroundColor: "transparent",
                padding: 0
            }
        }
    }),
    L4 = ({
        children: e,
        onClick: s,
        className: a = "",
        isSpecial: r = !1,
        isClear: l = !1,
        disabled: d = !1
    }) => t.jsx("button", {
        onClick: s,
        disabled: d,
        className: `control-btn ${r?"special":""} ${l?"clear":""} ${a}`,
        children: e
    }),
    M4 = ({
        gameId: e,
        disabled: s = !1
    }) => {
        const a = m.useRef(0),
            r = Pa(),
            l = Se(yt.selectCurrentPlayerData),
            d = Se(yt.selectPlayerBattleState),
            u = Se(yt.selectBattleFinished),
            h = !!(d != null && d.rugged);
        m.useEffect(() => {
            d && (d == null ? void 0 : d.currentRound) !== a.current && (r.getBattleState(), a.current = d.currentRound ? ? 0)
        }, [r, d]);
        const [f, p] = m.useState(0), [y, x] = m.useState(50), [S, v] = m.useState(!1), [C, w] = m.useState(0), [j, A] = m.useState(0), [_, k] = m.useState(0);
        console.log("Current player data:", l);
        const D = (l == null ? void 0 : l.balance) || 0,
            E = (l == null ? void 0 : l.position) || 0,
            P = !1,
            I = m.useRef(0),
            B = m.useRef(0),
            X = (W, q) => {
                const Z = Date.now();
                if (!(Z - I.current < 50)) switch (I.current = Z, W) {
                    case "clear":
                        p(0);
                        break;
                    case "add":
                        q !== void 0 && p(se => Math.max(0, parseFloat((Number(se) + q).toFixed(3))));
                        break;
                    case "half":
                        p(se => Math.max(0, parseFloat((Number(se) / 2).toFixed(3))));
                        break;
                    case "double":
                        p(se => Math.max(0, parseFloat((Number(se) * 2).toFixed(3))));
                        break;
                    case "max":
                        {
                            const se = Math.floor((D ? ? 0) * 1e3) / 1e3;p(se);
                            break
                        }
                }
            },
            O = [{
                label: "+1",
                action: () => X("add", 1)
            }, {
                label: "+10",
                action: () => X("add", 10)
            }, {
                label: "+100",
                action: () => X("add", 100)
            }, {
                label: "1/2",
                type: "special",
                action: () => X("half")
            }, {
                label: "X2",
                type: "special",
                action: () => X("double")
            }, {
                label: "MAX",
                type: "special",
                action: () => X("max")
            }],
            L = [{
                value: 10,
                label: S ? "-INIT" : "10%"
            }, {
                value: 25,
                label: S ? "-25%" : "25%"
            }, {
                value: 50,
                label: S ? "-50%" : "50%"
            }, {
                value: 100,
                label: S ? "-100%" : "100%"
            }],
            F = W => {
                S ? Y(W) : (x(W), E > 0 && (w(E), A(0), k(0)))
            },
            Y = W => {
                const q = Date.now();
                if (!(q - B.current < 50)) {
                    if (B.current = q, console.log("Lightning instant sell clicked:", W + "%"), !e || E <= 0) {
                        console.warn("Instant sell: Invalid game ID or no position", {
                            gameId: e,
                            userPosition: E
                        });
                        return
                    }
                    try {
                        let Z = W;
                        if (W === 10 && E > 0) {
                            const G = (d == null ? void 0 : d.trades) || [],
                                ie = l == null ? void 0 : l.id,
                                ne = [...G].reverse().find(ee => ee.playerId === ie && ee.type === "buy" && (ee.qty ? ? 0) > 0);
                            if (ne) {
                                const ee = Number(ne.qty) || 0,
                                    me = Number(ne.price) || 0,
                                    fe = Number(d == null ? void 0 : d.price) || 0;
                                if (E < ee) Z = 100;
                                else if (fe > me && ee > 0) Z = Math.min(100, Math.max(5, Math.round(ee / E * 100)));
                                else {
                                    console.log("INIT: last buy is not in profit; skipping sell");
                                    return
                                }
                            } else console.log("INIT: no last buy found; defaulting to 10%"), Z = 10
                        }
                        if (Z >= 100) {
                            k(100), console.log(`Attempting to sell 100% in game ${e}`), r.placeSellOrder(e, 100), r.getBattleState(), A(100), k(0);
                            return
                        }
                        const se = Math.max(5, Math.min(100, Math.round(Z)));
                        k(se), console.log(`Attempting to sell ${se}% of current position in game ${e}`), r.placeSellOrder(e, se), r.getBattleState(), A(Math.min(100, se)), k(0)
                    } catch (Z) {
                        console.error("Instant sell order failed:", Z), k(0)
                    }
                }
            },
            H = async () => {
                if (!e || f <= 0) {
                    console.warn("Buy action: Invalid game ID or amount", {
                        gameId: e,
                        buyAmount: f
                    });
                    return
                }
                if (f > D) {
                    console.warn("Buy action: Insufficient balance", {
                        buyAmount: f,
                        userBalance: D
                    });
                    return
                }
                try {
                    console.log(`Attempting to buy ${f} in game ${e}`), r.placeBuyOrder(e, f), r.getBattleState()
                } catch (W) {
                    console.error("Buy order failed:", W)
                }
            },
            K = async () => {
                if (!e || y <= 0 || y > 100) {
                    console.warn("Sell action: Invalid game ID or percentage", {
                        gameId: e,
                        sellPercentage: y
                    });
                    return
                }
                try {
                    if (console.log("Sell clicked:", y + "%"), y >= 5 && y <= 100) {
                        const W = Math.min(100, j + y);
                        if (W >= 100) {
                            k(100), console.log(`Attempting to sell 100% in game ${e}`), r.placeSellOrder(e, 100), r.getBattleState(), A(100), k(0);
                            return
                        }
                        const q = C * (W / 100),
                            Z = C - E,
                            se = q - Z,
                            G = Math.max(5, Math.min(100, Math.round(se / E * 100)));
                        k(W), console.log(`Attempting to sell ${G}% of current position in game ${e}`), r.placeSellOrder(e, G), r.getBattleState(), A(W), k(0)
                    }
                } catch (W) {
                    console.error("Sell order failed:", W), k(0)
                }
            },
            z = () => {
                const W = parseFloat(f.toString());
                isNaN(W) || W <= 0 ? p(0) : p(parseFloat(W.toFixed(3)))
            };
        ls.useEffect(() => {
            (E > C || E > 0 && C === 0) && (w(E), A(0), k(0)), E === 0 && C > 0 && (w(0), A(0), k(0))
        }, [E, C]);
        const U = s || P || h || f <= 0 || f > D,
            V = s || P || h || y <= 0 || E <= 0;
        return t.jsx("div", {
            className: "trade-controls-container battles-trade-controls",
            children: t.jsxs("div", {
                className: "trade-controls-main",
                children: [t.jsxs("div", {
                    className: "mobile-controls-top-row",
                    children: [t.jsx("div", {
                        className: "mobile-auto-buttons",
                        children: t.jsx("button", {
                            onClick: () => v(!S),
                            className: `auto-toggle-btn ${S?"active lightning-active":""}`,
                            children: t.jsx("span", {
                                className: "auto-icon",
                                children: "⚡️"
                            })
                        })
                    }), t.jsx("div", {
                        className: "mobile-buy-controls",
                        children: O.map((W, q) => t.jsx("button", {
                            onClick: W.action,
                            className: `control-btn ${W.label==="MAX"?"uppercase":""}`,
                            disabled: s || P,
                            children: W.label
                        }, q))
                    })]
                }), t.jsxs("div", {
                    className: "controls-row",
                    children: [t.jsx("div", {
                        className: "buy-section",
                        children: t.jsx("div", {
                            className: "amount-input-section",
                            children: t.jsxs("div", {
                                className: "trade-controls-amount-input-container",
                                children: [t.jsx(Ad, {
                                    value: f.toString(),
                                    onChange: W => p(parseFloat(W.target.value) || 0),
                                    onBlur: z,
                                    className: "buy-amount-input",
                                    placeholder: "0.000",
                                    disabled: P
                                }), t.jsxs("div", {
                                    className: "input-actions",
                                    children: [t.jsx("button", {
                                        onClick: () => X("clear"),
                                        className: "clear-button",
                                        title: "Clear amount",
                                        children: "X"
                                    }), t.jsx("div", {
                                        className: "control-buttons-container",
                                        style: {
                                            marginRight: "5px"
                                        },
                                        children: O.map((W, q) => t.jsx(L4, {
                                            onClick: W.action,
                                            isClear: W.type === "clear",
                                            isSpecial: W.type === "special",
                                            disabled: s || P,
                                            className: W.label === "MAX" ? "uppercase" : "",
                                            children: W.label
                                        }, q))
                                    }), t.jsxs("div", {
                                        className: "control-btn balance-display",
                                        style: {
                                            marginLeft: "2px",
                                            whiteSpace: "nowrap",
                                            cursor: "default",
                                            pointerEvents: "none"
                                        },
                                        children: [D.toFixed(3), " $CRED"]
                                    })]
                                })]
                            })
                        })
                    }), t.jsx("div", {
                        className: "sell-section",
                        children: t.jsx("div", {
                            className: "amount-input-section",
                            children: t.jsxs("div", {
                                className: "sell-controls-layout",
                                children: [t.jsx("div", {
                                    className: "auto-buttons-container",
                                    children: t.jsx("button", {
                                        onMouseDown: () => v(!S),
                                        className: `auto-toggle-btn ${S?"active lightning-active":""}`,
                                        children: t.jsx("span", {
                                            className: "auto-icon",
                                            children: "⚡️"
                                        })
                                    })
                                }), t.jsx("div", {
                                    className: "sell-control-buttons-container",
                                    children: L.map((W, q) => t.jsx("button", {
                                        onClick: () => F(W.value),
                                        className: `percentage-btn ${y===W.value?"active":""} ${S?"lightning-active":""}`,
                                        disabled: S && E <= 0,
                                        children: W.label
                                    }, q))
                                }), t.jsx("div", {
                                    className: "sell-input-container",
                                    children: t.jsxs("div", {
                                        className: "trade-controls-amount-input-container",
                                        children: [t.jsx("input", {
                                            type: "text",
                                            value: y,
                                            onChange: W => x(parseInt(W.target.value) || 50),
                                            className: "unit-indicator percent-input",
                                            style: {
                                                width: "40px",
                                                textAlign: "center",
                                                border: "none",
                                                background: "transparent"
                                            },
                                            disabled: P
                                        }), t.jsx("span", {
                                            style: {
                                                marginRight: "10px"
                                            },
                                            children: "%"
                                        }), t.jsx("input", {
                                            type: "range",
                                            min: "0",
                                            max: "100",
                                            value: y,
                                            onChange: W => x(parseInt(W.target.value)),
                                            className: "sell-slider",
                                            style: {
                                                background: `linear-gradient(to right, #EF4444 0%, #EF4444 ${y}%, #EF444433 ${y}%, #EF444433 100%)`
                                            },
                                            disabled: P
                                        })]
                                    })
                                })]
                            })
                        })
                    })]
                }), t.jsxs("div", {
                    className: "buttons-row",
                    children: [t.jsx("div", {
                        className: "button-section buy-button-section",
                        children: t.jsx(md, {
                            onPointerDown: H,
                            onClick: H,
                            disabled: U,
                            buttonVariant: "buy",
                            buttonSize: "normal",
                            autoMode: !1,
                            buyAmount: f.toFixed(3),
                            selectedCoinTicker: "$CRED",
                            equalWidth: !0,
                            desktopWidthPercent: 100,
                            children: "BUY"
                        })
                    }), t.jsx("div", {
                        className: "button-section sell-button-section",
                        children: t.jsx(md, {
                            onPointerDown: K,
                            onClick: K,
                            disabled: V,
                            buttonVariant: "sell",
                            buttonSize: "normal",
                            autoMode: !1,
                            sellPercent: y.toString(),
                            positionQty: E,
                            originalPositionQty: C,
                            soldPercentage: j,
                            pendingSellPercent: _,
                            lightningEnabled: S,
                            equalWidth: !0,
                            desktopWidthPercent: 100,
                            children: "SELL"
                        })
                    })]
                }), u && t.jsx("div", {
                    style: {
                        textAlign: "center",
                        color: "white",
                        fontSize: "16px",
                        marginTop: "20px",
                        fontFamily: "DynaPuff, sans-serif"
                    },
                    children: "Returning to lobby soon..."
                })]
            })
        })
    };
class B4 {
    constructor(s, a, r) {
        R(this, "_context");
        this._duration = s, this._handler = a, this._context = new z4(this._duration, r.lastTime)
    }
    get context() {
        return this._context
    }
    tick(s, a) {
        this._context.setTarget(a), this._context.tick(s), this._handler(a, this._context), this._context.progress() >= 1 && this._context.endTransition()
    }
}
class z4 {
    constructor(s, a) {
        R(this, "_data", null);
        R(this, "_target", null);
        R(this, "_start", null);
        R(this, "_startTime", null);
        R(this, "_lastTime");
        this._duration = s, this._lastTime = a
    }
    get target() {
        return this._target
    }
    tick(s) {
        this._lastTime = s.lastTime
    }
    progress() {
        if (this._startTime === null) return 0;
        const s = (this._lastTime - this._startTime) / this._duration;
        return s >= 1 ? 1 : s
    }
    startTransition(s, a) {
        this._startTime = a ? ? this._lastTime, this._start = s
    }
    endTransition() {
        this._startTime = null, this._start = null
    }
    set(s) {
        this._data = s
    }
    setTarget(s) {
        this._target = s
    }
    setStart(s) {
        this._start = s
    }
    get() {
        return this._data
    }
    getTarget() {
        return this._target
    }
    getStart() {
        return this._start
    }
}

function F4(e) {
    return {}
}
var zs = (e => (e.LATENCY_MS = "latency_ms", e.RENDER_TIME_MS = "render_time_ms", e.TICKER_TIME_MS = "ticker_time_ms", e.RENDER_DELTA_MS = "render_delta_ms", e.SELF_TIME_MS = "self_time_ms", e))(zs || {});
const al = {
    latency_ms: {
        description: "Latency of the application",
        unit: "ms"
    },
    render_time_ms: {
        description: "Time taken to render the application",
        unit: "ms"
    },
    ticker_time_ms: {
        description: "Time taken to tick the application",
        unit: "ms"
    },
    render_delta_ms: {
        description: "Time taken to render the delta of the application",
        unit: "ms"
    },
    self_time_ms: {
        description: "Time taken to self the application",
        unit: "ms"
    }
};

function I4(e) {
    return {
        latency_ms: e.createHistogram("latency_ms", al.latency_ms),
        render_time_ms: e.createHistogram("render_time_ms", al.render_time_ms),
        ticker_time_ms: e.createHistogram("ticker_time_ms", al.ticker_time_ms),
        render_delta_ms: e.createHistogram("render_delta_ms", al.render_delta_ms),
        self_time_ms: e.createHistogram("self_time_ms", al.self_time_ms)
    }
}

function O4(e) {
    return {}
}
const $e = class $e {
    constructor() {
        R(this, "tracerProvider", null);
        R(this, "meterProvider", null);
        R(this, "loggerProvider", null);
        R(this, "tracer", null);
        R(this, "meter", null);
        R(this, "logger", null);
        R(this, "isInitialized", !1);
        R(this, "config", {});
        R(this, "originalConsoleError", null);
        R(this, "originalConsoleWarn", null);
        R(this, "errorHandler", null);
        R(this, "rejectionHandler", null);
        R(this, "currentUser", {
            id: null,
            name: null
        });
        R(this, "histograms", {
            [zs.LATENCY_MS]: null,
            [zs.RENDER_TIME_MS]: null,
            [zs.TICKER_TIME_MS]: null,
            [zs.RENDER_DELTA_MS]: null,
            [zs.SELF_TIME_MS]: null
        });
        R(this, "counters", {});
        R(this, "gauges", {})
    }
    static getInstance() {
        return $e.instance || ($e.instance = new $e), $e.instance
    }
    static metrics() {
        return $e.getInstance().meter
    }
    static logger() {
        return $e.getInstance().logger
    }
    static tracer() {
        return $e.getInstance().tracer
    }
    async initialize(s = {}) {
        if (this.isInitialized) {
            console.log("OpenTelemetry already initialized");
            return
        }
        console.log("Initializing OpenTelemetry with configuration:", s);
        const a = s.enabled ? ? !!s.endpoint;
        this.config = {
            serviceName: "rugsdotfun-frontend",
            serviceVersion: "1.0.0",
            environment: "development",
            sampleRate: 1,
            debug: !1,
            enabled: a,
            ...s
        }, console.log("OpenTelemetry configuration:", this.config);
        try {
            if (!this.config.enabled) {
                console.log("OpenTelemetry is disabled via configuration");
                return
            }
            const r = Fv({
                    "service.name": this.config.serviceName,
                    "service.version": this.config.serviceVersion,
                    "deployment.environment": this.config.environment
                }),
                l = [];
            if (this.config.endpoint) {
                const h = new Vv({
                        url: `${this.config.endpoint}/v1/traces`,
                        headers: {}
                    }),
                    f = new Iv(h, {
                        maxExportBatchSize: 100,
                        exportTimeoutMillis: 3e4,
                        scheduledDelayMillis: 5e3
                    });
                l.push(f), console.log(`OpenTelemetry traces endpoint configured: ${this.config.endpoint}/v1/traces`)
            }
            this.tracerProvider = new Ov({
                resource: r,
                spanProcessors: l
            });
            const d = [];
            if (this.config.endpoint) {
                const h = new qv({
                        url: `${this.config.endpoint}/v1/metrics`,
                        headers: {}
                    }),
                    f = new Wv({
                        exporter: h,
                        exportIntervalMillis: 1e4,
                        exportTimeoutMillis: 5e3
                    });
                d.push(f), console.log(`OpenTelemetry metrics endpoint configured: ${this.config.endpoint}/v1/metrics`)
            }
            this.meterProvider = new Uv({
                resource: r,
                readers: d
            });
            const u = [];
            if (this.config.endpoint) {
                const h = new Xv({
                        url: `${this.config.endpoint}/v1/logs`,
                        headers: {}
                    }),
                    f = new Hv(h, {
                        maxExportBatchSize: 100,
                        exportTimeoutMillis: 3e4,
                        scheduledDelayMillis: 5e3
                    });
                u.push(f), console.log(`OpenTelemetry logs endpoint configured: ${this.config.endpoint}/v1/logs`)
            }
            this.loggerProvider = new $v({
                resource: r,
                processors: u
            }), this.tracerProvider.register(), Rx.setGlobalMeterProvider(this.meterProvider), Dx.setGlobalLoggerProvider(this.loggerProvider), this.tracer = Cs.getTracer(this.config.serviceName, this.config.serviceVersion), this.meter = Rx.getMeter(this.config.serviceName, this.config.serviceVersion), this.logger = Dx.getLogger(this.config.serviceName, this.config.serviceVersion), this.histograms = I4(this.meter), this.counters = F4(this.meter), this.gauges = O4(this.meter), Gv({
                instrumentations: [Yv({
                    "@opentelemetry/instrumentation-fetch": {
                        enabled: !1
                    },
                    "@opentelemetry/instrumentation-user-interaction": {
                        enabled: !1
                    },
                    "@opentelemetry/instrumentation-xml-http-request": {
                        enabled: !1
                    }
                })]
            }), this.setupConsoleInterception(), this.setupGlobalErrorHandlers(), this.isInitialized = !0, console.log("OpenTelemetry initialized successfully")
        } catch (r) {
            throw console.error("Failed to initialize OpenTelemetry:", r), r
        }
    }
    static createSpan(s, a = {}, r) {
        const l = $e.tracer();
        if (!$e.getInstance().isReady() || !l) return null;
        const u = { ...$e.getUserAttributes(),
            ...a.attributes
        };
        return l.startSpan(s, {
            kind: a.kind || Bs.INTERNAL,
            startTime: a.startTime,
            attributes: u
        }, r)
    }
    static trace(s, a, r = {}) {
        const l = $e.tracer();
        if (!$e.getInstance().isReady() || !l) return a();
        const u = { ...$e.getUserAttributes(),
            ...r.attributes
        };
        return l.startActiveSpan(s, {
            kind: r.kind || Bs.INTERNAL,
            startTime: r.startTime,
            attributes: u
        }, h => {
            try {
                const f = a();
                return h.setStatus({
                    code: Vn.OK
                }), f
            } catch (f) {
                throw h.recordException(f), h.setStatus({
                    code: Vn.ERROR,
                    message: f.message
                }), f
            } finally {
                h.end()
            }
        })
    }
    static async traceAsync(s, a, r = {}) {
        const l = $e.tracer();
        if (!$e.getInstance().isReady() || !l) return a();
        const u = { ...$e.getUserAttributes(),
            ...r.attributes
        };
        return l.startActiveSpan(s, {
            kind: r.kind || Bs.INTERNAL,
            startTime: r.startTime,
            attributes: u
        }, async h => {
            try {
                const f = await a();
                return h.setStatus({
                    code: Vn.OK
                }), f
            } catch (f) {
                throw h.recordException(f), h.setStatus({
                    code: Vn.ERROR,
                    message: f.message
                }), f
            } finally {
                h.end()
            }
        })
    }
    static setActiveSpanAttributes(s) {
        const a = Cs.getActiveSpan();
        !$e.getInstance().isReady() || !a || Object.entries(s).forEach(([r, l]) => {
            l != null && a.setAttributes({
                [r]: String(l)
            })
        })
    }
    static pushEvent(s, a) {
        if (!$e.getInstance().isReady()) return;
        const l = { ...$e.getUserAttributes(),
                ...a
            },
            d = $e.createSpan(s, {
                attributes: l
            });
        d && d.end()
    }
    static pushMeasurement(s, a) {
        if (!$e.getInstance().isReady()) return;
        const r = Object.entries(a).reduce((u, [h, f]) => (u[`${s}.${h}`] = f, u), {}),
            d = { ...$e.getUserAttributes(),
                ...r
            };
        $e.pushEvent(`measurement.${s}`, d)
    }
    static pushError(s, a) {
        var h;
        if (!$e.getInstance().isReady()) return;
        const r = {
                "error.type": "manual_error",
                "error.name": s.name,
                "error.message": s.message,
                "error.stack": s.stack || "No stack trace available",
                "log.source": "otel.pushError",
                "log.timestamp": Date.now(),
                ...a
            },
            d = { ...$e.getUserAttributes(),
                ...r
            };
        (h = $e.logger()) == null || h.emit({
            severityNumber: 17,
            severityText: "ERROR",
            body: `Manual Error: ${s.message}`,
            attributes: d
        });
        const u = $e.createSpan("manual.error", {
            attributes: d
        });
        u && (u.recordException(s), u.setStatus({
            code: Vn.ERROR,
            message: s.message
        }), u.end())
    }
    static pushLog(s, a, r) {
        if (!$e.getInstance().isReady()) return;
        const l = $e.getUserAttributes(),
            d = {
                message: a,
                level: s,
                ...r
            },
            u = { ...l,
                ...d
            };
        $e.pushEvent(`log.${s}`, u)
    }
    static setUser(s, a) {
        const r = $e.getInstance();
        r.currentUser = {
            id: s,
            name: a || null
        }, r.isReady() && $e.pushEvent("user.identified", {
            "user.id": s,
            "user.name": a || s
        })
    }
    static clearUser() {
        const s = $e.getInstance();
        s.currentUser = {
            id: null,
            name: null
        }, s.isReady() && $e.pushEvent("user.cleared", {})
    }
    static getUserAttributes() {
        const s = $e.getInstance(),
            a = {};
        return s.currentUser.id && (a["user.id"] = s.currentUser.id), s.currentUser.name && (a["user.name"] = s.currentUser.name), a
    }
    static setGlobalMetadata(s) {
        $e.getInstance().isReady() && $e.pushEvent("metadata.global", s)
    }
    static addToCounter(s, a, r) {
        var u;
        if (!$e.getInstance().isReady()) return;
        const d = { ...$e.getUserAttributes(),
            ...r
        };
        (u = $e.getInstance().counters[s]) == null || u.add(a, d)
    }
    static recordMetric(s, a, r) {
        var u;
        if (!$e.getInstance().isReady()) return;
        const d = { ...$e.getUserAttributes(),
            ...r
        };
        (u = $e.getInstance().histograms[s]) == null || u.record(a, d)
    }
    static recordGauge(s, a, r) {
        var u;
        if (!$e.getInstance().isReady()) return;
        const d = { ...$e.getUserAttributes(),
            ...r
        };
        (u = $e.getInstance().gauges[s]) == null || u.record(a, d)
    }
    setupConsoleInterception() {
        this.logger && (this.originalConsoleError = console.error, this.originalConsoleWarn = console.warn, console.error = (...s) => {
            var a, r, l;
            try {
                (a = $e.logger()) == null || a.emit({
                    severityNumber: 17,
                    severityText: "ERROR",
                    body: s.map(d => typeof d == "object" ? JSON.stringify(d) : String(d)).join(" "),
                    attributes: {
                        "log.source": "console.error",
                        "log.timestamp": Date.now()
                    }
                })
            } catch (d) {
                (r = this.originalConsoleError) == null || r.call(console, "Failed to log error to OpenTelemetry:", d)
            }(l = this.originalConsoleError) == null || l.apply(console, s)
        }, console.warn = (...s) => {
            var a, r, l;
            try {
                (a = $e.logger()) == null || a.emit({
                    severityNumber: 13,
                    severityText: "WARN",
                    body: s.map(d => typeof d == "object" ? JSON.stringify(d) : String(d)).join(" "),
                    attributes: {
                        "log.source": "console.warn",
                        "log.timestamp": Date.now()
                    }
                })
            } catch (d) {
                (r = this.originalConsoleWarn) == null || r.call(console, "Failed to log warning to OpenTelemetry:", d)
            }(l = this.originalConsoleWarn) == null || l.apply(console, s)
        })
    }
    restoreConsoleInterception() {
        this.originalConsoleError && (console.error = this.originalConsoleError, this.originalConsoleError = null), this.originalConsoleWarn && (console.warn = this.originalConsoleWarn, this.originalConsoleWarn = null)
    }
    setupGlobalErrorHandlers() {
        !this.logger || typeof window > "u" || (this.errorHandler = s => {
            var a, r;
            try {
                const l = s.error || new Error(s.message);
                (a = $e.logger()) == null || a.emit({
                    severityNumber: 17,
                    severityText: "ERROR",
                    body: `Unhandled Error: ${l.message||s.message}`,
                    attributes: {
                        "error.type": "unhandled_error",
                        "error.name": l.name || "Error",
                        "error.message": l.message || s.message,
                        "error.stack": l.stack || "No stack trace available",
                        "error.filename": s.filename || "unknown",
                        "error.lineno": s.lineno || 0,
                        "error.colno": s.colno || 0,
                        "log.source": "window.onerror",
                        "log.timestamp": Date.now()
                    }
                });
                const d = $e.createSpan("unhandled.error", {
                    attributes: {
                        "error.type": "unhandled_error",
                        "error.name": l.name || "Error",
                        "error.message": l.message || s.message,
                        "error.filename": s.filename || "unknown"
                    }
                });
                d && (d.recordException(l), d.setStatus({
                    code: Vn.ERROR,
                    message: l.message || s.message
                }), d.end())
            } catch (l) {
                (r = this.originalConsoleError) == null || r.call(console, "Failed to log unhandled error to OpenTelemetry:", l)
            }
        }, this.rejectionHandler = s => {
            var a, r;
            try {
                const l = s.reason instanceof Error ? s.reason : new Error(String(s.reason));
                (a = $e.logger()) == null || a.emit({
                    severityNumber: 17,
                    severityText: "ERROR",
                    body: `Unhandled Promise Rejection: ${l.message||String(s.reason)}`,
                    attributes: {
                        "error.type": "unhandled_promise_rejection",
                        "error.name": l.name || "PromiseRejection",
                        "error.message": l.message || String(s.reason),
                        "error.stack": l.stack || "No stack trace available",
                        "log.source": "window.onunhandledrejection",
                        "log.timestamp": Date.now()
                    }
                });
                const d = $e.createSpan("unhandled.promise_rejection", {
                    attributes: {
                        "error.type": "unhandled_promise_rejection",
                        "error.name": l.name || "PromiseRejection",
                        "error.message": l.message || String(s.reason)
                    }
                });
                d && (d.recordException(l), d.setStatus({
                    code: Vn.ERROR,
                    message: l.message || String(s.reason)
                }), d.end())
            } catch (l) {
                (r = this.originalConsoleError) == null || r.call(console, "Failed to log unhandled promise rejection to OpenTelemetry:", l)
            }
        }, window.addEventListener("error", this.errorHandler), window.addEventListener("unhandledrejection", this.rejectionHandler))
    }
    removeGlobalErrorHandlers() {
        typeof window < "u" && (this.errorHandler && (window.removeEventListener("error", this.errorHandler), this.errorHandler = null), this.rejectionHandler && (window.removeEventListener("unhandledrejection", this.rejectionHandler), this.rejectionHandler = null))
    }
    isReady() {
        return this.isInitialized && this.tracer != null && this.meter != null && this.logger != null
    }
    async shutdown() {
        try {
            this.restoreConsoleInterception(), this.removeGlobalErrorHandlers(), this.tracerProvider && (await this.tracerProvider.shutdown(), this.tracerProvider = null), this.meterProvider && (await this.meterProvider.shutdown(), this.meterProvider = null), this.loggerProvider && (await this.loggerProvider.shutdown(), this.loggerProvider = null), this.tracer = null, this.meter = null, this.logger = null, this.isInitialized = !1
        } catch (s) {
            console.error("Error shutting down OpenTelemetry providers:", s)
        }
    }
};
R($e, "instance");
let Tn = $e;
class Wf {
    constructor() {
        R(this, "stage", new cs);
        R(this, "renderer", null)
    }
    async init(s) {
        s = { ...s
        }, this.renderer = await O0(s), Ax._plugins.forEach(a => {
            a.init.call(this, s)
        })
    }
    render() {
        if (!this.renderer || !this.stage) {
            console.error("TracedApplication: Renderer or stage is not initialized");
            return
        }
        this.renderer.render({
            container: this.stage
        })
    }
    get canvas() {
        var s;
        return (s = this.renderer) == null ? void 0 : s.canvas
    }
    get screen() {
        return this.renderer.screen
    }
    destroy(s = !1, a = !1) {
        const r = Ax._plugins.slice(0);
        r.reverse(), r.forEach(l => {
            l.destroy.call(this)
        }), this.stage && (this.stage.destroy(a), this.stage = null), this.renderer && this.renderer.destroy(s), this.renderer = null
    }
}
R(Wf, "_plugins", []);
W0.mixin(af, {
    _oldUpdate: af.prototype.update,
    update: function(e) {
        const s = Date.now(),
            a = this._oldUpdate.call(this, e),
            l = Date.now() - s;
        return Tn.recordMetric(zs.RENDER_TIME_MS, l), a
    }
});
W0.handleByList("traced-application", Wf._plugins);
class W4 {
    constructor(s, a) {
        R(this, "selectors", new Map);
        R(this, "transitions", new Map);
        R(this, "transitionSelectors", new Map);
        R(this, "layers", new Map);
        R(this, "scenes", new Map);
        R(this, "_currentScene");
        R(this, "app");
        R(this, "resizeObserver");
        R(this, "_storeUnsubscribe", null);
        R(this, "storeSubscription", () => {});
        R(this, "_runTicker", null);
        R(this, "_storeDataRef", {});
        R(this, "_currentLayoutData", null);
        R(this, "_store", null);
        R(this, "_tickerDeltas", []);
        R(this, "BATCH_SIZE", 100);
        R(this, "_frameCount", 0);
        R(this, "destroyed", !1);
        this.parent = s, this._props = a, this.app = new Wf, this._currentScene = null, this.resizeObserver = new ResizeObserver(() => {
            !this.destroyed && this.app && this.app.renderer && this.app.queueResize()
        })
    }
    async setup(s, a) {
        if (this._store = s, !this.app || this.destroyed) {
            console.warn("SceneManager: PIXI app is not initialized or destroyed, cannot setup");
            return
        }
        if (!this.parent.current) {
            console.warn("SceneManager: Parent element is null, cannot setup PIXI app");
            return
        }
        try {
            if (await this.app.init({
                    sharedTicker: !0,
                    resizeTo: this.parent.current,
                    autoStart: !0,
                    antialias: !0,
                    autoDensity: !0,
                    resolution: window.devicePixelRatio || 1,
                    preference: "webgl",
                    ...a
                }), !this.app.renderer || !this.app.stage) {
                console.error("SceneManager: PIXI app failed to initialize properly");
                return
            }
            if (this.app.stage.cullable = !1, this.app.stage.mask = null, !this.parent.current) {
                console.warn("SceneManager: Parent element became null during setup");
                return
            }
            this.parent.current.appendChild(this.app.canvas), this.app.canvas.style.overflow = "visible", this.app.canvas.style.touchAction = "auto"
        } catch (h) {
            console.error("SceneManager: Failed to initialize PIXI app", h);
            return
        }
        this.selectors = new Map(Object.entries(this._props.selectors)), this.layers = new Map(Object.entries(this._props.layers).map(([h, f]) => [h, zy(f.type, this.app, f.config)]));
        const r = this.app.renderer.events;
        for (const h of this.layers.values()) h.isHandler() && h.updateHandlers(this._props.handlers), h.isEvents() && (h.events = r);
        this.scenes = new Map(Object.entries(this._props.scenes).map(([h, f]) => [h, new Set(f)]));
        for (const h of this._props.layerOrder) {
            const f = this.layers.get(h);
            f.container.visible = !1, this.app.stage.addChild(f.container)
        }
        const l = Array.from(this.layers.values()).filter(h => h.isResizable()).map(h => f => h.resize(f));
        this.app.renderer.on("resize", (h, f) => {
            this._currentLayoutData = this._props.layoutSelector(h, f), l.forEach(p => p(this._currentLayoutData))
        }), this.transitions = new Map(Object.entries(this._props.transitions).map(([h, f]) => [h, new B4(f.duration, f.handler, this.app.ticker)])), this.transitionSelectors = new Map(Object.entries(this._props.transitions).map(([h, f]) => [h, f.selector]));
        const d = Array.from(this.layers.values()).filter(h => h.isAnimated()).map(h => f => h.runTickers(f)),
            u = Array.from(this.layers.values()).filter(h => h.isTransition());
        this._runTicker = h => {
            if (this.destroyed || !this.app || !this._store) return;
            const f = Date.now();
            this._frameCount++, this.storeSubscription && this.storeSubscription(), this._tickerDeltas.push(h.deltaMS), this._tickerDeltas.length >= this.BATCH_SIZE && this._logTickerBatch(), this.transitions.forEach((x, S) => {
                var v;
                try {
                    const C = (v = this.transitionSelectors.get(S)) == null ? void 0 : v(this._store.getState());
                    x.tick(h, C), u.forEach(w => {
                        w.transitions.includes(S) && w.transition(S, x.context)
                    })
                } catch (C) {
                    console.warn("Error in transition tick:", C)
                }
            }), d.forEach(x => x(h));
            const y = Date.now() - f;
            Tn.recordMetric(zs.RENDER_DELTA_MS, h.deltaMS), Tn.recordMetric(zs.TICKER_TIME_MS, y)
        }, this._subscribeToStore(s), this.app.renderer.resize(this.parent.current.clientWidth, this.parent.current.clientHeight), this.parent.current && this.resizeObserver.observe(this.parent.current), this.app.ticker.add(this._runTicker, this)
    }
    _subscribeToStore(s) {
        this._storeUnsubscribe && (this._storeUnsubscribe(), this._storeUnsubscribe = null);
        const a = Array.from(this.selectors.entries()).map(([d, u]) => [d, h => {
                const f = u(h);
                return this._storeDataRef[d] = f, !0
            }]),
            r = d => Object.fromEntries(a.map(([u, h]) => [u, h(d)])),
            l = Array.from(this.layers.values()).filter(d => d.isDynamic()).map(d => {
                const u = () => Object.fromEntries(d.selectors.map(h => [h, this._storeDataRef[h]]));
                return h => {
                    if (d.selectors.some(f => h[f])) {
                        const f = u();
                        d.update(f)
                    }
                }
            });
        this.storeSubscription = () => {
            const d = r(s.getState());
            l.forEach(h => h(d));
            const u = this._props.sceneSelector(s.getState());
            this._currentScene != u && this._setScene(u)
        }, this.storeSubscription()
    }
    _setScene(s) {
        if (!this.scenes.has(s)) {
            console.error(`missing scene ${s}`, this);
            return
        }
        if (this._currentScene === s) return;
        this._currentScene = s;
        const a = this.scenes.get(this._currentScene);
        for (const [r, l] of this.layers.entries()) !a.has(r) && l.container.visible && (l.container.visible = !1), a.has(r) && !l.container.visible && (l.container.visible = !0)
    }
    storeUnsubscribe() {
        this._storeUnsubscribe && (this._storeUnsubscribe(), this._storeUnsubscribe = null)
    }
    destroy() {
        if (!this.destroyed) {
            this.destroyed = !0;
            try {
                this.resizeObserver.disconnect()
            } catch (s) {
                console.warn("Error disconnecting resize observer:", s)
            }
            if (this._runTicker && this.app && this.app.ticker) {
                try {
                    this.app.ticker.remove(this._runTicker, this)
                } catch (s) {
                    console.warn("Error removing ticker:", s)
                }
                this._runTicker = null
            }
            try {
                this.storeUnsubscribe(), this._store = null
            } catch (s) {
                console.error("Error in SceneManager destroy:", s)
            }
            try {
                this.layers.forEach(s => {
                    try {
                        s.destroy()
                    } catch (a) {
                        console.warn("Error destroying layer:", a)
                    }
                }), this.layers.clear()
            } catch (s) {
                console.error("Error in SceneManager destroy:", s)
            }
            try {
                this.app && (Ye("[SceneManager] Destroying PIXI app"), this.app.renderer && typeof this.app.destroy == "function" ? this.app.destroy(!0, {
                    children: !0,
                    texture: !1,
                    textureSource: !1,
                    context: !0,
                    style: !0
                }) : console.warn("PIXI app not fully initialized, skipping destroy"), this.app = null)
            } catch (s) {
                console.warn("Error destroying PIXI app:", s)
            }
        }
    }
    _logTickerBatch() {
        this._tickerDeltas = []
    }
}
class qy {
    constructor() {
        R(this, "handlers", {});
        R(this, "sceneSelector");
        R(this, "selectors", {});
        R(this, "transitions", {});
        R(this, "layers", {});
        R(this, "layerOrder", []);
        R(this, "scenes", {});
        R(this, "layoutSelector")
    }
    addHandler(s, a) {
        return this.handlers[s] = a, this
    }
    build(s) {
        return new W4(s, {
            layers: this.layers,
            layerOrder: this.layerOrder,
            scenes: this.scenes,
            selectors: this.selectors,
            transitions: this.transitions,
            sceneSelector: this.sceneSelector,
            layoutSelector: this.layoutSelector,
            handlers: this.handlers
        })
    }
    addSelector(s, a) {
        return this.selectors[s] = a, this
    }
    addTransition(s, a, r, l) {
        return this.transitions[s] = {
            duration: a,
            selector: r,
            handler: l
        }, this
    }
    addSceneSelector(s) {
        this.sceneSelector = s
    }
    addLayer(s, a, r) {
        return this.layerOrder.push(s), this.layers[s] = { ...r,
            type: a
        }, this
    }
    addScene(s, a) {
        return this.scenes[s] = a, this
    }
    addLayoutSelector(s) {
        return this.layoutSelector = s, this
    }
}

function en(e, s) {
    const a = e.battles.playerBattleState;
    return a && a.id === s ? a : null
}

function w0(e, s) {
    const a = yt.selectById(e, s);
    return a && "creator" in a && "token" in a ? a : null
}

function T0(e) {
    if (!e || typeof e != "object") return "waiting";
    const s = e;
    return s.state === "waiting" ? "waiting" : s.rugged ? (s.state === "finished" || s.state === "completed") && s.ruggedTimestamp ? Date.now() - s.ruggedTimestamp < 1e3 ? "rugged" : "end" : "rugged" : s.state === "finished" || s.state === "completed" ? "end" : s.state === "active" ? s.roundActive ? "round" : s.allowPreRoundBuys && s.cooldownTimer && s.cooldownTimer > 5e3 ? "postround" : s.allowPreRoundBuys && s.cooldownTimer && s.cooldownTimer > 0 ? "countdown" : "waiting" : "waiting"
}
const j0 = 30,
    Xh = 5;

function U4(e, s, a) {
    const r = new qy;
    r.addSelector("rugged", u => {
        const h = en(u, e);
        return (h == null ? void 0 : h.rugged) || !1
    }), r.addSelector("currentUser", u => u.profiles.current ? u.profiles.entities[u.profiles.current] : null), r.addSelector("isPreRound", u => {
        const h = en(u, e);
        if (!h) return !0;
        const f = T0(h);
        return f === "waiting" || f === "countdown"
    }), r.addSelector("currentRound", u => {
        const h = en(u, e);
        return (h == null ? void 0 : h.currentRound) || 1
    }), r.addSelector("configRounds", u => {
        const h = en(u, e);
        return (h == null ? void 0 : h.totalRounds) || 3
    }), r.addSelector("config", u => {
        const h = en(u, e),
            f = w0(u, e);
        return {
            wagerAmount: (h == null ? void 0 : h.wagerAmount) || (f == null ? void 0 : f.wagerAmount) || 0,
            maxPlayers: (h == null ? void 0 : h.maxPlayers) || (f == null ? void 0 : f.maxPlayers) || 0,
            token: (h == null ? void 0 : h.token) || (f == null ? void 0 : f.token) || "0xPractice",
            totalRounds: (h == null ? void 0 : h.totalRounds) || (f == null ? void 0 : f.totalRounds) || 3,
            rounds: (h == null ? void 0 : h.totalRounds) || (f == null ? void 0 : f.totalRounds) || 3
        }
    }), r.addSelector("scoreboard", u => {
        const h = en(u, e);
        return h != null && h.players ? h.players.map(f => {
            const p = h.price || 1,
                y = (f.positionQty || 0) * p,
                x = (f.balance || 0) + y;
            return {
                id: f.id,
                username: f.username,
                amount: x,
                totalInvested: 1e3 - (f.balance || 0),
                positionQty: f.positionQty || 0
            }
        }).sort((f, p) => f.amount > p.amount ? -1 : 1) : []
    }), r.addSelector("pointScoreboard", u => {
        const h = en(u, e);
        return h != null && h.players ? h.players.map(f => ({
            id: f.id,
            username: f.username,
            level: f.level || 1,
            points: f.totalPoints || 0
        })) : []
    }), r.addSelector("winners", () => []), r.addSelector("players", u => {
        const h = en(u, e);
        return h != null && h.players ? h.players.map(f => {
            const p = h.price || 1,
                y = (f.positionQty || 0) * p,
                x = (f.balance || 0) + y;
            return {
                id: f.id,
                username: f.username,
                amount: x,
                totalInvested: 1e3 - (f.balance || 0),
                positionQty: f.positionQty || 0
            }
        }).sort((f, p) => f.amount > p.amount ? -1 : 1) : []
    }), r.addSelector("trades", u => {
        const h = en(u, e);
        return (h == null ? void 0 : h.trades) || []
    }), r.addSelector("ownTrades", u => {
        const h = en(u, e),
            f = u.profiles.current ? u.profiles.entities[u.profiles.current] : null,
            p = (h == null ? void 0 : h.trades) || [];
        return f ? p.filter(y => y.playerId === f.id).sort((y, x) => (y.tickIndex || 0) - (x.tickIndex || 0)) : []
    }), r.addSelector("isEventLobby", u => {
        const h = en(u, e),
            f = w0(u, e),
            p = u.battles.battleEventState,
            y = (p == null ? void 0 : p.status) && p.status !== "INACTIVE" && p.status !== "none" && p.status !== "ENDING" && p.status !== "COMPLETED" && p.status !== "ENDED" && p.status !== "NONE_SCHEDULED",
            x = e.includes("event") || (h == null ? void 0 : h.creator) === "system" || (f == null ? void 0 : f.creator) === "system";
        return y || x || !1
    }), r.addSelector("averageEntry", u => {
        var A, _;
        const h = en(u, e),
            f = u.profiles.current ? u.profiles.entities[u.profiles.current] : null;
        if (!h || !f) return null;
        const p = (A = h.players) == null ? void 0 : A.find(k => k.id === f.id);
        if (!p || !p.positionQty || p.positionQty <= 0) return null;
        const y = ((_ = h.trades) == null ? void 0 : _.filter(k => k.playerId === f.id).sort((k, D) => (k.timestamp || 0) - (D.timestamp || 0))) || [];
        if (y.length === 0) return null;
        let x = 0,
            S = -1;
        for (let k = 0; k < y.length; k++) {
            const D = y[k];
            D.type === "buy" ? x += D.qty || 0 : D.type === "sell" && (x -= D.qty || 0), x <= 0 && (S = k, x = 0)
        }
        const C = y.slice(S + 1).filter(k => k.type === "buy");
        if (C.length === 0) return null;
        let w = 0,
            j = 0;
        for (const k of C) w += k.cost || 0, j += k.qty || 0;
        return j > 0 ? w / j : null
    }), r.addSelector("averageEntryPnl", u => {
        var v;
        const h = en(u, e),
            f = u.profiles.current ? u.profiles.entities[u.profiles.current] : null;
        if (!h || !f) return 0;
        const p = (v = h.players) == null ? void 0 : v.find(C => C.id === f.id);
        if (!p) return 0;
        const y = h.price || 1,
            x = (p.positionQty || 0) * y;
        return (p.balance || 0) + x - 1e3
    }), r.addSelector("averageEntryCurrentValue", u => {
        var x;
        const h = en(u, e),
            f = u.profiles.current ? u.profiles.entities[u.profiles.current] : null;
        if (!h || !f) return 0;
        const p = (x = h.players) == null ? void 0 : x.find(S => S.id === f.id);
        if (!p) return 0;
        const y = h.price || 1;
        return (p.positionQty || 0) * y
    }), r.addSelector("tokenTicker", () => "$CRED"), r.addSelector("averageEntryProfitState", u => {
        var C;
        const h = en(u, e),
            f = u.profiles.current ? u.profiles.entities[u.profiles.current] : null;
        if (!h || !f) return "neutral";
        const p = (C = h.players) == null ? void 0 : C.find(w => w.id === f.id);
        if (!p || !p.positionQty || p.positionQty <= 0) return "neutral";
        const y = h.price || 1,
            x = (p.positionQty || 0) * y,
            v = (p.balance || 0) + x - 1e3;
        return v > 0 ? "profit" : v < 0 ? "loss" : "neutral"
    });
    const l = () => ({
        candles: [],
        tickCount: 0,
        displayMin: .5,
        displayMax: 2,
        min: 1,
        max: 1,
        current: 1,
        combinationCount: 1
    });
    r.addTransition("displayData", 150, u => {
        const h = en(u, e);
        return h ? h.prices ? ? [1] : [1]
    }, (u, h) => {
        const f = h.get() ? ? l();
        if (u.length <= 1) {
            const v = l();
            return h.set(v), h.endTransition(), v
        }
        const p = u.length,
            y = f.tickCount,
            x = p - y,
            S = h.progress();
        if (x === 1) {
            S === 0 && h.startTransition(u);
            const v = Math.ceil(p / Xh),
                C = Math.ceil(v / j0);
            if (C > f.combinationCount) {
                const j = ri(u, j0, Xh).map((A, _) => ({ ...A,
                    isGodCandle: A.isGodCandle ? ? !1,
                    index: _
                }));
                f.candles = j, f.combinationCount = C
            } else {
                const w = f.candles[f.candles.length - 1],
                    j = f.combinationCount * Xh;
                if (!w || w.endTick - w.startTick >= j) {
                    const A = u.length >= 2 ? u[u.length - 2] : 1;
                    f.candles.push({
                        startTick: f.tickCount,
                        endTick: Math.min(f.tickCount + j, p),
                        open: A,
                        close: A,
                        high: A,
                        low: A,
                        isGodCandle: !1,
                        index: f.candles.length
                    })
                }
            }
            return f.tickCount = p, h.set(f), f
        } else if (p !== y) {
            const C = ri(u, 30).map((E, P) => ({ ...E,
                    isGodCandle: E.isGodCandle ? ? !1,
                    index: P
                })),
                w = u.length > 0 ? Math.min(...u) : 1,
                j = u.length > 0 ? Math.max(...u) : 1,
                A = u.length > 0 ? u[u.length - 1] : 1,
                {
                    min: _,
                    max: k
                } = wl({
                    min: w,
                    max: j,
                    sticky: !0
                }),
                D = {
                    candles: C,
                    tickCount: p,
                    displayMin: _,
                    displayMax: k,
                    max: j,
                    min: w,
                    current: A,
                    combinationCount: 1
                };
            return h.set(D), h.startTransition(u), D
        } else if (S > 0) {
            const v = u[u.length - 1],
                C = u[u.length - 2],
                w = C + (v - C) * S,
                j = Math.min(f.min, w),
                A = Math.max(f.max, w),
                {
                    min: _,
                    max: k
                } = wl({
                    min: j,
                    max: A,
                    sticky: !0
                });
            f.current = w, f.min = j, f.max = A, f.displayMin = _, f.displayMax = k;
            const D = f.candles[f.candles.length - 1];
            D.close = w, D.high = Math.max(D.high, w), D.low = Math.min(D.low, w), D.endTick = p, h.set(f), S === 1 && h.endTransition();
            return
        }
        return f
    }), r.addTransition("globalTrades", 2e3, u => {
        const h = en(u, e),
            f = u.profiles.current ? u.profiles.entities[u.profiles.current] : null;
        return ((h == null ? void 0 : h.trades) || []).filter(y => !f || y.playerId !== f.id).sort((y, x) => (y.tickIndex || 0) - (x.tickIndex || 0))
    }, (u, h) => {
        const f = h.getStart();
        if (f === null) return h.startTransition(u), h.set([]), [];
        const p = S => `${S.playerId}:${S.tickIndex}:${S.timestamp}:${S.type}`,
            y = new Set(f.map(p)),
            x = h.progress();
        if (x === 0) {
            const S = Math.max(...f.map(w => w.tickIndex || 0), 0),
                v = u.filter(w => !y.has(p(w))).filter(w => (w.tickIndex || 0) >= S),
                C = [];
            if (v.length > 0) {
                const w = v.reduce((j, A) => (A.qty || 0) > (j.qty || 0) ? A : j);
                C.push(w)
            }
            return h.startTransition(f), h.set(C), C
        } else if (x === 1) {
            const S = h.getStart() ? ? [],
                v = h.get() ? ? [];
            return h.endTransition(), h.setStart([...S, ...v]), []
        }
        return []
    }), r.addTransition("countdown", 250, u => {
        const h = en(u, e);
        return typeof(h == null ? void 0 : h.cooldownTimer) == "number" ? h.cooldownTimer : 0
    }, (u, h) => {
        const f = h.get(),
            p = h.getStart();
        if (f === null || p === null || Math.abs(u - (f || 0)) > 500) return h.set(u), h.startTransition(u), u;
        const y = h.progress();
        if (y >= 1) return h.set(u), h.endTransition(), u; {
            const x = p - y * 250,
                S = Math.max(0, x);
            return h.set(S), S
        }
    }), r.addLayer("basicBackground", "background", {
        config: {
            image: "standard-chart-background"
        }
    }), r.addLayer("waiting", "battleWaiting", {
        config: {
            onLeaveMatch: s
        },
        selectors: ["isEventLobby"]
    }), r.addLayer("postround", "battleRoundEnd", {
        config: {
            color: "green"
        }
    }), r.addLayer("end", "battleEnd", {
        config: {}
    }), r.addLayer("rugged", "ruggedBackground", {
        config: {}
    }), r.addLayer("grid", "grid", {
        config: {}
    }), r.addLayer("candles", "candles", {
        config: {}
    }), r.addLayer("priceTracker", "priceTracker", {
        config: {}
    }), r.addLayer("averageEntryLine", "averageEntryLine", {
        config: {}
    }), r.addLayer("globalTrades", "battleTransitioningTradesLayer", {
        config: {
            layoutKey: "other",
            tradesKey: "globalTrades"
        }
    }), r.addLayer("ownTrades", "battleTrades", {
        config: {
            tradesKey: "ownTrades",
            layoutKey: "user",
            trademarkerDetails: !1
        }
    }), r.addLayer("scoreboard", "battleScoreboard", {
        config: {}
    }), r.addLayer("countdown", "battleCountdown", {
        config: {}
    }), r.addLayoutSelector((u, h) => La.battleLayout(u, h)), r.addScene("waiting", ["basicBackground", "waiting"]), r.addScene("countdown", ["basicBackground", "countdown", "scoreboard"]), r.addScene("round", ["basicBackground", "grid", "candles", "priceTracker", "averageEntryLine", "globalTrades", "ownTrades", "scoreboard"]), r.addScene("rugged", ["basicBackground", "rugged", "grid", "candles", "priceTracker", "averageEntryLine", "globalTrades", "ownTrades", "scoreboard"]), r.addScene("postround", ["basicBackground", "postround"]), r.addScene("end", ["basicBackground", "end"]);
    let d = !1;
    return r.addSceneSelector(u => {
        if (d || a) return d = !0, "end";
        const h = en(u, e);
        if (!h) return "waiting";
        const f = T0(h) ? ? "end";
        return f === "end" && (d = !0), f
    }), r
}
const H4 = 3e3;

function $4({
    id: e,
    onLeaveMatch: s,
    ...a
}) {
    const {
        className: r,
        style: l,
        ...d
    } = a, u = Se(Pf.selectNonce), h = m.useRef(null), f = m.useRef(null), p = Q0(), [y, x] = m.useState(!1), [S, v] = m.useState(0), [C, w] = m.useState(!1), j = Se(D => D.battles.playerBattleState), A = Se(Ge.selectCurrent), _ = m.useMemo(() => {
        var O;
        if (!j || j.id !== e || !A) return "neutral";
        const D = j,
            E = (O = D.players) == null ? void 0 : O.find(L => L.id === A.id);
        if (!E || !E.positionQty || E.positionQty <= 0) return "neutral";
        const P = D.price || 1,
            I = (E.positionQty || 0) * P,
            X = (E.balance || 0) + I - 1e3;
        return X > 0 ? "profit" : X < 0 ? "loss" : "neutral"
    }, [j, e, A]);
    m.useEffect(() => {
        const D = () => {
            x(window.innerWidth <= 768)
        };
        return D(), window.addEventListener("resize", D), () => window.removeEventListener("resize", D)
    }, []);
    const k = m.useCallback(() => {
        const D = y ? "2px" : "4px";
        switch (_) {
            case "profit":
                return {
                    border: `${D} solid #22C55E`,
                    boxShadow: "0 0 10px rgba(34, 197, 94, 0.4), 0 0 20px rgba(134, 239, 172, 0.2)"
                };
            case "loss":
                return {
                    border: `${D} solid #DC2626`,
                    boxShadow: "0 0 10px rgba(220, 38, 38, 0.4), 0 0 20px rgba(248, 113, 113, 0.2)"
                };
            default:
                return {
                    border: `${D} solid var(--color-border)`,
                    boxShadow: "none"
                }
        }
    }, [_, y]);
    return m.useEffect(() => {
        if (!j || j.id !== e) return;
        const D = j;
        if (D.currentRound === D.totalRounds && D.roundActive === !1 && D.cooldownTimer === 0) {
            const E = setTimeout(() => {
                w(!0)
            }, H4);
            return () => clearTimeout(E)
        }
    }, [j, e]), m.useEffect(() => {
        const D = () => {
            document.hidden || setTimeout(() => {
                v(E => E + 1)
            }, 100)
        };
        return document.addEventListener("visibilitychange", D), () => document.removeEventListener("visibilitychange", D)
    }, []), m.useEffect(() => {
        if (!h.current) return;
        f.current && (f.current.destroy(), f.current = null);
        const D = U4(e, s, C);
        f.current = D.build(h);
        try {
            f.current.setup(p)
        } catch (E) {
            console.error("Failed to setup battle chart:", E)
        }
        return () => {
            if (f.current) {
                Ye();
                try {
                    f.current.destroy(), f.current = null
                } catch (E) {
                    console.warn("Error destroying battle chart manager:", E)
                }
            }
        }
    }, [p, h, u, S, e, s, C]), t.jsx("div", {
        className: Mr("battle-chart-container", _ === "profit" ? "border-profit" : _ === "loss" ? "border-loss" : "border-neutral", r),
        ref: h,
        style: { ...k(),
            ...l,
            position: "relative"
        },
        ...d
    })
}

function G4() {
    const {
        gameId: e
    } = Ev(), s = bt(), a = _a(), r = Pa(), [l, d] = m.useState(!1), [u, h] = m.useState(null), f = Se(yt.selectPlayerBattleState), p = Se(D => D.profiles.current), y = Se(yt.selectBattleEventState), x = Se(D => yt.selectById(D, e)), S = m.useMemo(() => {
        const D = f && f.id === e;
        return console.log("[BATTLE PAGE] isInActiveBattle check:", {
            inBattle: D,
            gameId: e,
            playerBattleStateId: f == null ? void 0 : f.id
        }), D
    }, [e, f]), v = m.useMemo(() => {
        const D = S ? f : null;
        return console.log("[BATTLE PAGE] activeBattleData:", {
            data: D,
            isInActiveBattle: S
        }), D
    }, [S, f]), C = Se(yt.selectBattleFinished), w = m.useMemo(() => {
        const D = f && f.id === e && !f.isSpectating;
        return console.log("[BATTLE PAGE] isParticipant:", D, {
            gameId: e,
            isSpectating: f == null ? void 0 : f.isSpectating
        }), D
    }, [f, e]), j = m.useMemo(() => {
        const D = f && f.id === e && f.isSpectating === !0;
        return console.log("[BATTLE PAGE] isSpectator:", D, {
            gameId: e,
            isSpectating: f == null ? void 0 : f.isSpectating
        }), D
    }, [f, e]), A = v ? v.state === "waiting" : x && (!x.state || x.state === "waiting");
    m.useEffect(() => {
        e && s(Le.setBattleFinished(!1))
    }, [e, s]);
    const _ = m.useCallback(() => {
        l || (console.log("[BATTLES] Attempting to leave match..."), d(!0), h(null), j ? (console.log("[BATTLES] Leaving spectating for gameId:", e), r.leaveSpectating(e)) : r.leaveLobby(e), s(Le.setPlayerBattleState(null)), s(Le.setJustLeftLobby(!0)), s(Le.setParticipating(null)), setTimeout(() => {
            s(Le.setJustLeftLobby(!1))
        }, 1e3), d(!1), a("/battle"))
    }, [s, a, e, j, l]);
    if (m.useEffect(() => {
            if (C && e) {
                console.log("[BATTLE PAGE] Starting 10 second countdown to return to lobby");
                const D = setTimeout(() => {
                    console.log("[BATTLE PAGE] Battle finished, clearing participating ID and navigating back to lobby"), s(Le.setParticipating(null)), s(Le.setBattleFinished(!1)), r.leaveAllSpectating(), s(Le.setJustLeftLobby(!0)), setTimeout(() => {
                        s(Le.setJustLeftLobby(!1))
                    }, 1e3), a("/battle")
                }, 1e4);
                return () => clearTimeout(D)
            }
        }, [C, e, a, s]), m.useEffect(() => {
            if (console.log("🚀 [BATTLE PAGE] AUTO-SPECTATING USEEFFECT TRIGGERED - gameId:", e), !e) {
                console.log("[BATTLE PAGE] No gameId, returning early");
                return
            }
            console.log("🎯 [BATTLE PAGE] Starting spectating logic for:", e);
            const D = f && f.id === e && !f.isSpectating,
                E = f && f.id === e && f.isSpectating;
            if (D) {
                console.log("🎮 [BATTLE PAGE] User is participating in this battle, no need to spectate");
                return
            }
            if (E) {
                console.log("⏭️ [BATTLE PAGE] Already spectating this battle");
                return
            }
            console.log("✅ [BATTLE PAGE] Attempting to spectate battle:", e), r.spectateBattle(e)
        }, [e]), m.useEffect(() => {
            if (!e || !f) return;
            f.id === e && !f.isSpectating && console.log("🎮 [BATTLE PAGE] User joined the battle, stopping spectating mode")
        }, [e, f == null ? void 0 : f.id, f == null ? void 0 : f.isSpectating]), m.useEffect(() => {
            var E;
            if (!e || !p || !f || f.id !== e) return;
            const D = (E = f.players) == null ? void 0 : E.find(P => P.id === p);
            D && s(Le.playerUpdate({
                id: D.id,
                username: D.username,
                balance: D.balance,
                position: D.positionQty || 0,
                points: D.totalPoints || 0,
                battleId: f.id
            }))
        }, [s, e, f, p]), console.log("[BATTLE PAGE] Render check - gameId:", e, "game:", !!x, "activeBattleData:", !!v), !e) return console.log("[BATTLE PAGE] Rendering: No gameId provided"), t.jsx("div", {
        className: "battle-page",
        children: t.jsx("div", {
            className: "battle-content",
            children: t.jsxs("div", {
                className: "battle-content-inner",
                children: [t.jsx("h2", {
                    children: "Battle Not Found"
                }), t.jsx("p", {
                    children: "No battle ID provided."
                })]
            })
        })
    });
    if (!x && !v) return console.log("[BATTLE PAGE] Rendering: Loading state (no game and no activeBattleData)"), t.jsxs("div", {
        className: "battle-page",
        children: [t.jsx(hl, {
            pageType: "battle",
            game: x
        }), t.jsx("div", {
            className: "battle-content",
            children: t.jsx("div", {
                className: "battle-content-inner",
                children: t.jsxs("div", {
                    className: "battle-loading",
                    children: [t.jsx("h2", {
                        children: "Loading Battle..."
                    }), t.jsx("p", {
                        children: "Please wait while we load the battle data."
                    })]
                })
            })
        })]
    });
    if (x && "error" in x && x.error) return t.jsxs("div", {
        className: "battle-page",
        children: [t.jsx(hl, {
            pageType: "battle",
            game: x
        }), t.jsx("div", {
            className: "battle-content",
            children: t.jsx("div", {
                className: "battle-content-inner",
                children: t.jsxs("div", {
                    className: "battle-error",
                    children: [t.jsx("h2", {
                        children: "Error Loading Battle"
                    }), t.jsx("p", {
                        children: x.error
                    })]
                })
            })
        })]
    });
    if (!x && !v) return t.jsxs("div", {
        className: "battle-page",
        children: [t.jsx(hl, {
            pageType: "battle",
            game: x || void 0
        }), t.jsx("div", {
            className: "battle-content",
            children: t.jsx("div", {
                className: "battle-content-inner",
                children: t.jsxs("div", {
                    className: "battle-not-found",
                    children: [t.jsx("h2", {
                        children: "Battle Not Found"
                    }), t.jsxs("p", {
                        children: ['The battle "', e, '" could not be found or may have ended.']
                    }), t.jsx("button", {
                        onClick: _,
                        className: "battle-back-button",
                        children: "← Back to Battles"
                    })]
                })
            })
        })]
    });
    const k = v || x;
    return t.jsxs("div", {
        className: "battle-page",
        children: [t.jsx(hl, {
            pageType: "battle",
            game: k,
            onLeaveMatch: _,
            isSpectator: !!j
        }), t.jsx("div", {
            className: "battle-content",
            children: t.jsx("div", {
                className: "battle-content-inner",
                children: t.jsx($4, {
                    id: e,
                    className: "battle-chart-container",
                    onLeaveMatch: _
                })
            })
        }), j && t.jsx("div", {
            className: "battle-trade-controls-container",
            children: t.jsxs("div", {
                style: {
                    padding: "16px",
                    textAlign: "center"
                },
                children: [t.jsx("div", {
                    style: {
                        color: "white",
                        marginBottom: "8px",
                        fontFamily: "DynaPuff, sans-serif"
                    },
                    children: "You are spectating this battle"
                }), t.jsx(Te, {
                    variant: "text",
                    onClick: _,
                    style: {
                        background: "#EF4444",
                        color: "white",
                        border: "none",
                        borderRadius: "6px",
                        padding: "10px 18px",
                        fontSize: "14px",
                        fontWeight: "bold",
                        cursor: "pointer"
                    },
                    children: "Leave"
                })]
            })
        }), w && A && t.jsx("div", {
            className: "battle-trade-controls-container",
            children: t.jsxs("div", {
                style: {
                    padding: "16px",
                    textAlign: "center"
                },
                children: [t.jsx("div", {
                    style: {
                        color: "white",
                        marginBottom: "8px",
                        fontFamily: "DynaPuff, sans-serif"
                    },
                    children: "Waiting for players to join..."
                }), !((y == null ? void 0 : y.status) === "ACTIVE" || (y == null ? void 0 : y.status) === "ENDING") && t.jsx(Te, {
                    onClick: _,
                    disabled: l,
                    variant: "text",
                    style: {
                        background: u ? "#F59E0B" : l ? "#6B7280" : "#EF4444",
                        color: "white",
                        border: "none",
                        borderRadius: "6px",
                        padding: "10px 18px",
                        fontSize: "14px",
                        fontWeight: "bold",
                        cursor: l ? "not-allowed" : "pointer",
                        opacity: l ? .7 : 1
                    },
                    children: u ? "Failed" : l ? "Leaving..." : "Leave"
                })]
            })
        }), w && !A && t.jsx("div", {
            className: "battle-trade-controls-container",
            children: t.jsx(M4, {
                gameId: e,
                disabled: !1
            })
        })]
    })
}
const Y4 = 2500;

function Qh({
    value: e,
    duration: s = Y4,
    formatFn: a,
    startDelay: r = 0
}) {
    const l = m.useRef(null),
        [d, u] = m.useState(e),
        [h, f] = m.useState(!1),
        p = m.useRef(e),
        y = S => a ? a(S) : S,
        x = () => window.innerWidth <= 768 ? "16px" : "24px";
    return m.useEffect(() => {
        if (e === p.current || h) return;
        const S = e > p.current;
        if (!l.current) {
            u(e), p.current = e;
            return
        }
        f(!0);
        const v = l.current;
        v.style.position = "relative", v.style.display = "inline-block", v.style.minWidth = "2em";
        const C = v.firstChild,
            w = document.createElement("div");
        w.textContent = y(e).toString(), w.style.position = "absolute", w.style.left = "0", w.style.right = "0", w.style.textAlign = "inherit", w.style.visibility = "hidden", w.style.fontSize = x(), w.style.fontWeight = "normal", w.style.color = "#ffffff", v.appendChild(w), setTimeout(() => {
            S ? (w.style.top = "100%", w.style.visibility = "visible", C.style.position = "absolute", C.style.left = "0", C.style.right = "0", C.style.top = "0", C.style.zIndex = "1", v.offsetHeight, C.style.transition = `top ${s/1e3}s cubic-bezier(0.4, 0.0, 0.2, 1)`, w.style.transition = `top ${s/1e3}s cubic-bezier(0.4, 0.0, 0.2, 1)`, C.style.top = "-100%", w.style.top = "0") : (w.style.top = "-100%", w.style.visibility = "visible", C.style.position = "absolute", C.style.left = "0", C.style.right = "0", C.style.top = "0", C.style.zIndex = "1", v.offsetHeight, C.style.transition = `top ${s/1e3}s cubic-bezier(0.4, 0.0, 0.2, 1)`, w.style.transition = `top ${s/1e3}s cubic-bezier(0.4, 0.0, 0.2, 1)`, C.style.top = "100%", w.style.top = "0"), setTimeout(() => {
                for (u(e), p.current = e, f(!1); v.childNodes.length > 1;) v.removeChild(v.lastChild);
                C.style.cssText = ""
            }, s + 50)
        }, r)
    }, [e, s, r, a, h]), t.jsx(T, {
        ref: l,
        className: "animated-number",
        sx: {
            display: "inline-block",
            minHeight: "24px",
            maxHeight: "24px",
            lineHeight: "24px",
            overflow: "hidden",
            paddingBottom: "2px",
            "@media (min-width: 769px)": {
                maxHeight: "20px"
            }
        },
        children: t.jsx($, {
            component: "span",
            className: "game-stats__badge-count",
            sx: {
                fontWeight: "normal",
                color: "#ffffff",
                lineHeight: "24px",
                display: "inline-block"
            },
            children: y(d)
        })
    })
}

function V4() {
    const e = Se(s => s.game.stats);
    return t.jsx(T, {
        className: "game-stats",
        sx: {
            color: "#ffffff",
            height: "90px",
            minWidth: "200px",
            position: "relative",
            background: "linear-gradient(to right, #15161d 70%, rgba(21, 22, 29, 0))",
            display: "flex",
            alignItems: "center",
            "@media (max-width: 768px)": {
                height: "70px"
            }
        },
        children: t.jsxs(T, {
            className: "game-stats__title",
            children: [t.jsx($, {
                variant: "body2",
                className: "game-stats__title-text",
                children: "Last 100"
            }), t.jsxs(T, {
                className: "game-stats__badges",
                sx: {
                    display: "flex",
                    alignItems: "center",
                    gap: 0,
                    marginTop: "2px",
                    flexDirection: "row",
                    justifyContent: "flex-start"
                },
                children: [t.jsxs(T, {
                    className: "game-stats__badge",
                    sx: {
                        display: "flex",
                        alignItems: "center",
                        position: "relative",
                        marginBottom: 0,
                        marginRight: 0
                    },
                    children: [t.jsxs(T, {
                        className: "game-stats__badge-icon",
                        sx: {
                            position: "relative",
                            display: "flex",
                            alignItems: "center",
                            justifyContent: "center"
                        },
                        children: [t.jsx(T, {
                            component: "img",
                            src: "/icons/2x.png",
                            alt: "2x",
                            className: "game-stats__badge-image"
                        }), t.jsx($, {
                            variant: "caption",
                            className: "game-stats__badge-label game-stats__badge-label--2x",
                            sx: {
                                position: "absolute",
                                top: "50%",
                                left: "50%",
                                transform: "translate(-50%, -50%)",
                                fontWeight: "bold"
                            },
                            children: "2x"
                        })]
                    }), t.jsx(T, {
                        className: "game-stats__badge-count",
                        sx: {
                            marginLeft: "8px",
                            fontWeight: "normal",
                            color: "#ffffff",
                            minWidth: "auto",
                            minHeight: "24px",
                            display: "flex",
                            alignItems: "center",
                            lineHeight: "24px"
                        },
                        children: t.jsx(Qh, {
                            value: (e == null ? void 0 : e.count2x) || 0,
                            formatFn: s => Math.floor(s),
                            duration: 1200,
                            startDelay: 2e3
                        })
                    })]
                }), t.jsxs(T, {
                    className: "game-stats__badge",
                    sx: {
                        display: "flex",
                        alignItems: "center",
                        position: "relative",
                        marginBottom: 0,
                        marginRight: 0
                    },
                    children: [t.jsxs(T, {
                        className: "game-stats__badge-icon",
                        sx: {
                            position: "relative",
                            display: "flex",
                            alignItems: "center",
                            justifyContent: "center"
                        },
                        children: [t.jsx(T, {
                            component: "img",
                            src: "/icons/10x.png",
                            alt: "10x",
                            className: "game-stats__badge-image"
                        }), t.jsx($, {
                            variant: "caption",
                            className: "game-stats__badge-label game-stats__badge-label--10x",
                            sx: {
                                position: "absolute",
                                top: "50%",
                                left: "50%",
                                transform: "translate(-50%, -50%)",
                                fontWeight: "bold"
                            },
                            children: "10x"
                        })]
                    }), t.jsx(T, {
                        className: "game-stats__badge-count",
                        sx: {
                            marginLeft: "8px",
                            fontWeight: "normal",
                            color: "#ffffff",
                            minWidth: "auto",
                            minHeight: "24px",
                            display: "flex",
                            alignItems: "center",
                            lineHeight: "24px"
                        },
                        children: t.jsx(Qh, {
                            value: (e == null ? void 0 : e.count10x) || 0,
                            formatFn: s => Math.floor(s),
                            duration: 1200,
                            startDelay: 2300
                        })
                    })]
                }), t.jsxs(T, {
                    className: "game-stats__badge",
                    sx: {
                        display: "flex",
                        alignItems: "center",
                        position: "relative",
                        marginBottom: 0,
                        marginRight: 0
                    },
                    children: [t.jsxs(T, {
                        className: "game-stats__badge-icon",
                        sx: {
                            position: "relative",
                            display: "flex",
                            alignItems: "center",
                            justifyContent: "center"
                        },
                        children: [t.jsx(T, {
                            component: "img",
                            src: "/icons/100x.png",
                            alt: "50x",
                            className: "game-stats__badge-image"
                        }), t.jsx($, {
                            variant: "caption",
                            className: "game-stats__badge-label game-stats__badge-label--50x",
                            sx: {
                                position: "absolute",
                                top: "50%",
                                left: "50%",
                                transform: "translate(-50%, -50%)",
                                fontWeight: "bold"
                            },
                            children: "50x"
                        })]
                    }), t.jsx(T, {
                        className: "game-stats__badge-count",
                        sx: {
                            marginLeft: "8px",
                            fontWeight: "normal",
                            color: "#ffffff",
                            minWidth: "auto",
                            minHeight: "24px",
                            display: "flex",
                            alignItems: "center",
                            lineHeight: "24px"
                        },
                        children: t.jsx(Qh, {
                            value: (e == null ? void 0 : e.count50x) || 0,
                            formatFn: s => Math.floor(s),
                            duration: 1200,
                            startDelay: 2600
                        })
                    })]
                })]
            })]
        })
    })
}
const q4 = () => {
        const e = pn(Z => Z.goldenHour.lastDrawing),
            s = m.useRef(null),
            a = m.useRef(null),
            r = m.useRef(null),
            l = m.useRef(null),
            [d, u] = m.useState(!1),
            [h, f] = m.useState(!1),
            [p, y] = m.useState(!1),
            [x, S] = m.useState(!1),
            [v, C] = m.useState(!1),
            w = m.useRef(null),
            j = m.useRef(null),
            A = m.useRef(null),
            [_, k] = m.useState(typeof window < "u" ? window.innerWidth : 1024);
        m.useEffect(() => {
            const Z = () => k(window.innerWidth);
            return window.addEventListener("resize", Z), () => window.removeEventListener("resize", Z)
        }, []);
        const D = _ > 768,
            E = m.useMemo(() => {
                const Z = (e == null ? void 0 : e.entries) ? ? [];
                if (!Z.length) return [];
                const se = Z.length > 500 ? 1 : Math.max(2, Math.min(10, Math.floor(100 / Z.length))),
                    G = [];
                for (let ie = 0; ie < se; ie++) G.push(...Z);
                return G
            }, [e]);
        if (m.useEffect(() => {
                if (!(e != null && e.id) || l.current === e.id) return;
                l.current = e.id, y(!1), S(!1), C(!1), f(!1), u(!0);
                const Z = window.setTimeout(() => {
                        y(!0)
                    }, 1750),
                    se = window.setTimeout(() => {
                        f(!0)
                    }, 2e3);
                return () => {
                    clearTimeout(Z), clearTimeout(se)
                }
            }, [e == null ? void 0 : e.id]), m.useEffect(() => {
                var _e, Ne;
                if (!d || !p || !e) return;
                const Z = a.current,
                    se = r.current;
                if (!Z || !se) return;
                Z.style.transition = "none", Z.style.transform = "translateY(0px)", Z.offsetWidth;
                const G = e.entries ? ? [],
                    ie = e.winnerPlayerId,
                    ne = e.winnerIndex,
                    ee = E.length;
                let me = D ? 28 : 22;
                try {
                    const Fe = Z.children[0];
                    Fe && Fe.offsetHeight > 0 && (me = Fe.offsetHeight)
                } catch {}
                let fe = -1;
                const ge = [];
                for (let Fe = 0; Fe < ee; Fe++)((_e = E[Fe]) == null ? void 0 : _e.playerId) === ie && ge.push(Fe);
                if (ge.length > 0) fe = ge.find(Fe => Fe > ee / 3) ? ? ge[0];
                else if (typeof ne == "number" && ne >= 0 && ne < G.length) {
                    const Fe = (Ne = G[ne]) == null ? void 0 : Ne.playerId;
                    Fe && (fe = E.findIndex(tt => (tt == null ? void 0 : tt.playerId) === Fe)), fe === -1 && (fe = E.findIndex(tt => (tt == null ? void 0 : tt.playerId) === ie))
                } else fe = E.findIndex(Fe => (Fe == null ? void 0 : Fe.playerId) === ie);
                fe === -1 && (fe = Math.max(0, Math.floor(ee * .75)));
                const ke = se.offsetHeight,
                    je = ke / 2,
                    re = me / 2,
                    Ee = ke * 3;
                let Ae = fe;
                const Pe = Ae * me;
                if (Math.max(0, Pe - je + re) < Ee && Pe < Ee) {
                    const Fe = Ee - Pe + je,
                        tt = Math.ceil(Fe / me);
                    Ae + tt < ee && (Ae += tt)
                }
                const qe = ee * me,
                    Re = Math.max(0, qe - ke),
                    le = Ae * me - je + re;
                let Ce = Math.max(0, Math.min(le, Re));
                return Ce <= 10 && (Ce = Math.min(ke * 4, qe * .75)), requestAnimationFrame(() => {
                    Z.style.transition = "transform 4.5s cubic-bezier(0.19, 0.91, 0.38, 1)", Z.style.transform = `translateY(-${Ce}px)`, w.current && window.clearTimeout(w.current), w.current = window.setTimeout(() => {
                        S(!0), j.current && window.clearTimeout(j.current), j.current = window.setTimeout(() => {
                            C(!0), A.current && window.clearTimeout(A.current), A.current = window.setTimeout(() => {
                                u(!1), f(!1)
                            }, 800)
                        }, 2700)
                    }, 4700)
                }), () => {
                    w.current && window.clearTimeout(w.current), j.current && window.clearTimeout(j.current), A.current && window.clearTimeout(A.current)
                }
            }, [d, p, e, E, D]), !e || !d && !h) return null;
        const P = e.entries ? ? [],
            I = e.winnerPlayerId,
            B = P.find(Z => Z.playerId === I) || P[0],
            X = D ? "350px" : "280px",
            O = D ? "20px" : "15px",
            L = D ? "280px" : "200px",
            F = D ? "160px" : "120px",
            Y = D ? 28 : 22,
            H = D ? "0 12px" : "0 8px",
            K = D ? 16 : 14,
            z = D ? 12 : 11,
            U = D ? 11 : 9,
            V = D ? 14 : 13,
            W = D ? 11 : 10,
            q = D ? "280px" : "220px";
        return t.jsx("div", {
            ref: s,
            style: {
                position: "absolute",
                top: 0,
                left: 0,
                right: 0,
                bottom: 0,
                width: "100%",
                height: "100%",
                display: "flex",
                alignItems: "center",
                justifyContent: "center",
                backgroundColor: "rgba(0, 0, 0, 0.65)",
                zIndex: 12,
                backdropFilter: "blur(3px)",
                WebkitBackdropFilter: "blur(3px)",
                overflow: "hidden",
                pointerEvents: "none",
                opacity: v ? 0 : h ? 1 : 0,
                transition: "opacity 0.8s ease-out"
            },
            children: t.jsxs("div", {
                style: {
                    display: "flex",
                    flexDirection: "column",
                    alignItems: "center",
                    justifyContent: "center",
                    zIndex: 3,
                    maxWidth: X,
                    gap: O
                },
                children: [D && t.jsxs("div", {
                    style: {
                        display: "flex",
                        alignItems: "center",
                        justifyContent: "center",
                        background: "linear-gradient(90deg, rgba(255, 165, 0, 0.4) 0%, rgba(255, 215, 0, 0.4) 100%)",
                        padding: "5px 12px",
                        borderRadius: 4,
                        boxShadow: "0 2px 8px rgba(0, 0, 0, 0.3)",
                        marginBottom: 12,
                        zIndex: 5,
                        opacity: v ? 0 : 1,
                        transition: "opacity 0.5s ease"
                    },
                    children: [t.jsx("span", {
                        style: {
                            fontSize: 18,
                            marginRight: 4
                        },
                        children: "🌇"
                    }), t.jsx("span", {
                        style: {
                            fontSize: 16,
                            fontWeight: 700,
                            color: "#FFD700",
                            letterSpacing: .5,
                            textShadow: "0 0 8px rgba(255, 215, 0, 0.4)"
                        },
                        children: "GOLDEN HOUR"
                    })]
                }), t.jsx("div", {
                    style: {
                        width: L,
                        height: F,
                        background: "rgba(0, 0, 0, 0.8)",
                        borderRadius: D ? 8 : 6,
                        overflow: "hidden",
                        position: "relative",
                        border: "1px solid rgba(53, 53, 53, 0.9)",
                        boxShadow: "0 4px 12px rgba(0, 0, 0, 0.2)",
                        pointerEvents: "auto",
                        opacity: v ? 0 : 1,
                        transform: v ? "scale(0.96) translateY(10px)" : "scale(1) translateY(0)",
                        transition: "opacity 0.7s ease, transform 0.7s ease"
                    },
                    children: t.jsxs("div", {
                        ref: r,
                        style: {
                            height: "100%",
                            position: "relative",
                            overflow: "hidden"
                        },
                        children: [t.jsx("div", {
                            style: {
                                position: "absolute",
                                inset: 0,
                                zIndex: 1,
                                pointerEvents: "none",
                                background: "linear-gradient(to right, rgba(39,39,42,0.2) 1px, transparent 1px), linear-gradient(to bottom, rgba(39,39,42,0.2) 1px, transparent 1px)",
                                backgroundSize: D ? "25px 25px" : "20px 20px"
                            }
                        }), t.jsx("div", {
                            style: {
                                position: "absolute",
                                top: `calc(50% - ${Y/2}px)`,
                                left: 0,
                                width: "100%",
                                height: Y,
                                background: "linear-gradient(90deg, rgba(255,215,0,0.02) 0%, rgba(255,215,0,0.08) 50%, rgba(255,215,0,0.02) 100%)",
                                zIndex: 2,
                                pointerEvents: "none",
                                boxShadow: "inset 0 1px rgba(255,215,0,0.08), inset 0 -1px rgba(255,215,0,0.08)"
                            }
                        }), t.jsx("div", {
                            style: {
                                position: "absolute",
                                top: 0,
                                left: 0,
                                width: "100%",
                                height: D ? 35 : 25,
                                background: "linear-gradient(to bottom, rgba(0,0,0,0.9) 0%, rgba(0,0,0,0) 100%)",
                                zIndex: 3,
                                pointerEvents: "none"
                            }
                        }), t.jsx("div", {
                            style: {
                                position: "absolute",
                                bottom: 0,
                                left: 0,
                                width: "100%",
                                height: D ? 35 : 25,
                                background: "linear-gradient(to top, rgba(0,0,0,0.9) 0%, rgba(0,0,0,0) 100%)",
                                zIndex: 3,
                                pointerEvents: "none"
                            }
                        }), t.jsx("div", {
                            ref: a,
                            style: {
                                position: "absolute",
                                width: "100%",
                                left: 0,
                                display: "flex",
                                flexDirection: "column",
                                willChange: "transform",
                                transform: "translateY(0px)",
                                zIndex: 2
                            },
                            children: E.map((Z, se) => {
                                const G = Z.playerId === I;
                                return t.jsxs("div", {
                                    style: {
                                        display: "flex",
                                        alignItems: "center",
                                        justifyContent: "space-between",
                                        height: Y,
                                        padding: H,
                                        transition: "background 0.3s ease, color 0.3s ease",
                                        background: G && x ? "linear-gradient(90deg, rgba(255,215,0,0.05) 0%, rgba(255,215,0,0.15) 50%, rgba(255,215,0,0.05) 100%)" : "transparent"
                                    },
                                    children: [t.jsxs("div", {
                                        style: {
                                            display: "flex",
                                            alignItems: "center",
                                            gap: D ? 5 : 4
                                        },
                                        children: [t.jsx("div", {
                                            style: {
                                                width: K,
                                                height: K,
                                                borderRadius: 3,
                                                background: G && x ? "rgba(255,215,0,0.4)" : "rgba(53,53,53,0.9)",
                                                display: "flex",
                                                alignItems: "center",
                                                justifyContent: "center",
                                                fontSize: D ? 9 : 8,
                                                color: G && x ? "#000" : "#999",
                                                transition: "background 0.3s ease, color 0.3s ease"
                                            },
                                            children: (Z.username || "Anon").charAt(0).toUpperCase()
                                        }), t.jsx("div", {
                                            style: {
                                                fontSize: z,
                                                fontWeight: G && x ? 600 : 400,
                                                color: G && x ? "#FFFFFF" : "#AAAAAA",
                                                transition: "color 0.3s ease, font-weight 0.3s ease"
                                            },
                                            children: Z.username || "Anon"
                                        })]
                                    }), t.jsxs("div", {
                                        style: {
                                            fontSize: U,
                                            fontWeight: 500,
                                            color: G && x ? "#FFFFFF" : "#AAAAAA",
                                            transition: "color 0.3s ease"
                                        },
                                        children: [Z.entryCount || 1, " ", Z.entryCount === 1 || !Z.entryCount ? "entry" : "entries"]
                                    })]
                                }, `${Z.playerId}-${se}`)
                            })
                        })]
                    })
                }), t.jsxs("div", {
                    style: {
                        display: "flex",
                        flexDirection: "column",
                        alignItems: "center",
                        textAlign: "center",
                        gap: D ? 7 : 5,
                        opacity: v ? 0 : 1,
                        transform: v ? "translateY(20px)" : "translateY(0)",
                        transition: "opacity 0.7s ease 0.1s, transform 0.7s ease 0.1s"
                    },
                    children: [t.jsx("div", {
                        style: {
                            fontSize: V,
                            color: "#FFFFFF",
                            fontWeight: 500,
                            height: D ? 20 : 16,
                            textShadow: "0px 1px 2px rgba(0, 0, 0, 0.8)"
                        },
                        children: x ? t.jsxs("span", {
                            children: [t.jsx("span", {
                                style: {
                                    color: "#FFD700"
                                },
                                children: (B == null ? void 0 : B.username) || "Anon"
                            }), " won ", " ", t.jsxs("span", {
                                style: {
                                    color: "#FFD700"
                                },
                                children: [e.prizeAmount ? ? 1, " SOL!"]
                            })]
                        }) : t.jsx("span", {
                            children: "Drawing winner for this round..."
                        })
                    }), t.jsx("div", {
                        style: {
                            fontSize: W,
                            color: "#FFFFFF",
                            lineHeight: D ? "1.4" : "1.3",
                            maxWidth: q,
                            textAlign: "center",
                            textShadow: "0px 1px 2px rgba(0, 0, 0, 0.9)"
                        },
                        children: "Place bets throughout the Golden Hour to qualify for SOL prizes!"
                    })]
                })]
            })
        })
    },
    X4 = () => {
        const e = pn(W => W.goldenHour),
            s = pn(us.selectCurrent),
            [a, r] = m.useState(() => Date.now());
        m.useEffect(() => {
            const W = setInterval(() => r(Date.now()), 1e3);
            return () => clearInterval(W)
        }, []);
        const l = m.useMemo(() => {
                if (!(!(e != null && e.events) || e.events.length === 0)) return e.events.find(W => {
                    const q = W.startTime ? new Date(W.startTime).getTime() : 0,
                        Z = W.endTime ? new Date(W.endTime).getTime() : 0;
                    return a >= q && a <= Z
                })
            }, [e == null ? void 0 : e.events, a]),
            d = m.useMemo(() => l != null && l.endTime ? new Date(l.endTime).getTime() : typeof(e == null ? void 0 : e.endTime) == "number" ? e.endTime : null, [e == null ? void 0 : e.endTime, l]),
            [u, h] = m.useState(!1),
            [f, p] = m.useState(!1),
            y = m.useRef(!1),
            x = m.useRef(null),
            S = m.useRef(null),
            v = m.useRef(null),
            C = m.useRef(!0),
            w = m.useCallback(() => {
                u || (h(!0), p(!1), x.current && (clearTimeout(x.current), x.current = null), x.current = window.setTimeout(() => {
                    h(!1), p(!0), y.current = !1
                }, 6500))
            }, [u]),
            j = m.useCallback(() => {
                h(!1), p(!1), y.current = !1, C.current = !0, x.current && (clearTimeout(x.current), x.current = null)
            }, []);
        m.useEffect(() => {
            const W = () => {
                    const Z = !!(s != null && s.active);
                    e != null && e.isActive && (Z && (e != null && e.currentGameIsGolden) ? C.current && !u && (C.current = !1, w()) : Z || (y.current = !0))
                },
                q = () => {
                    u && j()
                };
            return document.addEventListener("player-buy-action", W), document.addEventListener("player-sell-action", q), () => {
                document.removeEventListener("player-buy-action", W), document.removeEventListener("player-sell-action", q)
            }
        }, [e == null ? void 0 : e.isActive, e == null ? void 0 : e.hasValidEntry, e == null ? void 0 : e.currentGameIsGolden, u, s == null ? void 0 : s.active, w, j]), m.useEffect(() => {
            const W = S.current,
                q = !!(s != null && s.active),
                Z = !!(e != null && e.currentGameIsGolden);
            W === !1 && q && Z && y.current && (e != null && e.isActive && !u && (C.current = !1, w()), y.current = !1), S.current = q
        }, [s == null ? void 0 : s.active, e == null ? void 0 : e.isActive, e == null ? void 0 : e.currentGameIsGolden, u, w]), m.useEffect(() => {
            e != null && e.hasValidEntry && (h(!1), p(!0), y.current = !1, C.current = !1, x.current && (clearTimeout(x.current), x.current = null))
        }, [e == null ? void 0 : e.hasValidEntry]), m.useEffect(() => {
            !(s != null && s.active) && u && j()
        }, [s == null ? void 0 : s.active, u, j]), m.useEffect(() => {
            const W = (s == null ? void 0 : s.tickCount) ? ? 0,
                q = v.current;
            q !== null && q > 0 && W === 0 && (C.current = !0, h(!1), p(!1)), v.current = W
        }, [s == null ? void 0 : s.tickCount]);
        const _ = !((e == null ? void 0 : e.status) === "COMPLETED" || (e == null ? void 0 : e.status) === "INACTIVE") && (!!l || !!(e != null && e.isActive) || (e == null ? void 0 : e.status) === "ACTIVE"),
            k = (e == null ? void 0 : e.status) === "ENDING" && (e == null ? void 0 : e.currentGameIsGolden) === !0,
            D = k ? !0 : _,
            E = Math.max(0, (d ? ? a) - a),
            P = Math.floor(E / 1e3),
            I = Math.floor(P / 60),
            B = P % 60,
            X = `${I}:${B.toString().padStart(2,"0")}`,
            O = k || typeof d == "number" && E <= 0,
            L = !!(e != null && e.hasValidEntry),
            Y = typeof(e == null ? void 0 : e.playerEntries) == "number" ? e.playerEntries : 0,
            H = L || f || Y > 0,
            K = H ? "linear-gradient(to right, #946000, #AA7615, #946000)" : "rgba(0,0,0,0.8)",
            z = H ? "#FFC700" : "#FFD700",
            U = H ? "0 0 10px rgba(255, 199, 0, 0.7)" : "0 0 5px rgba(255, 215, 0, 0.5)",
            V = H ? "#FFFFFF" : "#FFD700";
        return D ? t.jsxs("div", {
            className: "golden-hour-overlay",
            style: {
                background: K,
                border: `2px solid ${z}`,
                boxShadow: U,
                color: V,
                textShadow: L ? "0 0 4px rgba(0, 0, 0, 0.8)" : "none"
            },
            children: [t.jsx("span", {
                className: "gh-sun-icon",
                children: "☀️"
            }), !O && t.jsx("span", {
                children: "GOLDEN HOUR"
            }), t.jsx("span", {
                className: "gh-time",
                children: O ? "FINAL ROUND" : typeof d == "number" ? X : "—"
            }), (u || f || L || Y > 0) && t.jsx("div", {
                style: {
                    position: "absolute",
                    left: 0,
                    top: 0,
                    height: "100%",
                    background: "linear-gradient(to right, rgba(148,96,0,0.4), rgba(255,215,0,0.6))",
                    zIndex: 1,
                    animation: u ? "ghProgressAnimation 6s linear forwards" : void 0,
                    width: u ? 0 : "100%"
                }
            }), Y > 0 && t.jsxs("span", {
                className: "gh-entries",
                style: {
                    fontWeight: 700
                },
                children: ["• ", Y, " ", Y === 1 ? "ENTRY" : "ENTRIES"]
            }), t.jsx("style", {
                children: `
          .golden-hour-overlay {
            position: absolute;
            top: 10px;
            left: 50%;
            transform: translateX(-50%);
            z-index: 6;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 16px;
            padding: 6px 12px;
            font-weight: 700;
            font-size: 14px;
            white-space: nowrap;
            overflow: hidden;
            pointer-events: none;
          }

          @media (max-width: 768px) {
            .golden-hour-overlay {
              top: 6px;
              padding: 3px 6px;
              font-size: 11px;
              border-radius: 12px;
              border-width: 1px !important;
            }
          }

          @media (max-width: 480px) {
            .golden-hour-overlay {
              top: 4px;
              padding: 2px 5px;
              font-size: 10px;
              border-radius: 10px;
            }
          }

          .gh-sun-icon {
            margin-right: 6px;
            display: inline-block;
          }

          .gh-time {
            margin-left: 6px;
          }

          .gh-entries {
            margin-left: 8px;
          }

          @media (max-width: 768px) {
            .gh-sun-icon {
              margin-right: 4px;
            }
            .gh-time {
              margin-left: 4px;
            }
            .gh-entries {
              margin-left: 5px;
            }
          }

          @media (max-width: 480px) {
            .gh-sun-icon {
              margin-right: 3px;
            }
            .gh-time {
              margin-left: 3px;
            }
            .gh-entries {
              margin-left: 4px;
            }
          }

          @keyframes ghProgressAnimation {
            0% { width: 0%; }
            100% { width: 100%; }
          }
        `
            })]
        }) : null
    };

function k0(e) {
    return `${e.playerId}-${e.gameId}-${e.startTick}`
}
const E0 = 30,
    Kh = 5;

function Q4(e) {
    const s = new qy;
    s.addSelector("countdown", r => {
        var l;
        return ((l = e(r).cooldown) == null ? void 0 : l.timeLeft) ? ? 0
    }), s.addSelector("countdownPaused", r => {
        var l;
        return ((l = e(r).cooldown) == null ? void 0 : l.paused) ? ? !1
    }), s.addSelector("countdownPausedMessage", r => {
        var l;
        return ((l = e(r).cooldown) == null ? void 0 : l.message) ? ? "Paused"
    }), s.addSelector("goldenHourIsActive", r => {
        const l = r.goldenHour;
        if (!l) return !1;
        const d = Date.now(),
            u = l.status === "ENDING" && l.currentGameIsGolden === !0,
            h = Array.isArray(l.events) && l.events.some(y => {
                const x = y.startTime ? new Date(y.startTime).getTime() : 0,
                    S = y.endTime ? new Date(y.endTime).getTime() : 0;
                return d >= x && d <= S
            }),
            f = l.isActive === !0 || l.status === "ACTIVE" || h || l.currentGameIsGolden === !0 || u,
            p = l.status === "COMPLETED" || l.status === "INACTIVE";
        return f && !p
    }), s.addSelector("rugRoyaleIsActive", r => {
        const l = r.rugRoyale;
        return !l || l.status === "INACTIVE" ? !1 : l.status === "ACTIVE" || l.status === "ENDING" || !!l.currentEvent && new Date >= new Date(l.currentEvent.startTime) && new Date <= new Date(l.currentEvent.endTime)
    }), s.addSelector("rugRoyaleTimeRemaining", r => {
        const l = r.rugRoyale;
        if (!l.currentEvent) return "0s";
        const d = new Date(l.currentEvent.endTime).getTime() - Date.now();
        if (d <= 0) return "0s";
        const u = Math.floor(d / 1e3),
            h = Math.floor(u / 3600),
            f = Math.floor(u % 3600 / 60),
            p = u % 60;
        return h > 0 ? `${h}h ${f}m` : f > 10 ? `${f}m` : f > 0 ? `${f}m ${p}s` : `${p}s`
    }), s.addSelector("rugRoyaleIsFinalRound", r => {
        const l = r.rugRoyale;
        return (l == null ? void 0 : l.finalRound) || (l == null ? void 0 : l.isInFinalRound) || (l == null ? void 0 : l.status) === "ENDING" || !1
    }), s.addSelector("rugRoyaleIsPriceInUpperArea", r => {
        const d = e(r).prices;
        if (!d || d.length === 0) return !1;
        const u = d[d.length - 1],
            f = Math.max(...d) * .8;
        return u >= f
    }), s.addSelector("autobet", r => {
        var l;
        return ((l = Ge.selectCurrent(r)) == null ? void 0 : l.autosellPrice) ? ? null
    }), s.addSelector("scoreboard", r => e(r).scoreboard), s.addSelector("playerScoreboard", r => e(r).playerScoreboard), s.addSelector("hasShareData", r => !!r.game.shareGame), s.addSelector("isPreRound", r => e(r).allowPreRoundBuys ? ? !1), s.addSelector("profitState", r => {
        const l = e(r).playerScoreboard;
        return l ? l.pnl > 0 ? "profit" : "loss" : "neutral"
    }), s.addSelector("positionQty", r => {
        const l = e(r).playerScoreboard;
        return l ? l.positionQty : 0
    }), s.addSelector("cumulativePnL", r => {
        const l = e(r).playerScoreboard;
        return l ? l.pnl : 0
    }), s.addSelector("pnlPercent", r => {
        const l = e(r).playerScoreboard;
        return l && l.pnlPercent || 0
    }), s.addSelector("rugged", r => e(r).rugged || !1), s.addSelector("tokenTicker", r => {
        var d;
        const l = (d = Ge.selectCurrent(r)) == null ? void 0 : d.selectedCoin;
        return (l == null ? void 0 : l.ticker) || "SOL"
    }), s.addSelector("ownTrades", r => e(r).trades.filter(d => {
        var u;
        return d.playerId === ((u = Ge.selectCurrent(r)) == null ? void 0 : u.id)
    }).sort((d, u) => (d.tickIndex || 0) - (u.tickIndex || 0))), s.addSelector("averageEntry", r => {
        const l = e(r).playerScoreboard;
        return l && l.positionQty > 0 ? l.avgCost : null
    }), s.addSelector("averageEntryPnl", r => {
        const l = e(r).playerScoreboard;
        return (l == null ? void 0 : l.pnl) || 0
    }), s.addSelector("averageEntryProfitState", r => {
        const l = e(r).playerScoreboard;
        return !l || l.positionQty <= 0 ? "neutral" : l.pnl > 0 ? "profit" : "loss"
    }), s.addSelector("averageEntryCurrentValue", r => {
        const l = e(r).playerScoreboard,
            d = e(r);
        if (!l || !d.prices || d.prices.length === 0) return 0;
        const u = d.prices[d.prices.length - 1] || 1;
        return l.positionQty * u
    }), s.addTransition("globalTrades", 2e3, r => {
        var u;
        const l = e(r),
            d = (u = Ge.selectCurrent(r)) == null ? void 0 : u.id;
        return l.trades.filter(h => h.playerId !== d).sort((h, f) => (h.tickIndex || 0) - (f.tickIndex || 0))
    }, (r, l) => {
        const d = l.getStart();
        if (d === null) return l.startTransition(r), l.set([]), [];
        const u = p => `${p.playerId}:${p.tickIndex}:${p.id}:${p.type}`,
            h = new Set(d.map(u)),
            f = l.progress();
        if (f === 0) {
            const p = Math.max(...d.map(S => S.tickIndex || 0), 0),
                y = r.filter(S => !h.has(u(S))).filter(S => (S.tickIndex || 0) >= p),
                x = [];
            if (y.length > 0) {
                const S = y.reduce((v, C) => (C.amount || 0) > (v.amount || 0) ? C : v);
                x.push(S)
            }
            return l.startTransition(d), l.set(x), x
        } else if (f === 1) {
            const p = l.getStart() ? ? [],
                y = l.get() ? ? [];
            return l.endTransition(), l.setStart([...p, ...y]), []
        }
        return []
    }), s.addTransition("globalSidebets", 2e3, r => [...e(r).sideBets].sort((u, h) => (u.startTick || 0) - (h.startTick || 0)), (r, l) => {
        const d = l.getStart();
        if (d === null) return l.startTransition(r), l.set([]), [];
        const u = d.map(f => k0(f)),
            h = l.progress();
        if (h === 0) {
            const f = Math.max(...d.map(x => x.startTick || 0), 0),
                p = r.filter(x => !u.includes(k0(x))).filter(x => (x.startTick || 0) >= f),
                y = [];
            if (p.length > 0) {
                const x = p.reduce((S, v) => v.betAmount > S.betAmount ? v : S);
                y.push(x)
            }
            return l.startTransition(d), l.set(y), y
        } else if (h === 1) {
            const f = l.getStart() ? ? [],
                p = l.get() ? ? [];
            return l.endTransition(), l.setStart([...f, ...p]), []
        } else return []
    });
    const a = () => ({
        candles: [],
        tickCount: 0,
        displayMin: 1,
        displayMax: 1,
        max: 1,
        min: 1,
        current: 1,
        combinationCount: 1
    });
    return s.addTransition("displayData", 150, r => e(r).prices, (r, l) => {
        const d = l.get() ? ? a();
        if (r.length <= 1) {
            const y = a();
            return l.set(y), l.endTransition(), y
        }
        const u = r.length,
            h = d.tickCount,
            f = u - h,
            p = l.progress();
        if (f === 1) {
            p === 0 && l.startTransition(r);
            const y = Math.ceil(u / Kh),
                x = Math.ceil(y / E0);
            if (x > d.combinationCount) {
                const v = ri(r, E0, Kh).map((C, w) => ({ ...C,
                    isGodCandle: C.isGodCandle ? ? !1,
                    index: w
                }));
                d.candles = v, d.combinationCount = x
            } else {
                const S = d.candles[d.candles.length - 1],
                    v = d.combinationCount * Kh;
                if (!S || S.endTick - S.startTick >= v) {
                    const C = r.length >= 2 ? r[r.length - 2] : 1;
                    d.candles.push({
                        startTick: d.tickCount,
                        endTick: Math.min(d.tickCount + v, u),
                        open: C,
                        close: C,
                        high: C,
                        low: C,
                        isGodCandle: !1,
                        index: d.candles.length
                    })
                }
            }
            return d.tickCount = u, l.set(d), d
        } else if (u !== h) {
            const x = ri(r, 30).map((_, k) => ({ ..._,
                    isGodCandle: _.isGodCandle ? ? !1,
                    index: k
                })),
                S = r.length > 0 ? Math.min(...r) : 1,
                v = r.length > 0 ? Math.max(...r) : 1,
                C = r.length > 0 ? r[r.length - 1] : 1,
                {
                    min: w,
                    max: j
                } = wl({
                    min: S,
                    max: v,
                    sticky: !0
                }),
                A = {
                    candles: x,
                    tickCount: u,
                    displayMin: w,
                    displayMax: j,
                    max: v,
                    min: S,
                    current: C,
                    combinationCount: 1
                };
            return l.set(A), l.startTransition(r), A
        } else if (p > 0) {
            const y = r[r.length - 1],
                x = r[r.length - 2],
                S = x + (y - x) * p,
                v = Math.min(d.min, S),
                C = Math.max(d.max, S),
                {
                    min: w,
                    max: j
                } = wl({
                    min: v,
                    max: C,
                    sticky: !0
                });
            d.current = S, d.min = v, d.max = C, d.displayMin = w, d.displayMax = j;
            const A = d.candles[d.candles.length - 1];
            A.close = S, A.high = Math.max(A.high, S), A.low = Math.min(A.low, S), A.endTick = u, l.set(d), p === 1 && l.endTransition();
            return
        }
        return d
    }), s.addLayer("basicBackground", "background", {
        config: {
            image: "standard-chart-background"
        }
    }), s.addLayer("pnlBackground", "pnlBackground", {
        config: {}
    }), s.addLayer("rugged", "ruggedBackground", {
        config: {}
    }), s.addLayer("grid", "grid", {
        config: {}
    }), s.addLayer("candle", "candles", {
        config: {}
    }), s.addLayer("countdownOverlay", "countdownOverlay", {
        config: {}
    }), s.addLayer("goldenHourOverlay", "goldenHourOverlay", {
        config: {}
    }), s.addLayer("globalTrades", "transitioningTrades", {
        config: {
            layoutKey: "other",
            tradesKey: "globalTrades"
        }
    }), s.addLayer("ownTrades", "trades", {
        config: {
            layoutKey: "user",
            tradesKey: "ownTrades",
            trademarkerDetails: !1
        }
    }), s.addLayer("scoreboard", "standardScoreboard", {
        config: {}
    }), s.addLayer("averageEntryLine", "averageEntryLine", {
        config: {}
    }), s.addLayer("shareButton", "shareButton", {
        config: {}
    }), s.addLayer("globalSidebets", "transitioningSidebets", {
        config: {
            layoutKey: "other",
            sidebetsKey: "globalSidebets"
        }
    }), s.addLayer("priceTracker", "priceTracker", {
        config: {}
    }), s.addLayer("countdown", "standardCountdown", {
        config: {}
    }), s.addLayer("presale", "standardPresale", {
        config: {}
    }), s.addLayer("ruggedText", "standardRugged", {
        config: {}
    }), s.addLayer("rugRoyaleTournament", "rugRoyaleTournamentOverlay", {
        config: {}
    }), s.addScene("preround", ["basicBackground", "pnlBackground", "grid", "countdownOverlay", "goldenHourOverlay", "countdown", "presale", "scoreboard", "shareButton", "priceTracker", "rugRoyaleTournament"]), s.addScene("round", ["basicBackground", "pnlBackground", "grid", "candle", "goldenHourOverlay", "globalTrades", "ownTrades", "scoreboard", "averageEntryLine", "shareButton", "globalSidebets", "priceTracker", "rugRoyaleTournament"]), s.addScene("rugged", ["basicBackground", "pnlBackground", "rugged", "grid", "candle", "goldenHourOverlay", "ownTrades", "scoreboard", "averageEntryLine", "ruggedText", "shareButton", "priceTracker", "rugRoyaleTournament"]), s.addLayoutSelector((r, l) => La.standardLayout(r, l)), s.addSceneSelector(r => {
        var d;
        const l = e(r);
        return !l || (d = l.cooldown) != null && d.timeLeft ? "preround" : l.rugged === !0 ? "rugged" : "round"
    }), s
}

function K4({ ...e
}) {
    const {
        className: s,
        style: a,
        ...r
    } = e, l = Se(Pf.selectNonce), d = m.useRef(null), u = m.useRef(null), h = Q0(), [f, p] = m.useState(!1), [y, x] = m.useState(null), [S, v] = m.useState(!1), C = Se(us.selectCurrent), w = Se(Ge.selectCurrent), j = C == null ? void 0 : C.playerScoreboard, A = C != null && C.rugged || !(C != null && C.active) ? "neutral" : j && j.positionQty > 0 ? C != null && C.allowPreRoundBuys || j.pnl > 0 ? "profit" : "loss" : "neutral";
    m.useEffect(() => {
        const E = () => {
            v(window.innerWidth <= 768)
        };
        return E(), window.addEventListener("resize", E), () => window.removeEventListener("resize", E)
    }, []);
    const _ = () => {
            const E = S ? "2px" : "4px";
            return A === "profit" ? {
                border: `${E} solid #22C55E`,
                boxShadow: "0 0 10px rgba(34, 197, 94, 0.4), 0 0 20px rgba(134, 239, 172, 0.2)",
                willChange: "border-color, box-shadow"
            } : A === "loss" ? {
                border: `${E} solid #DC2626`,
                boxShadow: "0 0 10px rgba(220, 38, 38, 0.4), 0 0 20px rgba(248, 113, 113, 0.2)",
                willChange: "border-color, box-shadow"
            } : {
                border: `${E} solid var(--color-border)`,
                boxShadow: "none",
                willChange: "border-color, box-shadow"
            }
        },
        [k, D] = m.useState(0);
    return m.useEffect(() => {
        const E = () => {
            document.hidden || setTimeout(() => {
                D(P => P + 1)
            }, 100)
        };
        return document.addEventListener("visibilitychange", E), () => document.removeEventListener("visibilitychange", E)
    }, []), m.useEffect(() => {
        if (!d.current) return;
        u.current && (u.current.destroy(), u.current = null);
        const E = Q4(us.selectCurrent);
        E.addHandler("openShareButton", () => {
            const P = us.selectShareGame(h.getState());
            P && (x(P), p(!0))
        }), u.current = E.build(d);
        try {
            u.current.setup(h)
        } catch (P) {
            console.error("Failed to setup standard chart:", P)
        }
        return () => {
            if (u.current) {
                Ye();
                try {
                    u.current.destroy(), u.current = null
                } catch (P) {
                    console.warn("Error destroying standard chart manager:", P)
                }
            }
        }
    }, [h, d, l, k]), t.jsxs(t.Fragment, {
        children: [t.jsx("div", {
            className: Mr("standard-chart-container", A === "profit" ? "border-profit" : A === "loss" ? "border-loss" : "border-neutral", s),
            ref: d,
            style: { ..._(),
                ...a,
                position: "relative"
            },
            ...r
        }), t.jsx(If, {
            game: y ? ? C,
            profile: w,
            onClose: () => p(!1),
            open: f
        })]
    })
}
const Z4 = e => Math.max(3, Math.min(16, Math.floor(e / 4))),
    J4 = new Ed().addSelector("prices", e => e.prices.length <= 5 ? e.prices : e.prices.slice(0, -1)).addSelector("grid", e => {
        const s = e.prices.length <= 5 ? e.prices : e.prices.slice(0, -1),
            a = ri(s, 999, 5),
            r = a.length <= 16 ? a.length : 16;
        return fT(s, r)
    }).addSelector("peakMultiplier", e => e.peakMultiplier).addLayer("formattedMultiplier", {
        config: {
            textStyle: {
                fontSize: 14,
                fontFamily: "DynaPuff",
                fontWeight: "400"
            },
            fill: e => Al(e),
            fontWeight: e => Rl(e)
        }
    }).addLayer("staticCandles", {
        config: {
            wickUsesBodyColor: !0,
            fitToMaxCandles: !0,
            useThumbnailCandles: !0
        }
    }).addLayoutSelector((e, s) => {
        const a = Z4(e),
            r = 4;
        return {
            width: e,
            height: s,
            candleArea: {
                x: r + 2,
                y: r + 4,
                width: e - 2 * (r + 2),
                height: e - 2 * (r + 6)
            },
            candles: {
                maxCandles: a
            },
            multiplier: {
                x: e / 2,
                y: s - 21
            }
        }
    }),
    ek = m.memo(function({
        id: e,
        isNew: s = !1,
        isRemoving: a = !1,
        isRepositioning: r = !1,
        animationDuration: l = 1e3,
        ...d
    }) {
        const {
            className: u,
            ...h
        } = d, f = Se(_ => us.selectById(_, e)), p = m.useRef(null), y = jd({
            builder: J4,
            resizeTo: p,
            data: f
        }), [x, S] = m.useState(!s), [v, C] = m.useState(!1), [w, j] = m.useState(!1);
        m.useEffect(() => {
            if (s) {
                S(!1);
                const _ = setTimeout(() => {
                    S(!0)
                }, 100);
                return () => clearTimeout(_)
            } else S(!0)
        }, [s]), m.useEffect(() => {
            if (r) {
                const _ = setTimeout(() => {
                    C(!0)
                }, 50);
                return () => clearTimeout(_)
            } else C(!1)
        }, [r]), m.useEffect(() => {
            if (a) {
                const _ = setTimeout(() => {
                    j(!0)
                }, 50);
                return () => clearTimeout(_)
            } else j(!1)
        }, [a]);
        const A = () => a ? {
            transform: w ? "translateX(-100%) scale(0.8)" : "translateX(65px)",
            opacity: w ? 0 : 1,
            transition: w ? `transform ${l/1e3}s ease-in, opacity ${l/1e3}s ease-in` : "none",
            willChange: "transform, opacity"
        } : r ? {
            transform: v ? "translateX(0)" : "translateX(var(--slide-start-offset, 60px))",
            transition: v ? `transform ${l/1e3}s ease-out` : "none",
            willChange: "transform"
        } : s ? {
            transform: s && !x ? "translateY(100px)" : "translateY(0)",
            opacity: s && !x ? 0 : 1,
            transition: s && x ? `transform ${l/1e3}s cubic-bezier(0.2, 0.9, 0.5, 1), opacity ${l/1e3}s cubic-bezier(0.2, 0.9, 0.5, 1)` : "none",
            willChange: "transform, opacity"
        } : {};
        return t.jsx("div", {
            className: Mr("standard-chart-thumbnail", u),
            ref: p,
            style: A(),
            ...h,
            children: t.jsx("img", {
                ref: y
            })
        })
    }),
    A0 = 7e3,
    Li = 600,
    tk = ({
        isVisible: e = !1,
        onClose: s = () => {}
    }) => {
        var W, q, Z, se, G;
        const a = jl(),
            r = pn(ie => ie.rugpool),
            l = pn(Ge.selectCurrent),
            d = r.overlay,
            [u, h] = m.useState(!1),
            [f, p] = m.useState(!1),
            [y, x] = m.useState([]),
            [S, v] = m.useState([]),
            [C, w] = m.useState(0),
            [j, A] = m.useState(!1),
            [_, k] = m.useState("closed"),
            D = m.useRef(null),
            E = m.useRef(null),
            P = m.useRef(null),
            I = e || d.isVisible,
            B = d.type,
            X = () => {
                k("exiting"), P.current = setTimeout(() => {
                    a(Cr[Xn.HIDE_OVERLAY]()), s()
                }, Li)
            };
        m.useEffect(() => (P.current && (clearTimeout(P.current), P.current = null), I ? (k("entering"), P.current = setTimeout(() => {
            k("entered")
        }, Li)) : _ !== "closed" && (k("exiting"), P.current = setTimeout(() => {
            k("closed")
        }, Li)), () => {
            P.current && clearTimeout(P.current)
        }), [I]), m.useEffect(() => (I && B && (console.log("[RUGPOOL OVERLAY] Overlay became visible, type:", B), B === "candle" ? O() : B === "drawing" && setTimeout(() => {
            B === "drawing" && X()
        }, A0)), () => {
            D.current && (clearTimeout(D.current), D.current = null), E.current && (clearInterval(E.current), E.current = null)
        }), [I, B, d.drawingData]);
        const O = () => {
                h(!0), A(!1), setTimeout(() => {
                    A(!0), setTimeout(() => {
                        document.querySelectorAll(".newest-candle .flame").forEach(ne => {
                            ne.classList.add("flame-dramatic")
                        })
                    }, 50)
                }, Li + 100), setTimeout(() => {
                    h(!1), B === "candle" && X()
                }, A0)
            },
            L = () => {
                const ie = window.innerWidth,
                    ne = window.innerHeight,
                    ee = ie <= 320 ? "xs" : ie <= 360 ? "sm" : ie <= 375 ? "md" : ie <= 390 ? "lg" : ie <= 414 ? "xl" : ie <= 450 ? "xxl" : ie <= 600 ? "tablet-sm" : "desktop",
                    me = ne <= 640 ? "xs" : ne <= 667 ? "sm" : ne <= 720 ? "md" : ne <= 800 ? "lg" : ne <= 896 ? "xl" : ne <= 950 ? "xxl" : ne <= 1024 ? "tablet-sm" : "desktop",
                    fe = ["xs", "sm", "md", "lg", "xl", "xxl", "tablet-sm", "desktop"],
                    ge = fe.indexOf(ee),
                    ke = fe.indexOf(me);
                return ge <= ke ? ee : me
            },
            F = window.innerWidth <= 768,
            Y = () => {
                const ie = B === "drawing" && f,
                    ne = L(),
                    ee = {
                        xs: ie ? .75 : .8,
                        sm: ie ? .8 : .85,
                        md: ie ? .85 : .9,
                        lg: ie ? .88 : .92,
                        xl: ie ? .9 : .94,
                        xxl: ie ? .92 : .95,
                        "tablet-sm": ie ? .94 : .97,
                        desktop: ie ? .95 : 1
                    },
                    me = {
                        xs: {
                            maxWidth: "280px",
                            width: "90%",
                            maxHeight: ie ? "45vh" : "55vh"
                        },
                        sm: {
                            maxWidth: "300px",
                            width: "88%",
                            maxHeight: ie ? "50vh" : "60vh"
                        },
                        md: {
                            maxWidth: "320px",
                            width: "85%",
                            maxHeight: ie ? "55vh" : "65vh"
                        },
                        lg: {
                            maxWidth: "340px",
                            width: "85%",
                            maxHeight: ie ? "60vh" : "70vh"
                        },
                        xl: {
                            maxWidth: "360px",
                            width: "82%",
                            maxHeight: ie ? "65vh" : "75vh"
                        },
                        xxl: {
                            maxWidth: "380px",
                            width: "80%",
                            maxHeight: ie ? "70vh" : "80vh"
                        },
                        "tablet-sm": {
                            maxWidth: "420px",
                            width: "75%",
                            maxHeight: ie ? "75vh" : "85vh"
                        },
                        desktop: {
                            maxWidth: "450px",
                            width: "70%",
                            maxHeight: ie ? "80vh" : "90vh"
                        }
                    },
                    fe = ee[ne],
                    ge = me[ne];
                return {
                    position: "absolute",
                    top: "50%",
                    left: "50%",
                    transform: `translate(-50%, -50%) scale(${fe})`,
                    maxWidth: ge.maxWidth,
                    width: ge.width,
                    maxHeight: ge.maxHeight,
                    minHeight: "170px",
                    zIndex: F ? 15 : 200,
                    transformOrigin: "center"
                }
            },
            H = () => {
                const ie = L(),
                    ne = B === "drawing" && f;
                return {
                    xs: {
                        titleSize: ne ? "16px" : "12px",
                        valueSize: ne ? "14px" : "12px",
                        rugpoolSize: ne ? "16px" : "14px",
                        labelSize: ne ? "10px" : "8px",
                        infoSize: ne ? "9px" : "7px",
                        candleHeight: "18px",
                        padding: ne ? "8px" : "6px",
                        innerPadding: ne ? "4px" : "3px",
                        borderRadius: "6px",
                        candlePadding: "3px",
                        candle: {
                            width: "5px"
                        }
                    },
                    sm: {
                        titleSize: ne ? "17px" : "13px",
                        valueSize: ne ? "15px" : "13px",
                        rugpoolSize: ne ? "17px" : "15px",
                        labelSize: ne ? "10px" : "8px",
                        infoSize: ne ? "9px" : "7px",
                        candleHeight: "20px",
                        padding: ne ? "10px" : "7px",
                        innerPadding: ne ? "5px" : "3px",
                        borderRadius: "7px",
                        candlePadding: "3px",
                        candle: {
                            width: "6px"
                        }
                    },
                    md: {
                        titleSize: ne ? "18px" : "14px",
                        valueSize: ne ? "16px" : "14px",
                        rugpoolSize: ne ? "18px" : "16px",
                        labelSize: ne ? "11px" : "9px",
                        infoSize: ne ? "10px" : "8px",
                        candleHeight: "22px",
                        padding: ne ? "12px" : "8px",
                        innerPadding: ne ? "6px" : "4px",
                        borderRadius: "8px",
                        candlePadding: "4px",
                        candle: {
                            width: "7px"
                        }
                    },
                    lg: {
                        titleSize: ne ? "19px" : "15px",
                        valueSize: ne ? "17px" : "15px",
                        rugpoolSize: ne ? "19px" : "17px",
                        labelSize: ne ? "11px" : "9px",
                        infoSize: ne ? "10px" : "8px",
                        candleHeight: "24px",
                        padding: ne ? "12px" : "9px",
                        innerPadding: ne ? "6px" : "4px",
                        borderRadius: "9px",
                        candlePadding: "4px",
                        candle: {
                            width: "7px"
                        }
                    },
                    xl: {
                        titleSize: ne ? "20px" : "16px",
                        valueSize: ne ? "18px" : "16px",
                        rugpoolSize: ne ? "20px" : "18px",
                        labelSize: ne ? "12px" : "10px",
                        infoSize: ne ? "11px" : "9px",
                        candleHeight: "26px",
                        padding: ne ? "14px" : "10px",
                        innerPadding: ne ? "7px" : "5px",
                        borderRadius: "10px",
                        candlePadding: "4px",
                        candle: {
                            width: "8px"
                        }
                    },
                    xxl: {
                        titleSize: ne ? "26px" : "22px",
                        valueSize: ne ? "24px" : "22px",
                        rugpoolSize: ne ? "26px" : "24px",
                        labelSize: ne ? "15px" : "13px",
                        infoSize: ne ? "14px" : "12px",
                        candleHeight: "30px",
                        padding: ne ? "20px" : "16px",
                        innerPadding: ne ? "10px" : "8px",
                        borderRadius: "12px",
                        candlePadding: "6px",
                        candle: {
                            width: "10px"
                        }
                    },
                    "tablet-sm": {
                        titleSize: ne ? "28px" : "24px",
                        valueSize: ne ? "26px" : "24px",
                        rugpoolSize: ne ? "30px" : "26px",
                        labelSize: ne ? "16px" : "14px",
                        infoSize: ne ? "15px" : "13px",
                        candleHeight: "32px",
                        padding: ne ? "22px" : "18px",
                        innerPadding: ne ? "11px" : "9px",
                        borderRadius: "14px",
                        candlePadding: "7px",
                        candle: {
                            width: "11px"
                        }
                    },
                    desktop: {
                        titleSize: ne ? "32px" : "28px",
                        valueSize: ne ? "28px" : "26px",
                        rugpoolSize: ne ? "32px" : "28px",
                        labelSize: ne ? "18px" : "16px",
                        infoSize: ne ? "16px" : "14px",
                        candleHeight: "36px",
                        padding: ne ? "24px" : "20px",
                        innerPadding: ne ? "12px" : "10px",
                        borderRadius: "16px",
                        candlePadding: "8px",
                        candle: {
                            width: "12px"
                        }
                    }
                }[ie]
            },
            K = ie => ie ? ie.toFixed(3) : "0.000",
            z = () => {
                const ie = L(),
                    ne = B === "drawing" && f,
                    me = {
                        xs: ne ? 16 : 14,
                        sm: ne ? 18 : 16,
                        md: ne ? 20 : 18,
                        lg: ne ? 22 : 20,
                        xl: ne ? 24 : 22,
                        xxl: ne ? 26 : 24,
                        "tablet-sm": ne ? 28 : 26,
                        desktop: ne ? 32 : 28
                    }[ie];
                return t.jsx("img", {
                    src: "/icons/Icon_Solana.png",
                    alt: "SOL",
                    width: me,
                    height: me,
                    style: {
                        display: "inline-block",
                        verticalAlign: "middle",
                        marginRight: "4px",
                        marginLeft: "2px"
                    }
                })
            },
            U = () => {
                const ie = r.thresholdForNextDraw || 3,
                    ne = r.instarugCount || 0,
                    ee = [];
                for (let me = 0; me < ie; me++) {
                    const fe = me < ne,
                        ge = me === ne - 1 && u && B === "candle",
                        ke = me === ne - 1 && fe;
                    if (ke && !j && B === "candle") {
                        ee.push(t.jsx("div", {
                            className: "rugpool-candle",
                            style: {
                                width: "10px",
                                height: "100%",
                                position: "relative",
                                margin: "0 auto",
                                backgroundImage: "none",
                                backgroundColor: "#1a1a1a",
                                borderRadius: "2px 2px 0 0",
                                boxShadow: "none",
                                border: "1px solid rgba(255, 100, 0, 0.6)",
                                boxSizing: "border-box",
                                opacity: .5
                            }
                        }, me));
                        continue
                    }
                    ee.push(t.jsxs("div", {
                        className: `rugpool-candle ${fe?"filled":""} ${ge?"animating":""} ${ke?"newest-candle":""} ${ke&&B==="candle"?"flicker-in":""}`,
                        style: {
                            width: "10px",
                            height: "100%",
                            position: "relative",
                            margin: "0 auto",
                            backgroundImage: fe ? "linear-gradient(to bottom, #FF1500 0%, #FF4000 40%, #FF9500 100%)" : "none",
                            backgroundColor: fe ? "transparent" : "#1a1a1a",
                            borderRadius: "2px 2px 0 0",
                            boxShadow: fe ? "0 0 12px 3px rgba(255, 30, 0, 0.9)" : "none",
                            border: fe ? "none" : "1px solid rgba(255, 100, 0, 0.6)",
                            boxSizing: "border-box"
                        },
                        children: [t.jsx("div", {
                            style: {
                                position: "absolute",
                                top: "-4px",
                                left: "50%",
                                width: "2px",
                                height: "5px",
                                backgroundColor: fe ? "#FF4000" : "#FF6600",
                                transform: "translateX(-50%)",
                                boxShadow: fe ? "0 0 5px rgba(255, 64, 0, 0.9)" : "none"
                            }
                        }), fe && t.jsx("div", {
                            className: `flame ${ke?"newest-flame":""}`,
                            style: {
                                position: "absolute",
                                top: "-8px",
                                left: "50%",
                                width: "8px",
                                height: "11px",
                                background: "radial-gradient(ellipse at bottom, #FFBB00 0%, #FF2500 70%, transparent 100%)",
                                transform: "translateX(-50%)",
                                borderRadius: "50% 50% 20% 20%",
                                boxShadow: "0 0 15px 3px rgba(255, 60, 0, 0.95)",
                                animation: ke ? "flicker-prominent 0.8s ease-in-out infinite alternate" : "flicker 0.8s ease-in-out infinite alternate"
                            }
                        }), t.jsx("div", {
                            style: {
                                position: "absolute",
                                bottom: "-2px",
                                left: "50%",
                                width: "6px",
                                height: "2px",
                                backgroundColor: fe ? "#FF7700" : "rgba(255, 120, 0, 0.8)",
                                transform: "translateX(-50%)",
                                borderRadius: "0 0 1px 1px"
                            }
                        })]
                    }, me))
                }
                return ee
            };
        if (!I && _ === "closed") return null;
        const V = () => {
            switch (_) {
                case "entering":
                    return 0;
                case "entered":
                    return 1;
                case "exiting":
                    return 0;
                default:
                    return 0
            }
        };
        return t.jsxs(t.Fragment, {
            children: [t.jsx("div", {
                style: {
                    position: "absolute",
                    top: "0",
                    left: "0",
                    right: "0",
                    bottom: "0",
                    backgroundColor: "rgba(0, 0, 0, 0.6)",
                    zIndex: 5,
                    opacity: V(),
                    transition: `all ${Li}ms ease`,
                    pointerEvents: _ === "entered" ? "auto" : "none"
                },
                onClick: X
            }), t.jsxs("div", {
                style: { ...Y(),
                    opacity: V(),
                    transition: `opacity ${Li}ms ease, transform ${Li}ms ease, backdrop-filter ${Li}ms ease`,
                    backdropFilter: _ === "closed" ? "blur(0px)" : "blur(8px)",
                    pointerEvents: _ === "entered" ? "auto" : "none"
                },
                children: [t.jsx("style", {
                    children: `
            @keyframes winnerPulse {
              0% { background-color: rgba(255, 62, 0, 0.1); }
              50% { background-color: rgba(255, 62, 0, 0.3); }
              100% { background-color: rgba(255, 62, 0, 0.1); }
            }
            
            .winner-highlight {
              animation: winnerPulse 0.8s ease infinite;
              border-left: 3px solid #FF3E00;
              box-shadow: 0 0 10px rgba(255, 62, 0, 0.3);
            }
            
            @keyframes slotMachineSpin {
              0% { 
                transform: translateY(0px);
                opacity: 1;
                filter: blur(0px);
              }
              25% { 
                transform: translateY(-8px);
                opacity: 0.7;
                filter: blur(1px);
              }
              50% { 
                transform: translateY(8px);
                opacity: 0.8;
                filter: blur(1px);
              }
              75% { 
                transform: translateY(-4px);
                opacity: 0.9;
                filter: blur(0.5px);
              }
              100% { 
                transform: translateY(0px);
                opacity: 1;
                filter: blur(0px);
              }
            }
            
            @keyframes rapidFlicker {
              0%, 100% { opacity: 1; transform: scale(1); }
              50% { opacity: 0.6; transform: scale(0.98); }
            }
            
            .drawing-candidate {
              animation: slotMachineSpin 0.15s ease-in-out infinite, rapidFlicker 0.3s ease-in-out infinite;
              position: relative;
              overflow: hidden;
            }
            
            .drawing-candidate::before {
              content: '';
              position: absolute;
              top: 0;
              left: 0;
              right: 0;
              bottom: 0;
              background: linear-gradient(45deg, transparent 30%, rgba(255, 255, 255, 0.1) 50%, transparent 70%);
              animation: shimmer 0.4s ease-in-out infinite;
            }
            
            @keyframes shimmer {
              0% { transform: translateX(-100%); }
              100% { transform: translateX(100%); }
            }
            
            .drawing-candidate .player-name {
              font-weight: bold;
              letter-spacing: 0.5px;
              text-shadow: 0 0 3px rgba(255, 255, 255, 0.3);
            }
            
            @keyframes winnerReveal {
              0% { 
                transform: scale(0.9);
                opacity: 0;
                filter: blur(2px);
              }
              50% { 
                transform: scale(1.05);
                opacity: 1;
                filter: blur(0px);
              }
              100% { 
                transform: scale(1);
                opacity: 1;
                filter: blur(0px);
              }
            }
            
            .winner-reveal {
              animation: winnerReveal 0.6s ease-out;
            }
            
            @keyframes bounceIn {
              0% { 
                transform: translateY(-50%) scale(0);
                opacity: 0;
              }
              50% { 
                transform: translateY(-50%) scale(1.2);
                opacity: 1;
              }
              100% { 
                transform: translateY(-50%) scale(1);
                opacity: 1;
              }
            }
          `
                }), B === "candle" && u && t.jsxs("div", {
                    className: "rugpool-glow-red",
                    style: {
                        backgroundColor: "rgba(181, 33, 0, 0.18)",
                        backdropFilter: "blur(8px)",
                        borderRadius: H().borderRadius,
                        padding: H().padding,
                        border: "1px solid rgba(255, 90, 0, 0.25)",
                        boxShadow: "0 0 20px rgba(0, 0, 0, 0.7), 0 0 15px rgba(255, 64, 0, 0.2)",
                        width: "100%",
                        maxHeight: "90vh",
                        overflowY: "auto",
                        transform: `scale(${window.innerWidth<=380?.9:1})`,
                        transformOrigin: "center center",
                        opacity: V()
                    },
                    children: [t.jsxs("h4", {
                        style: {
                            margin: L() === "xs" ? "0 0 4px 0" : L() === "sm" ? "0 0 5px 0" : "0 0 6px 0",
                            fontSize: H().titleSize,
                            textAlign: "center",
                            background: "linear-gradient(90deg, #FF1500 0%, #FFBB00 100%)",
                            WebkitBackgroundClip: "text",
                            WebkitTextFillColor: "transparent",
                            display: "flex",
                            alignItems: "center",
                            justifyContent: "center",
                            gap: L() === "xs" ? "4px" : "6px",
                            whiteSpace: "nowrap",
                            fontWeight: "700",
                            fontFamily: "DynaPuff, sans-serif",
                            lineHeight: "1.2"
                        },
                        children: [t.jsx("span", {
                            style: {
                                WebkitTextFillColor: "initial"
                            },
                            children: "🕯️"
                        }), " Rugpool Progress ", t.jsx("span", {
                            style: {
                                WebkitTextFillColor: "initial"
                            },
                            children: "🕯️"
                        })]
                    }), t.jsx("div", {
                        style: {
                            height: H().candleHeight,
                            backgroundColor: "rgba(181, 33, 0, 0.08)",
                            backdropFilter: "blur(4px)",
                            borderRadius: "10px",
                            marginBottom: L() === "xs" ? "5px" : L() === "sm" ? "6px" : "8px",
                            padding: H().candlePadding,
                            display: "flex",
                            alignItems: "center",
                            border: "0px solid rgba(255, 100, 0, 0.15)",
                            boxShadow: "inset 0 0 10px rgba(0, 0, 0, 0.2)",
                            background: "linear-gradient(to bottom, rgba(30, 5, 0, 0.4), rgba(50, 10, 0, 0.2))"
                        },
                        children: t.jsx("div", {
                            style: {
                                display: "flex",
                                height: "100%",
                                width: "100%",
                                justifyContent: "space-around",
                                alignItems: "flex-end",
                                padding: "0 5px"
                            },
                            children: U().map((ie, ne) => ls.cloneElement(ie, {
                                style: { ...ie.props.style,
                                    width: H().candle.width
                                }
                            }))
                        })
                    }), t.jsxs("div", {
                        style: {
                            display: "flex",
                            justifyContent: "space-between",
                            alignItems: "center",
                            margin: L() === "xs" ? "3px 0 5px" : L() === "sm" ? "4px 0 6px" : "5px 0 8px"
                        },
                        children: [t.jsxs("div", {
                            style: {
                                textAlign: "center",
                                flex: 1
                            },
                            children: [t.jsx("div", {
                                style: {
                                    fontSize: H().labelSize,
                                    color: "#8da2bb",
                                    marginBottom: "2px",
                                    fontFamily: "DynaPuff, sans-serif"
                                },
                                children: "Rugpool"
                            }), t.jsxs("div", {
                                style: {
                                    fontSize: H().rugpoolSize,
                                    fontWeight: "700",
                                    color: "#FFC800",
                                    fontFamily: "DynaPuff, sans-serif",
                                    display: "flex",
                                    alignItems: "center",
                                    justifyContent: "center"
                                },
                                children: [K(r.currentAmount), " ", t.jsx(z, {})]
                            })]
                        }), t.jsxs("div", {
                            style: {
                                textAlign: "center",
                                flex: 1
                            },
                            children: [t.jsx("div", {
                                style: {
                                    fontSize: H().labelSize,
                                    color: "#8da2bb",
                                    marginBottom: "2px",
                                    fontFamily: "DynaPuff, sans-serif"
                                },
                                children: "Your Entries"
                            }), t.jsx("div", {
                                style: {
                                    fontSize: H().valueSize,
                                    fontWeight: "600",
                                    color: (((q = (W = r.allPlayerEntriesList) == null ? void 0 : W.find(ie => ie.playerId === (l == null ? void 0 : l.id))) == null ? void 0 : q.entries) || 0) > 0 ? "#FF3E00" : "#666666",
                                    fontFamily: "DynaPuff, sans-serif"
                                },
                                children: ((se = (Z = r.allPlayerEntriesList) == null ? void 0 : Z.find(ie => ie.playerId === (l == null ? void 0 : l.id))) == null ? void 0 : se.entries) || 0
                            })]
                        })]
                    }), t.jsx("div", {
                        style: {
                            fontSize: H().infoSize,
                            color: "#8da2bb",
                            textAlign: "center",
                            marginTop: L() === "xs" ? "3px" : L() === "sm" ? "4px" : "5px",
                            padding: H().innerPadding,
                            backgroundColor: "rgba(0, 0, 0, 0.5)",
                            borderRadius: "6px",
                            fontFamily: "DynaPuff, sans-serif",
                            lineHeight: "1.3"
                        },
                        children: "Gain +1 entry per 0.001 SOL lost in an insta-rug"
                    })]
                }), B === "drawing" && t.jsx("div", {
                    className: "rugpool-glow-green",
                    style: {
                        backgroundColor: "rgba(20, 25, 38, 0.9)",
                        backdropFilter: "blur(8px)",
                        borderRadius: "8px",
                        padding: "16px",
                        border: "2px solid rgba(255, 62, 0, 0.5)",
                        boxShadow: "0 0 10px rgba(255, 62, 0, 0.3)",
                        width: "100%",
                        maxHeight: "85vh",
                        overflowY: "auto",
                        transformOrigin: "center center",
                        opacity: V()
                    },
                    children: t.jsxs("div", {
                        style: {
                            display: "flex",
                            flexDirection: "column",
                            alignItems: "center",
                            justifyContent: "center",
                            textAlign: "center"
                        },
                        children: [t.jsxs("h4", {
                            style: {
                                margin: "0 0 16px 0",
                                fontSize: "18px",
                                textAlign: "center",
                                color: "#FFC800",
                                display: "flex",
                                alignItems: "center",
                                justifyContent: "center",
                                gap: "8px",
                                fontFamily: "DynaPuff, sans-serif"
                            },
                            children: [t.jsx("span", {
                                children: "🎉"
                            }), " Rugpool Drawing Complete! ", t.jsx("span", {
                                children: "🎉"
                            })]
                        }), t.jsxs("div", {
                            style: {
                                fontSize: window.innerWidth <= 380 ? "16px" : "18px",
                                fontWeight: "700",
                                color: "#FFC800",
                                marginBottom: "20px",
                                fontFamily: "DynaPuff, sans-serif",
                                display: "flex",
                                alignItems: "center",
                                justifyContent: "center"
                            },
                            children: ["Prize Pool: ", K(((G = r.currentDrawingEvent) == null ? void 0 : G.totalPool) || r.currentAmount), " ", t.jsx(z, {})]
                        }), t.jsxs("div", {
                            style: {
                                fontSize: "14px",
                                color: "#8da2bb",
                                fontWeight: "normal",
                                margin: "0",
                                fontFamily: "DynaPuff, sans-serif",
                                lineHeight: "1.5",
                                textAlign: "center",
                                maxWidth: "280px"
                            },
                            children: ["Winners have been selected and announced in", t.jsx("br", {}), t.jsx("span", {
                                style: {
                                    color: "#FFC800",
                                    fontWeight: "bold"
                                },
                                children: "discord.gg/RugsDotFun"
                            })]
                        })]
                    })
                })]
            })]
        })
    },
    nk = {
        smallMobile: 480,
        mobile: 768,
        smallDesktop: 1024,
        desktop: 1440,
        largeDesktop: 1 / 0
    },
    sk = {
        smallMobile: .7,
        mobile: .8,
        smallDesktop: .9,
        desktop: 1,
        largeDesktop: 1.1
    },
    ik = (e, s = nk, a = sk) => e <= s.smallMobile ? a.smallMobile : e <= s.mobile ? a.mobile : e <= s.smallDesktop ? a.smallDesktop : e <= s.desktop ? a.desktop : a.largeDesktop,
    ak = (e, s) => Math.round(e * s),
    Ke = (e, s) => `${ak(e,s)}px`;

function rk() {
    const e = oi(),
        s = m.useCallback((r, l) => {
            e.emit("requestSidebet", r, l)
        }, [e]),
        a = m.useCallback(r => {
            e.emit("currentSidebet", r)
        }, [e]);
    return {
        requestSidebet: s,
        getCurrentSidebet: a
    }
}

function ok({
    visible: e = !0,
    betAmount: s = 0,
    currency: a = "FREE",
    onBetClick: r
}) {
    const l = bt(),
        d = rk(),
        u = Se(Ge.selectCurrent),
        {
            hasActiveDropdowns: h
        } = kl(),
        f = Se(Re => Re.sidebet.currentSidebet),
        p = Se(us.selectCurrent),
        y = Se(us.selectConstants),
        [x, S] = m.useState("closed"),
        [v, C] = m.useState(!1),
        [w, j] = m.useState(!1),
        [A, _] = m.useState(!1),
        [k, D] = m.useState(window.innerWidth),
        E = ik(k),
        P = k <= 768,
        I = m.useRef(!1),
        B = m.useRef(!1),
        X = m.useRef(null),
        O = m.useRef(!1),
        L = m.useRef(null),
        F = m.useRef(null),
        Y = a === "0xPractice" ? "FREE" : a,
        H = f == null ? void 0 : f.type;
    m.useEffect(() => {
        const Re = () => {
            D(window.innerWidth)
        };
        return window.addEventListener("resize", Re), () => window.removeEventListener("resize", Re)
    }, []);
    const K = Re => {
            const le = parseFloat((Re == null ? void 0 : Re.toString()) || "0");
            return isNaN(le) || le === 0 ? Y === "SOL" ? .001 : 1 : Y === "SOL" && le > 5 ? 5 : le
        },
        z = 175,
        U = f !== null ? f.betAmount : K(s),
        V = f !== null ? f.betAmount * f.xPayout : K(s) * 5,
        W = vl(U, 3),
        q = vl(V, 3),
        Z = f === null && !A,
        se = Z && (x === "expanded" || x === "expanding" && w);
    m.useEffect(() => {
        if (x === "expanding") {
            const Re = setTimeout(() => {
                S("expanded")
            }, z);
            return () => clearTimeout(Re)
        } else if (x === "closing") {
            const Re = setTimeout(() => {
                S(w ? "minimized" : "closed")
            }, z);
            return () => clearTimeout(Re)
        }
    }, [x, w]), m.useEffect(() => {
        if (!f && (x === "countdown" || x === "won" || x === "lost")) {
            const Re = w ? "expanded" : "closed";
            console.log(`[SidebetButton] Sidebet cleared, transitioning from ${x} to ${Re}`), S(Re)
        }
    }, [f, w]), m.useEffect(() => {
        if (H === "placed" && f && (console.log("[SidebetButton] New sidebet placed - clearing any existing payout timeout"), L.current && (clearTimeout(L.current), L.current = null, F.current = null, console.log("[SidebetButton] Cleared existing payout timeout for new bet")), I.current = (p == null ? void 0 : p.active) || !1, B.current = (p == null ? void 0 : p.active) || !1, X.current = f.endTick, O.current = !1, S("countdown")), H === "payout") {
            const Re = `${f.gameId}-${f.betAmount}-${f.timestamp}`;
            if (F.current !== Re) {
                F.current = Re, L.current && clearTimeout(L.current);
                const le = "profit" in f && f.profit > 0;
                console.log(`[SidebetButton] Processing payout: ${le?"WIN":"LOSS"} for ${f.betAmount}`), S(le ? "won" : "lost");
                const Ce = le ? 7e3 : 1e3;
                L.current = setTimeout(() => {
                    console.log("[SidebetButton] Payout timeout fired - clearing sidebet state"), j(!0), l(va.setCurrentSidebet(null)), F.current = null, L.current = null, S("expanded")
                }, Ce)
            } else console.log(`[SidebetButton] Duplicate payout ignored: ${Re}`)
        }
    }, [H, p == null ? void 0 : p.active, f, l]), m.useEffect(() => () => {
        L.current && clearTimeout(L.current)
    }, []), m.useEffect(() => {
        if (!f || H !== "placed" || !p) return;
        const Re = p.tickCount || 0,
            le = p.active || !1;
        if (p.id !== f.gameId) {
            l(va.setCurrentSidebet(null)), S(w ? "expanded" : "closed");
            return
        }
        if (p.id === f.gameId && Re > f.endTick + 20) {
            l(va.setCurrentSidebet(null)), S(w ? "expanded" : "closed");
            return
        }
        if (le && !I.current && !O.current && (I.current = !0, B.current = !0, X.current !== null && f.endTick === X.current)) {
            const Ce = Re + 40;
            if (Ce > Re) {
                l(va.setCurrentSidebet({
                    playerId: f.playerId,
                    gameId: f.gameId,
                    username: f.username,
                    betAmount: f.betAmount,
                    xPayout: f.xPayout,
                    coinAddress: f.coinAddress,
                    startTick: f.startTick,
                    tickIndex: f.tickIndex,
                    timestamp: f.timestamp,
                    type: f.type,
                    endTick: Ce
                })), O.current = !0;
                return
            }
        }
    }, [p, f, H, w, l]);
    const G = () => {
            x === "closed" ? (j(!0), S("expanding")) : x === "expanded" ? S("closing") : x === "minimized" && (C(!0), setTimeout(() => {
                C(!1), S("expanding")
            }, 125))
        },
        ie = Re => {
            Re.stopPropagation(), console.log(`[SidebetButton] BET clicked - canMakeBet: ${Z}, showBetButton: ${se}, uiState: ${x}`);
            const le = K(s),
                Ce = parseFloat(le.toString());
            if (isNaN(Ce) || Ce <= 0) {
                console.warn("Invalid bet amount:", s);
                return
            }
            const _e = Ne => Ne === "FREE" ? "0xPractice" : Ne === "SOL" ? "So11111111111111111111111111111111111111112" : "0xPractice";
            _(!0), console.log(`[SidebetButton] Requesting sidebet: ${Ce} ${Y}`), d.requestSidebet({
                amount: Ce,
                coinAddress: _e(Y),
                xPayout: 5
            }, Ne => {
                _(!1), console.log("[SidebetButton] Sidebet response:", Ne), Ne.success && S("countdown")
            }), u || _(!1), r && r(Ce)
        },
        ne = () => {
            x === "won" || x === "lost" ? (L.current && (clearTimeout(L.current), L.current = null), j(!0), l(va.setCurrentSidebet(null)), F.current = null, S("expanded")) : S(w ? "minimized" : "closed")
        };
    if (!e || h()) return null;
    const ee = {
            containerMargin: 20,
            circleSize: 52,
            bannerMaxWidth: 450,
            bannerHeight: 52,
            borderRadius: 35,
            padding: 15,
            gap: 12,
            fontSize: {
                primary: 16,
                secondary: 28,
                countdown: 14,
                info: 12,
                result: 14
            }
        },
        me = {
            position: "absolute",
            bottom: Ke(ee.containerMargin, E),
            left: Ke(ee.containerMargin, E),
            zIndex: 10
        },
        fe = {
            width: Ke(ee.circleSize, E),
            height: Ke(ee.circleSize, E)
        },
        ge = {
            position: "absolute",
            bottom: Ke(ee.containerMargin, E),
            left: Ke(ee.containerMargin, E),
            zIndex: 10,
            width: "auto",
            maxWidth: Ke(ee.bannerMaxWidth, E),
            height: Ke(ee.bannerHeight, E),
            borderRadius: Ke(ee.borderRadius, E),
            display: "flex",
            alignItems: "center",
            boxShadow: "0 4px 15px rgba(0, 0, 0, 0.5)",
            padding: `0 ${Ke(ee.padding,E)} 0 0`,
            gap: Ke(ee.gap, E)
        },
        ke = {
            info: {
                smallMobile: 12,
                mobile: 13,
                tablet: 14,
                desktop: 15,
                largeDesktop: 16
            },
            result: {
                smallMobile: 12,
                mobile: 13,
                tablet: 14,
                desktop: 16,
                largeDesktop: 18
            },
            expanded: {
                smallMobile: 14,
                mobile: 15,
                tablet: 16,
                desktop: 17,
                largeDesktop: 18
            },
            expandedAmount: {
                smallMobile: 14,
                mobile: 15,
                tablet: 16,
                desktop: 17,
                largeDesktop: 18
            },
            betInfo: {
                smallMobile: 12,
                mobile: 13,
                tablet: 14,
                desktop: 15,
                largeDesktop: 16
            },
            winInfo: {
                smallMobile: 12,
                mobile: 13,
                tablet: 14,
                desktop: 15,
                largeDesktop: 16
            }
        },
        je = Re => k <= 480 ? ke[Re].smallMobile : k <= 768 ? ke[Re].mobile : k <= 1024 ? ke[Re].tablet : k <= 1440 ? ke[Re].desktop : ke[Re].largeDesktop,
        re = () => t.jsx("div", {
            className: "sidebet-container",
            style: me,
            children: t.jsxs("div", {
                className: "sidebet-button select-none",
                onClick: G,
                style: { ...fe,
                    borderRadius: "50%",
                    display: "flex",
                    alignItems: "center",
                    justifyContent: "center",
                    cursor: "pointer",
                    background: "transparent",
                    overflow: "hidden",
                    boxShadow: "0 4px 6px rgba(0, 0, 0, 0.25), 0 0 0 2px rgba(255, 165, 0, 0.15)"
                },
                children: [t.jsx("div", {
                    className: "sidebet-text-secondary",
                    style: {
                        fontSize: Ke(ee.fontSize.secondary, E)
                    },
                    children: "🐻"
                }), t.jsxs("div", {
                    className: "sidebet-text-container",
                    children: [t.jsx("div", {
                        className: "sidebet-text-primary animation-top",
                        style: {
                            fontSize: Ke(ee.fontSize.primary, E)
                        },
                        children: "5X"
                    }), t.jsx("div", {
                        className: "sidebet-text-primary animation-bottom",
                        style: {
                            fontSize: Ke(ee.fontSize.primary, E)
                        },
                        children: "Tap"
                    })]
                })]
            })
        }),
        Ee = () => {
            if (!f) return console.warn("Countdown: No sidebet state"), null;
            if (!p) return console.warn("Countdown: No current game"), null;
            const Re = f.startTick,
                le = f.endTick,
                Ce = p.id === f.gameId && p.tickCount || 0;
            if (!(p.active || !1) || !B.current) return t.jsx("div", {
                className: "sidebet-container",
                style: me,
                children: t.jsxs("div", {
                    className: "sidebet-countdown",
                    style: {
                        width: "fit-content",
                        height: Ke(ee.bannerHeight, E),
                        borderRadius: Ke(ee.borderRadius, E),
                        display: "flex",
                        alignItems: "center",
                        boxShadow: "0 4px 15px rgba(0, 0, 0, 0.5)",
                        padding: `0 ${Ke(ee.padding,E)} 0 0`,
                        justifyContent: "flex-start",
                        gap: Ke(ee.gap, E),
                        borderTop: "2px solid #F97316",
                        borderBottom: "2px solid #F97316",
                        borderRight: "2px solid #F97316",
                        background: de.colorBackground
                    },
                    children: [t.jsxs("div", {
                        className: "countdown-circle",
                        style: { ...fe,
                            position: "relative",
                            borderRadius: "50%",
                            display: "flex",
                            alignItems: "center",
                            justifyContent: "center",
                            background: "#7c2d12"
                        },
                        children: [t.jsxs("span", {
                            className: "countdown-text",
                            style: {
                                fontSize: Ke(ee.fontSize.countdown, E)
                            },
                            children: [10, "s"]
                        }), t.jsx("svg", {
                            width: fe.width,
                            height: fe.height,
                            viewBox: "0 0 100 100",
                            style: {
                                position: "absolute",
                                top: 0,
                                left: 0,
                                transform: "rotate(-90deg)"
                            },
                            children: t.jsx("circle", {
                                cx: "50",
                                cy: "50",
                                r: "45",
                                fill: "transparent",
                                stroke: "#F97316",
                                strokeWidth: "8",
                                strokeDasharray: "283",
                                strokeDashoffset: "283",
                                strokeLinecap: "round",
                                className: "countdown-progress-paused"
                            })
                        })]
                    }), t.jsxs("div", {
                        className: "sidebet-info",
                        children: [t.jsxs("div", {
                            className: "countdown-info-title",
                            style: {
                                fontSize: Ke(je("betInfo"), E)
                            },
                            children: [t.jsx("span", {
                                className: "text-white",
                                children: "Bet "
                            }), t.jsxs("span", {
                                className: "text-orange",
                                children: [W, " ", Y]
                            })]
                        }), t.jsxs("div", {
                            className: "countdown-info-amount",
                            style: {
                                fontSize: Ke(je("winInfo"), E)
                            },
                            children: [t.jsx("span", {
                                className: "text-white",
                                children: "TO WIN: "
                            }), t.jsxs("span", {
                                className: "text-green",
                                children: [q, " ", Y]
                            })]
                        })]
                    })]
                })
            });
            const Ne = Math.max(0, Ce - Re),
                Fe = Math.max(0, le - Ce),
                tt = Math.max(1, le - Re),
                dt = Ne / tt,
                oe = Math.round(Math.max(0, Fe * y.TICK_MS / 1e3));
            return t.jsx("div", {
                className: "sidebet-container",
                style: me,
                children: t.jsxs("div", {
                    className: "sidebet-countdown",
                    style: {
                        width: "fit-content",
                        height: Ke(ee.bannerHeight, E),
                        borderRadius: Ke(ee.borderRadius, E),
                        display: "flex",
                        alignItems: "center",
                        boxShadow: "0 4px 15px rgba(0, 0, 0, 0.5)",
                        padding: `0 ${Ke(ee.padding,E)} 0 0`,
                        justifyContent: "flex-start",
                        gap: Ke(ee.gap, E),
                        borderTop: "2px solid #F97316",
                        borderBottom: "2px solid #F97316",
                        borderRight: "2px solid #F97316",
                        background: de.colorBackground
                    },
                    children: [t.jsxs("div", {
                        className: "countdown-circle",
                        style: { ...fe,
                            position: "relative",
                            borderRadius: "50%",
                            display: "flex",
                            alignItems: "center",
                            justifyContent: "center",
                            background: "#7c2d12"
                        },
                        children: [t.jsxs("span", {
                            className: "countdown-text",
                            style: {
                                fontSize: Ke(ee.fontSize.countdown, E)
                            },
                            children: [oe, "s"]
                        }), t.jsx("svg", {
                            width: fe.width,
                            height: fe.height,
                            viewBox: "0 0 100 100",
                            style: {
                                position: "absolute",
                                top: 0,
                                left: 0,
                                transform: "rotate(-90deg)"
                            },
                            children: t.jsx("circle", {
                                cx: "50",
                                cy: "50",
                                r: "45",
                                fill: "transparent",
                                stroke: "#F97316",
                                strokeWidth: "8",
                                strokeDasharray: "283",
                                strokeDashoffset: Math.min(283, 283 * dt),
                                strokeLinecap: "round",
                                className: dt > 0 ? "countdown-progress" : "countdown-progress-paused"
                            })
                        })]
                    }), t.jsxs("div", {
                        className: "sidebet-info",
                        children: [t.jsxs("div", {
                            className: "countdown-info-title",
                            style: {
                                fontSize: Ke(je("betInfo"), E)
                            },
                            children: [t.jsx("span", {
                                className: "text-white",
                                children: "Bet "
                            }), t.jsxs("span", {
                                className: "text-orange",
                                children: [W, " ", Y]
                            })]
                        }), t.jsxs("div", {
                            className: "countdown-info-amount",
                            style: {
                                fontSize: Ke(je("winInfo"), E)
                            },
                            children: [t.jsx("span", {
                                className: "text-white",
                                children: "TO WIN: "
                            }), t.jsxs("span", {
                                className: "text-green",
                                children: [q, " ", Y]
                            })]
                        })]
                    })]
                })
            })
        },
        Ae = () => t.jsxs("div", {
            className: "sidebet-won",
            onClick: ne,
            style: { ...ge,
                width: Ke(190, E),
                maxWidth: Ke(190, E),
                justifyContent: "flex-start",
                cursor: "pointer",
                borderTop: "2px solid #22C55E",
                borderBottom: "2px solid #22C55E",
                borderRight: "2px solid #22C55E",
                background: "#1e312f"
            },
            children: [t.jsx("div", {
                className: "result-circle",
                style: {
                    minWidth: Ke(50, E),
                    minHeight: Ke(50, E),
                    marginRight: Ke(10, E)
                },
                children: t.jsx("div", {
                    className: "result-icon",
                    style: {
                        fontSize: Ke(24, E)
                    },
                    children: "✓"
                })
            }), t.jsxs("div", {
                className: "result-info",
                children: [t.jsx("div", {
                    className: "result-title",
                    style: {
                        fontSize: Ke(ee.fontSize.info, E)
                    },
                    children: "Sidebet Won!"
                }), t.jsxs("div", {
                    className: "result-amount",
                    style: {
                        fontSize: Ke(ee.fontSize.result, E)
                    },
                    children: ["+", q, " ", Y]
                })]
            })]
        }),
        Pe = () => t.jsxs("div", {
            className: "sidebet-lost",
            onClick: ne,
            style: { ...ge,
                minWidth: Ke(190, E),
                justifyContent: "flex-start",
                cursor: "pointer",
                borderTop: "2px solid #EF4444",
                borderBottom: "2px solid #EF4444",
                borderRight: "2px solid #EF4444",
                background: "#7f1d1d"
            },
            children: [t.jsx("div", {
                className: "result-circle",
                style: {
                    minWidth: Ke(50, E),
                    minHeight: Ke(50, E),
                    marginRight: Ke(10, E)
                },
                children: t.jsx("div", {
                    className: "result-icon",
                    style: {
                        fontSize: Ke(24, E)
                    },
                    children: "✕"
                })
            }), t.jsxs("div", {
                className: "result-info",
                children: [t.jsx("div", {
                    className: "result-title",
                    style: {
                        fontSize: Ke(ee.fontSize.info, E)
                    },
                    children: "Sidebet Lost"
                }), t.jsxs("div", {
                    className: "result-amount",
                    style: {
                        fontSize: Ke(ee.fontSize.result, E)
                    },
                    children: ["-", W, " ", Y]
                })]
            })]
        }),
        be = () => t.jsx("div", {
            className: `sidebet-minimized-tab select-none ${v?"opening":""}`,
            onClick: G,
            style: {
                position: "absolute",
                bottom: Ke(30, E),
                left: "2px",
                width: Ke(20, E),
                height: Ke(45, E),
                borderRadius: "0 10px 10px 0",
                display: "flex",
                flexDirection: "column",
                alignItems: "center",
                justifyContent: "center",
                cursor: "pointer",
                background: "#854D0E",
                overflow: "hidden",
                boxShadow: "2px 4px 8px rgba(0, 0, 0, 0.3)",
                transition: "all 0.2s ease-in-out",
                opacity: 1,
                zIndex: 10
            },
            children: t.jsx("div", {
                className: "sidebet-emoji",
                style: {
                    fontSize: Ke(16, E),
                    display: "flex",
                    alignItems: "center",
                    justifyContent: "flex-start",
                    width: "100%",
                    height: "100%",
                    paddingLeft: "2px",
                    transform: "translateX(-50%)",
                    zIndex: -10
                },
                children: "🐻"
            })
        }),
        qe = () => {
            const Re = x === "expanding",
                le = x === "expanded",
                Ce = x === "closing",
                _e = P ? 180 : 320,
                Ne = parseInt(fe.width),
                Fe = Re ? `${Ne+0}px` : Ce ? `${Ne}px` : `${_e}px`,
                tt = `${z}ms ease-in-out`,
                dt = { ...me,
                    left: Re && w ? "7px" : me.left,
                    transition: Re && w ? `left ${tt}` : void 0
                };
            return t.jsx("div", {
                className: "sidebet-container",
                style: dt,
                children: t.jsxs("div", {
                    className: "sidebet-banner",
                    style: {
                        height: P ? "40px" : "52px",
                        borderRadius: P ? "25px" : "35px",
                        display: "flex",
                        alignItems: "center",
                        boxShadow: "0 4px 15px rgba(0, 0, 0, 0.5)",
                        padding: "0",
                        width: Fe,
                        justifyContent: "flex-start",
                        borderTop: "2px solid #F97316",
                        borderBottom: "2px solid #F97316",
                        borderRight: "2px solid #F97316",
                        transition: `width ${tt}`,
                        overflow: "hidden",
                        background: "linear-gradient(90deg, #1E202A 0%, #676E9000)"
                    },
                    children: [t.jsxs("div", {
                        className: "payout-circle",
                        onClick: G,
                        style: {
                            width: P ? "40px" : "52px",
                            height: P ? "40px" : "52px",
                            borderRadius: "50%",
                            display: "flex",
                            alignItems: "center",
                            justifyContent: "center",
                            cursor: "pointer",
                            flexShrink: 0,
                            position: "relative",
                            background: "#854D0E",
                            zIndex: 1,
                            margin: "0",
                            padding: "0",
                            overflow: "hidden"
                        },
                        children: [t.jsx("div", {
                            className: "sidebet-text-secondary",
                            children: "🐻"
                        }), t.jsx("div", {
                            className: "sidebet-text-primary",
                            children: "5X"
                        })]
                    }), (le || Re && parseInt(Fe) > Ne + 100) && t.jsxs("div", {
                        className: "sidebet-info",
                        style: {
                            display: "flex",
                            flexDirection: "column",
                            alignItems: "center",
                            justifyContent: "center",
                            flex: 1,
                            padding: P ? "0 8px" : "0 10px",
                            opacity: Ce ? 0 : Re ? .5 : 1,
                            transition: `opacity ${tt}`,
                            overflow: "hidden",
                            whiteSpace: "nowrap",
                            marginRight: P ? "40px" : "45px"
                        },
                        children: [t.jsx("div", {
                            className: "sidebet-info-title",
                            style: {
                                fontSize: Ke(je("expanded"), E)
                            },
                            children: "Rug in 10s?"
                        }), t.jsxs("div", {
                            className: "sidebet-info-amount",
                            style: {
                                fontSize: Ke(je("expandedAmount"), E)
                            },
                            children: ["Win ", q, " ", Y]
                        })]
                    }), se && le && t.jsxs("div", {
                        className: "bet-button",
                        onPointerDown: ie,
                        style: {
                            width: P ? "40px" : "52px",
                            height: P ? "40px" : "52px",
                            borderRadius: "50%",
                            display: "flex",
                            flexDirection: "column",
                            alignItems: "center",
                            justifyContent: "center",
                            cursor: "pointer",
                            opacity: 1,
                            visibility: "visible",
                            transition: `opacity ${tt}, transform 0.12s ease-out, box-shadow 0.12s ease-out`,
                            position: "absolute",
                            right: P ? "0px" : "1px",
                            top: "50%",
                            transform: "translateY(-54%)",
                            flexShrink: 0,
                            zIndex: 15,
                            willChange: "transform, box-shadow",
                            background: "linear-gradient(to bottom, #facc15, #fef08a, #ca8a04)",
                            boxShadow: "0 2px 5px rgba(0, 0, 0, 0.3), 0 4px 0 #b27b04",
                            pointerEvents: "auto"
                        },
                        children: [t.jsx("div", {
                            className: "bet-button-text",
                            children: "BET"
                        }), t.jsxs("div", {
                            className: "bet-button-amount text-center",
                            style: {
                                fontSize: P ? "9px" : "11px"
                            },
                            children: [W, " ", Y]
                        })]
                    })]
                })
            })
        };
    switch (x) {
        case "expanding":
        case "expanded":
        case "closing":
            return qe();
        case "countdown":
            return Ee();
        case "won":
            return Ae();
        case "lost":
            return Pe();
        case "minimized":
            return be();
        default:
            return re()
    }
}

function lk() {
    const e = oi(),
        s = m.useCallback((d, u) => {
            e.emit("buyOrder", d, u)
        }, [e]),
        a = m.useCallback((d, u) => {
            e.emit("sellOrder", d, u)
        }, [e]),
        r = m.useCallback((d, u) => {
            e.emit("selectCoin", d, u)
        }, [e]),
        l = m.useCallback((d, u) => {
            e.emit("setAutobets", d, u)
        }, [e]);
    return {
        buyOrder: s,
        sellOrder: a,
        selectCoin: r,
        setAutobets: l
    }
}
const ck = ({
        active: e,
        cooldownTimer: s,
        tournamentState: a
    }) => {
        const r = nn(),
            l = Se(Ge.selectCurrent),
            [d, u] = m.useState(!1),
            [h, f] = m.useState(null);
        if (!l || l.role !== "admin") return null;
        const p = () => {
                u(!0), f(null), r.pauseCooldown({
                    message: "Server restarting... (ETA < 2 minutes)"
                }, S => {
                    u(!1), f(S)
                })
            },
            y = () => {
                u(!0), f(null), r.resumeCooldown(S => {
                    u(!1), f(S)
                })
            },
            x = () => {
                u(!0), f(null), r.addCooldownTime({
                    seconds: 30
                }, S => {
                    u(!1), f(S)
                })
            };
        return t.jsxs(Je, {
            sx: {
                p: 2,
                borderTop: 1,
                borderColor: "divider"
            },
            children: [t.jsx($, {
                variant: "h6",
                sx: {
                    fontSize: "0.875rem",
                    fontWeight: "bold",
                    mb: 2,
                    color: "primary.main"
                },
                children: "ADMIN CONTROLS"
            }), t.jsxs(T, {
                sx: {
                    display: "flex",
                    flexDirection: "column",
                    gap: 2
                },
                children: [t.jsxs(T, {
                    sx: {
                        display: "flex",
                        alignItems: "center",
                        gap: 1
                    },
                    children: [t.jsx($, {
                        variant: "body2",
                        sx: {
                            fontSize: "0.875rem"
                        },
                        children: "Game:"
                    }), t.jsx(Qn, {
                        label: e ? "Active" : "Inactive",
                        color: e ? "success" : "default",
                        size: "small"
                    })]
                }), !e && t.jsxs(T, {
                    sx: {
                        display: "flex",
                        justifyContent: "space-between",
                        alignItems: "center"
                    },
                    children: [t.jsxs($, {
                        variant: "body2",
                        sx: {
                            fontSize: "0.875rem"
                        },
                        children: ["Cooldown: ", (s / 1e3).toFixed(1), "s"]
                    }), t.jsxs(T, {
                        sx: {
                            display: "flex",
                            gap: 1
                        },
                        children: [t.jsx(Te, {
                            onClick: p,
                            disabled: d,
                            variant: "contained",
                            color: "warning",
                            size: "small",
                            sx: {
                                fontSize: "0.75rem",
                                fontWeight: "bold"
                            },
                            startIcon: d ? t.jsx(ws, {
                                size: 12
                            }) : null,
                            children: d ? "..." : "PAUSE"
                        }), t.jsx(Te, {
                            onClick: y,
                            disabled: d,
                            variant: "contained",
                            color: "success",
                            size: "small",
                            sx: {
                                fontSize: "0.75rem",
                                fontWeight: "bold"
                            },
                            startIcon: d ? t.jsx(ws, {
                                size: 12
                            }) : null,
                            children: d ? "..." : "RESUME"
                        }), t.jsx(Te, {
                            onClick: x,
                            disabled: d,
                            variant: "contained",
                            color: "info",
                            size: "small",
                            sx: {
                                fontSize: "0.75rem",
                                fontWeight: "bold"
                            },
                            startIcon: d ? t.jsx(ws, {
                                size: 12
                            }) : null,
                            children: d ? "..." : "+30s"
                        })]
                    })]
                }), h && t.jsx(it, {
                    severity: h.success ? "success" : "error",
                    sx: {
                        fontSize: "0.875rem"
                    },
                    children: h.message
                })]
            })]
        })
    },
    Zh = {
        address: "So11111111111111111111111111111111111111112",
        ticker: "SOL",
        name: "Solana",
        max_bet: 25,
        max_win: 500,
        logoURI: "/icons/Icon_Solana.png"
    },
    dk = ({
        availableShitcoins: e,
        selectedCoin: s,
        selectCoin: a,
        cash: r,
        bonusBalance: l = 0,
        shitcoinBalances: d = {},
        active: u,
        compact: h = !1,
        positionQty: f = 0,
        totalInvested: p = 0,
        hasInteracted: y = !1,
        alignRight: x = !1
    }) => {
        var U, V, W, q;
        const [S] = m.useState(!0), [v, C] = m.useState(!1), [w, j] = m.useState(!1), [A, _] = m.useState(!1), [k, D] = m.useState(!1), E = m.useRef(null), P = m.useRef(null), [I, B] = m.useState(x ? "right" : "default");
        m.useEffect(() => {
            var Z;
            if (v && !x) {
                const se = (Z = E.current) == null ? void 0 : Z.querySelector("button");
                if (se) {
                    const G = se.getBoundingClientRect();
                    window.innerWidth - G.right < 200 ? B("right") : B("default")
                }
            }
        }, [v, x]), m.useEffect(() => {
            function Z(se) {
                E.current && !E.current.contains(se.target) && C(!1)
            }
            return document.addEventListener("mousedown", Z), () => document.removeEventListener("mousedown", Z)
        }, []), m.useEffect(() => {
            function Z(se) {
                const G = se.target;
                k && P.current && !P.current.contains(G) && D(!1)
            }
            return document.addEventListener("mousedown", Z), document.addEventListener("touchstart", Z), () => {
                document.removeEventListener("mousedown", Z), document.removeEventListener("touchstart", Z)
            }
        }, [k]);
        const X = m.useRef(new Map),
            O = m.useMemo(() => {
                const Z = [...e || []],
                    se = [];
                return Object.keys(d).forEach(ie => {
                    const ne = d[ie];
                    if (ne == null || ne < 0 || Z.find(fe => fe.address === ie)) return;
                    let me = X.current.get(ie);
                    me || (ie === "0xPractice" ? me = {
                        address: "0xPractice",
                        ticker: "FREE",
                        name: "Free Practice Token",
                        max_bet: 1e4,
                        max_win: 5e4,
                        logoURI: "/icons/Icon_Free_Solana.png"
                    } : me = {
                        address: ie,
                        ticker: ie.slice(-4),
                        name: `Token ${ie.slice(-4)}`,
                        max_bet: 1e3,
                        max_win: 5e3,
                        logoURI: "/icons/default-token.png"
                    }, X.current.set(ie, me)), se.push(me)
                }), [...Z, ...se]
            }, [e, d]);
        m.useEffect(() => () => {
            X.current.clear()
        }, []);
        const L = Z => {
                y || (a(Z), C(!1))
            },
            F = (Z, se = 3) => {
                if (Z == null || isNaN(Z) || Z < .001) return "0.000";
                const G = Math.pow(10, se);
                return (Math.floor(Number(Z) * G) / G).toFixed(se)
            },
            Y = (r || 0) + (l || 0),
            H = s ? s.address === Zh.address ? Y : d[s.address] : Y,
            K = (s == null ? void 0 : s.address) === "0xPractice" && (Number(H) || 0) <= 2,
            z = () => I === "right" ? "right-0" : "left-0";
        return t.jsxs("div", {
            className: "coin-dropdown-container",
            ref: E,
            style: {
                overflow: "visible"
            },
            children: [t.jsxs("button", {
                onClick: () => !y && C(!v),
                onMouseEnter: () => j(!0),
                onMouseLeave: () => j(!1),
                className: `coin-dropdown-trigger ${h?"compact":""} ${y?"disabled":""}`,
                children: [t.jsxs("div", {
                    className: "coin-info",
                    children: [t.jsx("img", {
                        src: (s == null ? void 0 : s.logoURI) || ((s == null ? void 0 : s.ticker) === "FREE" ? "/icons/Icon_Free_Solana.png" : "/icons/Icon_Solana.png"),
                        alt: (s == null ? void 0 : s.ticker) || "SOL",
                        className: "coin-icon",
                        style: {
                            width: h ? "16px" : "20px",
                            height: h ? "16px" : "20px"
                        }
                    }), !h && t.jsx("div", {
                        className: "coin-details",
                        children: t.jsx("span", {
                            className: "coin-balance",
                            children: F(H)
                        })
                    })]
                }), t.jsx("svg", {
                    className: "dropdown-arrow",
                    fill: "none",
                    stroke: "currentColor",
                    viewBox: "0 0 24 24",
                    style: {
                        width: h ? "12px" : "16px",
                        height: h ? "12px" : "16px"
                    },
                    children: t.jsx("path", {
                        strokeLinecap: "round",
                        strokeLinejoin: "round",
                        strokeWidth: "2",
                        d: "M19 9l-7 7-7-7"
                    })
                })]
            }), K && t.jsxs("div", {
                className: "low-free-warning-container",
                ref: P,
                onMouseEnter: () => _(!0),
                onMouseLeave: () => _(!1),
                onClick: Z => {
                    Z.stopPropagation(), D(!0)
                },
                onTouchStart: Z => {
                    Z.stopPropagation(), Z.preventDefault(), D(!0)
                },
                "aria-label": "Low FREE token balance",
                children: [t.jsx("span", {
                    className: "material-symbols-rounded low-free-warning-icon ms-16 ms-fill",
                    "aria-hidden": "true",
                    children: "warning"
                }), (A || k) && t.jsxs("div", {
                    className: "coin-dropdown-tooltip free-balance-tooltip",
                    style: {
                        position: window.innerWidth < 1350 ? "fixed" : "absolute",
                        bottom: window.innerWidth < 1350 ? "auto" : "100%",
                        top: window.innerWidth < 1350 ? (((U = E.current) == null ? void 0 : U.getBoundingClientRect().top) || 0) - 60 + "px" : "auto",
                        left: window.innerWidth < 1350 ? (((V = E.current) == null ? void 0 : V.getBoundingClientRect().right) || 0) - 280 + "px" : "50%",
                        transform: window.innerWidth < 1350 ? "none" : "translateX(-50%)",
                        width: window.innerWidth < 1350 ? "260px" : "280px",
                        whiteSpace: "normal",
                        textAlign: "left",
                        zIndex: 9999,
                        boxSizing: "border-box"
                    },
                    children: [t.jsx("div", {
                        style: {
                            fontWeight: 700,
                            marginBottom: 4
                        },
                        children: "Low FREE Token Balance"
                    }), t.jsxs("div", {
                        children: ["Your FREE token balance is low (", F(H), "). Complete trades to earn XP and refill your balance."]
                    })]
                })]
            }), y && w && t.jsx("div", {
                className: "coin-dropdown-tooltip",
                style: {
                    position: window.innerWidth < 1350 ? "fixed" : "absolute",
                    bottom: window.innerWidth < 1350 ? "auto" : "100%",
                    top: window.innerWidth < 1350 ? (((W = E.current) == null ? void 0 : W.getBoundingClientRect().top) || 0) - 50 + "px" : "auto",
                    left: window.innerWidth < 1350 ? (((q = E.current) == null ? void 0 : q.getBoundingClientRect().right) || 0) - 200 + "px" : "50%",
                    transform: window.innerWidth < 1350 ? "none" : "translateX(-50%)",
                    width: window.innerWidth < 1350 ? "200px" : "280px",
                    whiteSpace: "normal",
                    textAlign: "center",
                    zIndex: 9999,
                    boxSizing: "border-box"
                },
                children: "Cannot change while the round is active"
            }), v && t.jsxs("div", {
                className: `coin-dropdown-menu ${z()}`,
                children: [t.jsxs("div", {
                    onClick: () => L(Zh),
                    className: `coin-option ${(s==null?void 0:s.address)===Zh.address?"selected":""} ${!S||y?"disabled":""}`,
                    children: [t.jsxs("div", {
                        className: "coin-option-info",
                        children: [t.jsx("img", {
                            src: "/icons/Icon_Solana.png",
                            alt: "SOL",
                            className: "coin-icon",
                            style: {
                                width: "16px",
                                height: "16px"
                            }
                        }), t.jsx("span", {
                            className: "coin-ticker",
                            children: "SOL"
                        })]
                    }), t.jsx("span", {
                        className: "coin-balance",
                        children: F(Y)
                    })]
                }), O.length > 0 && t.jsx("div", {
                    className: "dropdown-divider"
                }), O.map(Z => t.jsxs("div", {
                    onClick: () => L(Z),
                    className: `coin-option ${(s==null?void 0:s.address)===Z.address?"selected":""} ${!S||y?"disabled":""}`,
                    children: [t.jsxs("div", {
                        className: "coin-option-info",
                        children: [t.jsx("img", {
                            src: Z.logoURI || (Z.ticker === "FREE" ? "/icons/Icon_Free_Solana.png" : "/icons/default-token.png"),
                            alt: Z.ticker,
                            className: "coin-icon",
                            style: {
                                width: "16px",
                                height: "16px"
                            }
                        }), t.jsx("span", {
                            className: "coin-ticker",
                            children: Z.ticker
                        })]
                    }), t.jsx("span", {
                        className: "coin-balance",
                        children: F(d[Z.address])
                    })]
                }, Z.address)), !1, y && t.jsx("div", {
                    className: "dropdown-disabled-message",
                    children: t.jsx("span", {
                        className: "error-text",
                        children: "Cannot change during round"
                    })
                })]
            })]
        })
    },
    uk = ({
        amount: e,
        onAmountChange: s,
        disabled: a,
        autobuysEnabled: r,
        pendingDisableAutobets: l,
        currentBalance: d,
        maxBet: u,
        positionValue: h,
        remainingBet: f,
        selectedCoin: p,
        availableCoins: y,
        selectCoin: x,
        hitMaxWin: S,
        cash: v,
        bonusBalance: C,
        shitcoinBalances: w,
        active: j,
        hasInteracted: A,
        loading: _
    }) => {
        const k = m.useRef(0),
            D = I => {
                const B = Date.now();
                if (B - k.current < 50) return;
                k.current = B;
                const X = parseFloat(e) || 0;
                switch (I) {
                    case "+0.001":
                        s((X + .001).toFixed(3));
                        break;
                    case "+0.01":
                        s((X + .01).toFixed(3));
                        break;
                    case "+0.1":
                        s((X + .1).toFixed(3));
                        break;
                    case "+1":
                        {
                            const O = X + 1;s(O === 1 ? "1" : O.toFixed(3));
                            break
                        }
                    case "1/2":
                        {
                            const O = X / 2;s(O === 0 ? "0" : O.toFixed(3));
                            break
                        }
                    case "X2":
                        {
                            const O = X * 2;s(O === 0 ? "0" : O.toFixed(3));
                            break
                        }
                    case "MAX":
                        {
                            const O = Math.min(d, f),
                                L = Math.floor(O * 1e3) / 1e3;s(L === 0 ? "0" : L.toFixed(3));
                            break
                        }
                    case "CLEAR":
                        s("0");
                        break
                }
            },
            E = () => {
                const I = parseFloat(e);
                isNaN(I) || I <= 0 ? s("0") : s(I.toFixed(3))
            },
            P = [{
                text: "+0.001",
                action: () => D("+0.001")
            }, {
                text: "+0.01",
                action: () => D("+0.01")
            }, {
                text: "+0.1",
                action: () => D("+0.1")
            }, {
                text: "+1",
                action: () => D("+1")
            }, {
                text: "1/2",
                action: () => D("1/2")
            }, {
                text: "X2",
                action: () => D("X2")
            }, ...r ? [] : [{
                text: "MAX",
                action: () => D("MAX"),
                uppercase: !0
            }]];
        return t.jsx("div", {
            className: "buy-section",
            children: t.jsx("div", {
                className: "amount-input-section",
                children: t.jsxs("div", {
                    className: `trade-controls-amount-input-container ${r?"autobuy-mode":""}`,
                    children: [t.jsx(Ad, {
                        value: e,
                        onChange: I => s(I.target.value),
                        onBlur: E,
                        className: `buy-amount-input ${r?"autobuy-input":""}`,
                        placeholder: "0.000",
                        disabled: _
                    }), t.jsxs("div", {
                        className: "input-actions",
                        children: [t.jsx("button", {
                            onClick: () => D("CLEAR"),
                            className: "clear-button",
                            title: "Clear amount",
                            children: "X"
                        }), t.jsx("div", {
                            className: "control-buttons-container",
                            children: P.map((I, B) => t.jsx("button", {
                                onClick: I.action,
                                className: `control-btn ${I.uppercase?"uppercase":""}`,
                                children: I.text
                            }, B))
                        }), t.jsx(dk, {
                            availableShitcoins: y,
                            selectedCoin: p,
                            selectCoin: x,
                            cash: v,
                            bonusBalance: C,
                            shitcoinBalances: w,
                            active: j,
                            compact: !1,
                            positionQty: 0,
                            totalInvested: h,
                            hasInteracted: A,
                            alignRight: !0
                        })]
                    })]
                })
            })
        })
    },
    hk = ({
        percent: e,
        onPercentChange: s,
        disabled: a,
        autobuysEnabled: r,
        autosellPrice: l,
        onAutosellPriceChange: d,
        positionQty: u,
        positionValue: h,
        pnl: f,
        pnlPercent: p,
        originalPositionQty: y,
        soldPercentage: x,
        pendingSellPercent: S,
        onToggleAutobets: v,
        loading: C,
        lightningEnabled: w,
        onLightningToggle: j,
        onInstantSell: A
    }) => {
        const [_, k] = m.useState(l), D = m.useRef(0);
        m.useEffect(() => {
            k(l)
        }, [l]);
        const E = [{
                value: 10,
                label: w ? "-INIT" : "10%"
            }, {
                value: 25,
                label: w ? "-25%" : "25%"
            }, {
                value: 50,
                label: w ? "-50%" : "50%"
            }, {
                value: 100,
                label: w ? "-100%" : "100%"
            }],
            P = [{
                value: "1.5",
                label: "1.5x"
            }, {
                value: "2.0",
                label: "2.0x"
            }, {
                value: "5.0",
                label: "5.0x"
            }, {
                value: "10.0",
                label: "10.0x"
            }],
            I = L => {
                const F = Date.now();
                F - D.current < 50 || (D.current = F, w && A ? a || A(L) : s(L.toString()))
            },
            B = L => {
                const F = [10, 25, 50, 75, 100],
                    Y = 3;
                for (const H of F)
                    if (Math.abs(L - H) <= Y) {
                        s(H.toString());
                        return
                    }
                s(L.toString())
            },
            X = () => {
                const L = parseInt(e);
                isNaN(L) || L < 5 ? s("5") : L > 100 ? s("100") : s(L.toString())
            },
            O = () => {
                const L = parseFloat(_);
                if (isNaN(L) || L <= 1) {
                    const F = "1.01";
                    k(F), d(F)
                } else {
                    const F = L.toFixed(2);
                    k(F), d(F)
                }
            };
        return t.jsx("div", {
            className: "sell-section",
            children: t.jsx("div", {
                className: "amount-input-section",
                children: t.jsxs("div", {
                    className: "sell-controls-layout",
                    children: [t.jsxs("div", {
                        className: "auto-buttons-container",
                        children: [t.jsx("button", {
                            onMouseDown: v,
                            className: `auto-toggle-btn ${r?"active":""}`,
                            children: t.jsx("span", {
                                className: "auto-icon",
                                children: "🤖"
                            })
                        }), t.jsx("button", {
                            onMouseDown: j,
                            className: `auto-toggle-btn ${w?"active lightning-active":""}`,
                            children: t.jsx("span", {
                                className: "auto-icon",
                                children: "⚡️"
                            })
                        })]
                    }), t.jsx("div", {
                        className: "sell-control-buttons-container",
                        children: r ? P.map((L, F) => t.jsx("button", {
                            onMouseDown: () => {
                                k(L.value), d(L.value)
                            },
                            className: `price-target-btn ${parseFloat(l).toFixed(1)===parseFloat(L.value).toFixed(1)?"active":""}`,
                            children: L.label
                        }, F)) : E.map((L, F) => t.jsx("button", {
                            onMouseDown: () => I(L.value),
                            className: `percentage-btn ${parseInt(e)===L.value?"active":""} ${w?"lightning-active":""}`,
                            disabled: w && u <= 0,
                            children: L.label
                        }, F))
                    }), t.jsx("div", {
                        className: "sell-input-container",
                        children: r ? t.jsxs("div", {
                            className: "trade-controls-amount-input-container",
                            children: [t.jsx(Ad, {
                                value: _,
                                onChange: L => {
                                    /^\d*\.?\d{0,2}$/.test(L.target.value) && k(L.target.value)
                                },
                                onBlur: O,
                                className: "sell-amount-input",
                                placeholder: "2.0",
                                disabled: C
                            }), t.jsx("div", {
                                className: "unit-indicator",
                                children: "x"
                            })]
                        }) : t.jsxs("div", {
                            className: "trade-controls-amount-input-container",
                            children: [t.jsx("input", {
                                type: "text",
                                value: e,
                                onChange: L => s(L.target.value),
                                onBlur: X,
                                className: "unit-indicator percent-input",
                                style: {
                                    width: "28px",
                                    textAlign: "left",
                                    border: "none",
                                    background: "transparent"
                                },
                                disabled: C
                            }), t.jsx("span", {
                                style: {
                                    marginRight: "10px"
                                },
                                children: "%"
                            }), t.jsx("input", {
                                type: "range",
                                min: "5",
                                max: "100",
                                value: parseInt(e) || 50,
                                onChange: L => B(parseInt(L.target.value)),
                                className: "sell-slider",
                                style: {
                                    background: `linear-gradient(to right, #EF4444 0%, #EF4444 ${((parseInt(e)||50)-5)/95*100}%, #EF444433 ${((parseInt(e)||50)-5)/95*100}%, #EF444433 100%)`
                                },
                                disabled: C
                            })]
                        })
                    })]
                })
            })
        })
    },
    fk = ({
        selectedCoin: e,
        currentBalance: s,
        level: a
    }) => ((e == null ? void 0 : e.address) === "0xPractice" && s <= 2, null),
    xa = {
        address: "So11111111111111111111111111111111111111112",
        ticker: "SOL",
        name: "Solana",
        max_bet: 5,
        max_win: 500,
        logoURI: "/icons/Icon_Solana.png"
    },
    pk = ({
        chatIsOpen: e = !1,
        onBuyAmountChange: s = () => {},
        onSelectedCoinChange: a = () => {},
        autobuysEnabled: r = !1,
        setAutobuysEnabled: l = () => {},
        autosellEnabled: d = !1,
        setAutosellEnabled: u = () => {},
        autobuyAmount: h = "0",
        setAutobuyAmount: f = () => {},
        autosellPrice: p = "2.0",
        setAutosellPrice: y = () => {},
        maxAutoRounds: x = "10",
        setMaxAutoRounds: S = () => {},
        autoRoundsCompleted: v = 0,
        setAutoRoundsCompleted: C = () => {},
        pendingDisableAutobets: w = !1,
        setPendingDisableAutobets: j = () => {},
        isLastRound: A = !1,
        setIsLastRound: _ = () => {},
        autobetsCumulativePnl: k = 0,
        setAutobetsCumulativePnl: D = () => {}
    }) => {
        var As, $s, Pl, Wr;
        const E = bt(),
            P = lk(),
            I = Se(Ge.selectCurrent),
            B = !!I,
            X = Se(Be => Be.game),
            O = Se(us.selectCurrent),
            L = (O == null ? void 0 : O.active) || !1,
            F = (O == null ? void 0 : O.allowPreRoundBuys) || !1,
            [Y, H] = m.useState(!1),
            [K, z] = m.useState(!1),
            [U, V] = m.useState(!1),
            W = L || ((O == null ? void 0 : O.tickCount) || 0) > 5 && ((O == null ? void 0 : O.price) || 0) > 1 && !((As = O == null ? void 0 : O.cooldown) != null && As.paused) && !(O != null && O.rugged),
            q = O != null && O.rugged ? !1 : W,
            Z = F,
            se = (O == null ? void 0 : O.price) || 1,
            G = (($s = O == null ? void 0 : O.cooldown) == null ? void 0 : $s.timeLeft) || 0,
            ie = [],
            ne = (I == null ? void 0 : I.cash) || 0,
            ee = (I == null ? void 0 : I.bonusBalance) || 0,
            me = (I == null ? void 0 : I.shitcoinBalances) || {},
            fe = ((Pl = I == null ? void 0 : I.levelInfo) == null ? void 0 : Pl.level) || 0,
            ge = (I == null ? void 0 : I.hasInteracted) || !1,
            ke = m.useMemo(() => {
                const Be = I;
                if (I && typeof Be.positionQty < "u") return {
                    positionQty: Be.positionQty || 0,
                    avgCost: Be.avgCost || 0,
                    totalInvested: Be.totalInvested || 0,
                    pnl: Be.cumulativePnL || 0,
                    pnlPercent: Be.pnlPercent || 0
                };
                if (I != null && I.id && (O != null && O.scoreboard)) {
                    const Qe = O.scoreboard.find(st => st.id === I.id);
                    if (Qe) return {
                        positionQty: Qe.positionQty || 0,
                        avgCost: Qe.avgCost || 0,
                        totalInvested: Qe.totalInvested || 0,
                        pnl: Qe.pnl || 0,
                        pnlPercent: Qe.pnlPercent || 0
                    }
                }
                return {
                    positionQty: 0,
                    avgCost: 0,
                    totalInvested: 0,
                    pnl: 0,
                    pnlPercent: 0
                }
            }, [I, O == null ? void 0 : O.scoreboard]),
            {
                positionQty: je,
                totalInvested: re,
                pnl: Ee,
                pnlPercent: Ae,
                avgCost: Pe
            } = ke,
            [be, qe] = m.useState(xa),
            [Re, le] = m.useState("0"),
            [Ce, _e] = m.useState("100"),
            [Ne, Fe] = m.useState(!1),
            [tt, dt] = m.useState(!1),
            [oe, xe] = m.useState(null),
            [Nt, J] = m.useState(!1),
            [ze, Ue] = m.useState(!1),
            Oe = m.useRef(0),
            zt = m.useRef(0),
            Xt = m.useRef(0),
            Ft = (I == null ? void 0 : I.originalPositionQty) || 0,
            hs = (I == null ? void 0 : I.soldPercentage) || 0,
            li = (I == null ? void 0 : I.pendingSellPercent) || 0,
            [fs, Rd] = m.useState(null),
            [Dl, Nl] = m.useState(!1),
            Qt = m.useMemo(() => !be || be.address === xa.address ? (ne || 0) + (ee || 0) : be != null && be.address && me[be.address] !== void 0 ? me[be.address] : 0, [be, ne, ee, me]),
            on = je * se,
            ln = (I == null ? void 0 : I.hitMaxWin) || !1,
            _t = m.useCallback(() => {
                var Be, Qe, st;
                return be != null && be.max_bet ? be.max_bet : !be || be.address === xa.address ? 5 : (Be = be.ticker) != null && Be.toLowerCase().includes("free") || (Qe = be.address) != null && Qe.toLowerCase().includes("free") ? 1e3 : ((st = X.constants) == null ? void 0 : st.MAX_BET_SOL) || 5
            }, [be, X.constants])(),
            ps = Math.max(0, _t - on),
            Ma = m.useCallback(() => {
                const Be = parseFloat(r ? h : Re) || 0,
                    ut = Math.min(ps, Qt);
                return Math.min(Be, ut)
            }, [r, h, Re, ps, Qt])(),
            zn = r ? se >= parseFloat(p) || on >= _t || ln || !q && !Z || parseFloat(h) <= 0 || parseFloat(h) > Qt || ps <= 0 || (be == null ? void 0 : be.address) && me[be == null ? void 0 : be.address] === void 0 && Qt <= 0 : on >= _t || ln || !q && !Z || parseFloat(Re) <= 0 || parseFloat(Re) > Qt || ps <= 0 || (be == null ? void 0 : be.address) && me[be == null ? void 0 : be.address] === void 0 && Qt <= 0,
            kt = m.useCallback(Be => {
                const Qe = Be;
                if (!/^(\d*\.?\d{0,3}|)$/.test(Qe)) return;
                const ut = parseFloat(Qe) || 0;
                Qe !== "" && ut > _t || (r ? f(Qe) : le(Qe), s(Qe))
            }, [r, s, _t]),
            Ot = m.useCallback(Be => {
                const Qe = Date.now();
                if (Qe - Oe.current < 50) return;
                Oe.current = Qe;
                const st = parseFloat(r ? h : Re) || 0;
                switch (Be) {
                    case "+0.001":
                        kt(Math.min(st + .001, _t).toFixed(3));
                        break;
                    case "+0.01":
                        kt(Math.min(st + .01, _t).toFixed(3));
                        break;
                    case "+0.1":
                        kt(Math.min(st + .1, _t).toFixed(3));
                        break;
                    case "+1":
                        {
                            const ut = Math.min(st + 1, _t);kt(ut === 1 ? "1" : ut.toFixed(3));
                            break
                        }
                    case "1/2":
                        {
                            const ut = st / 2;kt(ut === 0 ? "0" : ut.toFixed(3));
                            break
                        }
                    case "X2":
                        {
                            const ut = Math.min(st * 2, _t);kt(ut === 0 ? "0" : ut.toFixed(3));
                            break
                        }
                    case "MAX":
                        {
                            const ut = Math.min(Qt, ps),
                                gn = Math.floor(ut * 1e3) / 1e3;kt(gn === 0 ? "0" : gn.toFixed(3));
                            break
                        }
                    case "CLEAR":
                        kt("0");
                        break
                }
            }, [r, h, Re, kt, Qt, ps, _t]),
            ci = m.useMemo(() => !r && (on / _t >= .5 || ln || tt), [r, ln, _t, tt, on]),
            Br = m.useCallback(Be => {
                _e(Be), je > 0 && E(Me.setSellTracking({
                    originalPositionQty: je,
                    soldPercentage: 0,
                    pendingSellPercent: 0
                }))
            }, [je, E]),
            zr = m.useCallback(() => {
                const Be = Date.now();
                if (Be - zt.current < 50 || (zt.current = Be, !B)) return;
                if (r && w) {
                    Ir();
                    return
                }
                const Qe = Ma;
                if (Qe > 0 && !zn) {
                    H(!0), je <= 0 && q && Ue(!0), console.log("Buy clicked:", Qe);
                    const st = {
                        amount: Qe,
                        autoSell: d ? {
                            enabled: !0,
                            autobuyAmount: Number(h),
                            maxAutoRounds: Number(x),
                            autosellPrice: Number(p)
                        } : void 0
                    };
                    P.buyOrder(st, ut => {
                        console.log("Buy response:", ut), H(!1), Ue(!1), ut.success && (!be || be.address === xa.address) && document.dispatchEvent(new CustomEvent("player-buy-action", {
                            detail: {
                                amount: Ma,
                                timestamp: Date.now()
                            }
                        }))
                    })
                }
            }, [r, Ma, zn, w, d, h, x, p, B, je, q]);
        m.useEffect(() => {
            z(!0), P.setAutobets({
                autobuysEnabled: r,
                autosellPrice: d && !w ? parseFloat(p) : void 0
            }, () => {
                z(!1)
            })
        }, [r, d, p, Ce, w]);
        const Fr = m.useCallback(() => {
                const Be = Date.now();
                if (Be - Xt.current < 50 || (Xt.current = Be, !B)) return;
                const Qe = r ? 100 : parseInt(Ce);
                if (console.log("Sell clicked:", Qe + "%"), Qe >= 5 && Qe <= 100) {
                    const st = Math.min(100, hs + Qe);
                    if (st >= 100) {
                        E(Me.updateSellProgress({
                            pendingSellPercent: 100
                        })), H(!0), P.sellOrder(100, Kt => {
                            H(!1), Kt.success ? (E(Me.updateSellProgress({
                                soldPercentage: 100,
                                pendingSellPercent: 0
                            })), (!be || be.address === xa.address) && document.dispatchEvent(new CustomEvent("player-sell-action", {
                                detail: {
                                    percentage: 100,
                                    timestamp: Date.now()
                                }
                            }))) : E(Me.updateSellProgress({
                                pendingSellPercent: 0
                            }))
                        });
                        return
                    }
                    const ut = Ft * (st / 100),
                        gn = Ft - je,
                        Vi = ut - gn,
                        qi = Math.max(5, Math.min(100, Math.round(Vi / je * 100)));
                    E(Me.updateSellProgress({
                        pendingSellPercent: st
                    })), H(!0), P.sellOrder(qi, Kt => {
                        H(!1), Kt.success ? (E(Me.updateSellProgress({
                            soldPercentage: st,
                            pendingSellPercent: 0
                        })), (!be || be.address === xa.address) && document.dispatchEvent(new CustomEvent("player-sell-action", {
                            detail: {
                                percentage: qi,
                                timestamp: Date.now()
                            }
                        }))) : (Kt.error === "Rate limit exceeded. Please wait before performing this action again." && !Nt && (console.log(`Rate limit hit for sell, scheduling retry for next tick. Current tick: ${(O==null?void 0:O.tickCount)||0}`), xe({
                            percent: Qe,
                            isInstant: !1,
                            tickAttempted: (O == null ? void 0 : O.tickCount) || 0
                        })), E(Me.updateSellProgress({
                            pendingSellPercent: 0
                        })))
                    })
                }
            }, [E, Ce, hs, Ft, je, r]),
            Ba = m.useCallback(Be => {
                const Qe = Date.now();
                if (Qe - Xt.current < 50) return;
                Xt.current = Qe, console.log("Lightning instant sell clicked:", Be + "%");
                let st = Math.min(100, hs + Be);
                if (Be === 10) {
                    if (!B || je <= 0 || se <= 0 || re <= 0 || Ft <= 0) return;
                    const Kt = Math.max(0, Ft - je),
                        za = Math.max(0, re - Kt * (Pe || 0));
                    if (za <= 0) {
                        console.log("INIT: initial investment already recovered; nothing to sell.");
                        return
                    }
                    const Ur = Math.min(je, za / se);
                    if (Ur <= 0) {
                        console.log("INIT: computed qtyToSellNow <= 0; nothing to sell.");
                        return
                    }
                    const Fa = Math.min(100, Math.max(0, Math.round(Ur / je * 100)));
                    if (Fa <= 0) return;
                    const En = Kt + Ur;
                    if (st = Math.min(100, Math.round(En / Ft * 100)), st >= 100 || Fa >= 100) {
                        E(Me.updateSellProgress({
                            pendingSellPercent: 100
                        })), H(!0), P.sellOrder(100, Xi => {
                            H(!1), Xi.success ? E(Me.updateSellProgress({
                                soldPercentage: 100,
                                pendingSellPercent: 0
                            })) : E(Me.updateSellProgress({
                                pendingSellPercent: 0
                            }))
                        });
                        return
                    }
                    E(Me.updateSellProgress({
                        pendingSellPercent: st
                    })), H(!0), P.sellOrder(Fa, Xi => {
                        H(!1), Xi.success ? E(Me.updateSellProgress({
                            soldPercentage: st,
                            pendingSellPercent: 0
                        })) : (Xi.error === "Rate limit exceeded. Please wait before performing this action again." && !Nt && (console.log(`Rate limit hit for instant sell, scheduling retry for next tick. Current tick: ${(O==null?void 0:O.tickCount)||0}`), xe({
                            percent: Be,
                            isInstant: !0,
                            tickAttempted: (O == null ? void 0 : O.tickCount) || 0
                        })), E(Me.updateSellProgress({
                            pendingSellPercent: 0
                        })))
                    });
                    return
                }
                if (st >= 100) {
                    E(Me.updateSellProgress({
                        pendingSellPercent: 100
                    })), H(!0), P.sellOrder(100, Kt => {
                        H(!1), Kt.success ? E(Me.updateSellProgress({
                            soldPercentage: 100,
                            pendingSellPercent: 0
                        })) : E(Me.updateSellProgress({
                            pendingSellPercent: 0
                        }))
                    });
                    return
                }
                const ut = Ft * (st / 100),
                    gn = Ft - je,
                    Vi = ut - gn,
                    qi = Math.max(5, Math.min(100, Math.round(Vi / je * 100)));
                E(Me.updateSellProgress({
                    pendingSellPercent: st
                })), H(!0), P.sellOrder(qi, Kt => {
                    H(!1), Kt.success ? E(Me.updateSellProgress({
                        soldPercentage: st,
                        pendingSellPercent: 0
                    })) : (Kt.error === "Rate limit exceeded. Please wait before performing this action again." && !Nt && (console.log(`Rate limit hit for instant sell, scheduling retry for next tick. Current tick: ${(O==null?void 0:O.tickCount)||0}`), xe({
                        percent: Be,
                        isInstant: !0,
                        tickAttempted: (O == null ? void 0 : O.tickCount) || 0
                    })), E(Me.updateSellProgress({
                        pendingSellPercent: 0
                    })))
                })
            }, [E, hs, re, on, Ft, je, B, Pe, se, Nt, O == null ? void 0 : O.tickCount]),
            di = () => {
                const Be = !r;
                l(Be), u(Be), Be ? (C(0), j(!0), _(!1), D(0), (p === "0" || p === "") && y("2.0")) : (C(0), j(!1), _(!1), D(0)), s(Be ? h : Re)
            },
            Ir = () => {
                if (C(0), j(!1), _(!1), D(0), Z && !q) {
                    const Be = parseFloat(h);
                    Be > 0 && Be <= Qt && (console.log(`🤖 Manual start - executing first auto buy: ${Be} ${(be==null?void 0:be.ticker)||"SOL"}`), zr())
                }
            },
            ui = m.useCallback(Be => {
                H(!0);
                const Qe = setTimeout(() => {
                    H(!1), E(Bt.addToast({
                        type: "error",
                        message: "Currency change timed out. Please try again."
                    }))
                }, 3e3);
                P.selectCoin(Be, st => {
                    if (clearTimeout(Qe), H(!1), st.success) qe(Be), a(Be);
                    else {
                        const ut = st.error || "Cannot change currency during active round";
                        E(Bt.addToast({
                            type: "error",
                            message: ut
                        }))
                    }
                })
            }, [P, a]),
            Us = !q || je <= 0 && !ze || parseInt(Ce) < 5 || parseInt(Ce) > 100,
            Yi = (be == null ? void 0 : be.address) === "0xPractice" && Qt <= 2 || (fs == null ? void 0 : fs.preparing) && (be == null ? void 0 : be.address) === ((Wr = fs == null ? void 0 : fs.config) == null ? void 0 : Wr.token) || fe < 1 && !Dl;
        m.useEffect(() => {
            (je > Ft || je > 0 && Ft === 0) && E(Me.setSellTracking({
                originalPositionQty: je,
                soldPercentage: 0,
                pendingSellPercent: 0
            })), je === 0 && Ft > 0 && E(Me.resetSellTracking())
        }, [je, Ft, E]), m.useEffect(() => {
            q || E(Me.resetSellTracking())
        }, [q, E]), m.useEffect(() => {
            ze && je > 0 && Ue(!1)
        }, [je, ze]);
        const Hs = (I == null ? void 0 : I.role) === "admin";
        m.useEffect(() => {
            const Qe = (I == null ? void 0 : I.selectedCoin) || xa;
            qe(Qe), a(Qe)
        }, [I == null ? void 0 : I.selectedCoin, a]), m.useEffect(() => {
            if (r && !w && Z && !q) {
                const Be = parseInt(x);
                if (Be > 0 && v >= Be) {
                    console.log(`🚫 Auto buy blocked: already completed ${v}/${Be} rounds`);
                    return
                }
                const Qe = parseFloat(h);
                Qe > 0 && Qe <= Qt && (console.log(`🤖 Auto buy executing: ${Qe} ${(be==null?void 0:be.ticker)||"SOL"} (round ${v+1}/${Be})`), zr(), C(st => {
                    const ut = st + 1;
                    return console.log(`Auto rounds completed: ${ut}/${x}`), ut
                }))
            }
        }, [Z, q, r, w]);
        const Ht = m.useRef(q);
        m.useEffect(() => {
            const Be = parseInt(x);
            r && !w && Be > 0 && v >= Be && (console.log(`🏁 Max rounds completed: ${v}/${Be}, waiting for final round to end`), _(!0))
        }, [v, x, r, w]), m.useEffect(() => {
            const Be = Ht.current;
            Ht.current = q, A && Be && !q && (console.log("🏁 Final round ended (active -> inactive), switching to START state"), j(!0), _(!1))
        }, [q, A]), m.useEffect(() => {
            r || (C(0), _(!1))
        }, [r]), m.useEffect(() => {
            q && (on / _t >= .5 || ln) && dt(!0), q || dt(!1)
        }, [q, on, _t, ln]);
        const Or = m.useRef(q),
            _l = m.useRef(Ee);
        return m.useEffect(() => {
            const Be = Or.current;
            if (Or.current = q, console.log(`🔍 PnL Tracking Debug: active=${q}, wasActive=${Be}, autobuysEnabled=${r}, pendingDisableAutobets=${w}, autoRoundsCompleted=${v}, pnl=${Ee}`), r && Be && !q) {
                const Qe = Ee;
                D(st => {
                    const ut = st + Qe;
                    return console.log(`💰 Round completed with PnL: ${Qe.toFixed(3)} SOL (Total cumulative: ${ut.toFixed(3)} SOL)`), ut
                })
            }
            _l.current = Ee
        }, [q, r, w, Ee]), m.useEffect(() => {
            console.log(`🎯 PnL Chip Debug: autobetsCumulativePnl=${k}`)
        }, [k]), m.useEffect(() => {
            if (oe && (O != null && O.tickCount) && O.tickCount > oe.tickAttempted) {
                console.log(`Tick changed (${oe.tickAttempted} -> ${O.tickCount}), retrying sell...`);
                const Be = oe;
                xe(null), J(!0), Be.isInstant ? Ba(Be.percent) : Fr(), setTimeout(() => J(!1), 250)
            }
        }, [O == null ? void 0 : O.tickCount, oe, Ba, Fr]), t.jsxs(t.Fragment, {
            children: [Yi && t.jsx(fk, {
                selectedCoin: be,
                currentBalance: Qt,
                level: fe
            }), t.jsx("div", {
                className: `trade-controls-container ${e?"chat-open":""} ${B?"":"unauthenticated"}`,
                children: t.jsxs("div", {
                    className: "trade-controls-main",
                    children: [t.jsxs("div", {
                        className: "mobile-controls-top-row",
                        children: [t.jsxs("div", {
                            className: "mobile-auto-buttons",
                            children: [t.jsx("button", {
                                onClick: di,
                                className: `auto-toggle-btn ${r?"active":""}`,
                                children: t.jsx("span", {
                                    className: "auto-icon",
                                    children: "🤖"
                                })
                            }), t.jsx("button", {
                                onClick: () => Fe(!Ne),
                                className: `auto-toggle-btn ${Ne?"active lightning-active":""}`,
                                children: t.jsx("span", {
                                    className: "auto-icon",
                                    children: "⚡️"
                                })
                            })]
                        }), t.jsx("div", {
                            className: "mobile-buy-controls",
                            children: [{
                                text: "+0.001",
                                action: () => Ot("+0.001")
                            }, {
                                text: "+0.01",
                                action: () => Ot("+0.01")
                            }, {
                                text: "+0.1",
                                action: () => Ot("+0.1")
                            }, {
                                text: "+1",
                                action: () => Ot("+1")
                            }, {
                                text: "1/2",
                                action: () => Ot("1/2")
                            }, {
                                text: "X2",
                                action: () => Ot("X2")
                            }, ...r ? [] : [{
                                text: "MAX",
                                action: () => Ot("MAX"),
                                uppercase: !0
                            }]].map((Be, Qe) => t.jsx("button", {
                                onClick: Be.action,
                                className: `control-btn ${Be.uppercase?"uppercase":""}`,
                                children: Be.text
                            }, Qe))
                        })]
                    }), t.jsxs("div", {
                        className: "controls-row",
                        children: [t.jsx(uk, {
                            amount: r ? h : Re,
                            onAmountChange: kt,
                            disabled: !!zn,
                            autobuysEnabled: r,
                            pendingDisableAutobets: w,
                            currentBalance: Qt,
                            maxBet: _t,
                            positionValue: on,
                            remainingBet: ps,
                            selectedCoin: be,
                            availableCoins: ie,
                            selectCoin: ui,
                            hitMaxWin: ln,
                            cash: ne,
                            bonusBalance: ee,
                            shitcoinBalances: me,
                            active: q,
                            hasInteracted: ge,
                            loading: Y
                        }), t.jsx(hk, {
                            percent: Ce,
                            onPercentChange: Br,
                            disabled: Us,
                            autobuysEnabled: r,
                            autosellPrice: p,
                            onAutosellPriceChange: y,
                            positionQty: je,
                            positionValue: on,
                            pnl: Ee,
                            pnlPercent: Ae,
                            originalPositionQty: Ft,
                            soldPercentage: hs,
                            pendingSellPercent: li,
                            onToggleAutobets: di,
                            loading: Y,
                            lightningEnabled: Ne,
                            onLightningToggle: () => Fe(!Ne),
                            onInstantSell: Ba
                        })]
                    }), t.jsxs("div", {
                        className: `buttons-row ${r?"autobets-enabled":""}`,
                        children: [ci && t.jsx("div", {
                            className: `
                  max-bet-warning-inline
                  ${on>=_t||ln?"max-reached":""}
                  ${ln?"max-win-hit":""}
                `,
                            children: ln ? "MAX WIN HIT!" : `Position: ${on.toFixed(3)}/${_t.toFixed(0)} ${(be==null?void 0:be.ticker)||"SOL"}`
                        }), r && (on / _t >= .5 || ln || tt) && t.jsx("div", {
                            className: `max-bet-warning-inline mobile-only ${on>=_t||ln?"max-reached":""} ${ln?"max-win-hit":""}`,
                            children: ln ? "MAX WIN HIT!" : `Position: ${on.toFixed(3)}/${_t.toFixed(0)} ${(be==null?void 0:be.ticker)||"SOL"}`
                        }), t.jsx("div", {
                            className: "button-section buy-button-section",
                            children: t.jsx(md, {
                                onClick: zr,
                                disabled: !!zn,
                                buttonVariant: "buy",
                                buttonSize: "normal",
                                autoMode: r,
                                buyAmount: Ma.toFixed(3),
                                selectedCoinTicker: (be == null ? void 0 : be.ticker) || "SOL",
                                equalWidth: !0,
                                desktopWidthPercent: 100,
                                style: r && w ? {
                                    background: "linear-gradient(135deg, #9d4edd 0%, #6a1b9a 100%)"
                                } : void 0,
                                children: r ? w ? "START" : "AUTOBUY" : "BUY"
                            })
                        }), t.jsx("div", {
                            className: "button-section sell-button-section",
                            children: t.jsx(md, {
                                onClick: Fr,
                                disabled: Us,
                                buttonVariant: "sell",
                                buttonSize: "normal",
                                autoMode: r,
                                sellPercent: Ce,
                                positionQty: je,
                                originalPositionQty: Ft,
                                soldPercentage: hs,
                                pendingSellPercent: li,
                                lightningEnabled: Ne,
                                equalWidth: !0,
                                desktopWidthPercent: 100,
                                children: r ? "AUTOSELL" : "SELL"
                            })
                        })]
                    }), t.jsx("div", {
                        className: "scroll-icon-row",
                        children: t.jsx("img", {
                            src: "icons/scroll-down-icon.png",
                            alt: "Scroll down",
                            className: "scroll-down-icon"
                        })
                    })]
                })
            }), Hs && U && t.jsx(ck, {
                active: q,
                cooldownTimer: G,
                tournamentState: fs ? {
                    active: !!fs.active,
                    preparing: !!fs.preparing
                } : void 0
            }), Hs && t.jsx("div", {
                className: "admin-toggle-floating-button",
                children: t.jsx("button", {
                    onClick: () => V(!U),
                    className: `admin-toggle-btn ${U?"active":""}`,
                    title: U ? "Hide Admin Panel" : "Show Admin Panel",
                    children: "🛠️"
                })
            })]
        })
    },
    Xc = 1e3,
    Jh = 1e3;

function gk(e) {
    const [s, a] = m.useState([]), [r, l] = m.useState([]), [d, u] = m.useState([]), [h, f] = m.useState([]), [p, y] = m.useState(!1), x = m.useRef([]), S = m.useRef(null);
    m.useEffect(() => {
        const C = () => {
            y(window.innerWidth <= 768)
        };
        return C(), window.addEventListener("resize", C), () => window.removeEventListener("resize", C)
    }, []);
    const v = () => {
        if (p && S.current) {
            const C = S.current;
            setTimeout(() => {
                C.scrollLeft = 0
            }, 50)
        }
    };
    return m.useLayoutEffect(() => {
        if (!e || e.length === 0) {
            a([]);
            return
        }
        const C = [...e].reverse();
        if (x.current.length > 0) {
            const w = C.filter(j => !x.current.includes(j));
            if (w.length > 0) {
                const j = [...x.current],
                    A = j.filter(_ => !C.includes(_));
                A.length > 0 ? (setTimeout(() => {
                    a([...j, ...w]), l(w), u(A), f(j.filter(_ => !A.includes(_)))
                }, Xc), setTimeout(() => {
                    a(C), l([]), u([]), f([])
                }, Xc + Jh)) : (setTimeout(() => {
                    a(C), l(w)
                }, Xc), setTimeout(() => {
                    l([])
                }, Xc + Jh + 100)), v()
            } else a(C)
        } else a(C), v();
        x.current = C
    }, [e, p]), {
        displayCards: p ? [...s].reverse() : s,
        newGames: r,
        removingGames: d,
        slidingGames: h,
        thumbnailsContainerRef: S,
        animationDuration: Jh
    }
}

function mk() {
    const e = Se(W => W.game.history),
        s = _a(),
        a = Se(W => W.battles),
        r = Se(yt.selectPlayerBattleState),
        l = Se(yt.selectJustLeftLobby),
        d = Se(yt.selectBattleFinished),
        {
            displayCards: u,
            newGames: h,
            removingGames: f,
            slidingGames: p,
            thumbnailsContainerRef: y,
            animationDuration: x
        } = gk(e),
        [S, v] = m.useState("0"),
        [C, w] = m.useState(null),
        [j, A] = m.useState(!1),
        [_, k] = m.useState(!1),
        [D, E] = m.useState("0"),
        [P, I] = m.useState("2.0"),
        [B, X] = m.useState("10"),
        [O, L] = m.useState(0),
        [F, Y] = m.useState(!1),
        [H, K] = m.useState(!1),
        [z, U] = m.useState(0),
        V = (C == null ? void 0 : C.address) === "0xPractice" ? "FREE" : (C == null ? void 0 : C.ticker) || "SOL";
    return m.useEffect(() => {
        const W = a.currentlyParticipatingId,
            q = r != null && r.id && !(r != null && r.isSpectating) ? r.id : null,
            Z = r != null && r.id && (r != null && r.isSpectating) ? r.id : null,
            se = W || q || Z;
        if (console.log("[STANDARD PAGE] Navigation check:", {
                participatingId: W,
                activeBattleId: q,
                spectatingBattleId: Z,
                targetGameId: se,
                justLeftLobby: l,
                isCreatingLobby: a.isCreatingLobby,
                isJoiningLobby: a.isJoiningLobby,
                battleFinished: d
            }), se && !l && !a.isCreatingLobby && !a.isJoiningLobby && !d) {
            console.log("[STANDARD PAGE] Navigating to battle:", se), s(`/battle/${se}`);
            return
        }
    }, [a.currentlyParticipatingId, r == null ? void 0 : r.id, r == null ? void 0 : r.isSpectating, l, a.isCreatingLobby, a.isJoiningLobby, d, s]), t.jsxs("div", {
        className: "standard-page-container",
        style: {
            display: "flex",
            flexDirection: "column",
            height: "calc(100vh - 80px)",
            width: "100%",
            padding: "20px",
            backgroundColor: "var(--color-background)",
            position: "relative",
            maxWidth: "100vw",
            boxSizing: "border-box",
            overflowY: "auto"
        },
        children: [t.jsxs("div", {
            className: "game-history-container",
            style: {
                flexShrink: 0,
                paddingTop: "8px",
                marginBottom: "8px"
            },
            children: [t.jsx("div", {
                className: "game-stats-section",
                children: t.jsx(V4, {})
            }), t.jsx("div", {
                className: "gradient-overlay-left"
            }), t.jsx("div", {
                className: "gradient-overlay-edge"
            }), t.jsx("div", {
                ref: y,
                className: "thumbnails-section",
                children: u.map((W, q) => t.jsx(ek, {
                    id: W,
                    isNew: h.includes(W),
                    isRemoving: f.includes(W),
                    isRepositioning: p.includes(W),
                    animationDuration: x
                }, W))
            })]
        }), t.jsxs("div", {
            className: "standard-page-chart-container",
            style: {
                position: "relative",
                width: "100%",
                flex: 1,
                minHeight: 0,
                marginBottom: "8px",
                zIndex: 1
            },
            children: [t.jsx(K4, {
                style: {
                    width: "100%",
                    height: "100%"
                }
            }), t.jsx(X4, {}), t.jsx(q4, {}), t.jsx(ok, {
                betAmount: parseFloat(S),
                currency: V,
                onBetClick: W => {
                    console.log(`SideBet placed: ${W} ${V}`)
                },
                visible: !0
            }), t.jsx(tk, {})]
        }), t.jsx("div", {
            style: {
                flexShrink: 0
            },
            children: t.jsx(pk, {
                onBuyAmountChange: v,
                onSelectedCoinChange: w,
                autobuysEnabled: j,
                setAutobuysEnabled: A,
                autosellEnabled: _,
                setAutosellEnabled: k,
                autobuyAmount: D,
                setAutobuyAmount: E,
                autosellPrice: P,
                setAutosellPrice: I,
                maxAutoRounds: B,
                setMaxAutoRounds: X,
                autoRoundsCompleted: O,
                setAutoRoundsCompleted: L,
                pendingDisableAutobets: F,
                setPendingDisableAutobets: Y,
                isLastRound: H,
                setIsLastRound: K,
                autobetsCumulativePnl: z,
                setAutobetsCumulativePnl: U
            })
        }), t.jsx("div", {
            className: "standard-page-leaderboard",
            style: {
                position: "absolute",
                top: "100%",
                left: "20px",
                right: "20px",
                paddingTop: "20px"
            },
            children: t.jsx(wy, {})
        }), j && t.jsxs("div", {
            className: "autobets-rounds-section-fixed",
            children: [t.jsx("div", {
                className: "auto-enabled-group",
                children: t.jsx("span", {
                    className: "auto-enabled-label",
                    children: j && F ? O >= parseInt(B) ? "☑️ AUTO COMPLETED" : "AUTO READY TO START" : "AUTOBETS ENABLED"
                })
            }), t.jsxs("div", {
                className: "rounds-group",
                children: [t.jsxs("div", {
                    className: "count-input-group",
                    children: [t.jsx("span", {
                        className: "rounds-count",
                        children: O
                    }), t.jsx("span", {
                        className: "rounds-separator",
                        children: "/"
                    }), t.jsx("div", {
                        className: "rounds-input-container",
                        children: t.jsx(Ad, {
                            value: B,
                            onChange: W => {
                                /^\d{0,3}$/.test(W.target.value) && X(W.target.value)
                            },
                            onBlur: () => {
                                let W = parseInt(B);
                                (isNaN(W) || W < 1) && (W = 1, X("1"))
                            },
                            className: "rounds-input",
                            placeholder: "10",
                            style: {
                                textAlign: "center"
                            }
                        })
                    })]
                }), t.jsx("span", {
                    className: "rounds-label",
                    children: "rounds"
                })]
            }), z !== 0 && t.jsx("div", {
                className: "pnl-group",
                children: t.jsxs("div", {
                    className: `pnl-chip ${z>=0?"":"negative"}`,
                    children: [z >= 0 ? "+" : "", z.toFixed(3), " ", V]
                })
            })]
        })]
    })
}
const xk = `
  @media (max-width: 768px) {
    .standard-page-container {
      height: calc(100vh - 60px) !important;
    }
  }

  @media (max-width: 480px) {
    .standard-page-container {
      height: calc(100vh - 56px) !important;
    }
  }

  @media (max-height: 660px) {
    .standard-page-container {
      height: auto !important;
      overflow-y: auto !important;
    }

    .standard-page-chart-container {
      flex: none !important;
      height: auto !important;
    }

    .standard-page-leaderboard {
      position: static !important;
      top: auto !important;
      left: auto !important;
      right: auto !important;
      padding: 20px 0 0 0 !important;
    }
  }

  /* Fixed autobets rounds section styles */
  .autobets-rounds-section-fixed {
    position: absolute;
    bottom: 20px;
    left: 20px;
    right: 20px;
    transform: none;
    z-index: 1000;
    display: flex;
    align-items: center;
    justify-content: center;
    padding: 8px 12px;
    background: rgba(157, 78, 221, 0.1);
    border: 1px solid rgba(157, 78, 221, 0.3);
    border-radius: 8px;
    width: fit-content;
    gap: 16px;
    backdrop-filter: blur(10px);
    box-shadow: 0 4px 20px rgba(0, 0, 0, 0.3);
    margin: 0 auto;
    flex-wrap: nowrap;
    white-space: nowrap;
    overflow: hidden;
  }

  .autobets-rounds-section-fixed .auto-enabled-group {
    display: flex;
    align-items: center;
  }

  .autobets-rounds-section-fixed .auto-enabled-label {
    font-size: 12px;
    color: #b794f6;
    font-weight: 500;
    text-transform: uppercase;
    letter-spacing: 0.5px;
    flex-shrink: 0;
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
  }

  .autobets-rounds-section-fixed .rounds-group {
    display: flex;
    align-items: center;
    gap: 8px;
    flex-shrink: 0;
    white-space: nowrap;
  }

  .autobets-rounds-section-fixed .count-input-group {
    display: flex;
    align-items: center;
    gap: 4px;
  }

  .autobets-rounds-section-fixed .rounds-count {
    font-size: 14px;
    color: #e2e8f0;
    font-weight: 600;
    min-width: 20px;
    text-align: center;
  }

  .autobets-rounds-section-fixed .rounds-separator {
    font-size: 14px;
    color: #b794f6;
    font-weight: 500;
  }

  .autobets-rounds-section-fixed .rounds-input-container {
    display: flex;
    align-items: center;
  }

  .autobets-rounds-section-fixed .rounds-input {
    width: 50px;
    background: rgba(157, 78, 221, 0.2);
    border: 1px solid rgba(157, 78, 221, 0.4);
    color: #e2e8f0;
    text-align: center;
    font-size: 14px;
    padding: 2px 6px;
    border-radius: 4px;
  }

  .autobets-rounds-section-fixed .rounds-input:focus {
    outline: none;
    border-color: #9d4edd;
    box-shadow: 0 0 0 2px rgba(157, 78, 221, 0.2);
  }

  .autobets-rounds-section-fixed .rounds-label {
    font-size: 12px;
    color: #b794f6;
    font-weight: 500;
    white-space: nowrap;
    flex-shrink: 0;
  }

  .autobets-rounds-section-fixed .pnl-group {
    display: flex;
    align-items: center;
    flex-shrink: 0;
    white-space: nowrap;
  }

  .autobets-rounds-section-fixed .pnl-chip {
    background-color: rgba(34, 197, 94, 0.05);
    border: 1px solid #166534;
    color: #22C55E;
    padding: 4px 8px;
    border-radius: 40px;
    font-size: 12px;
    font-weight: 500;
    white-space: nowrap;
    flex-shrink: 0;
  }

  .autobets-rounds-section-fixed .pnl-chip.negative {
    background-color: rgba(239, 68, 68, 0.05);
    border: 1px solid #991b1b;
    color: #ef4444;
  }

  /* Mobile responsive adjustments for fixed autobets section */
  @media (max-width: 768px) {
    .autobets-rounds-section-fixed {
      bottom: 16px;
      padding: 6px 8px;
      gap: 8px;
      left: 12px;
      right: 12px;
      transform: none;
    }

    .autobets-rounds-section-fixed .auto-enabled-label {
      font-size: 12px;
      letter-spacing: 0.3px;
    }

    .autobets-rounds-section-fixed .rounds-input {
      width: 35px;
      font-size: 12px;
    }

    .autobets-rounds-section-fixed .rounds-count {
      font-size: 12px;
    }

    .autobets-rounds-section-fixed .rounds-label {
      font-size: 10px;
    }

    .autobets-rounds-section-fixed .pnl-chip {
      font-size: 10px;
      padding: 3px 6px;
    }
  }

  @media (max-width: 480px) {
    .autobets-rounds-section-fixed {
      bottom: 12px;
      padding: 4px 6px;
      gap: 6px;
      left: 8px;
      right: 8px;
    }

    .autobets-rounds-section-fixed .auto-enabled-label {
      font-size: 12px;
      letter-spacing: 0.2px;
    }

    .autobets-rounds-section-fixed .rounds-input {
      width: 30px;
      font-size: 10px;
    }

    .autobets-rounds-section-fixed .rounds-count {
      font-size: 10px;
    }

    .autobets-rounds-section-fixed .rounds-label {
      font-size: 10px;
    }

    .autobets-rounds-section-fixed .pnl-chip {
      font-size: 10px;
      padding: 2px 5px;
    }
  }
`;
if (typeof document < "u") {
    const e = document.createElement("style");
    e.textContent = xk, document.head.appendChild(e)
}
const yk = uv({
        palette: {
            mode: "dark",
            basic: {
                main: de.colorMuted,
                contrastText: de.colorMutedForeground
            },
            deposit: {
                main: de.colorSuccess,
                contrastText: de.colorCardForeground
            },
            primary: {
                main: de.colorPrimary,
                dark: de.colorPrimaryActive,
                light: de.colorPrimaryHover,
                contrastText: de.colorPrimaryForeground
            },
            secondary: {
                main: de.colorSecondary,
                dark: de.colorSecondaryActive,
                light: de.colorSecondaryHover,
                contrastText: de.colorSecondaryForeground
            },
            error: {
                main: de.colorDestructive,
                contrastText: de.colorDestructiveForeground
            },
            warning: {
                main: de.colorWarning,
                contrastText: de.colorWarningForeground
            },
            success: {
                main: de.colorSuccess,
                contrastText: de.colorSuccessForeground
            },
            background: {
                default: de.colorBackground,
                paper: de.colorCard
            },
            text: {
                primary: de.colorForeground,
                secondary: de.colorMutedForeground
            },
            divider: de.colorBorder,
            action: {
                hover: de.colorMuted,
                selected: de.colorAccent + "20"
            }
        },
        typography: {
            fontFamily: "'DynaPuff', sans-serif",
            h1: {
                fontFamily: "'DynaPuff', sans-serif",
                fontWeight: 700
            },
            h2: {
                fontFamily: "'DynaPuff', sans-serif",
                fontWeight: 600
            },
            h3: {
                fontFamily: "'DynaPuff', sans-serif",
                fontWeight: 600
            },
            h4: {
                fontFamily: "'DynaPuff', sans-serif",
                fontWeight: 500
            },
            h5: {
                fontFamily: "'DynaPuff', sans-serif",
                fontWeight: 500
            },
            h6: {
                fontFamily: "'DynaPuff', sans-serif",
                fontWeight: 500
            },
            subtitle1: {
                fontFamily: "'DynaPuff', sans-serif",
                fontWeight: 500
            },
            subtitle2: {
                fontFamily: "'DynaPuff', sans-serif",
                fontWeight: 400
            },
            body1: {
                fontFamily: "'DynaPuff', sans-serif",
                fontWeight: 400
            },
            body2: {
                fontFamily: "'DynaPuff', sans-serif",
                fontWeight: 400
            },
            button: {
                fontFamily: "'DynaPuff', sans-serif",
                fontWeight: 500,
                textTransform: "none"
            },
            caption: {
                fontFamily: "'DynaPuff', sans-serif",
                fontWeight: 400
            },
            overline: {
                fontFamily: "'DynaPuff', sans-serif",
                fontWeight: 500
            }
        },
        shape: {
            borderRadius: 8
        },
        components: {
            MuiButton: {
                styleOverrides: {
                    root: {
                        fontWeight: 500
                    }
                }
            },
            MuiPaper: {
                styleOverrides: {
                    root: {
                        backgroundColor: de.colorCard,
                        borderRadius: 8
                    }
                }
            },
            MuiCard: {
                styleOverrides: {
                    root: {
                        backgroundColor: de.colorCard,
                        borderRadius: 8,
                        border: `1px solid ${de.colorBorder}`
                    }
                }
            },
            MuiDialog: {
                styleOverrides: {
                    paper: {
                        backgroundColor: de.colorPopover,
                        borderRadius: 12
                    }
                }
            },
            MuiTextField: {
                styleOverrides: {
                    root: {
                        "& .MuiOutlinedInput-root": {
                            backgroundColor: de.colorInput,
                            borderRadius: 8,
                            "& fieldset": {
                                borderColor: de.colorBorder
                            },
                            "&:hover fieldset": {
                                borderColor: de.colorPrimaryHover
                            },
                            "&.Mui-focused fieldset": {
                                borderColor: de.colorPrimary
                            }
                        }
                    }
                }
            },
            MuiMenu: {
                styleOverrides: {
                    paper: {
                        backgroundColor: de.colorPopover,
                        border: `1px solid ${de.colorBorder}`
                    }
                }
            },
            MuiMenuItem: {
                styleOverrides: {
                    root: {
                        "&:hover": {
                            backgroundColor: de.colorMuted
                        }
                    }
                }
            },
            MuiTabs: {
                styleOverrides: {
                    indicator: {
                        backgroundColor: de.colorPrimary
                    }
                }
            },
            MuiTab: {
                styleOverrides: {
                    root: {
                        "&.Mui-selected": {
                            color: de.colorPrimary
                        }
                    }
                }
            }
        },
        custom: {
            candlestick: {
                up: de.colorCandlestickUp,
                down: de.colorCandlestickDown
            }
        }
    }),
    bk = ({
        children: e
    }) => t.jsxs(hv, {
        theme: yk,
        children: [t.jsx(fv, {}), e]
    });

function vk() {
    return t.jsx(bk, {
        children: t.jsx(Nw, {
            children: t.jsx(Sk, {})
        })
    })
}

function Sk() {
    var L, F;
    const [e, s] = m.useState(window.innerWidth <= 768), [a, r] = m.useState(window.innerWidth <= 768), [l, d] = m.useState(0), [u, h] = m.useState("auto"), [f, p] = m.useState(window.innerHeight), [y, x] = m.useState(window.innerWidth);
    m.useEffect(() => {
        const Y = new URLSearchParams(window.location.search),
            H = Y.get("start"),
            K = Y.get("ref");
        if (H) {
            localStorage.setItem("pendingReferralCode", H);
            const z = new URL(window.location.href);
            z.searchParams.delete("start"), window.history.replaceState({}, "", z.toString())
        } else if (K) {
            localStorage.setItem("pendingReferralCode", K);
            const z = new URL(window.location.href);
            z.searchParams.delete("ref"), window.history.replaceState({}, "", z.toString())
        }
    }, []);
    const S = Se(Y => Y.chat.latestMessage),
        v = Se(Y => Y.chat.messagePreviewTrigger),
        [C, w] = m.useState(!1),
        j = m.useRef(null),
        A = Se(Y => Y.profiles.entities),
        _ = Se(Ge.selectCosmeticsData),
        k = (L = Se(Ge.selectCurrent)) == null ? void 0 : L.id,
        D = Se(uf.selectMaintenanceMode),
        E = D.active && D.mega,
        P = ((F = Se(Ge.selectCurrent)) == null ? void 0 : F.role) === "admin",
        I = Y => {
            if (!(Y != null && Y.playerId)) return "Anon";
            const H = A[Y.playerId];
            return (H == null ? void 0 : H.username) || "Anon"
        },
        B = Y => {
            if (!(Y != null && Y.message)) return "";
            const H = Y.playerId === k && (_ != null && _.unlockedEmojis) ? _.unlockedEmojis.map(z => z.id) : [];
            return hf(Y.message, H).map((z, U) => z.type === "text" ? t.jsx("span", {
                children: z.content
            }, U) : z.type === "emoji" && z.emojiInfo ? t.jsx("img", {
                src: `/emojis/${z.emojiInfo.file}`,
                alt: `:${z.emojiInfo.id}:`,
                style: {
                    height: "2em",
                    verticalAlign: "middle",
                    margin: "0 0.05em",
                    display: "inline-block"
                }
            }, U) : null)
        };
    m.useEffect(() => {
        S && v > 0 && e && f >= 660 && (j.current && clearTimeout(j.current), w(!0), j.current = setTimeout(() => {
            w(!1), j.current = null
        }, 2e3))
    }, [S, v, f]), m.useEffect(() => () => {
        j.current && clearTimeout(j.current)
    }, []), m.useEffect(() => {
        const Y = () => {
            const H = window.innerWidth <= 768;
            r(H), p(window.innerHeight), x(window.innerWidth)
        };
        return window.addEventListener("resize", Y), () => window.removeEventListener("resize", Y)
    }, []), m.useEffect(() => {
        if (a)
            if (!e) h(20);
            else {
                const Y = setTimeout(() => {
                    h("auto")
                }, 250);
                return () => clearTimeout(Y)
            }
        else h("auto")
    }, [a, e]);
    const X = m.useCallback(() => {
            s(!e), e && d(0)
        }, [e]),
        O = m.useCallback(() => y <= 480 ? 56 : y <= 768 ? 60 : 80, [y]);
    return t.jsx(Av, {
        children: t.jsxs(K5, {
            sx: {
                paddingTop: D.active ? "50px" : "0",
                transition: "padding-top 0.3s ease-in-out",
                "--sidebar-width": e ? "0px" : "320px"
            },
            children: [a && !e && t.jsx("div", {
                onClick: X,
                style: {
                    position: "fixed",
                    top: `${O()}px`,
                    left: 0,
                    right: 0,
                    bottom: 0,
                    backgroundColor: "rgba(0, 0, 0, 0.5)",
                    backdropFilter: "blur(2px)",
                    WebkitBackdropFilter: "blur(2px)",
                    zIndex: 15,
                    opacity: 1,
                    transition: "opacity 0.25s cubic-bezier(0.4, 0, 0.2, 1), top 0.25s cubic-bezier(0.4, 0, 0.2, 1)",
                    pointerEvents: "auto"
                },
                "aria-label": "Close chat"
            }), t.jsx($5, {}), t.jsx(Tw, {
                isActive: D.active,
                message: D.message
            }), t.jsx(Z5, {
                sidebarCollapsed: e
            }), t.jsxs(bf, {
                classes: "layout-horizontal",
                children: [t.jsx("div", {
                    className: "sidebar-container",
                    style: {
                        position: "relative",
                        width: e ? "0" : "320px",
                        overflow: "hidden",
                        transition: "width 0.25s cubic-bezier(0.4, 0, 0.2, 1)",
                        zIndex: E ? 10001 : u,
                        willChange: e ? "width" : "auto"
                    },
                    children: t.jsx("div", {
                        style: {
                            width: "320px",
                            height: "100%",
                            transform: e ? "translateX(-320px)" : "translateX(0)",
                            transition: "transform 0.25s cubic-bezier(0.4, 0, 0.2, 1)",
                            willChange: "transform"
                        },
                        children: t.jsx(p4, {
                            collapsed: e,
                            onToggle: s,
                            onUnreadChange: d
                        })
                    })
                }), t.jsx(bf, {
                    children: t.jsxs(Rv, {
                        children: [t.jsx($c, {
                            path: "/",
                            element: t.jsx(mk, {})
                        }), t.jsx($c, {
                            path: "/battle",
                            element: t.jsx(D4, {})
                        }), t.jsx($c, {
                            path: "/battle/:gameId",
                            element: t.jsx(G4, {})
                        }), t.jsx($c, {
                            path: "/discord-callback",
                            element: t.jsx("div", {
                                children: "Discord callback"
                            })
                        })]
                    })
                })]
            }), t.jsxs("div", {
                onClick: X,
                className: "chat-toggle-button",
                style: {
                    position: "fixed",
                    left: e ? "0" : "320px",
                    bottom: "25px",
                    zIndex: E ? 10002 : 30,
                    width: "40px",
                    height: "40px",
                    backgroundColor: "#15161d",
                    borderRadius: "0 4px 4px 0",
                    display: "flex",
                    alignItems: "center",
                    justifyContent: "center",
                    cursor: "pointer",
                    boxShadow: a ? "0 0 10px rgba(0,0,0,0.5)" : "2px 0 5px rgba(0,0,0,0.2)",
                    border: "1px solid #333",
                    borderLeft: e ? "1px solid #333" : "none",
                    transition: "left 0.25s cubic-bezier(0.4, 0, 0.2, 1)"
                },
                children: [l > 0 && t.jsx("div", {
                    className: "chat-notification-bubble",
                    children: l > 9 ? "9+" : l
                }), t.jsx("span", {
                    style: {
                        transform: e ? "rotate(0deg)" : "rotate(180deg)",
                        transition: "transform 0.25s cubic-bezier(0.4, 0, 0.2, 1)",
                        fontSize: "18px",
                        userSelect: "none",
                        color: "white"
                    },
                    children: ">"
                })]
            }), C && S && t.jsxs(t.Fragment, {
                children: [t.jsx("style", {
                    children: `
                @keyframes popOut {
                  0% {
                    opacity: 0;
                    transform: translateX(-20px) scale(0.8);
                    transform-origin: left center;
                  }
                  75% {
                    opacity: 1;
                    transform: translateX(3px) scale(1.03);
                    transform-origin: left center;
                  }
                  100% {
                    opacity: 1;
                    transform: translateX(0) scale(1);
                    transform-origin: left center;
                  }
                }
              `
                }), t.jsxs("div", {
                    style: {
                        position: "fixed",
                        top: "calc(100vh - 65px)",
                        left: `${(e?0:320)+40}px`,
                        maxWidth: "200px",
                        height: "auto",
                        minHeight: "40px",
                        maxHeight: "55px",
                        backgroundColor: "#15161d",
                        borderRadius: "4px",
                        padding: "6px 8px",
                        boxShadow: "2px 2px 8px rgba(0,0,0,0.5)",
                        zIndex: 22,
                        border: "1px solid #333",
                        fontFamily: "DynaPuff, sans-serif",
                        clipPath: "polygon(0% 0%, 100% 0%, 100% 100%, 0% 100%, 0% 65%, -8px 50%, 0% 35%)",
                        color: "#FFFFFF",
                        transition: "left 0.25s cubic-bezier(0.4, 0, 0.2, 1)",
                        animation: "popOut 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275) forwards",
                        display: "flex",
                        flexDirection: "column",
                        justifyContent: "center",
                        overflow: "hidden"
                    },
                    children: [t.jsxs("div", {
                        style: {
                            display: "flex",
                            alignItems: "center",
                            marginBottom: "2px",
                            minHeight: 0
                        },
                        children: [t.jsx("div", {
                            style: {
                                width: "4px",
                                height: "4px",
                                borderRadius: "50%",
                                backgroundColor: "#FBB90F",
                                marginRight: "4px",
                                flexShrink: 0
                            }
                        }), t.jsx("div", {
                            style: {
                                fontWeight: "bold",
                                color: "#FFFFFF",
                                fontSize: "9px",
                                whiteSpace: "nowrap",
                                overflow: "hidden",
                                textOverflow: "ellipsis",
                                maxWidth: "150px",
                                lineHeight: 1
                            },
                            children: I(S)
                        })]
                    }), t.jsx("div", {
                        style: {
                            color: "rgba(255, 255, 255, 0.9)",
                            fontSize: "9px",
                            lineHeight: "1.2",
                            wordBreak: "break-word",
                            overflow: "hidden",
                            display: "-webkit-box",
                            WebkitLineClamp: 2,
                            WebkitBoxOrient: "vertical",
                            flex: 1,
                            minHeight: 0
                        },
                        children: B(S)
                    })]
                })]
            }), t.jsx(Dw, {}), t.jsx(ww, {}), D.active && D.mega && !P && t.jsx("div", {
                style: {
                    position: "fixed",
                    inset: 0,
                    background: "rgba(9, 10, 16, 0.96)",
                    backdropFilter: "blur(8px)",
                    zIndex: 9999,
                    display: "flex",
                    alignItems: "center",
                    justifyContent: "center",
                    pointerEvents: "auto"
                },
                "aria-modal": "true",
                role: "dialog",
                "aria-label": "Site under maintenance",
                children: t.jsxs("div", {
                    style: {
                        maxWidth: 640,
                        margin: "0 16px",
                        padding: "24px 20px",
                        borderRadius: 8,
                        background: "rgba(21, 22, 29, 0.92)",
                        border: "1px solid #2b2d3a",
                        color: "#fff",
                        textAlign: "center",
                        boxShadow: "0 10px 30px rgba(0,0,0,0.45)"
                    },
                    children: [t.jsx("div", {
                        style: {
                            fontSize: 22,
                            fontWeight: 700,
                            marginBottom: 12
                        },
                        children: "Maintenance"
                    }), t.jsx("div", {
                        style: {
                            fontSize: 14,
                            lineHeight: 1.6,
                            opacity: .95
                        },
                        children: D.message || "Website under maintenance. Please check back soon."
                    })]
                })
            })]
        })
    })
}
const tn = e => new URL(e, document.location.origin).toString();
let Rr = null,
    xn = null,
    vf = new Set;
const Xy = e => {
        xn = { ...xn,
            ...e
        }, vf.forEach(s => s(xn))
    },
    Ck = () => {
        const e = [];
        e.push({
            alias: "trademarker_sell",
            src: tn("sprites/tm_sell.png")
        }, {
            alias: "trademarker_buy",
            src: tn("sprites/tm_buy.png")
        }, {
            alias: "candle_up",
            src: tn("sprites/cd_up.png")
        }, {
            alias: "candle_down",
            src: tn("sprites/cd_down.png")
        }), e.push({
            alias: "battle-background-free",
            src: tn("battle/room_bg_free.png")
        }, {
            alias: "battle-background-sol",
            src: tn("battle/room_bg_sol.png")
        }), e.push({
            alias: "profile-chart-background",
            src: tn("backgrounds/pnl_profile.png")
        }), e.push({
            alias: "pnl-chart-background-profit",
            src: tn("backgrounds/pnl_bg_profit.png")
        }, {
            alias: "pnl-chart-background-loss",
            src: tn("backgrounds/pnl_bg_loss.png")
        }), e.push({
            alias: "linear-gradient-green",
            src: tn("backgrounds/linear_gradient_green.png")
        }, {
            alias: "linear-gradient-red",
            src: tn("backgrounds/linear_gradient_red.png")
        }), e.push({
            alias: "standard-chart-background",
            src: tn("backgrounds/linear_gradient_gray.png")
        }), e.push({
            alias: "golden-hour-background",
            src: tn("backgrounds/golden_hour_bg.png")
        }), e.push({
            alias: "icon-credit",
            src: tn("battle/credit.svg")
        }, {
            alias: "icon-star",
            src: tn("icons/star.png")
        }, {
            alias: "icon-person",
            src: tn("icons/person.svg")
        });
        for (const [s, a] of Object.entries(Es)) e.push({
            alias: `coin-${s}`,
            src: tn(a.image)
        });
        e.push({
            alias: "icon-bear",
            src: tn("icons/icon_bear.png")
        });
        for (const [s, a] of Object.entries(pf)) e.push({
            alias: `badge-${s}`,
            src: tn(a.image)
        });
        return e
    },
    Mi = (e, s, a) => {
        Xy({
            progress: e,
            loadingMessage: s,
            error: a || null,
            isComplete: e >= 100 && !a
        }), typeof window < "u" && window.updateLoadingProgress && window.updateLoadingProgress(e)
    },
    Qy = async () => {
        if (!(xn != null && xn.isLoading || xn != null && xn.isComplete)) {
            Xy({
                isLoading: !0,
                error: null
            });
            try {
                const e = Ck();
                Mi(0, "Preparing assets...");
                const s = Date.now().toString();
                if (Hi.getState().dev.nonce) {
                    Mi(10, "Clearing cache...");
                    const h = Date.now();
                    ft.reset(), Bv.reset();
                    const f = Date.now();
                    console.log("unloaded assets in: ", f - h, " ms")
                }
                Mi(20, "Installing fonts...");
                const r = Date.now();
                await document.fonts.ready;
                const l = document.fonts.check("12px DynaPuff");
                console.log("DynaPuff font loaded:", l), zv.install({
                    name: "DynapuffCustom",
                    style: {
                        fontFamily: "DynaPuff, Arial, sans-serif",
                        fontWeight: "400",
                        fontSize: 40,
                        fill: "white"
                    },
                    resolution: 4
                }), Mi(30, "Loading assets...");
                const d = h => {
                    const f = 30 + h * .6;
                    f > 85 ? Mi(f, "Finalizing") : Mi(f, `Loading assets... ${Math.round(h*100)}%`)
                };
                await ft.load(e, d);
                const u = Date.now();
                console.log("loaded assets in: ", u - r, "ms"), Mi(100, "Ready!"), Hi.dispatch(gC.refreshNonce())
            } catch (e) {
                console.error("Asset loading failed:", e), Mi(100, "Loading complete (with errors)", e instanceof Error ? e.message : "Unknown error")
            }
        }
    };
xn || (xn = {
    progress: 0,
    loadingMessage: "Initializing...",
    isComplete: !1,
    isLoading: !1,
    error: null
});
const wk = () => {
        const [e, s] = m.useState(xn);
        m.useEffect(() => (vf.add(s), () => {
            vf.delete(s)
        }), []);
        const a = m.useCallback(() => (Rr || (Rr = Qy()), Rr), []);
        return { ...e,
            startLoading: a
        }
    },
    Tk = () => {
        if (Rr || (Rr = Qy()), !(xn != null && xn.isComplete)) throw Rr;
        return xn
    };

function jk() {
    return Tk(), null
}
const kk = ({
    onComplete: e
}) => {
    const {
        progress: s,
        loadingMessage: a,
        isComplete: r
    } = wk(), [l, d] = m.useState(!1);
    return m.useEffect(() => {
        r && !l && (d(!0), setTimeout(() => {
            e == null || e()
        }, 500))
    }, [r, l, e]), t.jsx("div", {
        className: `loading-page ${l?"loading-page--fade-out":""}`,
        children: t.jsxs("div", {
            className: "loading-content",
            children: [t.jsx("div", {
                className: "loading-logo",
                children: t.jsx("img", {
                    src: "/rugsfun_combination_mark.png",
                    alt: "Rugs.fun Logo",
                    className: "logo-image"
                })
            }), t.jsxs("div", {
                className: "loading-progress-container",
                children: [t.jsx("div", {
                    className: "loading-progress-bar",
                    children: t.jsx("div", {
                        className: "loading-progress-fill",
                        style: {
                            width: `${Math.min(s,100)}%`
                        }
                    })
                }), t.jsx("div", {
                    className: "loading-text",
                    children: a
                })]
            })]
        })
    })
};
class Ek {
    constructor(s) {
        R(this, "socketService");
        R(this, "token");
        R(this, "tokenRefreshInterval", null);
        this.socketService = s, this.token = localStorage.getItem("privy:token") ? JSON.parse(localStorage.getItem("privy:token")) : null
    }
    startTokenRefresh() {
        this.tokenRefreshInterval = setInterval(this._refreshToken.bind(this), 1e3)
    }
    stopTokenRefresh() {
        this.tokenRefreshInterval && clearInterval(this.tokenRefreshInterval)
    }
    _refreshToken() {
        bv().then(s => {
            this.updateToken(s ? ? null)
        })
    }
    updateToken(s) {
        this.token !== s && (this.token = s, this.syncToken())
    }
    syncToken() {
        var s;
        (s = this.socketService.getSocket()) == null || s.emit("authenticate", {
            token: this.token
        })
    }
    getHandshakeAuth() {
        return {
            token: this.token
        }
    }
}
const R0 = {
    pingInterval: 1e3,
    pingHistorySize: 10
};
class Ak {
    constructor(s, a = R0) {
        R(this, "socketService");
        R(this, "options");
        R(this, "pingValues", []);
        R(this, "interval", null);
        this.socketService = s, this.options = Object.assign({}, R0, a)
    }
    get lastPing() {
        return this.pingValues.length > 0 ? this.pingValues[this.pingValues.length - 1] : -1
    }
    doPing() {
        const s = Date.now();
        this.socketService.emit("ping", {
            lastPing: this.lastPing
        }, () => {
            const r = Date.now() - s;
            this._addPingValue(r)
        })
    }
    safePing() {
        this.socketService.isConnected() && this.doPing()
    }
    _addPingValue(s) {
        if (this.pingValues.push(s), this.pingValues.length > this.options.pingHistorySize && this.pingValues.shift(), Tn.recordMetric(zs.LATENCY_MS, s), Hi) {
            const a = this.getStatistics();
            Hi.dispatch(aw.setPing(a.average))
        }
    }
    getStatistics() {
        const s = Math.min(...this.pingValues),
            a = Math.max(...this.pingValues),
            r = this.pingValues.reduce((u, h) => u + h, 0) / this.pingValues.length,
            l = this.pingValues[Math.floor(this.pingValues.length / 2)],
            d = Math.sqrt(this.pingValues.reduce((u, h) => u + Math.pow(h - r, 2), 0) / this.pingValues.length);
        return {
            min: s,
            max: a,
            average: r,
            median: l,
            stdDev: d
        }
    }
    start() {
        this.stop(), this.safePing(), this.interval = setInterval(() => this.safePing(), this.options.pingInterval)
    }
    stop() {
        this.interval && (clearInterval(this.interval), this.interval = null)
    }
}
const Ky = e => typeof(e == null ? void 0 : e.then) == "function",
    nd = e => typeof e == "function",
    Rk = e => (e = Object.assign({}, e), Array.isArray(e.emitIgnoreEventList) || (e.emitIgnoreEventList = []), Array.isArray(e.onIgnoreEventList) || (e.onIgnoreEventList = []), Array.isArray(e.distributedTracingIgnoreEventList) || (e.distributedTracingIgnoreEventList = []), Array.isArray(e.callbackIgnoreEventList) || (e.callbackIgnoreEventList = []), Array.isArray(e.alwaysTraceOnEventList) || (e.alwaysTraceOnEventList = []), Array.isArray(e.alwaysTraceEmitEventList) || (e.alwaysTraceEmitEventList = []), e.enableDistributedTracing === void 0 && (e.enableDistributedTracing = !0), e.enableCallbackTracing === void 0 && (e.enableCallbackTracing = !0), e.requireParentforTracing === void 0 && (e.requireParentforTracing = !1), e),
    ef = e => {
        const s = At.active();
        if (!Cs.getSpan(s)) return e;
        const r = {
            __trace: !0
        };
        return Nf.inject(s, r), [r, ...e]
    },
    Gn = e => {
        if (e.length === 0) return {
            context: At.active(),
            remainingArgs: e
        };
        const s = e[0];
        if (s && typeof s == "object" && s.__trace === !0 && !Array.isArray(s)) try {
            const a = Nf.extract(At.active(), s);
            if (a !== At.active()) {
                const r = e.slice(1);
                return {
                    context: a,
                    remainingArgs: r
                }
            }
        } catch (a) {
            console.warn("Failed to extract trace context:", a)
        }
        return {
            context: At.active(),
            remainingArgs: e
        }
    },
    Cn = (e, s) => {
        var a;
        return !(!s.enableDistributedTracing || (a = s.distributedTracingIgnoreEventList) != null && a.includes(e))
    },
    sd = (e, s) => {
        var a;
        return !(!s.enableCallbackTracing || (a = s.callbackIgnoreEventList) != null && a.includes(e))
    },
    Dk = (e, s, a = !1) => {
        const r = a ? s.alwaysTraceEmitEventList : s.alwaysTraceOnEventList;
        return (r == null ? void 0 : r.includes(e)) ? ? !1
    },
    rl = (e, s, a, r = !1) => {
        if (a && Dk(a, e, r) || !e.requireParentforTracing) return !0;
        const l = s || At.active();
        return Cs.getSpan(l) !== void 0
    },
    tf = (e, s, a, r, l) => (...d) => {
        const u = Tn.createSpan(`ack receive ${a} ${s}`, {
            kind: Bs.CONSUMER,
            attributes: {
                "messaging.system": "socket.io-client",
                "messaging.destination": a,
                "messaging.operation": "ack_receive",
                "socket.io.event_name": s,
                "socket.io.namespace": a,
                "socket.io.ack_args_count": d.length
            }
        }, r);
        if (!u) return e.apply(void 0, d);
        if (l.ackHook) try {
            l.ackHook(u, {
                payload: d
            })
        } catch (h) {
            console.error("SocketIO ackHook error:", h)
        }
        try {
            return At.with(Cs.setSpan(r, u), () => {
                let h = d;
                const {
                    context: f,
                    remainingArgs: p
                } = Gn(d);
                f !== At.active() && (h = p, r = f);
                const y = e.apply(void 0, h);
                return Ky(y) ? y.then(x => (u.end(), x), x => {
                    throw u.recordException(x), u.setStatus({
                        code: Vn.ERROR,
                        message: x == null ? void 0 : x.message
                    }), u.end(), x
                }) : (u.end(), y)
            })
        } catch (h) {
            throw u.recordException(h), u.setStatus({
                code: Vn.ERROR,
                message: h == null ? void 0 : h.message
            }), u.end(), h
        }
    },
    Nk = (e, s, a, r, l) => (...d) => {
        const u = Tn.createSpan(`ack send ${a} ${s}`, {
            kind: Bs.PRODUCER,
            attributes: {
                "messaging.system": "socket.io-client",
                "messaging.destination": a,
                "messaging.operation": "ack_send",
                "socket.io.event_name": s,
                "socket.io.namespace": a,
                "socket.io.ack_args_count": d.length
            }
        }, r);
        if (!u) return e.apply(void 0, d);
        if (l.ackHook) try {
            l.ackHook(u, {
                payload: d
            })
        } catch (h) {
            console.error("SocketIO ackHook error:", h)
        }
        try {
            return At.with(Cs.setSpan(r, u), () => {
                const h = {
                    __trace: !0
                };
                Nf.inject(At.active(), h);
                const f = [h, ...d],
                    p = e.apply(void 0, f);
                return u.end(), p
            })
        } catch (h) {
            throw u.recordException(h), u.setStatus({
                code: Vn.ERROR,
                message: h == null ? void 0 : h.message
            }), u.end(), h
        }
    },
    os = (e, s, a, r, l) => (...d) => {
        const u = d[d.length - 1];
        if (nd(u) && sd(s, l)) {
            const h = Nk(u, s, a, r, l),
                f = [...d.slice(0, -1), h];
            return e.apply(void 0, f)
        }
        return e.apply(void 0, d)
    },
    ol = ["connect", "connect_error", "disconnect", "disconnecting", "newListener", "removeListener"];
class _k {
    constructor(s = {}) {
        R(this, "config");
        this.config = Rk(s)
    }
    patchSocket(s) {
        !s || s.__otel_patched || (console.log("BrowserSocketIOInstrumentation: Patching socket instance", s), s.__otel_patched = !0, this.patchOn(s), this.patchEmit(s), this.patchListenerMethods(s), this.patchOnAny(s), this.patchOnce(s))
    }
    patchOn(s) {
        const a = s.on.bind(s);
        s.on = (r, l) => {
            var u;
            return !this.config.traceReserved && ol.includes(r) || (u = this.config.onIgnoreEventList) != null && u.includes(r) ? a(r, l) : a(r, (...h) => {
                let f = At.active();
                if (!rl(this.config, f, r, !1)) {
                    let S = h;
                    if (Cn(r, this.config)) {
                        const {
                            context: w,
                            remainingArgs: j
                        } = Gn(h);
                        f = w, S = j
                    }
                    const v = s.nsp || "/";
                    return os(l, r, v, f, this.config).apply(this, S)
                }
                const p = s.nsp || "/",
                    y = Tn.createSpan(`receive ${p} ${r}`, {
                        kind: Bs.CONSUMER,
                        attributes: {
                            "messaging.system": "socket.io-client",
                            "messaging.destination": p,
                            "messaging.operation": "receive",
                            "socket.io.event_name": r,
                            "socket.io.namespace": p
                        }
                    }, f);
                if (!y) {
                    let S = h;
                    if (Cn(r, this.config)) {
                        const {
                            context: w,
                            remainingArgs: j
                        } = Gn(h);
                        f = w, S = j
                    }
                    const v = s.nsp || "/";
                    return os(l, r, v, f, this.config).apply(this, S)
                }
                if (this.config.onHook) try {
                    this.config.onHook(y, {
                        payload: h
                    })
                } catch (S) {
                    console.error("SocketIO onHook error:", S)
                }
                let x = h;
                if (Cn(r, this.config)) {
                    const {
                        context: S,
                        remainingArgs: v
                    } = Gn(h);
                    f = S, x = v
                }
                return At.with(Cs.setSpan(f, y), () => this.endSpan(() => os(l, r, p, At.active(), this.config).apply(this, x), y))
            })
        }
    }
    endSpan(s, a) {
        try {
            const r = s();
            return Ky(r) ? r.then(l => (a.end(), l), l => {
                throw a.recordException(l), a.setStatus({
                    code: Vn.ERROR,
                    message: l == null ? void 0 : l.message
                }), a.end(), l
            }) : (a.end(), r)
        } catch (r) {
            throw a.recordException(r), a.setStatus({
                code: Vn.ERROR,
                message: r == null ? void 0 : r.message
            }), a.end(), r
        }
    }
    patchEmit(s) {
        const a = s.emit.bind(s);
        s.emit = (r, ...l) => {
            var f;
            if (!this.config.traceReserved && ol.includes(r)) return a(r, ...l);
            if ((f = this.config.emitIgnoreEventList) != null && f.includes(r)) return a(r, ...l);
            if (!rl(this.config, void 0, r, !0)) {
                let p = l;
                const y = l[l.length - 1];
                if (nd(y) && sd(r, this.config)) {
                    const x = s.nsp || "/",
                        S = tf(y, r, x, At.active(), this.config);
                    p = [...l.slice(0, -1), S]
                }
                return Cn(r, this.config) && (p = ef(p)), a(r, ...p)
            }
            const d = s.nsp || "/",
                u = Tn.createSpan(`send ${d} ${r}`, {
                    kind: Bs.PRODUCER,
                    attributes: {
                        "messaging.system": "socket.io-client",
                        "messaging.destination": d,
                        "messaging.destination_kind": "topic",
                        "socket.io.event_name": r,
                        "socket.io.namespace": d
                    }
                });
            if (!u) {
                let p = l;
                const y = l[l.length - 1];
                if (nd(y) && sd(r, this.config)) {
                    const x = s.nsp || "/",
                        S = tf(y, r, x, At.active(), this.config);
                    p = [...l.slice(0, -1), S]
                }
                return Cn(r, this.config) && (p = ef(p)), a(r, ...p)
            }
            if (this.config.emitHook) try {
                this.config.emitHook(u, {
                    payload: l
                })
            } catch (p) {
                console.error("SocketIO emitHook error:", p)
            }
            const h = Cn(r, this.config);
            try {
                return At.with(Cs.setSpan(At.active(), u), () => {
                    let p = l;
                    const y = l[l.length - 1];
                    if (nd(y) && sd(r, this.config)) {
                        const x = tf(y, r, d, At.active(), this.config);
                        p = [...l.slice(0, -1), x]
                    }
                    return h && (p = ef(p)), a(r, ...p)
                })
            } catch (p) {
                throw u.setStatus({
                    code: Vn.ERROR,
                    message: p.message
                }), p
            } finally {
                u.end()
            }
        }
    }
    patchOnAny(s) {
        if (!s.onAny) return;
        const a = s.onAny.bind(s);
        s.onAny = r => {
            var d;
            if ((d = this.config.onIgnoreEventList) != null && d.includes("*")) return a(r);
            const l = (u, ...h) => {
                var S;
                if (!this.config.traceReserved && ol.includes(u)) return r(u, ...h);
                if ((S = this.config.onIgnoreEventList) != null && S.includes(u)) return r(u, ...h);
                let f = At.active();
                if (!rl(this.config, f, u, !1)) {
                    let v = h;
                    if (Cn(u, this.config)) {
                        const {
                            context: j,
                            remainingArgs: A
                        } = Gn(h);
                        f = j, v = A
                    }
                    const C = s.nsp || "/";
                    return os((j, ...A) => r(j, ...A), u, C, f, this.config)(u, ...v)
                }
                const p = s.nsp || "/",
                    y = Tn.createSpan(`receive ${p} ${u}`, {
                        kind: Bs.CONSUMER,
                        attributes: {
                            "messaging.system": "socket.io-client",
                            "messaging.destination": p,
                            "messaging.operation": "receive",
                            "socket.io.event_name": u,
                            "socket.io.namespace": p
                        }
                    }, f);
                if (!y) {
                    let v = h;
                    if (Cn(u, this.config)) {
                        const {
                            context: j,
                            remainingArgs: A
                        } = Gn(h);
                        f = j, v = A
                    }
                    const C = s.nsp || "/";
                    return os((j, ...A) => r(j, ...A), u, C, f, this.config)(u, ...v)
                }
                if (this.config.onHook) try {
                    this.config.onHook(y, {
                        payload: h
                    })
                } catch (v) {
                    console.error("SocketIO onHook error:", v)
                }
                let x = h;
                if (Cn(u, this.config)) {
                    const {
                        context: v,
                        remainingArgs: C
                    } = Gn(h);
                    f = v, x = C
                }
                return At.with(Cs.setSpan(f, y), () => this.endSpan(() => os((C, ...w) => r(C, ...w), u, p, At.active(), this.config)(u, ...x), y))
            };
            return s._otelAnyListenerMap || (s._otelAnyListenerMap = new WeakMap), s._otelAnyListenerMap.set(r, l), a(l)
        }
    }
    patchOnce(s) {
        if (!s.once) return;
        const a = s.once.bind(s);
        s.once = (r, l) => {
            var h;
            if (!this.config.traceReserved && ol.includes(r) || (h = this.config.onIgnoreEventList) != null && h.includes(r)) return a(r, l);
            let d = !1;
            return a(r, (...f) => {
                if (d) return;
                d = !0;
                let p = At.active();
                if (!rl(this.config, p, r, !1)) {
                    let v = f;
                    if (Cn(r, this.config)) {
                        const {
                            context: j,
                            remainingArgs: A
                        } = Gn(f);
                        p = j, v = A
                    }
                    const C = s.nsp || "/";
                    return os(l, r, C, p, this.config).apply(this, v)
                }
                const y = s.nsp || "/",
                    x = Tn.createSpan(`receive ${y} ${r}`, {
                        kind: Bs.CONSUMER,
                        attributes: {
                            "messaging.system": "socket.io-client",
                            "messaging.destination": y,
                            "messaging.operation": "receive",
                            "socket.io.event_name": r,
                            "socket.io.namespace": y
                        }
                    }, p);
                if (!x) {
                    let v = f;
                    if (Cn(r, this.config)) {
                        const {
                            context: j,
                            remainingArgs: A
                        } = Gn(f);
                        p = j, v = A
                    }
                    const C = s.nsp || "/";
                    return os(l, r, C, p, this.config).apply(this, v)
                }
                if (this.config.onHook) try {
                    this.config.onHook(x, {
                        payload: f
                    })
                } catch (v) {
                    console.error("SocketIO onHook error:", v)
                }
                let S = f;
                if (Cn(r, this.config)) {
                    const {
                        context: v,
                        remainingArgs: C
                    } = Gn(f);
                    p = v, S = C
                }
                return At.with(Cs.setSpan(p, x), () => this.endSpan(() => os(l, r, y, At.active(), this.config).apply(this, S), x))
            })
        }
    }
    patchListenerMethods(s) {
        if (["addListener", "prependListener", "prependOnceListener"].forEach(r => {
                const l = s[r];
                if (!l) return;
                const d = l.bind(s);
                s[r] = (u, h) => {
                    var p;
                    return !this.config.traceReserved && ol.includes(u) || (p = this.config.onIgnoreEventList) != null && p.includes(u) ? d(u, h) : d(u, (...y) => {
                        let x = At.active();
                        if (!rl(this.config, x, u, !1)) {
                            let w = y;
                            if (Cn(u, this.config)) {
                                const {
                                    context: _,
                                    remainingArgs: k
                                } = Gn(y);
                                x = _, w = k
                            }
                            const j = s.nsp || "/";
                            return os(h, u, j, x, this.config).apply(this, w)
                        }
                        const S = s.nsp || "/",
                            v = Tn.createSpan(`receive ${S} ${u}`, {
                                kind: Bs.CONSUMER,
                                attributes: {
                                    "messaging.system": "socket.io-client",
                                    "messaging.destination": S,
                                    "messaging.operation": "receive",
                                    "socket.io.event_name": u,
                                    "socket.io.namespace": S
                                }
                            }, x);
                        if (!v) {
                            let w = y;
                            if (Cn(u, this.config)) {
                                const {
                                    context: _,
                                    remainingArgs: k
                                } = Gn(y);
                                x = _, w = k
                            }
                            const j = s.nsp || "/";
                            return os(h, u, j, x, this.config).apply(this, w)
                        }
                        if (this.config.onHook) try {
                            this.config.onHook(v, {
                                payload: y
                            })
                        } catch (w) {
                            console.error("SocketIO onHook error:", w)
                        }
                        let C = y;
                        if (Cn(u, this.config)) {
                            const {
                                context: w,
                                remainingArgs: j
                            } = Gn(y);
                            x = w, C = j
                        }
                        return At.with(Cs.setSpan(x, v), () => this.endSpan(() => os(h, u, S, At.active(), this.config).apply(this, C), v))
                    })
                }
            }), s.offAny) {
            const r = s.offAny.bind(s);
            s.offAny = l => {
                if (!l) return s._otelAnyListenerMap && (s._otelAnyListenerMap = new WeakMap), r();
                if (s._otelAnyListenerMap && s._otelAnyListenerMap.has(l)) {
                    const d = s._otelAnyListenerMap.get(l);
                    return s._otelAnyListenerMap.delete(l), r(d)
                }
                return r(l)
            }
        }
    }
}
const Pk = new _k({
        traceReserved: !0,
        enableDistributedTracing: !0,
        enableCallbackTracing: !0,
        onIgnoreEventList: ["ping", "pong", "gameStateUpdate", "gameStatePlayerUpdate", "playerUpdate"],
        emitIgnoreEventList: ["ping", "pong", "gameStateUpdate", "gameStatePlayerUpdate", "playerUpdate"],
        distributedTracingIgnoreEventList: ["ping", "pong", "gameStateUpdate", "gameStatePlayerUpdate", "playerUpdate"],
        callbackIgnoreEventList: ["ping", "pong", "gameStateUpdate", "gameStatePlayerUpdate", "playerUpdate"],
        requireParentforTracing: !0,
        alwaysTraceOnEventList: ["error", "connect", "disconnect"],
        alwaysTraceEmitEventList: ["authenticate", "buyOrder", "sellOrder", "joinBattleLobby", "leaveBattleLobby", "joinBattleEventQueue", "leaveBattleEventQueue", "joinBattlesRoom", "leaveBattlesRoom"],
        onHook: (e, s) => {
            s.payload && Array.isArray(s.payload) && e.setAttributes({
                "socket.io.payload_size": s.payload.length,
                "socket.io.has_callback": typeof s.payload[s.payload.length - 1] == "function"
            })
        },
        emitHook: (e, s) => {
            s.payload && Array.isArray(s.payload) && e.setAttributes({
                "socket.io.payload_size": s.payload.length,
                "socket.io.has_callback": typeof s.payload[s.payload.length - 1] == "function"
            })
        },
        ackHook: (e, s) => {
            s.payload && Array.isArray(s.payload) && e.setAttributes({
                "socket.io.ack_payload_size": s.payload.length,
                "socket.io.ack_has_data": s.payload.length > 0
            })
        }
    }),
    Ca = class Ca {
        constructor(s, a) {
            R(this, "socket", null);
            R(this, "pingService");
            R(this, "authService");
            R(this, "_onConnect", () => this.onConnect());
            R(this, "_onDisconnect", () => this.onDisconnect());
            R(this, "_onConnectError", () => this.onConnectError());
            this.pingService = new Ak(this, {
                pingInterval: 1e3,
                pingHistorySize: 10
            }), this.authService = new Ek(this), this.socket = _v(s, { ...a,
                auth: this.authService.getHandshakeAuth()
            }), Pk.patchSocket(this.socket), this.socket.on("connect", this._onConnect), this.socket.on("disconnect", this._onDisconnect), this.socket.on("connect_error", this._onConnectError)
        }
        static getInstance(s, a) {
            return Ca.INSTANCE || (Ca.INSTANCE = new Ca(s, a)), Ca.INSTANCE
        }
        connect() {
            var s, a;
            (s = this.socket) != null && s.connected || (a = this.socket) == null || a.connect()
        }
        get auth() {
            return this.authService
        }
        get ping() {
            return this.pingService
        }
        onConnect() {
            this.pingService.start(), this.authService.startTokenRefresh(), this.authService.syncToken()
        }
        onDisconnect() {
            this.pingService.stop(), this.authService.stopTokenRefresh()
        }
        onConnectError() {
            var s, a;
            this.pingService.stop(), (s = this.socket) != null && s.active || (a = this.socket) == null || a.connect()
        }
        getSocket() {
            return this.socket
        }
        isConnected() {
            var s;
            return (s = this.socket) == null ? void 0 : s.connected
        }
        on(s, a) {
            var r;
            return (r = this.socket) == null || r.on(s, a), () => {
                var l;
                (l = this.socket) == null || l.off(s, a)
            }
        }
        onAny(s) {
            var a;
            return (a = this.socket) == null || a.onAny(s), () => {
                var r;
                (r = this.socket) == null || r.offAny(s)
            }
        }
        offAny(s) {
            var a;
            (a = this.socket) == null || a.offAny(s)
        }
        off(s, a) {
            var r;
            (r = this.socket) == null || r.off(s, a)
        }
        emit(s, ...a) {
            var r;
            (r = this.socket) == null || r.emit(s, ...a)
        }
    };
R(Ca, "INSTANCE", null);
let Sf = Ca;

function De(e, s) {
    return {
        action: e,
        prepare: s
    }
}
const Lk = {
        error: [De(Bt.addErrorToast, e => e.type === "RATE_LIMIT" ? null : e)],
        rugpoolWin: [De(Cr[Xn.USER_WON], e => (console.log("[SOCKET] rugpoolWin received:", e), e)), De(Bt.addSuccessToast, e => ({
            message: `🎉 Rugpool Winner! You won ${e.amount.toFixed(4)} SOL!`
        }))],
        newChatMessage: [De(Oi[Aa.NEW], e => ({
            room: "GLOBAL",
            message: {
                playerId: e.playerId,
                message: e.message,
                timestamp: e.timestamp,
                filtered: e.filtered || !1
            }
        })), De(Me.updatePartials, e => e.playerId && e.username ? [{
            id: e.playerId,
            username: e.username,
            levelInfo: {
                level: e.level
            },
            verified: e.verified,
            role: e.role,
            tag: e.tag
        }] : null)],
        goldenHourUpdate: [De(ed[Wi.UPDATE_STATE], e => {
            const s = {};
            return e.isActive !== void 0 && (s.isActive = e.isActive), e.isFinishingLastGame !== void 0 && (s.isFinishingLastGame = e.isFinishingLastGame), e.endTime !== void 0 && (s.endTime = e.endTime), e.nextTime !== void 0 && (s.nextTime = e.nextTime), e.config !== void 0 && (s.config = e.config), e.currentGameIsGolden !== void 0 && (s.currentGameIsGolden = !!e.currentGameIsGolden), e.status !== void 0 && (s.status = e.status), e.activeEventId !== void 0 && (s.activeEventId = e.activeEventId), Array.isArray(e.events) && (s.events = e.events), typeof e.playerEntries == "number" && (s.playerEntries = e.playerEntries), e.hasValidEntry !== void 0 && (s.hasValidEntry = !!e.hasValidEntry), typeof e.validXP == "number" && (s.validXP = e.validXP), typeof e.isRugged == "boolean" && (s.isRugged = e.isRugged), s
        })],
        goldenHourDrawing: [De(ed[Wi.SET_DRAWING], e => ({
            drawing: e
        }))],
        goldenHourWin: [De(ed[Wi.SET_WIN], e => ({
            amount: e.amount,
            drawingData: e.drawingData
        }))],
        chatHistory: [De(Oi[Aa.ALL], e => {
            const s = e.messages.map(a => ({
                playerId: a.playerId,
                message: a.message,
                timestamp: a.timestamp,
                filtered: a.filtered || !1
            }));
            return {
                room: e.room || "GLOBAL",
                messages: s
            }
        }), De(Me.updatePartials, e => {
            if (e.messages && Array.isArray(e.messages)) {
                const s = e.messages.filter(a => a.playerId && a.username).map(a => ({
                    id: a.playerId,
                    username: a.username,
                    levelInfo: {
                        level: a.level
                    },
                    verified: a.verified,
                    role: a.role,
                    tag: a.tag
                }));
                return s.length > 0 ? s : null
            }
            return null
        })],
        gameStateUpdate: [De(cC.updateMany, e => e.availableShitcoins ? e.availableShitcoins.map(a => {
            const r = wd(a.ticker.toLowerCase()),
                l = r in Es ? Es[r] : null;
            return {
                id: (l == null ? void 0 : l.slug) ? ? a.ticker.toLowerCase(),
                name: a.name,
                shortName: a.ticker,
                slug: (l == null ? void 0 : l.slug) ? ? a.ticker.toLowerCase(),
                image: (l == null ? void 0 : l.image) ? ? "/icons/default-token.png",
                tokenAddress: a.address,
                maxBet: a.max_bet,
                minBet: a.max_win,
                maxWithdraw: a.max_win,
                minWithdraw: a.max_bet,
                maxDeposit: a.max_win,
                minDeposit: a.max_win
            }
        }) : null), De(NC[Lf.CONNECTED_PLAYERS], e => "connectedPlayers" in e ? e.connectedPlayers : null), De(Cr[Xn.SET_STATUS], e => e.rugpool ? e.rugpool : null), De(Jx[Pt.UPDATE_STATE], e => e.rugRoyale ? e.rugRoyale : null), De(br.tickCurrent, e => ({
            id: e.gameId,
            active: e.active,
            tickCount: e.tickCount,
            price: e.price,
            cooldownPaused: e.cooldownPaused,
            cooldownTimer: e.cooldownTimer,
            pauseMessage: e.pauseMessage,
            rugged: e.rugged,
            allowPreRoundBuys: e.allowPreRoundBuys,
            prices: e.prices,
            scoreboard: e.leaderboard,
            provablyFair: e.provablyFair
        })), De(br.setHistory, e => "gameHistory" in e ? e.gameHistory : null), De(br.setStats, e => typeof e.averageMultiplier != "number" || typeof e.count2x != "number" || typeof e.count10x != "number" || typeof e.count50x != "number" || typeof e.count100x != "number" ? null : {
            averageMultiplier: e.averageMultiplier,
            count2x: e.count2x,
            count10x: e.count10x,
            count50x: e.count50x,
            count100x: e.count100x
        })],
        gameStatePlayerUpdate: [De(br.playerUpdate, e => e), De(Cr[Xn.SET_STATUS], e => e.rugpool ? e.rugpool : null)],
        playerUpdate: [De(Me.update, e => e)],
        leaderboardData: [De(bl[ka.FETCH_LEADERBOARD_SUCCESS], e => {
            if (!e.success) return console.error("Leaderboard data error from server"), {
                period: e.period,
                data: [],
                error: "Failed to fetch leaderboard"
            };
            const s = r => {
                    switch (r) {
                        case "1d":
                            return "24h";
                        case "7d":
                            return "weekly";
                        case "30d":
                            return "monthly";
                        default:
                            return "24h"
                    }
                },
                a = e.leaderboard.map((r, l) => ({
                    rank: l + 1,
                    playerId: r.playerId,
                    username: r.username,
                    totalPnl: r.pnl,
                    level: r.level || void 0
                }));
            return {
                period: s(e.period),
                data: a
            }
        })],
        usernameStatus: [De(Me.updatePartials, e => e.hasUsername && e.username ? (Tn.setUser(e.id, e.username), [{
            id: e.id,
            username: e.username
        }]) : null)],
        mutedPlayers: [De(Oi[Aa.MUTED_PLAYERS], e => (console.log("[Chat] Muted players list received:", e), e))],
        adminStatus: [De(Me.updatePartials, e => (console.log("[AdminStatus] Event received:", e), e.isAdmin !== void 0 && e.id ? (console.log("[AdminStatus] Updating profile role for user:", e.id, "isAdmin:", e.isAdmin), [{
            id: e.id,
            role: e.isAdmin ? "admin" : "user"
        }]) : (console.log("[AdminStatus] Payload missing required fields, ignoring"), null))), De(Le.setAdminStates, e => (console.log("[BATTLES] Admin status received:", e), {
            isAdmin: e.isAdmin || !1
        }))],
        bonusCodesGenerated: [De(kr.setBonusCodesGenerated, e => (console.log("[Admin] Bonus codes generated:", e), e))],
        bonusCodes: [De(kr.setBonusCodesLoaded, e => (console.log("[Admin] Bonus codes loaded:", e), e))],
        rugpassStatus: [De(Cr[Xn.SET_STATUS], e => (console.log("[SOCKET] rugpoolStatus received:", e), e))],
        rugpoolDrawing: [De(Cr[Xn.DRAW_STARTED], e => (console.log("[SOCKET] rugpoolDrawing received with totalPool:", e.totalPool, "full payload:", e), { ...e,
            playerEntries: e.playerEntries || []
        }))],
        adminMessage: [De(Oi.setAdminMessage, e => (console.log("[Admin] Broadcast message received:", e), {
            content: e.content,
            senderUsername: e.senderUsername,
            isGlobal: e.isGlobal || !1,
            duration: e.duration || 30
        }))],
        crateInfo: [De(Me.setCrateInfo, e => (console.log("[Socket] Crate info received:", e), e))],
        dailyDropEntries: [De(Me.setDailyDropData, e => (console.log("[Socket] dailyDropEntries received:", e), e))],
        playerStats: [De(Me.update, e => {
            if (console.log("[Socket] playerStats received:", e), !e.success || !e.stats) return console.warn("[Socket] Invalid playerStats payload:", e), null;
            const s = {
                id: e.id,
                ...e.stats.username && {
                    username: e.stats.username
                },
                level: e.stats.level || 1,
                xp: e.stats.currentXp || 0,
                xpForNextLevel: e.stats.requiredXp || 500,
                totalXP: e.stats.totalXp || 0,
                levelInfo: {
                    level: e.stats.level || 1,
                    xp: e.stats.currentXp || 0,
                    xpForNextLevel: e.stats.requiredXp || 500,
                    totalXP: e.stats.totalXp || 0
                },
                stats: {
                    username: e.stats.username,
                    level: e.stats.level,
                    currentXp: e.stats.currentXp,
                    requiredXp: e.stats.requiredXp,
                    totalXp: e.stats.totalXp,
                    joinDate: e.stats.joinDate,
                    totalGamesPlayed: e.stats.totalGamesPlayed || 0,
                    totalBetsSol: e.stats.totalBetsSol || 0,
                    totalWinsSol: e.stats.totalWinsSol || 0,
                    totalLossesSol: e.stats.totalLossesSol || 0,
                    pnlPercentage: e.stats.pnlPercentage || 0,
                    totalBonusSolClaimed: e.stats.totalBonusSolClaimed || 0,
                    highestPnlGame: e.stats.highestPnlGame || null,
                    recentGames: e.stats.recentGames || [],
                    leaderboardPositions: e.leaderboardPositions || null
                }
            };
            return console.log("[Socket] Transformed playerStats for profile update:", s), s
        }), De(Me.setStatsLoading, e => e.success && e.id ? {
            playerId: e.id,
            loading: !1
        } : null)],
        playerLeaderboardPosition: [De(bl.setCurrentUserPosition, e => (console.log("[Socket] playerLeaderboardPosition received:", e), e.success && e.playerFound ? {
            rank: e.rank,
            total: e.total,
            playerEntry: e.playerEntry
        } : null))],
        discordConnection: [De(Me.setDiscordConnection, e => (console.log("[Socket] discordConnection received:", e), e.user && typeof e.user == "object" ? e.user : null)), De(Me.clearDiscordConnection, e => (console.log("[Socket] discordConnection with null user received:", e), e.user === null, null)), De(Me.setDiscordLoading, () => !1)],
        discordConnectResult: [De(Me.setDiscordConnection, e => (console.log("[Socket] discordConnectResult received:", e), e.success && e.redirectUrl ? (console.log("[Socket] Redirecting to Discord:", e.redirectUrl), window.location.href = e.redirectUrl, null) : e.user && typeof e.user == "object" ? e.user : null)), De(Me.setDiscordError, e => (console.log("[Socket] discordConnectResult error received:", e), e.error ? e.error : e.user === null && !e.redirectUrl ? "Failed to connect Discord account" : null)), De(Me.setDiscordLoading, () => !1)],
        discordDisconnectResult: [De(Me.clearDiscordConnection, e => (console.log("[Socket] discordDisconnectResult received:", e), e.user === null, null)), De(Me.setDiscordError, e => (console.log("[Socket] discordDisconnectResult error received:", e), e.error ? e.error : null)), De(Me.setDiscordLoading, () => !1)],
        bonusCodeResult: [De(Me.setPromoCodeSuccess, e => (console.log("[Socket] bonusCodeResult received:", e), e.success ? {
            message: e.message || "Promo code applied successfully!",
            bonusAmount: e.bonusAmount,
            wagerRequirement: e.wagerRequirement
        } : null)), De(Me.setPromoCodeError, e => (console.log("[Socket] bonusCodeResult error received:", e), e.success === !1 ? e.error || "Failed to apply promo code" : null)), De(Me.setPromoCodeLoading, () => !1)],
        playerCosmetics: [De(Me.setCosmeticsData, e => (console.log("[Profile] Player cosmetics received:", e), e.success ? {
            unlockedEmojis: e.unlockedEmojis || [],
            unlockedBadges: e.unlockedBadges || [],
            activeBadge: e.activeBadge || null
        } : null)), De(Me.setCosmeticsError, e => e.success ? null : (console.log("[Profile] Player cosmetics error received:", e), e.error || "Failed to load cosmetics"))],
        activeBadgeUpdated: [De(Me.updateActiveBadge, e => (console.log("[Profile] Badge update result received:", e), e.activeBadge || null)), De(Me.setBadgeUpdateLoading, () => !1), De(Me.updatePartials, e => e.playerId ? [{
            id: e.playerId,
            tag: e.badgeId || null
        }] : null)],
        depositConfirmed: [De(Ui.confirmDeposit, e => ({
            token: e.token,
            amount: e.amount,
            timestamp: e.timestamp
        })), De(Bt.addSuccessToast, e => ({
            message: `Deposit of ${e.amount} ${e.token||"SOL"} received!`
        }))],
        walletBalanceUpdate: [De(Me.setWalletBalances, e => (console.log("[Socket] walletBalanceUpdate received:", e), e.success && e.balances ? e.balances : null)), De(Me.setWalletBalanceError, e => (console.log("[Socket] walletBalanceUpdate error received:", e), e.success === !1 ? e.error || "Failed to update wallet balance" : null)), De(Me.setWalletBalanceLoading, () => !1)],
        inboxMessages: [De(Me.setInboxMessages, e => e.messages && Array.isArray(e.messages) ? e.messages : []), De(Me.setInboxUnreadCount, e => typeof e.unreadCount == "number" ? e.unreadCount : 0)],
        unreadCount: [De(Me.setInboxUnreadCount, e => typeof e.count == "number" ? e.count : 0)],
        "standard/newTrade": [De(br.newTrade, e => (console.log("New trade received:", e), e))],
        battleLobbiesUpdate: [De(Le.setAllLobbies, e => (console.log("[BATTLES] Lobby list update received:", e), console.log("[BATTLES] Using setAllLobbies to replace entire lobby list (removes finished battles)"), e.lobbies || []))],
        getBattleState: [De(Le.setPlayerBattleState, e => {
            if (console.log("[BATTLES] getBattleState response received:", e), e.success && e.state)
                if (console.log("[BATTLES] Setting player battle state from getBattleState:", e.state), e.state.type === "battle" || e.state.type === "lobby") {
                    const {
                        type: s,
                        ...a
                    } = e.state;
                    return console.log("[BATTLES] Extracted battle data (type:", s, "):", a), a
                } else return e.state;
            else return console.log("[BATTLES] getBattleState failed or returned null state:", e), null
        })],
        getBattleEventQueueState: [De(Le.setPlayerQueueState, e => (console.log("[BATTLES] getBattleEventQueueState response received:", e), e.success && e.state ? e.state : null))],
        battleStateUpdate: [De(Le.setPlayerBattleState, e => (console.log("[BATTLES] Battle state update received:", e), e ? e.state === "finished" ? (console.log("Received finished battle state, clearing"), null) : (e.players && Array.isArray(e.players) && (e.players = e.players.filter((s, a, r) => a === r.findIndex(l => l.id === s.id))), e) : null)), De(Le.update, e => {
            if (e && e.type === "lobby") {
                console.log("[BATTLES] Lobby state update received for lobby list:", e.id);
                const {
                    type: s,
                    ...a
                } = e;
                return a.players && Array.isArray(a.players) && (a.players = a.players.filter((r, l, d) => l === d.findIndex(u => u.id === r.id))), a
            }
            return null
        })],
        battleResult: [De(Le.setSuccessMessage, e => (console.log("[BATTLES] Battle result received:", e), "Battle completed!"))],
        battleFinished: [De(Le.setBattleFinished, e => (console.log("[BATTLES] Battle finished notification received:", e), !0)), De(Le.setParticipating, () => (console.log("[BATTLES] Battle finished, clearing currentlyParticipatingId"), null)), De(Le.setSuccessMessage, () => (console.log("[BATTLES] Battle finished, clearing success message"), null)), De(Le.setPlayerBattleState, e => (console.log("[BATTLES] Battle finished, clearing player battle state"), e && e.completed ? setTimeout(() => {
            console.log("Battle completed, clearing state")
        }, 1e4) : console.log("Battle ended early, clearing state"), null))],
        battlePreviewsUpdate: [De(Le.setBattlePreviews, e => (console.log("[BATTLES] Battle previews update received:", e), !e || !e.previews || !Array.isArray(e.previews) ? (console.log("[BATTLES] Invalid battle previews payload"), null) : {
            previews: e.previews.map(a => (a.players && Array.isArray(a.players) && (a.players = a.players.filter((r, l, d) => l === d.findIndex(u => u.id === r.id))), a)),
            timestamp: e.timestamp || Date.now()
        }))],
        newTrade: [De(Le.addTrade, e => (console.log("[BATTLES] New trade received:", e), {
            playerId: e.playerId ? ? "",
            price: e.price ? ? 0,
            tickIndex: e.tickIndex ? ? 0,
            type: e.type ? ? "",
            timestamp: e.timestamp ? ? Date.now(),
            username: e.username ? ? "",
            coinAddress: e.coinAddress ? ? "",
            coinTicker: e.coinTicker ? ? "",
            cost: e.cost ? ? null,
            proceeds: e.proceeds ? ? null,
            isPreRoundBuy: e.isPreRoundBuy ? ? !1,
            lobbyId: e.lobbyId ? ? "",
            qty: e.qty ? ? 0
        }))],
        battleEventUpdate: [De(Le.setBattleEventState, e => e)],
        battleEventQueueUpdate: [De(Le.setQueueState, e => e)],
        battleEventLobbyAssigned: [De(Le.setQueueState, e => ({ ...e,
            inQueue: !1
        })), De(Le.setIsJoiningQueue, () => !1), De(Le.setParticipating, e => {
            var a;
            const s = e.lobbyId || ((a = e.lobby) == null ? void 0 : a.id) || null;
            return console.log("[BATTLES] Setting participating ID from lobby assignment:", s), s
        }), De(Le.setJustLeftLobby, () => !1), De(Le.setBattleFinished, () => (console.log("[BATTLES] Clearing battleFinished flag for new lobby assignment"), !1))],
        adminControlStates: [De(Le.setAdminStates, e => ({
            lobbyCreationDisabled: e.lobbyCreationDisabled || !1,
            lobbyJoiningDisabled: e.lobbyJoiningDisabled || !1,
            freeTradingDisabled: e.freeTradingDisabled || !1
        }))],
        getBattleLobbies: [De(Le.updateMany, e => (console.log("[BATTLES] Get lobbies response received:", e), e && e.lobbies ? e.lobbies : Array.isArray(e) ? e : [])), De(Le.setPagination, e => (console.log("[BATTLES] Setting pagination from getBattleLobbies:", e), e && e.pagination ? e.pagination : null))],
        currentSidebet: [De(va.setCurrentSidebet, e => (console.log("[SOCKET] currentSideBet received:", e), e))],
        currentSidebetResult: [De(va.setCurrentSidebet, e => (console.log("[SOCKET] currentSideBetResult received:", e), e))],
        newSideBet: [De(br.newSideBet, e => (console.log("[SOCKET] newSideBet received:", e), e))],
        maintenanceUpdate: [De(kr.setMaintenanceMode, e => e)],
        rugpassQuestCompleted: [De(Bt.addSuccessToast, e => ({
            message: `Quest completed! "${e.description}" - Earned ${e.gems} Curry Bowls!`
        }))],
        levelUp: [De(Bt.addSuccessToast, e => {
            if (e.leveledUp) {
                const s = e.rewards && Object.keys(e.rewards).length > 0 ? ` Rewards: ${Object.entries(e.rewards).map(([a,r])=>`${r} ${qw(a)} Crate Key${r>1?"s":""}`).join(", ")}` : "";
                return {
                    message: `Level up! You reached level ${e.newLevel}!${s}`
                }
            } else return {
                message: `Level up! You reached level ${e.level}!`
            }
        }), De(Me.resetCurrentPlayerCooldown, e => e.leveledUp ? {
            active: !1,
            cooldownEnds: Date.now(),
            remainingSeconds: 0
        } : null)],
        dailyDropWin: [De(Bt.addSuccessToast, e => ({
            message: `🎁 Daily Drop Winner! You won ${e.amount.toFixed(4)} SOL${e.isSpecial?" (Special Prize!)":""}`
        }))],
        notification: [De(Bt.addNotificationToast, e => {
            let s = e.message;
            return s.includes("0xPractice") && (s = s.replace(/0xPractice/g, "FREE")), s.includes("So11111111111111111111111111111111111111112") && (s = s.replace(/So11111111111111111111111111111111111111112/g, "SOL")), { ...e,
                message: s
            }
        })],
        rugRoyaleUpdate: [De(Jx[Pt.UPDATE_STATE], e => (console.log("[SOCKET] rugRoyaleUpdate received:", e), e))]
    },
    Mk = (e, s, ...a) => {
        if (a.length > 0 && typeof a[0] == "object" && "__trace" in a[0]) {
            const l = a[0].__trace;
            l && (console.log(`[socketMessageHandler] Trace: ${l}`), console.log(a))
        }
        const r = Lk[e] || [];
        for (const {
                prepare: l,
                action: d
            } of r) {
            if (typeof l == "function") {
                const u = l(...a, s);
                u !== null && s(d(u));
                continue
            }
            s(d(a[0]))
        }
    },
    Bk = ({
        children: e,
        url: s,
        options: a
    }) => {
        const r = bt(),
            l = m.useRef(null);
        return l.current || (l.current = Sf.getInstance(s, a), window.socketService = l.current, l.current.connect()), m.useEffect(() => {
            var u;
            const d = (u = l.current) == null ? void 0 : u.onAny((h, ...f) => {
                Mk(h, r, ...f)
            });
            return () => {
                d == null || d()
            }
        }, []), t.jsx(J0.Provider, {
            value: l.current,
            children: e
        })
    };

function zk({
    children: e
}) {
    return window.appStore = Hi, t.jsx(Dv, {
        store: Hi,
        children: t.jsxs(Bk, {
            url: "https://backend.rugs.fun",
            options: {
                transports: ["websocket"],
                query: {
                    "frontend-version": "1.0"
                }
            },
            children: [t.jsx(Fk, {}), e]
        })
    })
}

function Fk() {
    const {
        ready: e,
        getAccessToken: s,
        user: a,
        authenticated: r
    } = Gi(), l = oi(), d = bt(), u = jn();
    return m.useEffect(() => {
        if (e)
            if (r) {
                d(Me.setCurrent((a == null ? void 0 : a.id) ? ? null));
                const h = localStorage.getItem("pendingReferralCode");
                h && setTimeout(() => {
                    u.applyReferralCode(h, f => {
                        f != null && f.success && localStorage.removeItem("pendingReferralCode")
                    })
                }, 1e3), setTimeout(() => {
                    u.checkUsername(), u.getInbox(() => {})
                }, 1e3)
            } else d(Me.setCurrent(null)), l.auth.updateToken(null)
    }, [e, s, d, r, a]), null
}
async function Ik() {
    await Tn.getInstance().initialize({
        serviceName: "prod-frontend",
        serviceVersion: "1.0",
        environment: "production",
        endpoint: "https://telemetry.rugs.fun",
        enabled: "https://telemetry.rugs.fun",
        debug: !1,
        sampleRate: parseFloat("1.0")
    })
}
Ik().then(() => {
    Ye()
}).catch(e => {
    console.error("Telemetry initialization failed:", e)
});
const Ok = document.getElementById("root"),
    Wk = "cm826jprh00ntnjodv1etxlfl",
    Uk = "client-WY5hqDPssYPd9RRKv5wJzKL6HgcmL3BuEGv5tWv9XNXwX";

function Hk() {
    return t.jsxs(m.Suspense, {
        fallback: t.jsx(kk, {}),
        children: [t.jsx(jk, {}), t.jsx(vv, {
            appId: Wk,
            clientId: Uk,
            config: {
                appearance: {
                    walletChainType: "solana-only",
                    walletList: ["detected_solana_wallets", "phantom", "solflare", "rabby_wallet", "rainbow", "wallet_connect"]
                },
                externalWallets: {
                    solana: {
                        connectors: CS({
                            shouldAutoConnect: !0
                        })
                    }
                },
                embeddedWallets: {
                    createOnLogin: "off",
                    solana: {
                        createOnLogin: "off"
                    },
                    ethereum: {
                        createOnLogin: "off"
                    },
                    showWalletUIs: !1
                }
            },
            children: t.jsx(zk, {
                children: t.jsx(vk, {})
            })
        })]
    })
}
LS.createRoot(Ok).render(t.jsx(Hk, {}));